p4UU.V29=function (){return typeof p4UU.B29.w5o==='function'?p4UU.B29.w5o.apply(p4UU.B29,arguments):p4UU.B29.w5o;};p4UU.G7Y=function (){return typeof p4UU.J7Y.w5o==='function'?p4UU.J7Y.w5o.apply(p4UU.J7Y,arguments):p4UU.J7Y.w5o;};p4UU.s2S=function (){return typeof p4UU.o2S.w5o==='function'?p4UU.o2S.w5o.apply(p4UU.o2S,arguments):p4UU.o2S.w5o;};p4UU.e2j=function (){return typeof p4UU.N2j.j5o==='function'?p4UU.N2j.j5o.apply(p4UU.N2j,arguments):p4UU.N2j.j5o;};p4UU.p0S=function (){return typeof p4UU.m0S.w5o==='function'?p4UU.m0S.w5o.apply(p4UU.m0S,arguments):p4UU.m0S.w5o;};p4UU.H0S=function (){return typeof p4UU.m0S.j5o==='function'?p4UU.m0S.j5o.apply(p4UU.m0S,arguments):p4UU.m0S.j5o;};p4UU.z6Y=function(l6Y){return{j5o:function(){var h6Y,W6Y=arguments;switch(l6Y){case 2:h6Y=W6Y[4]*(W6Y[3]+W6Y[1])*W6Y[0]-W6Y[2];break;case 0:h6Y=-W6Y[0]-W6Y[1]+W6Y[2];break;case 4:h6Y=W6Y[1]/(W6Y[2]+W6Y[0]);break;case 1:h6Y=W6Y[0]-W6Y[1];break;case 3:h6Y=W6Y[1]%(W6Y[0]*W6Y[2]);break;}return h6Y;},w5o:function(L6Y){l6Y=L6Y;}};}();p4UU.y4J=function (){return typeof p4UU.u4J.j5o==='function'?p4UU.u4J.j5o.apply(p4UU.u4J,arguments):p4UU.u4J.j5o;};p4UU.A69=function (){return typeof p4UU.l69.w5o==='function'?p4UU.l69.w5o.apply(p4UU.l69,arguments):p4UU.l69.w5o;};p4UU.B29=function(A29){return{j5o:function(){var z29,y29=arguments;switch(A29){case 0:z29=y29[1]*y29[0];break;}return z29;},w5o:function(X29){A29=X29;}};}();p4UU.P5o=function (){return typeof p4UU.Z5o.j5o==='function'?p4UU.Z5o.j5o.apply(p4UU.Z5o,arguments):p4UU.Z5o.j5o;};p4UU.j0B=function (){return typeof p4UU.u0B.j5o==='function'?p4UU.u0B.j5o.apply(p4UU.u0B,arguments):p4UU.u0B.j5o;};p4UU.M7Y=function (){return typeof p4UU.J7Y.w5o==='function'?p4UU.J7Y.w5o.apply(p4UU.J7Y,arguments):p4UU.J7Y.w5o;};p4UU.h2S=function (){return typeof p4UU.o2S.j5o==='function'?p4UU.o2S.j5o.apply(p4UU.o2S,arguments):p4UU.o2S.j5o;};p4UU.R5o=function (){return typeof p4UU.Z5o.j5o==='function'?p4UU.Z5o.j5o.apply(p4UU.Z5o,arguments):p4UU.Z5o.j5o;};p4UU.G7o=function (){return typeof p4UU.p7o.w5o==='function'?p4UU.p7o.w5o.apply(p4UU.p7o,arguments):p4UU.p7o.w5o;};p4UU.C0U=function(M0U){return{j5o:function(){var T0U,j0U=arguments;switch(M0U){case 1:T0U=j0U[2]*j0U[3]-j0U[0]+j0U[1];break;case 0:T0U=j0U[1]+j0U[0];break;}return T0U;},w5o:function(z0U){M0U=z0U;}};}();p4UU.L0S=function (){return typeof p4UU.m0S.j5o==='function'?p4UU.m0S.j5o.apply(p4UU.m0S,arguments):p4UU.m0S.j5o;};p4UU.S2S=function (){return typeof p4UU.o2S.j5o==='function'?p4UU.o2S.j5o.apply(p4UU.o2S,arguments):p4UU.o2S.j5o;};p4UU.i0B=function (){return typeof p4UU.u0B.w5o==='function'?p4UU.u0B.w5o.apply(p4UU.u0B,arguments):p4UU.u0B.w5o;};p4UU.S9P=function (){return typeof p4UU.o9P.w5o==='function'?p4UU.o9P.w5o.apply(p4UU.o9P,arguments):p4UU.o9P.w5o;};p4UU.M2j=function (){return typeof p4UU.N2j.w5o==='function'?p4UU.N2j.w5o.apply(p4UU.N2j,arguments):p4UU.N2j.w5o;};p4UU.z4x=function (){return typeof p4UU.h4x.w5o==='function'?p4UU.h4x.w5o.apply(p4UU.h4x,arguments):p4UU.h4x.w5o;};p4UU.N2j=function(P2j){return{j5o:function(){var p2j,Z2j=arguments;switch(P2j){case 0:p2j=Z2j[1]+Z2j[0];break;}return p2j;},w5o:function(x2j){P2j=x2j;}};}();p4UU.D0U=function (){return typeof p4UU.C0U.j5o==='function'?p4UU.C0U.j5o.apply(p4UU.C0U,arguments):p4UU.C0U.j5o;};p4UU.w29=function (){return typeof p4UU.B29.j5o==='function'?p4UU.B29.j5o.apply(p4UU.B29,arguments):p4UU.B29.j5o;};p4UU.i0U=function (){return typeof p4UU.C0U.w5o==='function'?p4UU.C0U.w5o.apply(p4UU.C0U,arguments):p4UU.C0U.w5o;};p4UU.U0B=function (){return typeof p4UU.u0B.w5o==='function'?p4UU.u0B.w5o.apply(p4UU.u0B,arguments):p4UU.u0B.w5o;};p4UU.S0S=function (){return typeof p4UU.m0S.w5o==='function'?p4UU.m0S.w5o.apply(p4UU.m0S,arguments):p4UU.m0S.w5o;};p4UU.B4x=function (){return typeof p4UU.h4x.j5o==='function'?p4UU.h4x.j5o.apply(p4UU.h4x,arguments):p4UU.h4x.j5o;};p4UU.M5k=function(e5k){return{j5o:function(){var n5k,x5k=arguments;switch(e5k){case 0:n5k=x5k[1]+x5k[0];break;}return n5k;},w5o:function(p5k){e5k=p5k;}};}();p4UU.p7o=function(h7o){return{j5o:function(){var B7o,K7o=arguments;switch(h7o){case 5:B7o=K7o[0]+K7o[2]+K7o[3]+K7o[1];break;case 1:B7o=K7o[0]+K7o[1];break;case 3:B7o=(K7o[4]-K7o[0]*K7o[2]/K7o[1])*K7o[3]/K7o[5];break;case 4:B7o=K7o[2]*K7o[0]-K7o[1];break;case 0:B7o=K7o[2]-K7o[1]+K7o[0];break;case 6:B7o=K7o[1]/K7o[0];break;case 2:B7o=K7o[0]-K7o[1];break;}return B7o;},w5o:function(z7o){h7o=z7o;}};}();p4UU.l69=function(P69){return{j5o:function(){var c69,G69=arguments;switch(P69){case 0:c69=G69[0]+G69[1];break;}return c69;},w5o:function(h69){P69=h69;}};}();p4UU.A4J=function (){return typeof p4UU.u4J.w5o==='function'?p4UU.u4J.w5o.apply(p4UU.u4J,arguments):p4UU.u4J.w5o;};p4UU.Y29=function (){return typeof p4UU.B29.w5o==='function'?p4UU.B29.w5o.apply(p4UU.B29,arguments):p4UU.B29.w5o;};p4UU.u0B=function(N0B){return{j5o:function(){var m0B,L0B=arguments;switch(N0B){case 1:m0B=L0B[0]>=L0B[1];break;case 2:m0B=L0B[1]<L0B[0];break;case 0:m0B=L0B[0]<=L0B[1];break;case 3:m0B=L0B[1]+L0B[0];break;}return m0B;},w5o:function(h0B){N0B=h0B;}};}();p4UU.h4x=function(K4x){return{j5o:function(){var n4x,F4x=arguments;switch(K4x){case 0:n4x=F4x[1]+F4x[0];break;}return n4x;},w5o:function(R4x){K4x=R4x;}};}();p4UU.W4J=function (){return typeof p4UU.u4J.w5o==='function'?p4UU.u4J.w5o.apply(p4UU.u4J,arguments):p4UU.u4J.w5o;};p4UU.s2j=function (){return typeof p4UU.N2j.w5o==='function'?p4UU.N2j.w5o.apply(p4UU.N2j,arguments):p4UU.N2j.w5o;};p4UU.z0B=function (){return typeof p4UU.u0B.j5o==='function'?p4UU.u0B.j5o.apply(p4UU.u0B,arguments):p4UU.u0B.j5o;};p4UU.f4x=function (){return typeof p4UU.h4x.j5o==='function'?p4UU.h4x.j5o.apply(p4UU.h4x,arguments):p4UU.h4x.j5o;};p4UU.H7Y=function (){return typeof p4UU.J7Y.j5o==='function'?p4UU.J7Y.j5o.apply(p4UU.J7Y,arguments):p4UU.J7Y.j5o;};p4UU.B69=function (){return typeof p4UU.l69.j5o==='function'?p4UU.l69.j5o.apply(p4UU.l69,arguments):p4UU.l69.j5o;};p4UU.b5k=function (){return typeof p4UU.M5k.j5o==='function'?p4UU.M5k.j5o.apply(p4UU.M5k,arguments):p4UU.M5k.j5o;};p4UU.d5k=function (){return typeof p4UU.M5k.w5o==='function'?p4UU.M5k.w5o.apply(p4UU.M5k,arguments):p4UU.M5k.w5o;};p4UU.Y6Y=function (){return typeof p4UU.z6Y.w5o==='function'?p4UU.z6Y.w5o.apply(p4UU.z6Y,arguments):p4UU.z6Y.w5o;};p4UU.o2S=function(N2S){return{j5o:function(){var u2S,r2S=arguments;switch(N2S){case 1:u2S=-r2S[2]-r2S[0]+r2S[1];break;case 0:u2S=r2S[3]-r2S[2]*r2S[1]+r2S[0];break;}return u2S;},w5o:function(I2S){N2S=I2S;}};}();p4UU.t0U=function (){return typeof p4UU.C0U.j5o==='function'?p4UU.C0U.j5o.apply(p4UU.C0U,arguments):p4UU.C0U.j5o;};p4UU.D29=function (){return typeof p4UU.B29.j5o==='function'?p4UU.B29.j5o.apply(p4UU.B29,arguments):p4UU.B29.j5o;};p4UU.Z5k=function (){return typeof p4UU.M5k.j5o==='function'?p4UU.M5k.j5o.apply(p4UU.M5k,arguments):p4UU.M5k.j5o;};function p4UU(){}p4UU.n4J=function (){return typeof p4UU.u4J.j5o==='function'?p4UU.u4J.j5o.apply(p4UU.u4J,arguments):p4UU.u4J.j5o;};p4UU.k69=function (){return typeof p4UU.l69.j5o==='function'?p4UU.l69.j5o.apply(p4UU.l69,arguments):p4UU.l69.j5o;};p4UU.G4x=function (){return typeof p4UU.h4x.w5o==='function'?p4UU.h4x.w5o.apply(p4UU.h4x,arguments):p4UU.h4x.w5o;};p4UU.Z5o=function(D5o){return{j5o:function(){var H5o,I5o=arguments;switch(D5o){case 3:H5o=I5o[2]*I5o[3]/I5o[1]|I5o[0];break;case 2:H5o=I5o[2]+I5o[0]/I5o[3]*I5o[1];break;case 0:H5o=I5o[1]+I5o[0];break;case 7:H5o=I5o[0]===I5o[1];break;case 5:H5o=I5o[1]/I5o[0];break;case 1:H5o=I5o[1]-I5o[0];break;case 6:H5o=(I5o[1]/I5o[3]|I5o[0])*I5o[2];break;case 4:H5o=I5o[1]/I5o[2]|I5o[0];break;}return H5o;},w5o:function(L5o){D5o=L5o;}};}();p4UU.T5k=function (){return typeof p4UU.M5k.w5o==='function'?p4UU.M5k.w5o.apply(p4UU.M5k,arguments):p4UU.M5k.w5o;};p4UU.J7Y=function(O7Y){return{j5o:function(){var o7Y,t7Y=arguments;switch(O7Y){case 0:o7Y=t7Y[0]/t7Y[2]*t7Y[1];break;}return o7Y;},w5o:function(A7Y){O7Y=A7Y;}};}();p4UU.z2S=function (){return typeof p4UU.o2S.w5o==='function'?p4UU.o2S.w5o.apply(p4UU.o2S,arguments):p4UU.o2S.w5o;};p4UU.l7o=function (){return typeof p4UU.p7o.w5o==='function'?p4UU.p7o.w5o.apply(p4UU.p7o,arguments):p4UU.p7o.w5o;};p4UU.a7Y=function (){return typeof p4UU.J7Y.j5o==='function'?p4UU.J7Y.j5o.apply(p4UU.J7Y,arguments):p4UU.J7Y.j5o;};p4UU.j6Y=function (){return typeof p4UU.z6Y.j5o==='function'?p4UU.z6Y.j5o.apply(p4UU.z6Y,arguments):p4UU.z6Y.j5o;};p4UU.o9P=function(z9P){return{j5o:function(){var O9P,l9P=arguments;switch(z9P){case 2:O9P=l9P[1]-l9P[0];break;case 1:O9P=l9P[1]-l9P[0]+l9P[2];break;case 0:O9P=-l9P[0];break;}return O9P;},w5o:function(n9P){z9P=n9P;}};}();p4UU.m0S=function(b5S){return{j5o:function(){var P5S,V5S=arguments;switch(b5S){case 0:P5S=(V5S[2]-V5S[1])*V5S[0];break;}return P5S;},w5o:function(s0S){b5S=s0S;}};}();p4UU.n5o=function (){return typeof p4UU.Z5o.w5o==='function'?p4UU.Z5o.w5o.apply(p4UU.Z5o,arguments):p4UU.Z5o.w5o;};p4UU.i2j=function (){return typeof p4UU.N2j.j5o==='function'?p4UU.N2j.j5o.apply(p4UU.N2j,arguments):p4UU.N2j.j5o;};p4UU.N0U=function (){return typeof p4UU.C0U.w5o==='function'?p4UU.C0U.w5o.apply(p4UU.C0U,arguments):p4UU.C0U.w5o;};p4UU.u4J=function(K4J){return{j5o:function(){var r4J,P4J=arguments;switch(K4J){case 0:r4J=P4J[0]-P4J[2]+P4J[1];break;case 1:r4J=P4J[1]-P4J[0];break;}return r4J;},w5o:function(X4J){K4J=X4J;}};}();p4UU.V7o=function (){return typeof p4UU.p7o.j5o==='function'?p4UU.p7o.j5o.apply(p4UU.p7o,arguments):p4UU.p7o.j5o;};p4UU.f6Y=function (){return typeof p4UU.z6Y.j5o==='function'?p4UU.z6Y.j5o.apply(p4UU.z6Y,arguments):p4UU.z6Y.j5o;};p4UU.s9P=function (){return typeof p4UU.o9P.w5o==='function'?p4UU.o9P.w5o.apply(p4UU.o9P,arguments):p4UU.o9P.w5o;};p4UU.G6Y=function (){return typeof p4UU.z6Y.w5o==='function'?p4UU.z6Y.w5o.apply(p4UU.z6Y,arguments):p4UU.z6Y.w5o;};p4UU.p5o=function (){return typeof p4UU.Z5o.w5o==='function'?p4UU.Z5o.w5o.apply(p4UU.Z5o,arguments):p4UU.Z5o.w5o;};p4UU.n69=function (){return typeof p4UU.l69.w5o==='function'?p4UU.l69.w5o.apply(p4UU.l69,arguments):p4UU.l69.w5o;};p4UU.I9P=function (){return typeof p4UU.o9P.j5o==='function'?p4UU.o9P.j5o.apply(p4UU.o9P,arguments):p4UU.o9P.j5o;};p4UU.a7o=function (){return typeof p4UU.p7o.j5o==='function'?p4UU.p7o.j5o.apply(p4UU.p7o,arguments):p4UU.p7o.j5o;};p4UU.p9P=function (){return typeof p4UU.o9P.j5o==='function'?p4UU.o9P.j5o.apply(p4UU.o9P,arguments):p4UU.o9P.j5o;};(function(){(function(M,la){var rb,Cb,Ra,vc,pa,wa,bb,Dd,Ed,La,Ma,Ob,Fd,wc,Gd,Hd,Wc,l,ma,ic,Id,Xc,F,P,ka,tb,ib,Za,ga,cb,Qa,Qb,za,Da,Ja,eb,xc,ub,ob,pb,yc,Yc,Jd,Fb,Gb,Rb,Zc,Yb,vb,zc,Nb,$c,Kd,Zb,ad,bd,cd,dd,wb,ed,fd,gd,ac,xb,yb,bc,Ac,Bc,Cc,hb,Le,Pa,Pb,Ld,Dc,lb,Md,Me,qb,Nd,Od,Ec,Pd,Ne,hc,Qd,Ke,Oe,hd,Fc,Pe,Qe,Ad,Re,Bd,Rd,jb,jc,Sd,kc,Td,mb,Ud,id,Vd,kd,Gc,Wd,Te,Cd,Hc,Vc,Xd,Se,Yd,ld,Zd,$d,ae,md,Mb,ce,be,Ue,lc,de,od,mc,ee,nd,fe,ge,pd,ie,je,Kc,Ub,cc,Vb,ke,le,me,ne,oe,pe,Lc,Ve,qe,re,rd,se,gb,Sb,$b,Tb,Ib,zb,Ic,db,Eb,he,nc,Wb,te,We,oc,ue,Xe,dc,ve,Mc,sd,pc,td,we,qc,xe,ye,ze,Ye,rc,Ae,Ze,$e,Be,qd,Jc,Ce,Je,De,af,cf,bf,ec,uc,df,zd,ef,Ee;function Wa(h,l){if(!l||"utf-8"===l)return Pc(h);throw Error("unsupported encoding");}function Ta(h,l){if(!l||"utf-8"===l)return Qc(h);throw Error("unsupported encoding");}function Pc(h){for(var l=0,m,Na=h.length,F="";l<Na;){m=h[l++];if(m&128)if(192===(m&224))m=((m&31)<<6)+(h[l++]&63);else if(224===(m&240))m=((m&15)<<12)+((h[l++]&63)<<6)+(h[l++]&63);else throw Error("unsupported character");F+=String.fromCharCode(m);}return F;}function Qc(h){var l,m,Na,F,r;l=h.length;m=0;F=0;for(Na=l;Na--;)r=h.charCodeAt(Na),128>r?m++:m=2048>r?m+2:m+3;m=new Uint8Array(m);for(Na=0;Na<l;Na++)r=h.charCodeAt(Na),128>r?m[F++]=r:(2048>r?m[F++]=192|r>>>6:(m[F++]=224|r>>>12,m[F++]=128|r>>>6&63),m[F++]=128|r&63);return m;}function $a(h,m){if(h===m)return!0;if(!h||!m||h.length!=m.length)return!1;for(var l=0;l<h.length;++l)if(h[l]!=m[l])return!1;return!0;}function fb(h){var r;if(!(h&&h.constructor==Uint8Array||Array.isArray(h)))throw new TypeError("Cannot compute the hash code of "+h);for(var m=1,l=0;l<h.length;++l){r=h[l];if("number"!==typeof r)throw new TypeError("Cannot compute the hash code over non-numeric elements: "+r);m=31*m+r&4294967295;}return m;}function ud(h,m){var Ba;if(h===m)return!0;if(!h||!m)return!1;m instanceof Array||(m=[m]);for(var l=0;l<m.length;++l){for(var r=m[l],F=!1,Lb=0;Lb<h.length;++Lb){Ba=h[Lb];if(r.equals&&"function"===typeof r.equals&&r.equals(Ba)||r==Ba){F=!0;break;}}if(!F)return!1;}return!0;}function vd(h,m){return ud(h,m)&&(h.length==m.length||ud(m,h));}function m(h,m,l){var r,F;l&&(r=l);if("object"!==typeof h||"function"!==typeof h.result||"function"!==typeof h.error)throw new TypeError("callback must be an object with function properties 'result' and 'error'.");try{F=m.call(r,h);F!==la&&h.result(F);}catch(Rc){try{h.error(Rc);}catch(Ba){}}}function r(h,l,r){if("object"!==typeof h||"function"!==typeof h.timeout)throw new TypeError("callback must be an object with function properties 'result', 'timeout', and 'error'.");m(h,l,r);}function h(h,m,l){1E5>h&&(h=1E5+h);Object.defineProperties(this,{internalCode:{value:h,writable:!1,configurable:!1},responseCode:{value:m,writable:!1,configurable:!1},message:{value:l,writable:!1,configurable:!1}});}function Sc(h){switch(h){case Pa.PSK:case Pa.MGK:return!0;default:return!1;}}function wd(h){switch(h){case Pa.PSK:case Pa.MGK:case Pa.X509:case Pa.RSA:case Pa.NPTICKET:case Pa.ECC:return!0;default:return!1;}}function Ge(h){return h.toJSON();}function xd(m,l){uc?l.result(uc):Promise.resolve().then(function(){return Ja.getKeyByName(m);})["catch"](function(){return Ja.generateKey({name:m},!1,["wrapKey","unwrapKey"]);}).then(function(h){uc=h;l.result(uc);})["catch"](function(m){l.error(new F(h.INTERNAL_EXCEPTION,"Unable to get system key"));});}function yd(h,m){var l,r,F;l=m.masterToken;r=m.userIdToken;F=m.serviceTokens;return{NccpMethod:h.method,UserId:h.userId,UT:r&&r.serialNumber,MT:l&&l.serialNumber+":"+l.sequenceNumber,STCount:F&&F.length};}function He(h){return h.uniqueKey();}function Ie(r,M,nb,Na,tc){var Ia;function Lb(h,L){h.errorCode===l.ENTITY_REAUTH||h.errorCode===l.ENTITYDATA_REAUTH?(Na.clearCryptoContexts(),Ua()):h.errorCode!==l.USER_REAUTH&&h.errorCode!==l.USERDATA_REAUTH||Ba(L);}function Ba(h){if(h=Na.getUserIdToken(h))Na.removeUserIdToken(h),Ua();}function U(h,L,H){var w;w=[];(function C(){h.read(-1,L,{result:function(h){m(H,function(){var v,E,J,H,L;if(h)w.push(h),C();else switch(w.length){case 0:return new Uint8Array(0);case 1:return w[0];default:H=w.length,L=0;for(E=v=0;E<H;E++)v+=w[E].length;v=new Uint8Array(v);for(E=0;E<H;E++)J=w[E],v.set(J,L),L+=J.length;return v;}});},timeout:function(){H.timeout();},error:function(h){H.error(h);}});}());}function Ua(){Na.getStoreState({result:function(h){for(var L=Ia.slice(),H=0;H<L.length;H++)L[H]({storeState:h});},timeout:function(){r.error("Timeout getting store state",""+e);},error:function(h){r.error("Error getting store state",""+h);}});}Ia=[];this.addEventHandler=function(h,L){switch(h){case"shouldpersist":Ia.push(L);}};this.send=function(m){return new Promise(function(L,H){var w,z,C;w=m.timeout;z=new zd(r,nb,m,Na.getKeyRequestData());C=new Ad(m.url);r.trace("Sending MSL request");M.request(nb,z,C,w,{result:function(z){var v;z&&z.getMessageHeader();r.trace("Received MSL response",{Method:m.method});if(z){m.allowTokenRefresh&&Ua();v=z.getErrorHeader();v?(Lb(v,m.userId),H({success:!1,error:v})):U(z,w,{result:function(h){L({success:!0,body:Wa(h)});},timeout:function(){H({success:!1,subCode:tc.MSL_READ_TIMEOUT});},error:function(h){H({success:!1,error:h});}});}else H({success:!1,error:new F(h.INTERNAL_EXCEPTION,"Null response stream"),description:"Null response stream"});},timeout:function(){H({success:!1,subCode:tc.MSL_REQUEST_TIMEOUT});},error:function(h){H({success:!1,error:h});}});});};this.hasUserIdToken=function(h){return!!Na.getUserIdToken(h);};this.getUserIdTokenKeys=function(){return Na.getUserIdTokenKeys();};this.removeUserIdToken=Ba;this.clearUserIdTokens=function(){Na.clearUserIdTokens();Ua();};this.isErrorReauth=function(h){return h&&h.errorCode==l.USERDATA_REAUTH;};this.isErrorHeader=function(h){return h instanceof Mb;};this.getErrorCode=function(h){return h&&h.errorCode;};this.getStateForMdx=function(h){var L,H;L=Na.getMasterToken();h=Na.getUserIdToken(h);H=Na.getCryptoContext(L);return{masterToken:L,userIdToken:h,cryptoContext:H};};this.buildPlayDataRequest=function(h,L){var H;H=new Bd();M.request(nb,new zd(r,nb,h),H,h.timeout,{result:function(){L.result(H.getRequest());},error:function(){L.result(H.getRequest());},timeout:function(){L.timeout();}});};this.rekeyUserIdToken=function(h,L){Na.rekeyUserIdToken(h,L);Ua();};this.getServiceTokens=function(h){var L;L=Na.getMasterToken();(h=Na.getUserIdToken(h))&&!h.isBoundTo(L)&&(h=la);return Na.getServiceTokens(L,h);};this.removeServiceToken=function(h){var L;L=Na.getMasterToken();Na.getServiceTokens(L).find(function(H){return H.name===h;})&&(Na.removeServiceTokens(h,L),Ua());};}function Tc(m,l,r,Na,M,P){function Ba(l){var U;return Promise.resolve().then(function(){U=m.authenticationKeyNames[l];if(!U)throw new F(h.KEY_IMPORT_ERROR,"Invalid config keyName "+l);return Ja.getKeyByName(U);}).then(function(m){return new Promise(function(l,L){Yb(m,{result:l,error:function(){L(new F(h.KEY_IMPORT_ERROR,"Unable to create "+U+" CipherKey"));}});});})["catch"](function(m){throw new F(h.KEY_IMPORT_ERROR,"Unable to import "+U,m);});}return Promise.resolve().then(function(){if(!Ja.getKeyByName)throw new F(h.INTERNAL_EXCEPTION,"No WebCrypto cryptokeys");return Promise.all([Ba("e"),Ba("h"),Ba("w")]);}).then(function(h){var U,Ia,Ka;U={};U[l]=new r(m.esn,h[0],h[1],h[2]);h=new Na(m.esn);Ia=new Je();Ia=[new M(Ia)];Ka=new P(l);return{entityAuthFactories:U,entityAuthData:h,keyExchangeFactories:Ia,keyRequestData:Ka};});}function Uc(m,l,r){var nb;function Na(){return Promise.resolve().then(function(){return Ja.generateKey(l,!1,["wrapKey","unwrapKey"]);}).then(function(h){return M(h.publicKey,h.privateKey);});}function M(m,l){return Promise.all([new Promise(function(l,U){Nb(m,{result:l,error:function(m){U(new F(h.INTERNAL_EXCEPTION,"Unable to create keyx public key",m));}});}),new Promise(function(m,U){Zb(l,{result:m,error:function(m){U(new F(h.INTERNAL_EXCEPTION,"Unable to create keyx private key",m));}});})]).then(function(h){h=new Vc("rsaKeypairId",r,h[0],h[1]);nb&&(h.storeData={keyxPublicKey:m,keyxPrivateKey:l});return h;});}nb=!m.systemKeyWrapFormat;return Promise.resolve().then(function(){var h,l;h=m.storeState;l=h&&h.keyxPublicKey;h=h&&h.keyxPrivateKey;return nb&&l&&h?M(l,h):Na();}).then(function(h){var l,Ua,Ia;l={};l[Pa.NONE]=new Ke();Ua=new hc(m.esn);Ia=[new Cd()];return{entityAuthFactories:l,entityAuthData:Ua,keyExchangeFactories:Ia,keyRequestData:h,createKeyRequestData:nb?Na:la};});}Cb=M.nfCrypto||M.msCrypto||M.webkitCrypto||M.crypto;Ra=Cb&&(Cb.webkitSubtle||Cb.subtle);vc=M.nfCryptokeys||M.msCryptokeys||M.webkitCryptokeys||M.cryptokeys;(function(h){var m,l;m=function(){function h(h,l){h instanceof m?(this.abv=h.abv,this.position=h.position):(this.abv=h,this.position=l||0);}h.prototype={readByte:function(){return this.abv[this.position++];},writeByte:function(h){this.abv[this.position++]=h;},peekByte:function(h){return this.abv[h];},copyBytes:function(h,l,m){var U;U=new Uint8Array(this.abv.buffer,this.position,m);h=new Uint8Array(h.buffer,l,m);U.set(h);this.position+=m;},seek:function(h){this.position=h;},skip:function(h){this.position+=h;},getPosition:function(){return this.position;},setPosition:function(h){this.position=h;},getRemaining:function(){return this.abv.length-this.position;},getLength:function(){return this.abv.length;},isEndOfStream:function(){return this.position>=this.abv.length;},show:function(){return"AbvStream: pos "+(this.getPosition().toString()+" of "+this.getLength().toString());}};return h;}();l={};(function(){var J,v,E,Ca,aa,Ea,ya,Z,qa;function h(B,v){var w;v.writeByte(B.tagClass<<6|B.constructed<<5|B.tag);w=B.payloadLen;if(128>w)v.writeByte(w);else{for(var E=w,z=0;E;)++z,E>>=8;v.writeByte(128|z);for(E=0;E<z;++E)v.writeByte(w>>8*(z-E-1)&255);}if(B.child)for(B.tag==J.BIT_STRING&&v.writeByte(0),w=B._child;w;){if(!h(w,v))return!1;w=w.next;}else switch(B.tag){case J.INTEGER:B.backingStore[B.dataIdx]>>7&&v.writeByte(0);v.copyBytes(B.backingStore,B.dataIdx,B.dataLen);break;case J.BIT_STRING:v.writeByte(0);v.copyBytes(B.backingStore,B.dataIdx,B.dataLen);break;case J.OCTET_STRING:v.copyBytes(B.backingStore,B.dataIdx,B.dataLen);break;case J.OBJECT_IDENTIFIER:v.copyBytes(B.backingStore,B.dataIdx,B.dataLen);}return!0;}function r(h){var v,B;v=h.readByte();B=v&127;if(B==v)return B;if(3<B||0===B)return-1;for(var w=v=0;w<B;++w)v=v<<8|h.readByte();return v;}function F(h,w,E){var B,z,H,R,C,ha,L;B=h.backingStore;z=new m(B,w);w+=E;E=h;if(8<aa++)return la;for(;z.getPosition()<w;){z.getPosition();C=z.readByte();if(31==(C&31)){for(R=0;C&128;)R<<=8,R|=C&127;C=R;}H=C;R=H&31;if(0>R||30<R)return la;C=r(z);if(0>C||C>z.getRemaining())return la;E.constructed=H&32;E.tagClass=(H&192)>>6;E.tag=R;E.dataLen=C;E.dataIdx=z.getPosition();R=z;ha=H;H=C;if(ha&32)R=!0;else if(ha<J.BIT_STRING||ha>J.OCTET_STRING)R=!1;else{L=new m(R);ha==J.BIT_STRING&&L.skip(1);L.readByte()>>6&1?R=!1:(ha=r(L),R=L.getPosition()-R.getPosition()+ha==H);}R&&(R=z.getPosition(),H=C,E.tag==J.BIT_STRING&&(E.dataIdx++,E.dataLen--,R++,H--),E.child=new v(B,E),F(E.child,R,H));E.tag==J.INTEGER&&(R=z.getPosition(),0==z.peekByte(R)&&z.peekByte(R+1)>>7&&(E.dataIdx++,E.dataLen--));z.skip(C);z.getPosition()<w&&(E.next=new v(B,E.parent),E=E.next);}aa--;return h;}function M(h,v,w){if(9!=w)return!1;for(w=0;9>w;++w)if(h[v++]!=Ea[w])return!1;return!0;}function U(h){var v;if(!(h&&h.child&&h.child.next&&h.child.child&&h.child.next.child))return!1;v=h.child.child;return M(v.backingStore,v.dataIdx,v.dataLen)&&2==h.nChildren&&2==h.child.nChildren&&2==h.child.next.child.nChildren?!0:!1;}function Ua(h){var v;if(!(h&&h.child&&h.child.next&&h.child.next.child&&h.child.next.next&&h.child.next.next.child))return!1;v=h.child.next.child;return M(v.backingStore,v.dataIdx,v.dataLen)&&3==h.nChildren&&2==h.child.next.nChildren&&9==h.child.next.next.child.nChildren?!0:!1;}function Ia(h){var v,B;v=E.createSequenceNode();B=new Ca(v);B.addChild(E.createSequenceNode());B.addChild(E.createOidNode(Ea));B.addSibling(E.createNullNode());B.addToParent(v,E.createBitStringNode(null));B.addChild(E.createSequenceNode());B.addChild(E.createIntegerNode(h.n));B.addSibling(E.createIntegerNode(h.e));return v;}function Ka(h){var v;h=h.child.next.child.child;v=h.data;h=h.next;return new ya(v,h.data,null,null);}function L(h){var v,B;v=E.createSequenceNode();B=new Ca(v);B.addChild(E.createIntegerNode(new Uint8Array([0])));B.addSibling(E.createSequenceNode());B.addChild(E.createOidNode(Ea));B.addSibling(E.createNullNode());B.addToParent(v,E.createOctetStringNode(null));B.addChild(E.createSequenceNode());B.addChild(E.createIntegerNode(new Uint8Array([0])));B.addSibling(E.createIntegerNode(h.n));B.addSibling(E.createIntegerNode(h.e));B.addSibling(E.createIntegerNode(h.d));B.addSibling(E.createIntegerNode(h.p));B.addSibling(E.createIntegerNode(h.q));B.addSibling(E.createIntegerNode(h.dp));B.addSibling(E.createIntegerNode(h.dq));B.addSibling(E.createIntegerNode(h.qi));return v;}function H(h){var v;v=[];h=h.child.next.next.child.child.next;for(var B=0;8>B;B++)v.push(h.data),h=h.next;return new Z(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7]);}function w(h,v,w,E){if(!(h instanceof ya||h instanceof Z))return la;if(w)for(var B=0;B<w.length;++B)if(-1==qa.indexOf(w[B]))return la;v={kty:"RSA",alg:v,key_ops:w||[],ext:E==la?!1:E,n:pa(h.n,!0),e:pa(h.e,!0)};h instanceof Z&&(v.d=pa(h.d,!0),v.p=pa(h.p,!0),v.q=pa(h.q,!0),v.dp=pa(h.dp,!0),v.dq=pa(h.dq,!0),v.qi=pa(h.qi,!0));return v;}function z(h){var v,w,B,E,z,H,J,C,aa,L;if(!h.kty||"RSA"!=h.kty||!h.n||!h.e)return la;v="RSA1_5 RSA-OAEP RSA-OAEP-256 RSA-OAEP-384 RSA-OAEP-512 RS256 RS384 RS512".split(" ");if(h.alg&&-1==v.indexOf(h.alg))return la;v=[];h.use?"enc"==h.use?v=["encrypt","decrypt","wrap","unwrap"]:"sig"==h.use&&(v=["sign","verify"]):v=h.key_ops;w=h.ext;B=wa(h.n,!0);E=wa(h.e,!0);if(h.d){z=wa(h.d,!0);H=wa(h.p,!0);J=wa(h.q,!0);C=wa(h.dp,!0);aa=wa(h.dq,!0);L=wa(h.qi,!0);return new Z(B,E,z,H,J,C,aa,L,h.alg,v,w);}return new ya(B,E,w,v);}function C(h,v,w,E){this.der=h;this.type=v;this.keyOps=w;this.extractable=E;}J={BER:0,BOOLEAN:1,INTEGER:2,BIT_STRING:3,OCTET_STRING:4,NULL:5,OBJECT_IDENTIFIER:6,OBJECT_DESCRIPTOR:7,INSTANCE_OF_EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED_PPV:11,UTF8_STRING:12,RELATIVE_OID:13,SEQUENCE:16,SET:17,NUMERIC_STRING:18,PRINTABLE_STRING:19,TELETEX_STRING:20,T61_STRING:20,VIDEOTEX_STRING:21,IA5_STRING:22,UTC_TIME:23,GENERALIZED_TIME:24,GRAPHIC_STRING:25,VISIBLE_STRING:26,ISO64_STRING:26,GENERAL_STRING:27,UNIVERSAL_STRING:28,CHARACTER_STRING:29,BMP_STRING:30};v=function(h,v,w,E,z,H){this._data=h;this._parent=v||la;this._constructed=w||!1;this._tagClass=0;this._tag=E||0;this._dataIdx=z||0;this._dataLen=H||0;};v.prototype={_child:la,_next:la,get data(){return new Uint8Array(this._data.buffer.slice(this._dataIdx,this._dataIdx+this._dataLen));},get backingStore(){return this._data;},get constructed(){return this._constructed;},set constructed(h){this._constructed=0!=h?!0:!1;},get tagClass(){return this._tagClass;},set tagClass(h){this._tagClass=h;},get tag(){return this._tag;},set tag(h){this._tag=h;},get dataIdx(){return this._dataIdx;},set dataIdx(h){this._dataIdx=h;},get dataLen(){return this._dataLen;},set dataLen(h){this._dataLen=h;},get child(){return this._child;},set child(h){this._child=h;this._child.parent=this;},get next(){return this._next;},set next(h){this._next=h;},get parent(){return this._parent;},set parent(h){this._parent=h;},get payloadLen(){var h;h=0;if(this._child){for(var v=this._child;v;)h+=v.length,v=v.next;this._tag==J.BIT_STRING&&h++;}else switch(this._tag){case J.INTEGER:h=this._dataLen;this._data[this._dataIdx]>>7&&h++;break;case J.BIT_STRING:h=this._dataLen+1;break;case J.OCTET_STRING:h=this._dataLen;break;case J.NULL:h=0;break;case J.OBJECT_IDENTIFIER:M(this._data,this._dataIdx,this._dataLen)&&(h=9);}return h;},get length(){var h,v;h=this.payloadLen;if(127<h)for(v=h;v;)v>>=8,++h;return h+2;},get der(){var v,w;v=this.length;if(!v)return la;v=new Uint8Array(v);w=new m(v);return h(this,w)?v:la;},get nChildren(){for(var h=0,v=this._child;v;)h++,v=v.next;return h;}};E={createSequenceNode:function(){return new v(null,null,!0,J.SEQUENCE,null,null);},createOidNode:function(h){return new v(h,null,!1,J.OBJECT_IDENTIFIER,0,h?h.length:0);},createNullNode:function(){return new v(null,null,!1,J.NULL,null,null);},createBitStringNode:function(h){return new v(h,null,!1,J.BIT_STRING,0,h?h.length:0);},createIntegerNode:function(h){return new v(h,null,!1,J.INTEGER,0,h?h.length:0);},createOctetStringNode:function(h){return new v(h,null,!1,J.OCTET_STRING,0,h?h.length:0);}};Ca=function(h){this._currentNode=this._rootNode=h;};Ca.prototype={addChild:function(h){this.addTo(this._currentNode,h);},addSibling:function(h){this.addTo(this._currentNode.parent,h);},addTo:function(h,v){this._currentNode=v;this._currentNode.parent=h;if(h.child){for(var w=h.child;w.next;)w=w.next;w.next=v;}else h.child=v;},addToParent:function(h,v){this.findNode(h)&&this.addTo(h,v);},findNode:function(h){for(var v=this._currentNode;v;){if(h==v)return!0;v=v.parent;}return!1;}};aa=0;Ea=new Uint8Array([42,134,72,134,247,13,1,1,1]);ya=function(h,v,w,E){this.n=h;this.e=v;this.ext=w;this.keyOps=E;};Z=function(h,v,w,E,z,H,J,C,ha,aa,L){this.n=h;this.e=v;this.d=w;this.p=E;this.q=z;this.dp=H;this.dq=J;this.qi=C;this.alg=ha;this.keyOps=aa;this.ext=L;};qa="sign verify encrypt decrypt wrapKey unwrapKey deriveKey deriveBits".split(" ");C.prototype.getDer=function(){return this.der;};C.prototype.getType=function(){return this.type;};C.prototype.getKeyOps=function(){return this.keyOps;};C.prototype.getExtractable=function(){return this.extractable;};l.parse=function(h){aa=0;return F(new v(h),0,h.length);};l.show=function(h,v){};l.isRsaSpki=U;l.isRsaPkcs8=Ua;l.NodeFactory=E;l.Builder=Ca;l.tagVal=J;l.RsaPublicKey=ya;l.RsaPrivateKey=Z;l.buildRsaSpki=Ia;l.parseRsaSpki=function(h){h=l.parse(h);return U?Ka(h):la;};l.buildRsaPkcs8=L;l.parseRsaPkcs8=function(h){h=l.parse(h);return Ua(h)?H(h):la;};l.buildRsaJwk=w;l.parseRsaJwk=z;l.RsaDer=C;l.rsaDerToJwk=function(h,v,E,z){h=l.parse(h);if(!h)return la;if(U(h))h=Ka(h);else if(Ua(h))h=H(h);else return la;return w(h,v,E,z);};l.jwkToRsaDer=function(h){var v,w;h=z(h);if(!h)return la;if(h instanceof ya)v="spki",w=Ia(h).der;else if(h instanceof Z)v="pkcs8",w=L(h).der;else return la;return new C(w,v,h.keyOps,h.ext);};l.webCryptoAlgorithmToJwkAlg=function(h){return"RSAES-PKCS1-v1_5"==h.name?"RSA1_5":"RSASSA-PKCS1-v1_5"==h.name?"SHA-256"==h.hash.name?"RS256":"SHA-384"==h.hash.name?"RS384":"SHA-512"==h.hash.name?"RS512":la:la;};l.webCryptoUsageToJwkKeyOps=function(h){return h.map(function(h){return"wrapKey"==h?"wrap":"unwrapKey"==h?"unwrap":h;});};}());h.ASN1=l;}(M));(function(){for(var h={},l={},m={"=":0,".":0},r={"=":0,".":0},F=/\s+/g,M=/^[ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/_-]*[=]{0,2}$/,Ba=64;Ba--;)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=262144*Ba,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=4096*Ba,m["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=64*Ba,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]]=Ba;for(Ba=64;Ba--&&"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ba]!="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba];)h["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=262144*Ba,l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=4096*Ba,m["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=64*Ba,r["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"[Ba]]=Ba;pa=function(h,l){for(var m="",U=0,L=h.length,H=L-2,w,z=l?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=l?"":"=";U<H;)w=65536*h[U++]+256*h[U++]+h[U++],m+=z[w>>>18]+z[w>>>12&63]+z[w>>>6&63]+z[w&63];U==H?(w=65536*h[U++]+256*h[U++],m+=z[w>>>18]+z[w>>>12&63]+z[w>>>6&63]+C):U==L-1&&(w=65536*h[U++],m+=z[w>>>18]+z[w>>>12&63]+C+C);return m;};wa=function(U,Ua){var Ia;U=U.replace(F,"");if(Ua){Ia=U.length%4;if(Ia)for(var Ia=4-Ia,Ka=0;Ka<Ia;++Ka)U+="=";}Ia=U.length;if(0!=Ia%4||!M.test(U))throw Error("bad base64: "+U);for(var L=Ia/4*3-("="==U[Ia-1]?1:0)-("="==U[Ia-2]?1:0),H=new Uint8Array(L),w=0,z=0;w<Ia;)Ka=h[U[w++]]+l[U[w++]]+m[U[w++]]+r[U[w++]],H[z++]=Ka>>>16,z<L&&(H[z++]=Ka>>>8&255,z<L&&(H[z++]=Ka&255));return H;};}());bb={};(function(){var M,Ba,U,Ia;function h(l){if(!(this instanceof h))return new h(l);for(var L=0,H=Ba.length;L<H;L++)this[Ba[L]]="";this.bufferCheckPosition=bb.MAX_BUFFER_LENGTH;this.q=this.c=this.p="";this.opt=l||{};this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.state=U.BEGIN;this.stack=new M();this.index=this.position=this.column=0;this.line=1;this.slashed=!1;this.unicodeI=0;this.unicodeS=null;m(this,"onready");}function m(h,L,H){if(h[L])h[L](H);}function l(h,L){var H,w;H=h.opt;w=h.textNode;H.trim&&(w=w.trim());H.normalize&&(w=w.replace(/\s+/g," "));h.textNode=w;h.textNode&&m(h,L?L:"onvalue",h.textNode);h.textNode="";}function r(h,L){l(h);L+="\nLine: "+h.line+"\nColumn: "+h.column+"\nChar: "+h.c;L=Error(L);h.error=L;m(h,"onerror",L);return h;}function F(Ka){Ka.state!==U.VALUE&&r(Ka,"Unexpected end");l(Ka);Ka.c="";Ka.closed=!0;m(Ka,"onend");h.call(Ka,Ka.opt);return Ka;}M=Array;bb.parser=function(m){return new h(m);};bb.CParser=h;bb.MAX_BUFFER_LENGTH=65536;bb.DEBUG=!1;bb.INFO=!1;bb.EVENTS="value string key openobject closeobject openarray closearray error end ready".split(" ");Ba=["textNode","numberNode"];bb.EVENTS.filter(function(h){return"error"!==h&&"end"!==h;});U=0;bb.STATE={BEGIN:U++,VALUE:U++,OPEN_OBJECT:U++,CLOSE_OBJECT:U++,OPEN_ARRAY:U++,CLOSE_ARRAY:U++,TEXT_ESCAPE:U++,STRING:U++,BACKSLASH:U++,END:U++,OPEN_KEY:U++,CLOSE_KEY:U++,TRUE:U++,TRUE2:U++,TRUE3:U++,FALSE:U++,FALSE2:U++,FALSE3:U++,FALSE4:U++,NULL:U++,NULL2:U++,NULL3:U++,NUMBER_DECIMAL_POINT:U++,NUMBER_DIGIT:U++};for(var Ua in bb.STATE)bb.STATE[bb.STATE[Ua]]=Ua;U=bb.STATE;Object.getPrototypeOf||(Object.getPrototypeOf=function(h){return h.__proto__;});Ia=/[\\"\n]/g;h.prototype={end:function(){F(this);},write:function(h){var w,z,C;if(this.error)throw this.error;if(this.closed)return r(this,"Cannot write after close. Assign an onready handler.");if(null===h)return F(this);for(var L=h[0],H;L;){H=L;this.c=L=h.charAt(this.index++);H!==L?this.p=H:H=this.p;if(!L)break;this.position++;"\n"===L?(this.line++,this.column=0):this.column++;switch(this.state){case U.BEGIN:"{"===L?this.state=U.OPEN_OBJECT:"["===L?this.state=U.OPEN_ARRAY:"\r"!==L&&"\n"!==L&&" "!==L&&"\t"!==L&&r(this,"Non-whitespace before {[.");continue;case U.OPEN_KEY:case U.OPEN_OBJECT:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;if(this.state===U.OPEN_KEY)this.stack.push(U.CLOSE_KEY);else if("}"===L){m(this,"onopenobject");m(this,"oncloseobject");this.state=this.stack.pop()||U.VALUE;continue;}else this.stack.push(U.CLOSE_OBJECT);'"'===L?this.state=U.STRING:r(this,'Malformed object key should start with "');continue;case U.CLOSE_KEY:case U.CLOSE_OBJECT:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;":"===L?(this.state===U.CLOSE_OBJECT?(this.stack.push(U.CLOSE_OBJECT),l(this,"onopenobject")):l(this,"onkey"),this.state=U.VALUE):"}"===L?(l(this),m(this,"oncloseobject",void 0),this.state=this.stack.pop()||U.VALUE):","===L?(this.state===U.CLOSE_OBJECT&&this.stack.push(U.CLOSE_OBJECT),l(this),this.state=U.OPEN_KEY):r(this,"Bad object");continue;case U.OPEN_ARRAY:case U.VALUE:if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;if(this.state===U.OPEN_ARRAY)if(m(this,"onopenarray"),this.state=U.VALUE,"]"===L){m(this,"onclosearray");this.state=this.stack.pop()||U.VALUE;continue;}else this.stack.push(U.CLOSE_ARRAY);'"'===L?this.state=U.STRING:"{"===L?this.state=U.OPEN_OBJECT:"["===L?this.state=U.OPEN_ARRAY:"t"===L?this.state=U.TRUE:"f"===L?this.state=U.FALSE:"n"===L?this.state=U.NULL:"-"===L?this.numberNode+=L:"0"===L?(this.numberNode+=L,this.state=U.NUMBER_DIGIT):-1!=="123456789".indexOf(L)?(this.numberNode+=L,this.state=U.NUMBER_DIGIT):r(this,"Bad value");continue;case U.CLOSE_ARRAY:if(","===L)this.stack.push(U.CLOSE_ARRAY),l(this,"onvalue"),this.state=U.VALUE;else if("]"===L)l(this),m(this,"onclosearray",void 0),this.state=this.stack.pop()||U.VALUE;else if("\r"===L||"\n"===L||" "===L||"\t"===L)continue;else r(this,"Bad array");continue;case U.STRING:H=this.index-1;w=this.slashed,z=this.unicodeI;a:for(;;){if(bb.DEBUG)for(;0<z;)if(this.unicodeS+=L,L=h.charAt(this.index++),4===z?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),z=0,H=this.index-1):z++,!L)break a;if('"'===L&&!w){this.state=this.stack.pop()||U.VALUE;(this.textNode+=h.substring(H,this.index-1))||m(this,"onvalue","");break;}if("\\"===L&&!w&&(w=!0,this.textNode+=h.substring(H,this.index-1),L=h.charAt(this.index++),!L))break;if(w)if(w=!1,"n"===L?this.textNode+="\n":"r"===L?this.textNode+="\r":"t"===L?this.textNode+="\t":"f"===L?this.textNode+="\f":"b"===L?this.textNode+="\b":"u"===L?(z=1,this.unicodeS=""):this.textNode+=L,L=h.charAt(this.index++),H=this.index-1,L)continue;else break;Ia.lastIndex=this.index;C=Ia.exec(h);if(null===C){this.index=h.length+1;this.textNode+=h.substring(H,this.index-1);break;}this.index=C.index+1;L=h.charAt(C.index);if(!L){this.textNode+=h.substring(H,this.index-1);break;}}this.slashed=w;this.unicodeI=z;continue;case U.TRUE:if(""===L)continue;"r"===L?this.state=U.TRUE2:r(this,"Invalid true started with t"+L);continue;case U.TRUE2:if(""===L)continue;"u"===L?this.state=U.TRUE3:r(this,"Invalid true started with tr"+L);continue;case U.TRUE3:if(""===L)continue;"e"===L?(m(this,"onvalue",!0),this.state=this.stack.pop()||U.VALUE):r(this,"Invalid true started with tru"+L);continue;case U.FALSE:if(""===L)continue;"a"===L?this.state=U.FALSE2:r(this,"Invalid false started with f"+L);continue;case U.FALSE2:if(""===L)continue;"l"===L?this.state=U.FALSE3:r(this,"Invalid false started with fa"+L);continue;case U.FALSE3:if(""===L)continue;"s"===L?this.state=U.FALSE4:r(this,"Invalid false started with fal"+L);continue;case U.FALSE4:if(""===L)continue;"e"===L?(m(this,"onvalue",!1),this.state=this.stack.pop()||U.VALUE):r(this,"Invalid false started with fals"+L);continue;case U.NULL:if(""===L)continue;"u"===L?this.state=U.NULL2:r(this,"Invalid null started with n"+L);continue;case U.NULL2:if(""===L)continue;"l"===L?this.state=U.NULL3:r(this,"Invalid null started with nu"+L);continue;case U.NULL3:if(""===L)continue;"l"===L?(m(this,"onvalue",null),this.state=this.stack.pop()||U.VALUE):r(this,"Invalid null started with nul"+L);continue;case U.NUMBER_DECIMAL_POINT:"."===L?(this.numberNode+=L,this.state=U.NUMBER_DIGIT):r(this,"Leading zero not followed by .");continue;case U.NUMBER_DIGIT:-1!=="0123456789".indexOf(L)?this.numberNode+=L:"."===L?(-1!==this.numberNode.indexOf(".")&&r(this,"Invalid number has two dots"),this.numberNode+=L):"e"===L||"E"===L?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||r(this,"Invalid number has two exponential"),this.numberNode+=L):"+"===L||"-"===L?("e"!==H&&"E"!==H&&r(this,"Invalid symbol in number"),this.numberNode+=L):(this.numberNode&&m(this,"onvalue",parseFloat(this.numberNode)),this.numberNode="",this.index--,this.state=this.stack.pop()||U.VALUE);continue;default:r(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){h=Math.max(bb.MAX_BUFFER_LENGTH,10);H=L=0;for(w=Ba.length;H<w;H++){z=this[Ba[H]].length;if(z>h)switch(Ba[H]){case"text":break;default:r(this,"Max buffer length exceeded: "+Ba[H]);}L=Math.max(L,z);}this.bufferCheckPosition=bb.MAX_BUFFER_LENGTH-L+this.position;}return this;},resume:function(){this.error=null;return this;},close:function(){return this.write(null);}};}());(function(){var r;function h(h,m){m||(m=h.length);return h.reduce(function(h,l,U){return U<m?h+String.fromCharCode(l):h;},"");}for(var m={},l=0;256>l;++l){r=h([l]);m[r]=l;}for(var F=Object.keys(m).length,M=[],l=0;256>l;++l)M[l]=[l];Dd=function(l,U){var v,E;function r(h,v){var E;for(;0<v;){if(z>=w.length)return!1;if(v>C){E=h;E=E>>>v-C;w[z]|=E&255;v-=C;C=8;++z;}else v<=C&&(E=h,E<<=C-v,E&=255,E>>>=8-C,w[z]|=E&255,C-=v,v=0,0==C&&(C=8,++z));}return!0;}for(var Ia in m)U[Ia]=m[Ia];for(var Ka=F,L=[],H=8,w=new Uint8Array(l.length),z=0,C=8,J=0;J<l.length;++J){v=l[J];L.push(v);Ia=h(L);E=U[Ia];if(!E){L=h(L,L.length-1);if(!r(U[L],H))return null;0!=Ka>>H&&++H;U[Ia]=Ka++;L=[v];}}return 0<L.length&&(Ia=h(L),E=U[Ia],!r(E,H))?null:w.subarray(0,8>C?z+1:z);};Ed=function(h){var J,v,C,r;for(var l=M.slice(),m=0,r=0,Ka=8,L=new Uint8Array(Math.ceil(1.5*h.length)),H=0,w,z=[];m<h.length&&!(8*(h.length-m)-r<Ka);){for(var C=w=0;C<Ka;){J=Math.min(Ka-C,8-r);v=h[m];v=v<<r;v=v&255;v=v>>>8-J;C=C+J;r=r+J;8==r&&(r=0,++m);w|=(v&255)<<Ka-C;}C=l[w];0==z.length?++Ka:(C?z.push(C[0]):z.push(z[0]),l[l.length]=z,z=[],l.length==1<<Ka&&++Ka,C||(C=l[w]));w=H+C.length;w>=L.length&&(J=new Uint8Array(Math.ceil(1.5*w)),J.set(L),L=J);L.set(C,H);H=w;z=z.concat(C);}return L.subarray(0,H);};}());(function(){var h,m,r;La="utf-8";Ma=9007199254740992;h=Ob={GZIP:"GZIP",LZW:"LZW"};Object.freeze(Ob);Fd=function(m){for(var l=[h.GZIP,h.LZW],r=0;r<l.length&&0<m.length;++r)for(var F=l[r],U=0;U<m.length;++U)if(m[U]==F)return F;return null;};m=wc={AES_CBC_PKCS5Padding:"AES/CBC/PKCS5Padding",AESWrap:"AESWrap",RSA_ECB_PKCS1Padding:"RSA/ECB/PKCS1Padding"};Object.freeze(wc);Gd=function(h){return m.AES_CBC_PKCS5Padding==h?m.AES_CBC_PKCS5Padding:m.RSA_ECB_PKCS1Padding==h?m.RSA_ECB_PKCS1Padding:m[h];};r=Hd={HmacSHA256:"HmacSHA256",SHA256withRSA:"SHA256withRSA"};Object.freeze(Hd);Wc=function(h){return r[h];};l={FAIL:1,TRANSIENT_FAILURE:2,ENTITY_REAUTH:3,USER_REAUTH:4,KEYX_REQUIRED:5,ENTITYDATA_REAUTH:6,USERDATA_REAUTH:7,EXPIRED:8,REPLAYED:9,SSOTOKEN_REJECTED:10};Object.freeze(l);}());ma={isObjectLiteral:function(h){return null!==h&&"object"===typeof h&&h.constructor===Object;},extendDeep:function(){var h,m,l,r,F,M,Ba,U;h=arguments[0];m=1;l=arguments.length;r=!1;"boolean"===typeof h&&(r=h,h=arguments[1],m=2);for(;m<l;m++)if(null!=(F=arguments[m]))for(M in F)r&&M in h||(U=F[M],h!==U&&U!==la&&(Ba=h[M],h[M]=null!==Ba&&null!==U&&"object"===typeof Ba&&"object"===typeof U?ma.extendDeep(r,{},Ba,U):U));return h;}};(function(){var Ba,U;function h(h,m){return function(){var l,L;l=h.base;h.base=m;L=h.apply(this,arguments);h.base=l;return L;};}function m(m,l,r){var L,H,w,z;r=r||U;z=!!r.extendAll;for(L in l)H=l.__lookupGetter__(L),w=l.__lookupSetter__(L),H||w?(H&&m.__defineGetter__(L,H),w&&m.__defineSetter__(L,w)):(H=l[L],w=m[L],"function"===typeof H&&"function"===typeof w&&H!==w?(H.base!==Function.prototype.base&&(H=h(H,w)),H.base=w):(z||r[L])&&ma.isObjectLiteral(H)&&ma.isObjectLiteral(w)&&(H=ma.extendDeep({},w,H)),m[L]=H);}function l(){var h,m;h=Array.prototype.slice;m=h.call(arguments,1);return this.extend({init:function L(){var H;H=h.call(arguments,0);L.base.apply(this,m.concat(H));}});}function r(h,l){var U;U=new this(Ba);m(U,h,l);return M(U);}function F(h,l){m(this.prototype,h,l);return this;}function M(h){var m;m=function(){var h;h=this.init;h&&arguments[0]!==Ba&&h.apply(this,arguments);};h&&(m.prototype=h);m.prototype.constructor=m;m.extend=r;m.bind=l;m.mixin=F;return m;}Ba={};U={actions:!0};Function.prototype.base=function(){};ma.Class={create:M,mixin:m,extend:function(h,m){var l;l=M();l.prototype=new h();return l.extend(m);}};ma.mixin=function(){ma.log&&ma.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");m.apply(null,arguments);};}());(function(){var Ba,U,Ua;function h(h,m){return function(){var l,H;l=h.base;h.base=m;H=h.apply(this,arguments);h.base=l;return H;};}function m(m,l,L){var H,w,z,C;L=L||U;C=!!L.extendAll;for(H in l)w=l.__lookupGetter__(H),z=l.__lookupSetter__(H),w||z?(w&&m.__defineGetter__(H,w),z&&m.__defineSetter__(H,z)):(w=l[H],z=m[H],"function"===typeof w&&"function"===typeof z&&w!==z?(w.base!==Ua&&(w=h(w,z)),w.base=z):(C||L[H])&&ma.isObjectLiteral(w)&&ma.isObjectLiteral(z)&&(w=ma.extendDeep({},z,w)),m[H]=w);}function l(){var h,m;h=Array.prototype.slice;m=h.call(arguments,1);return this.extend({init:function H(){var w;w=h.call(arguments,0);H.base.apply(this,m.concat(w));}});}function r(h,l){var L;L=new this(Ba);m(L,h,l);return M(L);}function F(h,l){m(this.prototype,h,l);return this;}function M(h){var m;m=function(){var h;h=this.init;h&&arguments[0]!==Ba&&h.apply(this,arguments);};h&&(m.prototype=h);m.prototype.constructor=m;m.extend=r;m.bind=l;m.mixin=F;return m;}Ba={};U={actions:!0};Ua=function(){};Function.prototype.base=Ua;ma.Class={create:M,mixin:m,extend:function(h,m){var l;l=M();l.prototype=new h();return l.extend(m);}};ma.mixin=function(){ma.log&&ma.log.warn("util.mixin is deprecated.  Please change your code to use util.Class.mixin()");m.apply(null,arguments);};}());(function(){function h(h){return h==Ma?1:h+1;}function m(m){if(0===Object.keys(m._waiters).length)return 0;for(var l=h(m._nextWaiter);!m._waiters[l];)l=h(l);return l;}ic=ma.Class.create({init:function(){Object.defineProperties(this,{_queue:{value:[],writable:!1,enumerable:!1,configurable:!1},_waiters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastWaiter:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var l;if(this._waiters[h]){l=this._waiters[h];delete this._waiters[h];h==this._nextWaiter&&(this._nextWaiter=m(this));l.call(this,la);}},cancelAll:function(){for(;0!==this._nextWaiter;)this.cancel(this._nextWaiter);},poll:function(l,F){var M,P;M=this;P=h(this._lastWaiter);this._lastWaiter=P;r(F,function(){var h,U;if(0<this._queue.length){h=this._queue.shift();setTimeout(function(){F.result(h);},0);}else{-1!=l&&(U=setTimeout(function(){delete M._waiters[P];P==M._nextWaiter&&(M._nextWaiter=m(M));F.timeout();},l));this._waiters[P]=function(h){clearTimeout(U);setTimeout(function(){F.result(h);},0);};this._nextWaiter||(this._nextWaiter=P);}},M);return P;},add:function(h){var l;if(this._nextWaiter){l=this._waiters[this._nextWaiter];delete this._waiters[this._nextWaiter];this._nextWaiter=m(this);l.call(this,h);}else this._queue.push(h);}});}());(function(){var h;h=0-Ma;Id=ma.Class.create({nextBoolean:function(){var h;h=new Uint8Array(1);Cb.getRandomValues(h);return h[0]&1?!0:!1;},nextInt:function(h){var m;if(null!==h&&h!==la){if("number"!==typeof h)throw new TypeError("n must be of type number");if(1>h)throw new RangeError("n must be greater than zero");--h;m=new Uint8Array(4);Cb.getRandomValues(m);return Math.floor(((m[3]&127)<<24|m[2]<<16|m[1]<<8|m[0])/2147483648*(h-0+1)+0);}h=new Uint8Array(4);Cb.getRandomValues(h);m=(h[3]&127)<<24|h[2]<<16|h[1]<<8|h[0];return h[3]&128?-m:m;},nextLong:function(){var l,m;for(var m=h;m==h;){m=new Uint8Array(7);Cb.getRandomValues(m);l=16777216*((m[6]&31)<<24|m[5]<<16|m[4]<<8|m[3])+(m[2]<<16|m[1]<<8|m[0]);m=m[6]&128?-l-1:l;}return m;},nextBytes:function(h){Cb.getRandomValues(h);}});}());(function(){function h(h){return h==Ma?1:h+1;}function m(m){if(0===Object.keys(m._waitingReaders).length)return 0;for(var l=h(m._nextReader);!m._waitingReaders[l];)l=h(l);return l;}function l(m){if(0===Object.keys(m._waitingWriters).length)return 0;for(var l=h(m._nextWriter);!m._waitingWriters[l];)l=h(l);return l;}Xc=ma.Class.create({init:function(){Object.defineProperties(this,{_readers:{value:{},writable:!1,enumerable:!1,configurable:!1},_waitingReaders:{value:{},writable:!1,enumerable:!1,configurable:!1},_writer:{value:null,writable:!0,enumerable:!1,configurable:!1},_waitingWriters:{value:{},writable:!1,enumerable:!1,configurable:!1},_nextReader:{value:0,writable:!0,enumerable:!1,configurable:!1},_nextWriter:{value:0,writable:!0,enumerable:!1,configurable:!1},_lastNumber:{value:0,writable:!0,enumerable:!1,configurable:!1}});},cancel:function(h){var r;if(this._waitingReaders[h]){r=this._waitingReaders[h];delete this._waitingReaders[h];h==this._nextReader&&(this._nextReader=m(this));r.call(this,!0);}this._waitingWriters[h]&&(r=this._waitingWriters[h],delete this._waitingWriters[h],h==this._nextWriter&&(this._nextWriter=l(this)),r.call(this,!0));},cancelAll:function(){for(;0!==this._nextWriter;)this.cancel(this._nextWriter);for(;0!==this._nextReader;)this.cancel(this._nextReader);},readLock:function(l,F){var M,P;M=this;P=h(this._lastNumber);this._lastNumber=P;r(F,function(){var h;if(!this._writer&&0===Object.keys(this._waitingWriters).length)return this._readers[P]=!0,P;-1!=l&&(h=setTimeout(function(){delete M._waitingReaders[P];P==M._nextReader&&(M._nextReader=m(M));F.timeout();},l));this._waitingReaders[P]=function(m){clearTimeout(h);m?setTimeout(function(){F.result(la);},0):(M._readers[P]=!0,setTimeout(function(){F.result(P);},0));};this._nextReader||(this._nextReader=P);},M);return P;},writeLock:function(m,F){var M,P;M=this;P=h(this._lastNumber);this._lastNumber=P;r(F,function(){var h;if(0===Object.keys(this._readers).length&&0===Object.keys(this._waitingReaders).length&&!this._writer)return this._writer=P;-1!=m&&(h=setTimeout(function(){delete M._waitingWriters[P];P==M._nextWriter&&(M._nextWriter=l(M));F.timeout();},m));this._waitingWriters[P]=function(m){clearTimeout(h);m?setTimeout(function(){F.result(la);},0):(M._writer=P,setTimeout(function(){F.result(P);},0));};this._nextWriter||(this._nextWriter=P);},M);return P;},unlock:function(m){if(m==this._writer)this._writer=null;else{if(!this._readers[m])throw new ga("There is no reader or writer with ticket number "+m+".");delete this._readers[m];}if(this._nextWriter)0<Object.keys(this._readers).length||(m=this._waitingWriters[this._nextWriter],delete this._waitingWriters[this._nextWriter],this._nextWriter=l(this),m.call(this,!1));else{for(var r=this._nextReader;0<Object.keys(this._waitingReaders).length;r=h(r))this._waitingReaders[r]&&(m=this._waitingReaders[r],delete this._waitingReaders[r],m.call(this,!1));this._nextReader=0;}}});}());ma.Class.mixin(h,{JSON_PARSE_ERROR:new h(0,l.FAIL,"Error parsing JSON."),JSON_ENCODE_ERROR:new h(1,l.FAIL,"Error encoding JSON."),ENVELOPE_HASH_MISMATCH:new h(2,l.FAIL,"Computed hash does not match envelope hash."),INVALID_PUBLIC_KEY:new h(3,l.FAIL,"Invalid public key provided."),INVALID_PRIVATE_KEY:new h(4,l.FAIL,"Invalid private key provided."),PLAINTEXT_ILLEGAL_BLOCK_SIZE:new h(5,l.FAIL,"Plaintext is not a multiple of the block size."),PLAINTEXT_BAD_PADDING:new h(6,l.FAIL,"Plaintext contains incorrect padding."),CIPHERTEXT_ILLEGAL_BLOCK_SIZE:new h(7,l.FAIL,"Ciphertext is not a multiple of the block size."),CIPHERTEXT_BAD_PADDING:new h(8,l.FAIL,"Ciphertext contains incorrect padding."),ENCRYPT_NOT_SUPPORTED:new h(9,l.FAIL,"Encryption not supported."),DECRYPT_NOT_SUPPORTED:new h(10,l.FAIL,"Decryption not supported."),ENVELOPE_KEY_ID_MISMATCH:new h(11,l.FAIL,"Encryption envelope key ID does not match crypto context key ID."),CIPHERTEXT_ENVELOPE_PARSE_ERROR:new h(12,l.FAIL,"Error parsing ciphertext envelope."),CIPHERTEXT_ENVELOPE_ENCODE_ERROR:new h(13,l.FAIL,"Error encoding ciphertext envelope."),SIGN_NOT_SUPPORTED:new h(14,l.FAIL,"Sign not supported."),VERIFY_NOT_SUPPORTED:new h(15,l.FAIL,"Verify not suppoprted."),SIGNATURE_ERROR:new h(16,l.FAIL,"Signature not initialized or unable to process data/signature."),HMAC_ERROR:new h(17,l.FAIL,"Error computing HMAC."),ENCRYPT_ERROR:new h(18,l.FAIL,"Error encrypting plaintext."),DECRYPT_ERROR:new h(19,l.FAIL,"Error decrypting ciphertext."),INSUFFICIENT_CIPHERTEXT:new h(20,l.FAIL,"Insufficient ciphertext for decryption."),SESSION_KEY_CREATION_FAILURE:new h(21,l.FAIL,"Error when creating session keys."),ASN1_PARSE_ERROR:new h(22,l.FAIL,"Error parsing ASN.1."),ASN1_ENCODE_ERROR:new h(23,l.FAIL,"Error encoding ASN.1."),INVALID_SYMMETRIC_KEY:new h(24,l.FAIL,"Invalid symmetric key provided."),INVALID_ENCRYPTION_KEY:new h(25,l.FAIL,"Invalid encryption key."),INVALID_HMAC_KEY:new h(26,l.FAIL,"Invalid HMAC key."),WRAP_NOT_SUPPORTED:new h(27,l.FAIL,"Wrap not supported."),UNWRAP_NOT_SUPPORTED:new h(28,l.FAIL,"Unwrap not supported."),UNIDENTIFIED_JWK_TYPE:new h(29,l.FAIL,"Unidentified JSON web key type."),UNIDENTIFIED_JWK_USAGE:new h(30,l.FAIL,"Unidentified JSON web key usage."),UNIDENTIFIED_JWK_ALGORITHM:new h(31,l.FAIL,"Unidentified JSON web key algorithm."),WRAP_ERROR:new h(32,l.FAIL,"Error wrapping plaintext."),UNWRAP_ERROR:new h(33,l.FAIL,"Error unwrapping ciphertext."),INVALID_JWK:new h(34,l.FAIL,"Invalid JSON web key."),INVALID_JWK_KEYDATA:new h(35,l.FAIL,"Invalid JSON web key keydata."),UNSUPPORTED_JWK_ALGORITHM:new h(36,l.FAIL,"Unsupported JSON web key algorithm."),WRAP_KEY_CREATION_FAILURE:new h(37,l.FAIL,"Error when creating wrapping key."),INVALID_WRAP_CIPHERTEXT:new h(38,l.FAIL,"Invalid wrap ciphertext."),UNSUPPORTED_JWE_ALGORITHM:new h(39,l.FAIL,"Unsupported JSON web encryption algorithm."),JWE_ENCODE_ERROR:new h(40,l.FAIL,"Error encoding JSON web encryption header."),JWE_PARSE_ERROR:new h(41,l.FAIL,"Error parsing JSON web encryption header."),INVALID_ALGORITHM_PARAMS:new h(42,l.FAIL,"Invalid algorithm parameters."),JWE_ALGORITHM_MISMATCH:new h(43,l.FAIL,"JSON web encryption header algorithms mismatch."),KEY_IMPORT_ERROR:new h(44,l.FAIL,"Error importing key."),KEY_EXPORT_ERROR:new h(45,l.FAIL,"Error exporting key."),DIGEST_ERROR:new h(46,l.FAIL,"Error in digest."),UNSUPPORTED_KEY:new h(47,l.FAIL,"Unsupported key type or algorithm."),UNSUPPORTED_JWE_SERIALIZATION:new h(48,l.FAIL,"Unsupported JSON web encryption serialization."),XML_PARSE_ERROR:new h(49,l.FAIL,"Error parsing XML."),XML_ENCODE_ERROR:new h(50,l.FAIL,"Error encoding XML."),INVALID_WRAPPING_KEY:new h(51,l.FAIL,"Invalid wrapping key."),UNIDENTIFIED_CIPHERTEXT_ENVELOPE:new h(52,l.FAIL,"Unidentified ciphertext envelope version."),UNIDENTIFIED_SIGNATURE_ENVELOPE:new h(53,l.FAIL,"Unidentified signature envelope version."),UNSUPPORTED_CIPHERTEXT_ENVELOPE:new h(54,l.FAIL,"Unsupported ciphertext envelope version."),UNSUPPORTED_SIGNATURE_ENVELOPE:new h(55,l.FAIL,"Unsupported signature envelope version."),UNIDENTIFIED_CIPHERSPEC:new h(56,l.FAIL,"Unidentified cipher specification."),UNIDENTIFIED_ALGORITHM:new h(57,l.FAIL,"Unidentified algorithm."),SIGNATURE_ENVELOPE_PARSE_ERROR:new h(58,l.FAIL,"Error parsing signature envelope."),SIGNATURE_ENVELOPE_ENCODE_ERROR:new h(59,l.FAIL,"Error encoding signature envelope."),INVALID_SIGNATURE:new h(60,l.FAIL,"Invalid signature."),WRAPKEY_FINGERPRINT_NOTSUPPORTED:new h(61,l.FAIL,"Wrap key fingerprint not supported"),UNIDENTIFIED_JWK_KEYOP:new h(62,l.FAIL,"Unidentified JSON web key key operation."),MASTERTOKEN_UNTRUSTED:new h(1E3,l.ENTITY_REAUTH,"Master token is not trusted."),MASTERTOKEN_KEY_CREATION_ERROR:new h(1001,l.ENTITY_REAUTH,"Unable to construct symmetric keys from master token."),MASTERTOKEN_EXPIRES_BEFORE_RENEWAL:new h(1002,l.ENTITY_REAUTH,"Master token expiration timestamp is before the renewal window opens."),MASTERTOKEN_SESSIONDATA_MISSING:new h(1003,l.ENTITY_REAUTH,"No master token session data found."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(1004,l.ENTITY_REAUTH,"Master token sequence number is out of range."),MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(1005,l.ENTITY_REAUTH,"Master token serial number is out of range."),MASTERTOKEN_TOKENDATA_INVALID:new h(1006,l.ENTITY_REAUTH,"Invalid master token data."),MASTERTOKEN_SIGNATURE_INVALID:new h(1007,l.ENTITY_REAUTH,"Invalid master token signature."),MASTERTOKEN_SESSIONDATA_INVALID:new h(1008,l.ENTITY_REAUTH,"Invalid master token session data."),MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_SYNC:new h(1009,l.ENTITY_REAUTH,"Master token sequence number does not have the expected value."),MASTERTOKEN_TOKENDATA_MISSING:new h(1010,l.ENTITY_REAUTH,"No master token data found."),MASTERTOKEN_TOKENDATA_PARSE_ERROR:new h(1011,l.ENTITY_REAUTH,"Error parsing master token data."),MASTERTOKEN_SESSIONDATA_PARSE_ERROR:new h(1012,l.ENTITY_REAUTH,"Error parsing master token session data."),MASTERTOKEN_IDENTITY_REVOKED:new h(1013,l.ENTITY_REAUTH,"Master token entity identity is revoked."),MASTERTOKEN_REJECTED_BY_APP:new h(1014,l.ENTITY_REAUTH,"Master token is rejected by the application."),USERIDTOKEN_MASTERTOKEN_MISMATCH:new h(2E3,l.USER_REAUTH,"User ID token master token serial number does not match master token serial number."),USERIDTOKEN_NOT_DECRYPTED:new h(2001,l.USER_REAUTH,"User ID token is not decrypted or verified."),USERIDTOKEN_MASTERTOKEN_NULL:new h(2002,l.USER_REAUTH,"User ID token requires a master token."),USERIDTOKEN_EXPIRES_BEFORE_RENEWAL:new h(2003,l.USER_REAUTH,"User ID token expiration timestamp is before the renewal window opens."),USERIDTOKEN_USERDATA_MISSING:new h(2004,l.USER_REAUTH,"No user ID token user data found."),USERIDTOKEN_MASTERTOKEN_NOT_FOUND:new h(2005,l.USER_REAUTH,"User ID token is bound to an unknown master token."),USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2006,l.USER_REAUTH,"User ID token master token serial number is out of range."),USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(2007,l.USER_REAUTH,"User ID token serial number is out of range."),USERIDTOKEN_TOKENDATA_INVALID:new h(2008,l.USER_REAUTH,"Invalid user ID token data."),USERIDTOKEN_SIGNATURE_INVALID:new h(2009,l.USER_REAUTH,"Invalid user ID token signature."),USERIDTOKEN_USERDATA_INVALID:new h(2010,l.USER_REAUTH,"Invalid user ID token user data."),USERIDTOKEN_IDENTITY_INVALID:new h(2011,l.USER_REAUTH,"Invalid user ID token user identity."),RESERVED_2012:new h(2012,l.USER_REAUTH,"The entity is not associated with the user."),USERIDTOKEN_IDENTITY_NOT_FOUND:new h(2013,l.USER_REAUTH,"The user identity was not found."),USERIDTOKEN_PASSWORD_VERSION_CHANGED:new h(2014,l.USER_REAUTH,"The user identity must be reauthenticated because the password version changed."),USERIDTOKEN_USERAUTH_DATA_MISMATCH:new h(2015,l.USER_REAUTH,"The user ID token and user authentication data user identities do not match."),USERIDTOKEN_TOKENDATA_MISSING:new h(2016,l.USER_REAUTH,"No user ID token data found."),USERIDTOKEN_TOKENDATA_PARSE_ERROR:new h(2017,l.USER_REAUTH,"Error parsing user ID token data."),USERIDTOKEN_USERDATA_PARSE_ERROR:new h(2018,l.USER_REAUTH,"Error parsing user ID token user data."),USERIDTOKEN_REVOKED:new h(2019,l.USER_REAUTH,"User ID token is revoked."),USERIDTOKEN_REJECTED_BY_APP:new h(2020,l.USER_REAUTH,"User ID token is rejected by the application."),SERVICETOKEN_MASTERTOKEN_MISMATCH:new h(3E3,l.FAIL,"Service token master token serial number does not match master token serial number."),SERVICETOKEN_USERIDTOKEN_MISMATCH:new h(3001,l.FAIL,"Service token user ID token serial number does not match user ID token serial number."),SERVICETOKEN_SERVICEDATA_INVALID:new h(3002,l.FAIL,"Service token data invalid."),SERVICETOKEN_MASTERTOKEN_NOT_FOUND:new h(3003,l.FAIL,"Service token is bound to an unknown master token."),SERVICETOKEN_USERIDTOKEN_NOT_FOUND:new h(3004,l.FAIL,"Service token is bound to an unknown user ID token."),SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3005,l.FAIL,"Service token master token serial number is out of range."),SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE:new h(3006,l.FAIL,"Service token user ID token serial number is out of range."),SERVICETOKEN_TOKENDATA_INVALID:new h(3007,l.FAIL,"Invalid service token data."),SERVICETOKEN_SIGNATURE_INVALID:new h(3008,l.FAIL,"Invalid service token signature."),SERVICETOKEN_TOKENDATA_MISSING:new h(3009,l.FAIL,"No service token data found."),UNIDENTIFIED_ENTITYAUTH_SCHEME:new h(4E3,l.FAIL,"Unable to identify entity authentication scheme."),ENTITYAUTH_FACTORY_NOT_FOUND:new h(4001,l.FAIL,"No factory registered for entity authentication scheme."),X509CERT_PARSE_ERROR:new h(4002,l.ENTITYDATA_REAUTH,"Error parsing X.509 certificate data."),X509CERT_ENCODE_ERROR:new h(4003,l.ENTITYDATA_REAUTH,"Error encoding X.509 certificate data."),X509CERT_VERIFICATION_FAILED:new h(4004,l.ENTITYDATA_REAUTH,"X.509 certificate verification failed."),ENTITY_NOT_FOUND:new h(4005,l.FAIL,"Entity not recognized."),INCORRECT_ENTITYAUTH_DATA:new h(4006,l.FAIL,"Entity used incorrect entity authentication data type."),RSA_PUBLICKEY_NOT_FOUND:new h(4007,l.ENTITYDATA_REAUTH,"RSA public key not found."),NPTICKET_GRACE_PERIOD_EXCEEDED:new h(4008,l.ENTITYDATA_REAUTH,"Fake NP-Tickets cannot be used after the grace period when the Playstation Network is up."),NPTICKET_SERVICE_ID_MISSING:new h(4009,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is missing."),NPTICKET_SERVICE_ID_DISALLOWED:new h(4010,l.ENTITYDATA_REAUTH,"NP-Ticket service ID is not allowed."),NPTICKET_NOT_YET_VALID:new h(4011,l.ENTITYDATA_REAUTH,"NP-Ticket issuance date is in the future."),NPTICKET_EXPIRED:new h(4012,l.ENTITYDATA_REAUTH,"NP-Ticket has expired."),NPTICKET_PRIVATE_KEY_NOT_FOUND:new h(4013,l.ENTITYDATA_REAUTH,"No private key found for NP-Ticket GUID."),NPTICKET_COOKIE_VERIFICATION_FAILED:new h(4014,l.ENTITYDATA_REAUTH,"NP-Ticket cookie signature verification failed."),NPTICKET_INCORRECT_COOKIE_VERSION:new h(4015,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket cookie version."),NPTICKET_BROKEN:new h(4016,l.ENTITYDATA_REAUTH,"NP-Ticket broken."),NPTICKET_VERIFICATION_FAILED:new h(4017,l.ENTITYDATA_REAUTH,"NP-Ticket signature verification failed."),NPTICKET_ERROR:new h(4018,l.ENTITYDATA_REAUTH,"Unknown NP-Ticket TCM error."),NPTICKET_CIPHER_INFO_NOT_FOUND:new h(4019,l.ENTITYDATA_REAUTH,"No cipher information found for NP-Ticket."),NPTICKET_INVALID_CIPHER_INFO:new h(4020,l.ENTITYDATA_REAUTH,"Cipher information for NP-Ticket is invalid."),NPTICKET_UNSUPPORTED_VERSION:new h(4021,l.ENTITYDATA_REAUTH,"Unsupported NP-Ticket version."),NPTICKET_INCORRECT_KEY_LENGTH:new h(4022,l.ENTITYDATA_REAUTH,"Incorrect NP-Ticket public key length."),UNSUPPORTED_ENTITYAUTH_DATA:new h(4023,l.FAIL,"Unsupported entity authentication data."),CRYPTEX_RSA_KEY_SET_NOT_FOUND:new h(4024,l.FAIL,"Cryptex RSA key set not found."),ENTITY_REVOKED:new h(4025,l.FAIL,"Entity is revoked."),ENTITY_REJECTED_BY_APP:new h(4026,l.ENTITYDATA_REAUTH,"Entity is rejected by the application."),FORCE_LOGIN:new h(5E3,l.USERDATA_REAUTH,"User must login again."),NETFLIXID_COOKIES_EXPIRED:new h(5001,l.USERDATA_REAUTH,"Netflix ID cookie identity has expired."),NETFLIXID_COOKIES_BLANK:new h(5002,l.USERDATA_REAUTH,"Netflix ID or Secure Netflix ID cookie is blank."),UNIDENTIFIED_USERAUTH_SCHEME:new h(5003,l.FAIL,"Unable to identify user authentication scheme."),USERAUTH_FACTORY_NOT_FOUND:new h(5004,l.FAIL,"No factory registered for user authentication scheme."),EMAILPASSWORD_BLANK:new h(5005,l.USERDATA_REAUTH,"Email or password is blank."),AUTHMGR_COMMS_FAILURE:new h(5006,l.TRANSIENT_FAILURE,"Error communicating with authentication manager."),EMAILPASSWORD_INCORRECT:new h(5007,l.USERDATA_REAUTH,"Email or password is incorrect."),UNSUPPORTED_USERAUTH_DATA:new h(5008,l.FAIL,"Unsupported user authentication data."),SSOTOKEN_BLANK:new h(5009,l.SSOTOKEN_REJECTED,"SSO token is blank."),SSOTOKEN_NOT_ASSOCIATED:new h(5010,l.USERDATA_REAUTH,"SSO token is not associated with a Netflix user."),USERAUTH_USERIDTOKEN_INVALID:new h(5011,l.USERDATA_REAUTH,"User authentication data user ID token is invalid."),PROFILEID_BLANK:new h(5012,l.USERDATA_REAUTH,"Profile ID is blank."),UNIDENTIFIED_USERAUTH_MECHANISM:new h(5013,l.FAIL,"Unable to identify user authentication mechanism."),UNSUPPORTED_USERAUTH_MECHANISM:new h(5014,l.FAIL,"Unsupported user authentication mechanism."),SSOTOKEN_INVALID:new h(5015,l.SSOTOKEN_REJECTED,"SSO token invalid."),USERAUTH_MASTERTOKEN_MISSING:new h(5016,l.USERDATA_REAUTH,"User authentication required master token is missing."),ACCTMGR_COMMS_FAILURE:new h(5017,l.TRANSIENT_FAILURE,"Error communicating with the account manager."),SSO_ASSOCIATION_FAILURE:new h(5018,l.TRANSIENT_FAILURE,"SSO user association failed."),SSO_DISASSOCIATION_FAILURE:new h(5019,l.TRANSIENT_FAILURE,"SSO user disassociation failed."),MDX_USERAUTH_VERIFICATION_FAILED:new h(5020,l.USERDATA_REAUTH,"MDX user authentication data verification failed."),USERAUTH_USERIDTOKEN_NOT_DECRYPTED:new h(5021,l.USERDATA_REAUTH,"User authentication data user ID token is not decrypted or verified."),MDX_USERAUTH_ACTION_INVALID:new h(5022,l.USERDATA_REAUTH,"MDX user authentication data action is invalid."),CTICKET_DECRYPT_ERROR:new h(5023,l.USERDATA_REAUTH,"CTicket decryption failed."),USERAUTH_MASTERTOKEN_INVALID:new h(5024,l.USERDATA_REAUTH,"User authentication data master token is invalid."),USERAUTH_MASTERTOKEN_NOT_DECRYPTED:new h(5025,l.USERDATA_REAUTH,"User authentication data master token is not decrypted or verified."),CTICKET_CRYPTOCONTEXT_ERROR:new h(5026,l.USERDATA_REAUTH,"Error creating CTicket crypto context."),MDX_PIN_BLANK:new h(5027,l.USERDATA_REAUTH,"MDX controller or target PIN is blank."),MDX_PIN_MISMATCH:new h(5028,l.USERDATA_REAUTH,"MDX controller and target PIN mismatch."),MDX_USER_UNKNOWN:new h(5029,l.USERDATA_REAUTH,"MDX controller user ID token or CTicket is not decrypted or verified."),USERAUTH_USERIDTOKEN_MISSING:new h(5030,l.USERDATA_REAUTH,"User authentication required user ID token is missing."),MDX_CONTROLLERDATA_INVALID:new h(5031,l.USERDATA_REAUTH,"MDX controller authentication data is invalid."),USERAUTH_ENTITY_MISMATCH:new h(5032,l.USERDATA_REAUTH,"User authentication data does not match entity identity."),USERAUTH_INCORRECT_DATA:new h(5033,l.FAIL,"Entity used incorrect key request data type"),SSO_ASSOCIATION_WITH_NONMEMBER:new h(5034,l.USERDATA_REAUTH,"SSO user association failed because the customer is not a member."),SSO_ASSOCIATION_WITH_FORMERMEMBER:new h(5035,l.USERDATA_REAUTH,"SSO user association failed because the customer is a former member."),SSO_ASSOCIATION_CONFLICT:new h(5036,l.USERDATA_REAUTH,"SSO user association failed because the token identifies a different member."),USER_REJECTED_BY_APP:new h(5037,l.USERDATA_REAUTH,"User is rejected by the application."),PROFILE_SWITCH_DISALLOWED:new h(5038,l.TRANSIENT_FAILURE,"Unable to switch user profile."),MEMBERSHIPCLIENT_COMMS_FAILURE:new h(5039,l.TRANSIENT_FAILURE,"Error communicating with the membership manager."),USERIDTOKEN_IDENTITY_NOT_ASSOCIATED_WITH_ENTITY:new h(5040,l.USER_REAUTH,"The entity is not associated with the user."),UNSUPPORTED_COMPRESSION:new h(6E3,l.FAIL,"Unsupported compression algorithm."),COMPRESSION_ERROR:new h(6001,l.FAIL,"Error compressing data."),UNCOMPRESSION_ERROR:new h(6002,l.FAIL,"Error uncompressing data."),MESSAGE_ENTITY_NOT_FOUND:new h(6003,l.FAIL,"Message header entity authentication data or master token not found."),PAYLOAD_MESSAGE_ID_MISMATCH:new h(6004,l.FAIL,"Payload chunk message ID does not match header message ID ."),PAYLOAD_SEQUENCE_NUMBER_MISMATCH:new h(6005,l.FAIL,"Payload chunk sequence number does not match expected sequence number."),PAYLOAD_VERIFICATION_FAILED:new h(6006,l.FAIL,"Payload chunk payload signature verification failed."),MESSAGE_DATA_MISSING:new h(6007,l.FAIL,"No message data found."),MESSAGE_FORMAT_ERROR:new h(6008,l.FAIL,"Malformed message data."),MESSAGE_VERIFICATION_FAILED:new h(6009,l.FAIL,"Message header/error data signature verification failed."),HEADER_DATA_MISSING:new h(6010,l.FAIL,"No header data found."),PAYLOAD_DATA_MISSING:new h(6011,l.FAIL,"No payload data found in non-EOM payload chunk."),PAYLOAD_DATA_CORRUPT:new h(6012,l.FAIL,"Corrupt payload data found in non-EOM payload chunk."),UNIDENTIFIED_COMPRESSION:new h(6013,l.FAIL,"Unidentified compression algorithm."),MESSAGE_EXPIRED:new h(6014,l.EXPIRED,"Message expired and not renewable. Rejected."),MESSAGE_ID_OUT_OF_RANGE:new h(6015,l.FAIL,"Message ID is out of range."),INTERNAL_CODE_NEGATIVE:new h(6016,l.FAIL,"Error header internal code is negative."),UNEXPECTED_RESPONSE_MESSAGE_ID:new h(6017,l.FAIL,"Unexpected response message ID. Possible replay."),RESPONSE_REQUIRES_ENCRYPTION:new h(6018,l.KEYX_REQUIRED,"Message response requires encryption."),PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE:new h(6019,l.FAIL,"Payload chunk sequence number is out of range."),PAYLOAD_MESSAGE_ID_OUT_OF_RANGE:new h(6020,l.FAIL,"Payload chunk message ID is out of range."),MESSAGE_REPLAYED:new h(6021,l.REPLAYED,"Non-replayable message replayed."),INCOMPLETE_NONREPLAYABLE_MESSAGE:new h(6022,l.FAIL,"Non-replayable message sent non-renewable or without key request data or without a master token."),HEADER_SIGNATURE_INVALID:new h(6023,l.FAIL,"Invalid Header signature."),HEADER_DATA_INVALID:new h(6024,l.FAIL,"Invalid header data."),PAYLOAD_INVALID:new h(6025,l.FAIL,"Invalid payload."),PAYLOAD_SIGNATURE_INVALID:new h(6026,l.FAIL,"Invalid payload signature."),RESPONSE_REQUIRES_MASTERTOKEN:new h(6027,l.KEYX_REQUIRED,"Message response requires a master token."),RESPONSE_REQUIRES_USERIDTOKEN:new h(6028,l.USER_REAUTH,"Message response requires a user ID token."),REQUEST_REQUIRES_USERAUTHDATA:new h(6029,l.FAIL,"User-associated message requires user authentication data."),UNEXPECTED_MESSAGE_SENDER:new h(6030,l.FAIL,"Message sender is equal to the local entity or not the master token entity."),NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN:new h(6031,l.FAIL,"Non-replayable message requires a master token."),NONREPLAYABLE_ID_OUT_OF_RANGE:new h(6032,l.FAIL,"Non-replayable message non-replayable ID is out of range."),MESSAGE_SERVICETOKEN_MISMATCH:new h(6033,l.FAIL,"Service token master token or user ID token serial number does not match the message token serial numbers."),MESSAGE_PEER_SERVICETOKEN_MISMATCH:new h(6034,l.FAIL,"Peer service token master token or user ID token serial number does not match the message peer token serial numbers."),RESPONSE_REQUIRES_INTEGRITY_PROTECTION:new h(6035,l.KEYX_REQUIRED,"Message response requires integrity protection."),HANDSHAKE_DATA_MISSING:new h(6036,l.FAIL,"Handshake message is not renewable or does not contain key request data."),MESSAGE_RECIPIENT_MISMATCH:new h(6037,l.FAIL,"Message recipient does not match local identity."),UNIDENTIFIED_KEYX_SCHEME:new h(7E3,l.FAIL,"Unable to identify key exchange scheme."),KEYX_FACTORY_NOT_FOUND:new h(7001,l.FAIL,"No factory registered for key exchange scheme."),KEYX_REQUEST_NOT_FOUND:new h(7002,l.FAIL,"No key request found matching header key response data."),UNIDENTIFIED_KEYX_KEY_ID:new h(7003,l.FAIL,"Unable to identify key exchange key ID."),UNSUPPORTED_KEYX_KEY_ID:new h(7004,l.FAIL,"Unsupported key exchange key ID."),UNIDENTIFIED_KEYX_MECHANISM:new h(7005,l.FAIL,"Unable to identify key exchange mechanism."),UNSUPPORTED_KEYX_MECHANISM:new h(7006,l.FAIL,"Unsupported key exchange mechanism."),KEYX_RESPONSE_REQUEST_MISMATCH:new h(7007,l.FAIL,"Key exchange response does not match request."),KEYX_PRIVATE_KEY_MISSING:new h(7008,l.FAIL,"Key exchange private key missing."),UNKNOWN_KEYX_PARAMETERS_ID:new h(7009,l.FAIL,"Key exchange parameters ID unknown or invalid."),KEYX_MASTER_TOKEN_MISSING:new h(7010,l.FAIL,"Master token required for key exchange is missing."),KEYX_INVALID_PUBLIC_KEY:new h(7011,l.FAIL,"Key exchange public key is invalid."),KEYX_PUBLIC_KEY_MISSING:new h(7012,l.FAIL,"Key exchange public key missing."),KEYX_WRAPPING_KEY_MISSING:new h(7013,l.FAIL,"Key exchange wrapping key missing."),KEYX_WRAPPING_KEY_ID_MISSING:new h(7014,l.FAIL,"Key exchange wrapping key ID missing."),KEYX_INVALID_WRAPPING_KEY:new h(7015,l.FAIL,"Key exchange wrapping key is invalid."),KEYX_INCORRECT_DATA:new h(7016,l.FAIL,"Entity used incorrect wrapping key data type"),CRYPTEX_ENCRYPTION_ERROR:new h(8E3,l.FAIL,"Error encrypting data with cryptex."),CRYPTEX_DECRYPTION_ERROR:new h(8001,l.FAIL,"Error decrypting data with cryptex."),CRYPTEX_MAC_ERROR:new h(8002,l.FAIL,"Error computing MAC with cryptex."),CRYPTEX_VERIFY_ERROR:new h(8003,l.FAIL,"Error verifying MAC with cryptex."),CRYPTEX_CONTEXT_CREATION_FAILURE:new h(8004,l.FAIL,"Error creating cryptex cipher or MAC context."),DATAMODEL_DEVICE_ACCESS_ERROR:new h(8005,l.TRANSIENT_FAILURE,"Error accessing data model device."),DATAMODEL_DEVICETYPE_NOT_FOUND:new h(8006,l.FAIL,"Data model device type not found."),CRYPTEX_KEYSET_UNSUPPORTED:new h(8007,l.FAIL,"Cryptex key set not supported."),CRYPTEX_PRIVILEGE_EXCEPTION:new h(8008,l.FAIL,"Insufficient privileges for cryptex operation."),CRYPTEX_WRAP_ERROR:new h(8009,l.FAIL,"Error wrapping data with cryptex."),CRYPTEX_UNWRAP_ERROR:new h(8010,l.FAIL,"Error unwrapping data with cryptex."),CRYPTEX_COMMS_FAILURE:new h(8011,l.TRANSIENT_FAILURE,"Error comunicating with cryptex."),CRYPTEX_SIGN_ERROR:new h(8012,l.FAIL,"Error computing signature with cryptex."),INTERNAL_EXCEPTION:new h(9E3,l.TRANSIENT_FAILURE,"Internal exception."),MSL_COMMS_FAILURE:new h(9001,l.FAIL,"Error communicating with MSL entity."),NONE:new h(9999,l.FAIL,"Special unit test error.")});Object.freeze(h);(function(){F=ma.Class.create(Error());F.mixin({init:function(h,m,l){var M,P,ga;function r(){return P?P:this.cause&&this.cause instanceof F?this.cause.messageId:la;}Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);M=h.message;m&&(M+=" ["+m+"]");ga=this.stack;Object.defineProperties(this,{message:{value:M,writable:!1,configurable:!0},error:{value:h,writable:!1,configurable:!0},cause:{value:l,writable:!1,configurable:!0},name:{value:"MslException",writable:!1,configurable:!0},masterToken:{value:null,writable:!0,configurable:!1},entityAuthenticationData:{value:null,writable:!0,configurable:!1},userIdToken:{value:null,writable:!0,configurable:!1},userAuthenticationData:{value:null,writable:!0,configurable:!1},messageId:{get:r,set:function(h){if(0>h||h>Ma)throw new RangeError("Message ID "+h+" is outside the valid range.");r()||(P=h);},configurable:!0},stack:{get:function(){var h;h=this.toString();ga&&(h+="\n"+ga);l&&l.stack&&(h+="\nCaused by "+l.stack);return h;},configurable:!0}});},setEntity:function(h){!h||this.masterToken||this.entityAuthenticationData||(h instanceof gb?this.masterToken=h:h instanceof Pb&&(this.entityAuthenticationData=h));return this;},setUser:function(h){!h||this.userIdToken||this.userAuthenticationData||(h instanceof $b?this.userIdToken=h:h instanceof Eb&&(this.userAuthenticationData=h));return this;},setMessageId:function(h){this.messageId=h;return this;},toString:function(){return this.name+": "+this.message;}});}());P=F.extend({init:function Lb(h,m,l){Lb.base.call(this,h,m,l);Object.defineProperties(this,{name:{value:"MslCryptoException",writable:!1,configurable:!0}});}});ka=F.extend({init:function nb(h,m,l){nb.base.call(this,h,m,l);Object.defineProperties(this,{name:{value:"MslEncodingException",writable:!1,configurable:!0}});}});tb=F.extend({init:function Na(h,m,l){Na.base.call(this,h,m,l);Object.defineProperties(this,{name:{value:"MslEntityAuthException",writable:!1,configurable:!0}});}});(function(){ib=ma.Class.create(Error());ib.mixin({init:function(h,m,l){var r;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);r=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:m,writable:!1,configurable:!1},requestCause:{value:l,writable:!1,configurable:!1},name:{value:"MslErrorResponseException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();r&&(h+="\n"+r);m&&m.stack&&(h+="\nCaused by "+m.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){Za=ma.Class.create(Error());Za.mixin({init:function(h,m){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:m,writable:!1,configurable:!1},name:{value:"MslIoException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);m&&m.stack&&(h+="\nCaused by "+m.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){ga=ma.Class.create(Error());ga.mixin({init:function(h,m){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:m,writable:!1,configurable:!1},name:{value:"MslInternalException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);m&&m.stack&&(h+="\nCaused by "+m.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());(function(){cb=ma.Class.create(Error());cb.mixin({init:function(h,m){var l;Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);l=this.stack;Object.defineProperties(this,{message:{value:h,writable:!1,configurable:!1},cause:{value:m,writable:!1,configurable:!1},name:{value:"MslInterruptedException",writable:!1,configurable:!0},stack:{get:function(){var h;h=this.toString();l&&(h+="\n"+l);m&&m.stack&&(h+="\nCaused by "+m.stack);return h;},configurable:!0}});},toString:function(){return this.name+": "+this.message;}});}());Qa=F.extend({init:function tc(h,m,l){tc.base.call(this,h,m,l);Object.defineProperties(this,{name:{value:"MslKeyExchangeException",writable:!1,configurable:!0}});}});Qb=F.extend({init:function Rc(h,m){Rc.base.call(this,h);Object.defineProperties(this,{masterToken:{value:m,writable:!1,configurable:!1},name:{value:"MslMasterTokenException",writable:!1,configurable:!0}});}});za=F.extend({init:function Ba(h,m,l){Ba.base.call(this,h,m,l);Object.defineProperties(this,{name:{value:"MslMessageException",writable:!1,configurable:!0}});}});Da=F.extend({init:function U(h,m,l){U.base.call(this,h,m,l);Object.defineProperties(this,{name:{value:"MslUserAuthException",writable:!1,configurable:!0}});}});(function(){var L;function h(h){return"undefined"===typeof h?!1:h;}function m(h){return h&&h.length?(eb===L.V2014_02&&(h=h.map(function(h){return"wrap"==h?"wrapKey":"unwrap"==h?"unwrapKey":h;})),h):eb===L.V2014_02?"encrypt decrypt sign verify deriveKey wrapKey unwrapKey".split(" "):"encrypt decrypt sign verify deriveKey wrap unwrap".split(" ");}function l(h,w,m,l,J){return Promise.resolve().then(function(){return Ra.importKey(h,w,m,l,J);})["catch"](function(v){var E;if("spki"!==h&&"pkcs8"!==h)throw v;v=ASN1.webCryptoAlgorithmToJwkAlg(m);E=ASN1.webCryptoUsageToJwkKeyOps(J);v=ASN1.rsaDerToJwk(w,v,E,l);if(!v)throw Error("Could not make valid JWK from DER input");v=JSON.stringify(v);return Ra.importKey("jwk",Qc(v),m,l,J);});}function r(h,w){return Promise.resolve().then(function(){return Ra.exportKey(h,w);})["catch"](function(m){if("spki"!==h&&"pkcs8"!==h)throw m;return Ra.exportKey("jwk",w).then(function(h){h=JSON.parse(Pc(new Uint8Array(h)));h=ASN1.jwkToRsaDer(h);if(!h)throw Error("Could not make valid DER from JWK input");return h.getDer().buffer;});});}L=xc={LEGACY:1,V2014_01:2,V2014_02:3,LATEST:3};Object.freeze(xc);eb=L.LATEST;Ja={encrypt:function(h,w,m){switch(eb){case L.LEGACY:return new Promise(function(z,l){var v;v=Ra.encrypt(h,w,m);v.oncomplete=function(h){z(h.target.result);};v.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Ra.encrypt(h,w,m).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},decrypt:function(h,w,m){switch(eb){case L.LEGACY:return new Promise(function(z,l){var v;v=Ra.decrypt(h,w,m);v.oncomplete=function(h){z(h.target.result);};v.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Ra.decrypt(h,w,m).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},sign:function(h,w,m){switch(eb){case L.LEGACY:return new Promise(function(z,l){var v;v=Ra.sign(h,w,m);v.oncomplete=function(h){z(h.target.result);};v.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Ra.sign(h,w,m).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},verify:function(h,w,m,l){switch(eb){case L.LEGACY:return new Promise(function(z,v){var E;E=Ra.verify(h,w,m,l);E.oncomplete=function(h){z(h.target.result);};E.onerror=function(h){v(h);};});case L.V2014_01:case L.V2014_02:return Ra.verify(h,w,m,l);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},digest:function(h,w){switch(eb){case L.LEGACY:return new Promise(function(m,l){var z;z=Ra.digest(h,w);z.oncomplete=function(h){m(h.target.result);};z.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return Ra.digest(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},generateKey:function(l,w,z){var H,J;H=h(w);J=m(z);switch(eb){case L.LEGACY:return new Promise(function(h,w){var v;v=Ra.generateKey(l,H,J);v.oncomplete=function(v){h(v.target.result);};v.onerror=function(h){w(h);};});case L.V2014_01:case L.V2014_02:return Ra.generateKey(l,H,J);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},deriveKey:function(l,w,z,C,J){var v,E;v=h(C);E=m(J);switch(eb){case L.LEGACY:return new Promise(function(h,m){var J;J=Ra.deriveKey(l,w,z,v,E);J.oncomplete=function(v){h(v.target.result);};J.onerror=function(h){m(h);};});case L.V2014_01:case L.V2014_02:return Ra.deriveKey(l,w,z,v,E);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},importKey:function(H,w,z,C,J){var v,E;v=h(C);E=m(J);switch(eb){case L.LEGACY:return new Promise(function(h,m){var l;l=Ra.importKey(H,w,z,v,E);l.oncomplete=function(v){h(v.target.result);};l.onerror=function(h){m(h);};});case L.V2014_01:case L.V2014_02:return l(H,w,z,v,E);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},exportKey:function(h,w){switch(eb){case L.LEGACY:return new Promise(function(m,l){var z;z=Ra.exportKey(h,w);z.oncomplete=function(h){m(h.target.result);};z.onerror=function(h){l(h);};});case L.V2014_01:case L.V2014_02:return r(h,w).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},wrapKey:function(h,w,m,l){switch(eb){case L.LEGACY:return new Promise(function(h,v){var E;E=Ra.wrapKey(w,m,l);E.oncomplete=function(v){h(v.target.result);};E.onerror=function(h){v(h);};});case L.V2014_01:case L.V2014_02:return Ra.wrapKey(h,w,m,l).then(function(h){return new Uint8Array(h);});default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}},unwrapKey:function(l,w,z,C,J,v,E){switch(eb){case L.LEGACY:return new Promise(function(h,v){var m;m=Ra.unwrapKey(w,J,z);m.oncomplete=function(v){h(v.target.result);};m.onerror=function(h){v(h);};});case L.V2014_01:case L.V2014_02:return Ra.unwrapKey(l,w,z,C,J,h(v),m(E));default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}}};vc&&vc.getKeyByName&&(Ja.getKeyByName=function(h){switch(eb){case L.LEGACY:return new Promise(function(w,m){var z;z=vc.getKeyByName(h);z.oncomplete=function(h){w(h.target.result);};z.onerror=function(h){m(h);};});case L.V2014_01:case L.V2014_02:return vc.getKeyByName(h);default:throw Error("Unsupported Web Crypto version "+WEB_CRYPTO_VERSION+".");}});M.netflix=M.netflix||{};M.netflix.crypto=Ja;}());ub={name:"AES-KW"};ob={name:"AES-CBC"};pb={name:"HMAC",hash:{name:"SHA-256"}};yc={name:"RSA-OAEP",hash:{name:"SHA-1"}};Yc={name:"RSAES-PKCS1-v1_5"};Jd={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};Fb=["encrypt","decrypt"];Gb=["wrap","unwrap"];Rb=["sign","verify"];(function(){Zc=ma.Class.create({init:function(l,r,F){var L;function U(h){m(r,function(){var w;w=h?pa(h):la;Object.defineProperties(L,{rawKey:{value:l,writable:!1,configurable:!1},keyData:{value:h,writable:!1,configurable:!1},keyDataB64:{value:w,writable:!1,configurable:!1}});return this;},L);}L=this;m(r,function(){if(!l||"object"!=typeof l)throw new P(h.INVALID_SYMMETRIC_KEY);!F&&l.extractable?Ja.exportKey("raw",l).then(function(h){U(new Uint8Array(h));},function(m){r.error(new P(h.KEY_EXPORT_ERROR,"raw"));}):U(F);},L);},size:function(){return this.keyData.length;},toByteArray:function(){return this.keyData;},toBase64:function(){return this.keyDataB64;}});Yb=function(h,m){new Zc(h,m);};vb=function(l,r,F,M){m(M,function(){try{l="string"==typeof l?wa(l):l;}catch(L){throw new P(h.INVALID_SYMMETRIC_KEY,"keydata "+l,L);}Ja.importKey("raw",l,r,!0,F).then(function(h){new Zc(h,M,l);},function(m){M.error(new P(h.INVALID_SYMMETRIC_KEY));});});};}());(function(){zc=ma.Class.create({init:function(l,r,F){var L;function U(h){m(r,function(){Object.defineProperties(L,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},L);}L=this;m(r,function(){if(!l||"object"!=typeof l||"public"!=l.type)throw new TypeError("Only original public crypto keys are supported.");!F&&l.extractable?Ja.exportKey("spki",l).then(function(h){U(new Uint8Array(h));},function(m){r.error(new P(h.KEY_EXPORT_ERROR,"spki"));}):U(F);});},getEncoded:function(){return this.encoded;}});Nb=function(h,m){new zc(h,m);};$c=function(l,r,F,M){m(M,function(){try{l="string"==typeof l?wa(l):l;}catch(L){throw new P(h.INVALID_PUBLIC_KEY,"spki "+l,L);}Ja.importKey("spki",l,r,!0,F).then(function(h){new zc(h,M,l);},function(m){M.error(new P(h.INVALID_PUBLIC_KEY));});});};}());(function(){Kd=ma.Class.create({init:function(l,r,F){var L;function U(h){m(r,function(){Object.defineProperties(L,{rawKey:{value:l,writable:!1,configurable:!1},encoded:{value:h,writable:!1,configurable:!1}});return this;},L);}L=this;m(r,function(){if(!l||"object"!=typeof l||"private"!=l.type)throw new TypeError("Only original private crypto keys are supported.");!F&&l.extractable?Ja.exportKey("pkcs8",l).then(function(h){U(new Uint8Array(h));},function(m){r.error(new P(h.KEY_EXPORT_ERROR,"pkcs8"));}):U(F);});},getEncoded:function(){return this.encoded;}});Zb=function(h,m){new Kd(h,m);};}());(function(){var l;l=dd={V1:1,V2:2};ad=ma.Class.create({init:function(h,r,F,L){m(L,function(){var m,w,z,C;m=l.V1;w=h;z=null;for(C in wc)if(wc[C]==h){m=l.V2;w=null;z=h;break;}Object.defineProperties(this,{version:{value:m,writable:!1,enumerable:!1,configurable:!1},keyId:{value:w,writable:!1,configurable:!1},cipherSpec:{value:z,writable:!1,configurable:!1},iv:{value:r,writable:!1,configurable:!1},ciphertext:{value:F,writable:!1,configurable:!1}});return this;},this);},toJSON:function(){var h;h={};switch(this.version){case l.V1:h.keyid=this.keyId;this.iv&&(h.iv=pa(this.iv));h.ciphertext=pa(this.ciphertext);h.sha256="AA==";break;case l.V2:h.version=this.version;h.cipherspec=this.cipherSpec;this.iv&&(h.iv=pa(this.iv));h.ciphertext=pa(this.ciphertext);break;default:throw new ga("Ciphertext envelope version "+this.version+" encoding unsupported.");}return h;}});bd=function(h,m,l,L){new ad(h,m,l,L);};cd=function(r,F,U){m(U,function(){var m,H,w,z,C,J,v;m=r.keyid;H=r.cipherspec;w=r.iv;z=r.ciphertext;C=r.sha256;if(!F)if((F=r.version)&&"number"===typeof F&&F===F){J=!1;for(v in l)if(l[v]==F){J=!0;break;}if(!J)throw new P(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}else F=l.V1;switch(F){case l.V1:if("string"!==typeof m||w&&"string"!==typeof w||"string"!==typeof z||"string"!==typeof C)throw new ka(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));break;case l.V2:v=r.version;if(v!=l.V2)throw new P(h.UNIDENTIFIED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));if("string"!==typeof H||w&&"string"!==typeof w||"string"!==typeof z)throw new ka(h.JSON_PARSE_ERROR,"ciphertext envelope "+JSON.stringify(r));H=Gd(H);if(!H)throw new P(h.UNIDENTIFIED_CIPHERSPEC,"ciphertext envelope "+JSON.stringify(r));m=H;break;default:throw new P(h.UNSUPPORTED_CIPHERTEXT_ENVELOPE,"ciphertext envelope "+JSON.stringify(r));}try{w&&(w=wa(w));z=wa(z);}catch(E){throw new P(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,"encryption envelope "+JSON.stringify(r),E);}new ad(m,w,z,U);});};}());(function(){var l;l=gd={V1:1,V2:2};wb=ma.Class.create({init:function(h,m,r){var L;switch(h){case l.V1:L=r;break;case l.V2:L={};L.version=h;L.algorithm=m;L.signature=pa(r);L=Ta(JSON.stringify(L),La);break;default:throw new ga("Signature envelope version "+h+" encoding unsupported.");}Object.defineProperties(this,{version:{value:h,writable:!1,enumerable:!1,configurable:!1},algorithm:{value:m,writable:!1,configurable:!1},signature:{value:r,writable:!1,configurable:!1},bytes:{value:L,writable:!1,configurable:!1}});}});ed=function(){var h,r,F,L;2==arguments.length?(h=l.V1,r=arguments[0],F=null,L=arguments[1]):3==arguments.length&&(h=l.V2,F=arguments[0],r=arguments[1],L=arguments[2]);m(L,function(){return new wb(h,F,r);});};fd=function(r,F,U){m(U,function(){var m,H,w,z,C,J,v;if(F)switch(F){case l.V1:return new wb(l.V1,null,r);case l.V2:try{m=Wa(r,La);H=JSON.parse(m);w=parseInt(H.version);z=H.algorithm;C=H.signature;if(!w||"number"!==typeof w||w!=w||"string"!==typeof z||"string"!==typeof C)throw new ka(h.JSON_PARSE_ERROR,"signature envelope "+pa(r));if(l.V2!=w)throw new P(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(r));J=Wc(z);if(!J)throw new P(h.UNIDENTIFIED_ALGORITHM,"signature envelope "+pa(r));v=wa(C);if(!v)throw new P(h.INVALID_SIGNATURE,"signature envelope "+Base64Util.encode(r));return new wb(l.V2,J,v);}catch(E){if(E instanceof SyntaxError)throw new ka(h.JSON_PARSE_ERROR,"signature envelope "+pa(r),E);throw E;}default:throw new P(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+pa(r));}try{m=Wa(r,La);H=JSON.parse(m);}catch(E){H=null;}if(H&&H.version){if(m=H.version,"number"!==typeof m||m!==m)m=l.V1;}else m=l.V1;switch(m){case l.V1:return new wb(m,null,r);case l.V2:J=H.algorithm;C=H.signature;if("string"!==typeof J||"string"!==typeof C)return new wb(l.V1,null,r);J=Wc(J);if(!J)return new wb(l.V1,null,r);try{v=wa(C);}catch(E){return new wb(l.V1,null,r);}return new wb(m,J,v);default:throw new P(h.UNSUPPORTED_SIGNATURE_ENVELOPE,"signature envelope "+r);}});};}());ac=ma.Class.create({encrypt:function(h,m){},decrypt:function(h,m){},wrap:function(h,m){},unwrap:function(h,m,l,r){},sign:function(h,m){},verify:function(h,m,l){}});(function(){var l;l=yb={RSA_OAEP:yc.name,A128KW:ub.name};rb="A128GCM";xb=ma.Class.create({init:function(h,m,r,L,H){switch(m){case l.RSA_OAEP:H=H&&(H.rawKey||H);L=L&&(L.rawKey||L);break;case l.A128KW:H=L=L&&(L.rawKey||L);break;default:throw new ga("Unsupported algorithm: "+m);}Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_algo:{value:m,writable:!1,enumerable:!1,configurable:!1},_enc:{value:r,writable:!1,enumerable:!1,configurable:!1},_wrapKey:{value:H,writable:!1,enumerable:!1,configurable:!1},_unwrapKey:{value:L,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(m,l){l.error(new P(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(m,l){l.error(new P(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,r){m(r,function(){Ja.wrapKey("jwe+jwk",l.rawKey,this._wrapKey,this._wrapKey.algorithm).then(function(h){r.result(h);},function(m){r.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,r,F,L){function H(l){m(L,function(){switch(l.type){case"secret":Yb(l,L);break;case"public":Nb(l,L);break;case"private":Zb(l,L);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}m(L,function(){Ja.unwrapKey("jwe+jwk",l,this._unwrapKey,this._unwrapKey.algorithm,r,!1,F).then(function(h){H(h);},function(){L.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(m,l){l.error(new P(h.SIGN_NOT_SUPPORTED));},verify:function(m,l,r){r.error(new P(h.VERIFY_NOT_SUPPORTED));}});}());bc=ac.extend({encrypt:function(h,m){m.result(h);},decrypt:function(h,m){m.result(h);},wrap:function(h,m){m.result(h);},unwrap:function(h,m,l,r){r.result(h);},sign:function(h,m){m.result(new Uint8Array(0));},verify:function(h,m,l){l.result(!0);}});(function(){var l;l=Bc={ENCRYPT_DECRYPT_OAEP:1,ENCRYPT_DECRYPT_PKCS1:2,WRAP_UNWRAP_OAEP:3,WRAP_UNWRAP_PKCS1:4,SIGN_VERIFY:5};Ac=ac.extend({init:function Ia(h,m,H,w,z){Ia.base.call(this);H&&(H=H.rawKey);w&&(w=w.rawKey);Object.defineProperties(this,{id:{value:m,writable:!1,enumerable:!1,configurable:!1},privateKey:{value:H,writable:!1,enumerable:!1,configurable:!1},publicKey:{value:w,writable:!1,enumerable:!1,configurable:!1},transform:{value:z==l.ENCRYPT_DECRYPT_PKCS1?Yc:z==l.ENCRYPT_DECRYPT_OAEP?yc:"nullOp",writable:!1,enumerable:!1,configurable:!1},wrapTransform:{value:z==l.WRAP_UNWRAP_PKCS1?Yc:z==l.WRAP_UNWRAP_OAEP?yc:"nullOp",writable:!1,enumerable:!1,configurable:!1},algo:{value:z==l.SIGN_VERIFY?Jd:"nullOp",writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var L;L=this;m(r,function(){if("nullOp"==this.transform)return l;if(!this.publicKey)throw new P(h.ENCRYPT_NOT_SUPPORTED,"no public key");if(0==l.length)return l;Ja.encrypt(L.transform,L.publicKey,l).then(function(m){bd(L.id,null,m,{result:function(m){var l;try{l=JSON.stringify(m);r.result(Ta(l,La));}catch(C){r.error(new P(h.ENCRYPT_ERROR,null,C));}},error:function(m){m instanceof F||(m=new P(h.ENCRYPT_ERROR,null,m));r.error(m);}});},function(m){r.error(new P(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var L;L=this;m(r,function(){var m,w;if("nullOp"==this.transform)return l;if(!this.privateKey)throw new P(h.DECRYPT_NOT_SUPPORTED,"no private key");if(0==l.length)return l;try{w=Wa(l,La);m=JSON.parse(w);}catch(z){if(z instanceof SyntaxError)throw new P(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,z);throw new P(h.DECRYPT_ERROR,null,z);}cd(m,dd.V1,{result:function(m){var l;try{if(m.keyId!=L.id)throw new P(h.ENVELOPE_KEY_ID_MISMATCH);l=r.result;Ja.decrypt(L.transform,L.privateKey,m.ciphertext).then(l,function(m){r.error(new P(h.DECRYPT_ERROR));});}catch(J){J instanceof F?r.error(J):r.error(new P(h.DECRYPT_ERROR,null,J));}},error:function(m){m instanceof ka&&(m=new P(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,m));m instanceof F||(m=new P(h.DECRYPT_ERROR,null,m));r.error(m);}});},this);},wrap:function(l,r){m(r,function(){var m;if("nullOp"==this.wrapTransform||!this.publicKey)throw new P(h.WRAP_NOT_SUPPORTED,"no public key");m=r.result;Ja.wrapKey("jwk",l.rawKey,this.publicKey,this.wrapTransform).then(m,function(m){r.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,r,L,H){function w(l){m(H,function(){switch(l.type){case"secret":Yb(l,H);break;case"public":Nb(l,H);break;case"private":Zb(l,H);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}m(H,function(){if("nullOp"==this.wrapTransform||!this.privateKey)throw new P(h.UNWRAP_NOT_SUPPORTED,"no private key");Ja.unwrapKey("jwk",l,this.privateKey,{name:this.privateKey.algorithm.name,hash:{name:"SHA-1"}},r,!1,L).then(w,function(m){H.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(l,r){m(r,function(){if("nullOp"==this.algo)return new Uint8Array(0);if(!this.privateKey)throw new P(h.SIGN_NOT_SUPPORTED,"no private key");Ja.sign(this.algo,this.privateKey,l).then(function(h){ed(h,{result:function(h){r.result(h.bytes);},error:r.error});},function(m){r.error(new P(h.SIGNATURE_ERROR));});},this);},verify:function(l,r,L){var H;H=this;m(L,function(){if("nullOp"==this.algo)return!0;if(!this.publicKey)throw new P(h.VERIFY_NOT_SUPPORTED,"no public key");fd(r,gd.V1,{result:function(w){m(L,function(){var m;m=L.result;Ja.verify(this.algo,this.publicKey,w.signature,l).then(m,function(m){L.error(new P(h.SIGNATURE_ERROR));});},H);},error:L.error});},this);}});}());(function(){Cc=ac.extend({init:function Ua(h,m,l,H,w){Ua.base.call(this);l=l&&l.rawKey;H=H&&H.rawKey;w=w&&w.rawKey;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},id:{value:m,writable:!1,enumerable:!1,configurable:!1},encryptionKey:{value:l,writable:!1,enumerable:!1,configurable:!1},hmacKey:{value:H,writable:!1,enumerable:!1,configurable:!1},wrapKey:{value:w,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(l,r){var M;M=this;m(r,function(){var m;if(!this.encryptionKey)throw new P(h.ENCRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;m=new Uint8Array(16);this.ctx.getRandom().nextBytes(m);Ja.encrypt({name:ob.name,iv:m},M.encryptionKey,l).then(function(l){l=new Uint8Array(l);bd(M.id,m,l,{result:function(m){var l;try{l=JSON.stringify(m);r.result(Ta(l,La));}catch(C){r.error(new P(h.ENCRYPT_ERROR,null,C));}},error:function(m){m instanceof F||(m=new P(h.ENCRYPT_ERROR,null,m));r.error(m);}});},function(m){r.error(new P(h.ENCRYPT_ERROR));});},this);},decrypt:function(l,r){var M;M=this;m(r,function(){var m,H;if(!this.encryptionKey)throw new P(h.DECRYPT_NOT_SUPPORTED,"no encryption/decryption key");if(0==l.length)return l;try{H=Wa(l,La);m=JSON.parse(H);}catch(w){if(w instanceof SyntaxError)throw new P(h.CIPHERTEXT_ENVELOPE_PARSE_ERROR,null,w);throw new P(h.DECRYPT_ERROR,null,w);}cd(m,dd.V1,{result:function(m){try{if(m.keyId!=M.id)throw new P(h.ENVELOPE_KEY_ID_MISMATCH);Ja.decrypt({name:ob.name,iv:m.iv},M.encryptionKey,m.ciphertext).then(function(h){h=new Uint8Array(h);r.result(h);},function(){r.error(new P(h.DECRYPT_ERROR));});}catch(z){z instanceof F?r.error(z):r.error(new P(h.DECRYPT_ERROR,null,z));}},error:function(m){m instanceof ka&&(m=new P(h.CIPHERTEXT_ENVELOPE_ENCODE_ERROR,null,m));m instanceof F||(m=new P(h.DECRYPT_ERROR,null,m));r.error(m);}});},this);},wrap:function(l,r){m(r,function(){if(!this.wrapKey)throw new P(h.WRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ja.wrapKey("raw",l.rawKey,this.wrapKey,this.wrapKey.algorithm).then(function(h){r.result(h);},function(m){r.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,r,F,L){function H(l){m(L,function(){switch(l.type){case"secret":Yb(l,L);break;case"public":Nb(l,L);break;case"private":Zb(l,L);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}m(L,function(){if(!this.wrapKey)throw new P(h.UNWRAP_NOT_SUPPORTED,"no wrap/unwrap key");Ja.unwrapKey("raw",l,this.wrapKey,this.wrapKey.algorithm,r,!1,F).then(function(h){H(h);},function(m){L.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(l,r){var F;F=this;m(r,function(){if(!this.hmacKey)throw new P(h.SIGN_NOT_SUPPORTED,"no HMAC key.");Ja.sign(pb,this.hmacKey,l).then(function(h){m(r,function(){var m;m=new Uint8Array(h);ed(m,{result:function(h){r.result(h.bytes);},error:r.error});},F);},function(){r.error(new P(h.HMAC_ERROR));});},this);},verify:function(l,r,F){var L;L=this;m(F,function(){if(!this.hmacKey)throw new P(h.VERIFY_NOT_SUPPORTED,"no HMAC key.");fd(r,gd.V1,{result:function(H){m(F,function(){Ja.verify(pb,this.hmacKey,H.signature,l).then(function(h){F.result(h);},function(m){F.error(new P(h.HMAC_ERROR));});},L);},error:F.error});},this);}});}());hb=Cc.extend({init:function Ua(m,l,r,H,w){if(r||H||w)Ua.base.call(this,m,r+"_"+l.sequenceNumber,H,w,null);else{if(!l.isDecrypted())throw new Qb(h.MASTERTOKEN_UNTRUSTED,l);Ua.base.call(this,m,l.identity+"_"+l.sequenceNumber,l.encryptionKey,l.hmacKey,null);}}});Le=ac.extend({encrypt:function(h,m){m.result(h);},decrypt:function(h,m){m.result(h);},wrap:function(h,m){m.error(new ga("Wrap is unsupported by the MSL token crypto context."));},unwrap:function(h,m,l,r){r.error(new ga("Unwrap is unsupported by the MSL token crypto context."));},sign:function(h,m){m.result(new Uint8Array(0));},verify:function(h,m,l){l.result(!1);}});Pa={PSK:"PSK",MGK:"MGK",X509:"X509",RSA:"RSA",NPTICKET:"NPTICKET",ECC:"ECC",NONE:"NONE"};Object.freeze(Pa);(function(){Pb=ma.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Pb?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});Ld=function(m,l){var r,L,H;r=l.scheme;L=l.authdata;if(!r||!L)throw new ka(h.JSON_PARSE_ERROR,"entityauthdata "+JSON.stringify(l));if(!Pa[r])throw new tb(h.UNIDENTIFIED_ENTITYAUTH_SCHEME,r);H=m.getEntityAuthenticationFactory(r);if(!H)throw new tb(h.ENTITYAUTH_FACTORY_NOT_FOUND,r);return H.createData(m,L);};}());Dc=ma.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,m){},getCryptoContext:function(h,m){}});(function(){lb=Pb.extend({init:function Ia(h){Ia.base.call(this,Pa.MGK);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function Ka(h){return this===h?!0:h instanceof lb?Ka.base.call(this,this,h)&&this.identity==h.identity:!1;}});Md=function(m){var l;l=m.identity;if(!l)throw new ka(h.JSON_PARSE_ERROR,"mgk authdata"+JSON.stringify(m));return new lb(l);};}());Me=Dc.extend({init:function Ia(h){Ia.base.call(this,Pa.MGK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,m){return Md(m);},getCryptoContext:function(m,l){if(!(l instanceof lb))throw new ga("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.identity!=this.localIdentity)throw new tb(h.ENTITY_NOT_FOUND,"mgk "+l.identity).setEntity(l);return new bc();}});(function(){qb=Pb.extend({init:function Ka(h){Ka.base.call(this,Pa.PSK);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function L(h){return this===h?!0:h instanceof qb?L.base.call(this,this,h)&&this.identity==h.identity:!1;}});Nd=function(m){var l;l=m.identity;if(!l)throw new ka(h.JSON_PARSE_ERROR,"psk authdata"+JSON.stringify(m));return new qb(l);};}());Od=Dc.extend({init:function Ka(h){Ka.base.call(this,Pa.PSK);Object.defineProperties(this,{localIdentity:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,m){return Nd(m);},getCryptoContext:function(m,l){if(!(l instanceof qb))throw new ga("Incorrect authentication data type "+JSON.stringify(l)+".");if(l.getIdentity()!=this.localIdentity)throw new tb(h.ENTITY_NOT_FOUND,"psk "+l.identity).setEntity(l);return new bc();}});(function(){Ec=Pb.extend({init:function L(h,m){L.base.call(this,Pa.RSA);Object.defineProperties(this,{identity:{value:h,writable:!1,configurable:!1},publicKeyId:{value:m,writable:!1,configurable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;h.pubkeyid=this.publicKeyId;return h;},equals:function H(h){return this===h?!0:h instanceof Ec?H.base.call(this,this,h)&&this.identity==h.identity&&this.publicKeyId==h.publicKeyId:!1;}});Pd=function(m){var l,z;l=m.identity;z=m.pubkeyid;if(!l||"string"!==typeof l||!z||"string"!==typeof z)throw new ka(h.JSON_PARSE_ERROR,"RSA authdata"+JSON.stringify(m));return new Ec(l,z);};}());Ne=Dc.extend({init:function L(h){L.base.call(this,Pa.RSA);Object.defineProperties(this,{store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,m){return Pd(m);},getCryptoContext:function(m,l){var w,z,C;if(!(l instanceof Ec))throw new ga("Incorrect authentication data type "+l+".");w=l.identity;z=l.publicKeyId;C=this.store.getPublicKey(z);if(!C)throw new tb(h.RSA_PUBLICKEY_NOT_FOUND,z).setEntity(l);return new Ac(m,w,null,C,Bc.SIGN_VERIFY);}});(function(){hc=Pb.extend({init:function H(h){H.base.call(this,Pa.NONE);Object.defineProperties(this,{identity:{value:h,writable:!1}});},getIdentity:function(){return this.identity;},getAuthData:function(){var h;h={};h.identity=this.identity;return h;},equals:function w(h){return this===h?!0:h instanceof hc?w.base.call(this,this,h)&&this.identity==h.identity:!1;}});Qd=function(m){var l;l=m.identity;if(!l)throw new ka(h.JSON_PARSE_ERROR,"Unauthenticated authdata"+JSON.stringify(m));return new hc(l);};}());Ke=Dc.extend({init:function H(){H.base.call(this,Pa.NONE);},createData:function(h,m){return Qd(m);},getCryptoContext:function(h,m){if(!(m instanceof hc))throw new ga("Incorrect authentication data type "+JSON.stringify(m)+".");return new bc();}});Oe=ma.Class.create({init:function(){Object.defineProperties(this,{rsaKeys:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addPublicKey:function(h,m){if(!(m instanceof zc))throw new ga("Incorrect key data type "+m+".");this.rsaKeys[h]=m;},getIdentities:function(){return Object.keys(this.rsaKeys);},removePublicKey:function(h){delete this.rsaKeys[h];},getPublicKey:function(h){return this.rsaKeys[h];}});hd=ma.Class.create({abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,m,l){}});Fc=ma.Class.create({abort:function(){},close:function(h,m){},write:function(h,m,l,C,J){},flush:function(h,m){}});Pe=ma.Class.create({init:function(h){Object.defineProperties(this,{_data:{value:h,writable:!1,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_currentPosition:{value:0,writable:!0,enumerable:!1,configurable:!1},_mark:{value:-1,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){},close:function(){this._close=!0;},mark:function(){this._mark=this._currentPosition;},reset:function(){if(-1==this._mark)throw new Za("Stream has not been marked.");this._currentPosition=this._mark;},markSupported:function(){return!0;},read:function(h,m,l){r(l,function(){var m;if(this._closed)throw new Za("Stream is already closed.");if(this._currentPosition==this._data.length)return null;-1==h&&(h=this._data.length-this._currentPosition);m=this._data.subarray(this._currentPosition,this._currentPosition+h);this._currentPosition+=m.length;return m;},this);}});Qe=ma.Class.create({init:function(){var h;h={_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_result:{value:new Uint8Array(0),writable:!0,enuemrable:!1,configurable:!1},_buffered:{value:[],writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},abort:function(){},close:function(h,m){this._closed=!0;m.result(!0);},write:function(h,m,l,C,J){r(J,function(){var v;if(this._closed)throw new Za("Stream is already closed.");if(0>m)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(m+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");v=h.subarray(m,l);this._buffered.push(v);return v.length;},this);},flush:function(h,m){var l,w;for(;0<this._buffered.length;){l=this._buffered.shift();if(this._result){w=new Uint8Array(this._result.length+l.length);w.set(this._result);w.set(l,this._result.length);this._result=w;}else this._result=new Uint8Array(l);}m.result(!0);},size:function(){this.flush(1,{result:function(){}});return this._result.length;},toByteArray:function(){this.flush(1,{result:function(){}});return this._result;}});Re=ma.Class.create({getResponse:function(h,m,l){}});(function(){var h,m;h=Fc.extend({init:function(h,m){var l;l={_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:m,writable:!0,enumerable:!1,configurable:!1},_buffer:{value:new Qe(),writable:!1,enumerable:!1,configurable:!1},_response:{value:la,writable:!0,enumerable:!1,configurable:!1},_abortToken:{value:la,writable:!0,enumerable:!1,configurable:!1},_responseQueue:{value:new ic(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(h){this._timeout=h;},getResponse:function(h,m){var l;l=this;this._responseQueue.poll(h,{result:function(h){r(m,function(){h&&this._responseQueue.add(h);return h;},l);},timeout:function(){r(m,function(){this._response={isTimeout:!0};this._responseQueue.add(this._response);this.abort();m.timeout();},l);},error:function(h){r(m,function(){this._response={isError:!0};this._responseQueue.add(this._response);throw h;},l);}});},abort:function(){this._abortToken&&this._abortToken.abort();},close:function(h,m){var l;l=this;r(m,function(){var h;if(this._response)return!0;h=this._buffer.toByteArray();0<h.length&&(this._abortToken=this._httpLocation.getResponse({body:h},this._timeout,{result:function(h){l._response={response:h};l._responseQueue.add(l._response);},timeout:function(){l._response={isTimeout:!0};l._responseQueue.add(l._response);},error:function(h){l._response={isError:!0,error:h};l._responseQueue.add(l._response);}}));return!0;},this);},write:function(h,m,l,v,E){r(E,function(){if(this._response)throw new Za("HttpOutputStream already closed.");this._buffer.write(h,m,l,v,E);},this);},flush:function(h,m){r(m,function(){if(this._response)return!0;this._buffer.flush(h,m);},this);}});m=hd.extend({init:function(h){Object.defineProperties(this,{_out:{value:h,writable:!1,enumerable:!1,configurable:!1},_buffer:{value:la,writable:!0,enumerable:!1,configurable:!1},_exception:{value:la,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_json:{value:la,writable:!0,enumerable:!1,configurable:!1}});},abort:function(){this._out.abort();},close:function(){this._buffer&&this._buffer.close();},mark:function(){this._buffer||this._buffer.mark();},reset:function(){this._buffer&&this._buffer.reset();},markSupported:function(){if(this._buffer)return this._buffer.markSupported();},read:function(h,m,l){var E;function v(v){r(l,function(){if(!v)return new Uint8Array(0);this._out.getResponse(m,{result:function(v){r(l,function(){var w;if(v.isTimeout)this._timedout=!0,l.timeout();else{if(v.isError)throw this._exception=v.error||new Za("Unknown HTTP exception."),this._exception;if(!v.response)throw this._exception=new Za("Missing HTTP response."),this._exception;v.response.json!==la&&(this._json=v.response.json,this.getJSON=function(){return E._json;});w=v.response.content||Qc("string"===typeof v.response.body?v.response.body:JSON.stringify(this._json));this._buffer=new Pe(w);this._buffer.read(h,m,l);}},E);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},E);}E=this;r(l,function(){if(this._exception)throw this._exception;if(this._timedout)l.timeout();else{if(this._aborted)return new Uint8Array(0);this._buffer?this._buffer.read(h,m,l):this._out.close(m,{result:function(h){v(h);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},E);}});Ad=ma.Class.create({init:function(h,m){Object.defineProperties(this,{_httpLocation:{value:h,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:m,writable:!0,enumerable:!1,configurable:!1}});},setTimeout:function(h){this._timeout=h;},openConnection:function(){var l;l=new h(this._httpLocation,this._timeout);return{input:new m(l),output:l};}});}());(function(){var h,m;h=Fc.extend({init:function(){var h;h={_buffer:{value:new Uint8Array(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setTimeout:function(){},getResponse:function(h,m){m.result({success:!1,content:null,errorHttpCode:la,errorSubCode:la});},abort:function(){},close:function(h,m){m.result(!0);},write:function(h,m,l,v,E){var w,z;try{if(0>m)throw new RangeError("Offset cannot be negative.");if(0>l)throw new RangeError("Length cannot be negative.");if(m+l>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");w=h.subarray(m,l);z=new Uint8Array(this._buffer.length+w.length);z.set(this._buffer);z.set(w,this._buffer.length);this._buffer=z;E.result(w.length);}catch(Ea){E.error(Ea);}},flush:function(h,m){m.result(!0);},request:function(){return this._buffer;}});m=hd.extend({init:function(){},abort:function(){},close:function(){},mark:function(){},reset:function(){},markSupported:function(){},read:function(h,m,l){l.result(new Uint8Array(16));}});Bd=ma.Class.create({init:function(){var l;l={output:{value:new h(),writable:!1,enumerable:!1,configurable:!1},input:{value:new m(),writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,l);},setTimeout:function(){},openConnection:function(){return{input:this.input,output:this.output};},getRequest:function(){return Pc(this.output.request());}});}());Rd=function(h,m,l){function w(h){var m,l;h=new Se(Wa(h,"utf-8"));m=[];for(l=h.nextValue();l!==la;)m.push(l),l=h.nextValue();return m;}(function(h,m,E){h.read(-1,m,{result:function(h){h&&h.length?E(null,h):E(null,null);},timeout:function(){l.timeout();},error:function(h){E(h,null);}});}(h,m,function(m,v){m?l.error(m):v?h.getJSON!==la&&"function"===typeof h.getJSON?l.result(h.getJSON()):l.result(w(v)):l.result(null);}));};jb={SYMMETRIC_WRAPPED:"SYMMETRIC_WRAPPED",ASYMMETRIC_WRAPPED:"ASYMMETRIC_WRAPPED",DIFFIE_HELLMAN:"DIFFIE_HELLMAN",JWE_LADDER:"JWE_LADDER",JWK_LADDER:"JWK_LADDER",AUTHENTICATED_DH:"AUTHENTICATED_DH"};Object.freeze(jb);(function(){jc=ma.Class.create({init:function(h){Object.defineProperties(this,{keyExchangeScheme:{value:h,writable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof jc?this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.keyExchangeScheme;}});Sd=function(l,w,z){m(z,function(){var m,r,v;m=w.scheme;r=w.keydata;if(!m||!r||"object"!==typeof r)throw new ka(h.JSON_PARSE_ERROR,"keyrequestdata "+JSON.stringify(w));if(!jb[m])throw new Qa(h.UNIDENTIFIED_KEYX_SCHEME,m);v=l.getKeyExchangeFactory(m);if(!v)throw new Qa(h.KEYX_FACTORY_NOT_FOUND,m);v.createRequestData(l,r,z);});};}());(function(){kc=ma.Class.create({init:function(h,m){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},keyExchangeScheme:{value:m,wrtiable:!1,configurable:!1}});},getKeydata:function(){},toJSON:function(){var h;h={};h.mastertoken=this.masterToken;h.scheme=this.keyExchangeScheme;h.keydata=this.getKeydata();return h;},equals:function(h){return this===h?!0:h instanceof kc?this.masterToken.equals(h.masterToken)&&this.keyExchangeScheme==h.keyExchangeScheme:!1;},uniqueKey:function(){return this.masterToken.uniqueKey()+":"+this.keyExchangeScheme;}});Td=function(l,w,z){m(z,function(){var r,J,v;r=w.mastertoken;J=w.scheme;v=w.keydata;if(!J||!r||"object"!==typeof r||!v||"object"!==typeof v)throw new ka(h.JSON_PARSE_ERROR,"keyresponsedata "+JSON.stringify(w));if(!jb[J])throw new Qa(h.UNIDENTIFIED_KEYX_SCHEME,J);Sb(l,r,{result:function(E){m(z,function(){var m;m=l.getKeyExchangeFactory(J);if(!m)throw new Qa(h.KEYX_FACTORY_NOT_FOUND,J);return m.createResponseData(l,E,v);});},error:function(h){z.error(h);}});});};}());(function(){var l;l=ma.Class.create({init:function(h,m){Object.defineProperties(this,{keyResponseData:{value:h,writable:!1,configurable:!1},cryptoContext:{value:m,writable:!1,configurable:!1}});}});mb=ma.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createRequestData:function(h,m,l){},createResponseData:function(h,m,l){},generateResponse:function(h,m,l,r){},getCryptoContext:function(h,m,l,r,v){},generateSessionKeys:function(l,z){m(z,function(){var m,w;m=new Uint8Array(16);w=new Uint8Array(32);l.getRandom().nextBytes(m);l.getRandom().nextBytes(w);vb(m,ob,Fb,{result:function(m){vb(w,pb,Rb,{result:function(h){z.result({encryptionKey:m,hmacKey:h});},error:function(m){z.error(new P(h.SESSION_KEY_CREATION_FAILURE,null,m));}});},error:function(m){z.error(new P(h.SESSION_KEY_CREATION_FAILURE,null,m));}});});},importSessionKeys:function(h,m,l){vb(h,ob,Fb,{result:function(h){vb(m,pb,Rb,{result:function(m){l.result({encryptionKey:h,hmacKey:m});},error:function(h){l.error(h);}});},error:function(h){l.error(h);}});}});mb.KeyExchangeData=l;}());(function(){var w,z,r;function l(l,v,E,z,r){m(r,function(){var aa,J;switch(v){case w.PSK:aa=new qb(z),J=l.getEntityAuthenticationFactory(Pa.PSK);if(!J)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,v);aa=J.getCryptoContext(l,aa);return new xb(l,yb.A128KW,rb,la);case w.MGK:aa=new lb(z);J=l.getEntityAuthenticationFactory(Pa.MGK);if(!J)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,v);aa=J.getCryptoContext(l,aa);return new xb(l,yb.A128KW,rb,la);case w.WRAP:aa=l.getMslCryptoContext();aa.unwrap(E,ub,Gb,{result:function(h){m(r,function(){return new xb(l,yb.A128KW,rb,h);});},error:r.error});break;default:throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,v);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};z=id=jc.extend({init:function v(h,m){v.base.call(this,jb.JWE_LADDER);switch(h){case w.WRAP:if(!m)throw new ga("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:m=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:m,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=pa(this.wrapdata));return h;},equals:function E(h){return h===this?!0:h instanceof id?E.base.call(this,h)&&this.mechanism==h.mechanism&&$a(this.wrapdata,h.wrapdata):!1;},uniqueKey:function Ca(){var h;h=Ca.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+fb(this.wrapdata));return h;}});r=Vd=kc.extend({init:function aa(h,m,l,w,z){aa.base.call(this,h,jb.JWE_LADDER);Object.defineProperties(this,{wrapKey:{value:m,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:z,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=pa(this.wrapKey);h.wrapdata=pa(this.wrapdata);h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function Ea(h){return this===h?!0:h instanceof Vd?Ea.base.call(this,h)&&$a(this.wrapKey,h.wrapKey)&&$a(this.wrapdata,h.wrapdata)&&$a(this.encryptionKey,h.encryptionKey)&&$a(this.hmacKey,h.hmacKey):!1;},uniqueKey:function ya(){return ya.base.call(this)+":"+fb(this.wrapKey)+":"+fb(this.wrapdata)+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});Ud=mb.extend({init:function Z(h){Z.base.call(this,jb.JWE_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,B){m(B,function(){var m,l,B;m=r.mechanism;l=r.wrapdata;if(!m||m==w.WRAP&&(!l||"string"!==typeof l))throw new ka(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[m])throw new Qa(h.UNIDENTIFIED_KEYX_MECHANISM,m);switch(m){case w.WRAP:try{B=wa(l);}catch(ba){throw new Qa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==B||0==B.length)throw new Qa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:B=null;}return new z(m,B);});},createResponseData:function(m,l,w){var z,B,Z,C,qa,H,F;m=w.wrapkey;z=w.wrapdata;B=w.encryptionkey;Z=w.hmackey;if(!(m&&"string"===typeof m&&z&&"string"===typeof z&&B&&"string"===typeof B&&Z)||"string"!==typeof Z)throw new ka(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{C=wa(m);qa=wa(z);}catch(ha){throw new P(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),ha);}try{H=wa(B);}catch(ha){throw new P(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),ha);}try{F=wa(Z);}catch(ha){throw new P(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),ha);}return new r(l,C,qa,H,F);},generateResponse:function(w,C,B,R){var Oa,ua;function Z(h,l,z){Oa.generateSessionKeys(w,{result:function(w){m(R,function(){qa(h,l,z,w.encryptionKey,w.hmacKey);},Oa);},error:function(h){m(R,function(){h instanceof F&&h.setEntity(ua);throw h;});}});}function qa(h,z,B,r,na){m(R,function(){l(w,C.mechanism,C.wrapdata,h,{result:function(h){h.wrap(z,{result:function(g){H(z,B,r,na,g);},error:function(g){m(R,function(){g instanceof F&&g.setEntity(ua);throw g;});}});},error:function(h){m(R,function(){h instanceof F&&h.setEntity(ua);throw h;});}});},Oa);}function H(h,l,z,B,r){m(R,function(){var ha;ha=new xb(w,yb.A128KW,rb,h);ha.wrap(z,{result:function(g){ha.wrap(B,{result:function(d){va(l,r,z,g,B,d);},error:function(d){m(R,function(){d instanceof F&&d.setEntity(ua);throw d;});}});},error:function(g){m(R,function(){g instanceof F&&g.setEntity(ua);throw g;});}});},Oa);}function va(h,l,z,C,na,Z){m(R,function(){var g;g=w.getTokenFactory();ua?g.renewMasterToken(w,ua,z,na,{result:function(d){m(R,function(){var a,b;a=new hb(w,d);b=new r(d,l,h,C,Z);return new mb.KeyExchangeData(b,a,R);},Oa);},error:function(d){m(R,function(){d instanceof F&&d.setEntity(ua);throw d;});}}):g.createMasterToken(w,B,z,na,{result:function(d){m(R,function(){var a,b;a=new hb(w,d);b=new r(d,l,h,C,Z);return new mb.KeyExchangeData(b,a,R);},Oa);},error:R.error});},Oa);}Oa=this;m(R,function(){var l,r;if(!(C instanceof z))throw new ga("Key request data "+JSON.stringify(C)+" was not created by this factory.");l=B;if(B instanceof gb){if(!B.isVerified())throw new Qb(h.MASTERTOKEN_UNTRUSTED,B);ua=B;l=B.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);vb(r,ub,Gb,{result:function(h){m(R,function(){w.getMslCryptoContext().wrap(h,{result:function(m){Z(l,h,m);},error:function(h){m(R,function(){h instanceof F&&h.setEntity(ua);throw h;},Oa);}});},Oa);},error:function(l){m(R,function(){throw new P(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(ua);},Oa);}});},Oa);},getCryptoContext:function(l,C,B,R,xa){var qa;function Z(h,w,z,B,r){m(xa,function(){var ha;ha=new xb(l,yb.A128KW,rb,r);ha.unwrap(w.encryptionKey,ob,Fb,{result:function(r){ha.unwrap(w.hmacKey,pb,Rb,{result:function(h){m(xa,function(){this.repository.addCryptoContext(w.wrapdata,ha);this.repository.removeCryptoContext(z);return new hb(l,w.masterToken,B,r,h);},qa);},error:function(l){m(xa,function(){l instanceof F&&l.setEntity(h);throw l;});}});},error:function(l){m(xa,function(){l instanceof F&&l.setEntity(h);throw l;});}});},qa);}qa=this;m(xa,function(){var R,fa;if(!(C instanceof z))throw new ga("Key request data "+JSON.stringify(C)+" was not created by this factory.");if(!(B instanceof r))throw new ga("Key response data "+JSON.stringify(B)+" was not created by this factory.");R=C.mechanism;fa=C.wrapdata;l.getEntityAuthenticationData(null,{result:function(z){m(xa,function(){var r,C,qa;r=z.getIdentity();switch(R){case w.PSK:C=new qb(r);qa=l.getEntityAuthenticationFactory(Pa.PSK);if(!qa)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,R).setEntity(z);C=qa.getCryptoContext(l,C);C=new xb(l,yb.A128KW,rb,la);break;case w.MGK:C=new lb(r);qa=l.getEntityAuthenticationFactory(Pa.MGK);if(!qa)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,R).setEntity(z);C=qa.getCryptoContext(l,C);C=new xb(l,yb.A128KW,rb,C.wrapKey);break;case w.WRAP:C=this.repository.getCryptoContext(fa);if(!C)throw new Qa(h.KEYX_WRAPPING_KEY_MISSING,pa(fa)).setEntity(z);break;default:throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,R).setEntity(z);}C.unwrap(B.wrapKey,ub,Gb,{result:function(h){Z(z,B,fa,r,h);},error:function(h){m(xa,function(){h instanceof F&&h.setEntity(z);throw h;});}});},qa);},error:xa.error});},qa);}});}());(function(){var w,z,r,J;function l(l,E,z,r,C){m(C,function(){var v,aa;switch(E){case w.PSK:v=new qb(r),aa=l.getEntityAuthenticationFactory(Pa.PSK);if(!aa)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,E);v=aa.getCryptoContext(l,v);return new J(la);case w.MGK:v=new lb(r);aa=l.getEntityAuthenticationFactory(Pa.MGK);if(!aa)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,E);v=aa.getCryptoContext(l,v);return new J(la);case w.WRAP:v=l.getMslCryptoContext();v.unwrap(z,ub,Gb,{result:function(h){m(C,function(){return new J(h);});},error:C.error});break;default:throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,E);}});}w={PSK:"PSK",MGK:"MGK",WRAP:"WRAP"};z=Gc=jc.extend({init:function E(h,m){E.base.call(this,jb.JWK_LADDER);switch(h){case w.WRAP:if(!m)throw new ga("Previous wrapping key based key exchange requires the previous wrapping key data and ID.");break;default:m=null;}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},wrapdata:{value:m,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.mechanism=this.mechanism;this.wrapdata&&(h.wrapdata=pa(this.wrapdata));return h;},equals:function Ca(h){return h===this?!0:h instanceof Gc?Ca.base.call(this,h)&&this.mechanism==h.mechanism&&$a(this.wrapdata,h.wrapdata):!1;},uniqueKey:function aa(){var h;h=aa.base.call(this)+":"+this.mechanism;this.wrapdata&&(h+=":"+fb(this.wrapdata));return h;}});r=Wd=kc.extend({init:function Ea(h,m,l,w,z){Ea.base.call(this,h,jb.JWK_LADDER);Object.defineProperties(this,{wrapKey:{value:m,writable:!1,configurable:!1},wrapdata:{value:l,writable:!1,configurable:!1},encryptionKey:{value:w,writable:!1,configurable:!1},hmacKey:{value:z,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.wrapkey=pa(this.wrapKey);h.wrapdata=pa(this.wrapdata);h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function ya(h){return this===h?!0:h instanceof Wd?ya.base.call(this,h)&&$a(this.wrapKey,h.wrapKey)&&$a(this.wrapdata,h.wrapdata)&&$a(this.encryptionKey,h.encryptionKey)&&$a(this.hmacKey,h.hmacKey):!1;},uniqueKey:function Z(){return Z.base.call(this)+":"+fb(this.wrapKey)+":"+fb(this.wrapdata)+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});J=ac.extend({init:function(h){h&&h.rawKey&&(h=h.rawKey);Object.defineProperties(this,{_wrapKey:{value:h,writable:!1,enumerable:!1,configurable:!1}});},encrypt:function(m,l){l.error(new P(h.ENCRYPT_NOT_SUPPORTED));},decrypt:function(m,l){l.error(new P(h.DECRYPT_NOT_SUPPORTED));},wrap:function(l,w){m(w,function(){Ja.wrapKey("jwk",l.rawKey,this._wrapKey,ub).then(function(h){w.result(h);},function(m){w.error(new P(h.WRAP_ERROR));});},this);},unwrap:function(l,w,z,r){function B(l){m(r,function(){switch(l.type){case"secret":Yb(l,r);break;case"public":Nb(l,r);break;case"private":Zb(l,r);break;default:throw new P(h.UNSUPPORTED_KEY,"type: "+l.type);}});}m(r,function(){Ja.unwrapKey("jwk",l,this._wrapKey,ub,w,!1,z).then(function(h){B(h);},function(m){r.error(new P(h.UNWRAP_ERROR));});},this);},sign:function(m,l){l.error(new P(h.SIGN_NOT_SUPPORTED));},verify:function(m,l,w){w.error(new P(h.VERIFY_NOT_SUPPORTED));}});kd=mb.extend({init:function qa(h){qa.base.call(this,jb.JWK_LADDER);Object.defineProperties(this,{repository:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createRequestData:function(l,r,J){m(J,function(){var m,l,B;m=r.mechanism;l=r.wrapdata;if(!m||m==w.WRAP&&(!l||"string"!==typeof l))throw new ka(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(r));if(!w[m])throw new Qa(h.UNIDENTIFIED_KEYX_MECHANISM,m);switch(m){case w.WRAP:try{B=wa(l);}catch(va){throw new Qa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());}if(null==B||0==B.length)throw new Qa(h.KEYX_WRAPPING_KEY_MISSING,"keydata "+r.toString());break;default:B=null;}return new z(m,B);});},createResponseData:function(m,l,w){var z,B,J,C,R,qa,ha;m=w.wrapkey;z=w.wrapdata;B=w.encryptionkey;J=w.hmackey;if(!(m&&"string"===typeof m&&z&&"string"===typeof z&&B&&"string"===typeof B&&J)||"string"!==typeof J)throw new ka(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{C=wa(m);R=wa(z);}catch(sb){throw new P(h.INVALID_SYMMETRIC_KEY,"keydata "+JSON.stringify(w),sb);}try{qa=wa(B);}catch(sb){throw new P(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),sb);}try{ha=wa(J);}catch(sb){throw new P(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),sb);}return new r(l,C,R,qa,ha);},generateResponse:function(w,B,C,H){var ua,ha;function R(h,l,z){ua.generateSessionKeys(w,{result:function(w){m(H,function(){qa(h,l,z,w.encryptionKey,w.hmacKey);},ua);},error:function(h){m(H,function(){h instanceof F&&h.setEntity(ha);throw h;});}});}function qa(h,z,r,C,J){m(H,function(){l(w,B.mechanism,B.wrapdata,h,{result:function(g){g.wrap(z,{result:function(d){xa(z,r,C,J,d);},error:function(d){m(H,function(){d instanceof F&&d.setEntity(ha);throw d;});}});},error:function(g){m(H,function(){g instanceof F&&g.setEntity(ha);throw g;});}});},ua);}function xa(h,l,w,z,r){m(H,function(){var g;g=new J(h);g.wrap(w,{result:function(d){g.wrap(z,{result:function(a){Oa(l,r,w,d,z,a);},error:function(a){m(H,function(){a instanceof F&&a.setEntity(ha);throw a;});}});},error:function(d){m(H,function(){d instanceof F&&d.setEntity(ha);throw d;});}});},ua);}function Oa(h,l,z,B,J,g){m(H,function(){var d;d=w.getTokenFactory();ha?d.renewMasterToken(w,ha,z,J,{result:function(a){m(H,function(){var b,f;b=new hb(w,a);f=new r(a,l,h,B,g);return new mb.KeyExchangeData(f,b,H);},ua);},error:function(a){m(H,function(){a instanceof F&&a.setEntity(ha);throw a;});}}):d.createMasterToken(w,C,z,J,{result:function(a){m(H,function(){var b,f;b=new hb(w,a);f=new r(a,l,h,B,g);return new mb.KeyExchangeData(f,b,H);},ua);},error:H.error});},ua);}ua=this;m(H,function(){var l,r;if(!(B instanceof z))throw new ga("Key request data "+JSON.stringify(B)+" was not created by this factory.");l=C;if(C instanceof gb){if(!C.isVerified())throw new Qb(h.MASTERTOKEN_UNTRUSTED,C);ha=C;l=C.identity;}r=new Uint8Array(16);w.getRandom().nextBytes(r);vb(r,ub,Gb,{result:function(h){m(H,function(){w.getMslCryptoContext().wrap(h,{result:function(m){R(l,h,m);},error:function(h){m(H,function(){h instanceof F&&h.setEntity(ha);throw h;},ua);}});},ua);},error:function(l){m(H,function(){throw new P(h.WRAP_KEY_CREATION_FAILURE,null,l).setEntity(ha);},ua);}});},ua);},getCryptoContext:function(l,B,C,H,fa){var qa;function R(h,w,z,r,B){m(fa,function(){var ha;ha=new J(B);ha.unwrap(w.encryptionKey,ob,Fb,{result:function(B){ha.unwrap(w.hmacKey,pb,Rb,{result:function(h){m(fa,function(){this.repository.addCryptoContext(w.wrapdata,ha);this.repository.removeCryptoContext(z);return new hb(l,w.masterToken,r,B,h);},qa);},error:function(l){m(fa,function(){l instanceof F&&l.setEntity(h);throw l;});}});},error:function(l){m(fa,function(){l instanceof F&&l.setEntity(h);throw l;});}});},qa);}qa=this;m(fa,function(){var H,xa;if(!(B instanceof z))throw new ga("Key request data "+JSON.stringify(B)+" was not created by this factory.");if(!(C instanceof r))throw new ga("Key response data "+JSON.stringify(C)+" was not created by this factory.");H=B.mechanism;xa=B.wrapdata;l.getEntityAuthenticationData(null,{result:function(z){m(fa,function(){var r,B,ha;r=z.getIdentity();switch(H){case w.PSK:B=new qb(r);ha=l.getEntityAuthenticationFactory(Pa.PSK);if(!ha)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(z);B=ha.getCryptoContext(l,B);B=new J(B.wrapKey);break;case w.MGK:B=new lb(r);ha=l.getEntityAuthenticationFactory(Pa.MGK);if(!ha)throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(z);B=ha.getCryptoContext(l,B);B=new J(B.wrapKey);break;case w.WRAP:B=this.repository.getCryptoContext(xa);if(!B)throw new Qa(h.KEYX_WRAPPING_KEY_MISSING,pa(xa)).setEntity(z);break;default:throw new Qa(h.UNSUPPORTED_KEYX_MECHANISM,H).setEntity(z);}B.unwrap(C.wrapKey,ub,Gb,{result:function(h){R(z,C,xa,r,h);},error:function(h){m(fa,function(){h instanceof F&&h.setEntity(z);throw h;});}});},qa);},error:fa.error});},qa);}});}());Te=ma.Class.create({addCryptoContext:function(h,l){},getCryptoContext:function(h){},removeCryptoContext:function(h){}});(function(){var w,z,r,J;function l(l,m,z,r,C){switch(z){case w.JWE_RSA:case w.JWEJS_RSA:return new xb(l,yb.RSA_OAEP,rb,r,C);case w.JWK_RSA:return new Ac(l,m,r,C,Bc.WRAP_UNWRAP_OAEP);case w.JWK_RSAES:return new Ac(l,m,r,C,Bc.WRAP_UNWRAP_PKCS1);default:throw new P(h.UNSUPPORTED_KEYX_MECHANISM,z);}}w=Hc={RSA:"RSA",ECC:"ECC",JWE_RSA:"JWE_RSA",JWEJS_RSA:"JWEJS_RSA",JWK_RSA:"JWK_RSA",JWK_RSAES:"JWK_RSAES"};z=Vc=jc.extend({init:function E(h,l,m,w){E.base.call(this,jb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:h,writable:!1,configurable:!1},mechanism:{value:l,writable:!1,configurable:!1},publicKey:{value:m,writable:!1,configurable:!1},privateKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.mechanism=this.mechanism;h.publickey=pa(this.publicKey.getEncoded());return h;},equals:function Ca(h){var l;if(h===this)return!0;if(!(h instanceof Vc))return!1;l=this.privateKey===h.privateKey||this.privateKey&&h.privateKey&&$a(this.privateKey.getEncoded(),h.privateKey.getEncoded());return Ca.base.call(this,h)&&this.keyPairId==h.keyPairId&&this.mechanism==h.mechanism&&$a(this.publicKey.getEncoded(),h.publicKey.getEncoded())&&l;},uniqueKey:function aa(){var h,l;h=this.publicKey.getEncoded();l=this.privateKey&&this.privateKey.getEncoded();h=aa.base.call(this)+":"+this.keyPairId+":"+this.mechanism+":"+fb(h);l&&(h+=":"+fb(l));return h;}});r=function(l,r){m(r,function(){var m,C,J,B;m=l.keypairid;C=l.mechanism;J=l.publickey;if(!m||"string"!==typeof m||!C||!J||"string"!==typeof J)throw new ka(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(l));if(!w[C])throw new Qa(h.UNIDENTIFIED_KEYX_MECHANISM,C);try{B=wa(J);switch(C){case w.JWE_RSA:case w.JWEJS_RSA:case w.JWK_RSA:$c(B,yc,Gb,{result:function(h){r.result(new z(m,C,h,null));},error:function(h){r.error(h);}});break;case w.JWK_RSAES:$c(B,Yc,Gb,{result:function(h){r.result(new z(m,C,h,null));},error:function(h){r.error(h);}});break;default:throw new P(h.UNSUPPORTED_KEYX_MECHANISM,C);}}catch(R){if(!(R instanceof F))throw new P(h.INVALID_PUBLIC_KEY,"keydata "+JSON.stringify(l),R);throw R;}});};J=Xd=kc.extend({init:function Ea(h,l,m,w){Ea.base.call(this,h,jb.ASYMMETRIC_WRAPPED);Object.defineProperties(this,{keyPairId:{value:l,writable:!1,configurable:!1},encryptionKey:{value:m,writable:!1,configurable:!1},hmacKey:{value:w,writable:!1,configurable:!1}});},getKeydata:function(){var h;h={};h.keypairid=this.keyPairId;h.encryptionkey=pa(this.encryptionKey);h.hmackey=pa(this.hmacKey);return h;},equals:function ya(h){return this===h?!0:h instanceof Xd?ya.base.call(this,h)&&this.keyPairId==h.keyPairId&&$a(this.encryptionKey,h.encryptionKey)&&$a(this.hmacKey,h.hmacKey):!1;},uniqueKey:function Z(){return Z.base.call(this)+":"+this.keyPairId+":"+fb(this.encryptionKey)+":"+fb(this.hmacKey);}});Cd=mb.extend({init:function qa(){qa.base.call(this,jb.ASYMMETRIC_WRAPPED);},createRequestData:function(h,l,m){r(l,m);},createResponseData:function(l,m,w){var z,r,B,C;l=w.keypairid;z=w.encryptionkey;r=w.hmackey;if(!l||"string"!==typeof l||!z||"string"!==typeof z||!r||"string"!==typeof r)throw new ka(h.JSON_PARSE_ERROR,"keydata "+JSON.stringify(w));try{B=wa(z);}catch(Oa){throw new P(h.INVALID_ENCRYPTION_KEY,"keydata "+JSON.stringify(w),Oa);}try{C=wa(r);}catch(Oa){throw new P(h.INVALID_HMAC_KEY,"keydata "+JSON.stringify(w),Oa);}return new J(m,l,B,C);},generateResponse:function(h,w,r,C){var R;function B(z,B){m(C,function(){var ha;ha=l(h,w.keyPairId,w.mechanism,null,w.publicKey);ha.wrap(z,{result:function(h){m(C,function(){ha.wrap(B,{result:function(l){H(z,h,B,l);},error:function(h){m(C,function(){h instanceof F&&r instanceof gb&&h.setEntity(r);throw h;},R);}});},R);},error:function(h){m(C,function(){h instanceof F&&r instanceof gb&&h.setEntity(r);throw h;},R);}});},R);}function H(l,z,B,H){m(C,function(){var ha;ha=h.getTokenFactory();r instanceof gb?ha.renewMasterToken(h,r,l,B,{result:function(l){m(C,function(){var m,r;m=new hb(h,l);r=new J(l,w.keyPairId,z,H);return new mb.KeyExchangeData(r,m,C);},R);},error:function(h){m(C,function(){h instanceof F&&h.setEntity(r);throw h;},R);}}):ha.createMasterToken(h,r,l,B,{result:function(l){m(C,function(){var m,r;m=new hb(h,l);r=new J(l,w.keyPairId,z,H);return new mb.KeyExchangeData(r,m,C);},R);},error:C.error});},R);}R=this;m(C,function(){if(!(w instanceof z))throw new ga("Key request data "+JSON.stringify(w)+" was not created by this factory.");this.generateSessionKeys(h,{result:function(h){B(h.encryptionKey,h.hmacKey);},error:function(h){m(C,function(){h instanceof F&&r instanceof gb&&h.setEntity(r);throw h;},R);}});},R);},getCryptoContext:function(w,r,C,H,fa){var B;B=this;m(fa,function(){var R,qa,ba;if(!(r instanceof z))throw new ga("Key request data "+JSON.stringify(r)+" was not created by this factory.");if(!(C instanceof J))throw new ga("Key response data "+JSON.stringify(C)+" was not created by this factory.");R=r.keyPairId;qa=C.keyPairId;if(R!=qa)throw new Qa(h.KEYX_RESPONSE_REQUEST_MISMATCH,"request "+R+"; response "+qa).setEntity(H);qa=r.privateKey;if(!qa)throw new Qa(h.KEYX_PRIVATE_KEY_MISSING,"request Asymmetric private key").setEntity(H);ba=l(w,R,r.mechanism,qa,null);ba.unwrap(C.encryptionKey,ob,Fb,{result:function(h){ba.unwrap(C.hmacKey,pb,Rb,{result:function(l){w.getEntityAuthenticationData(null,{result:function(z){m(fa,function(){var m;m=z.getIdentity();return new hb(w,C.masterToken,m,h,l);},B);},error:function(h){m(fa,function(){h instanceof F&&h.setEntity(H);throw h;},B);}});},error:function(h){m(fa,function(){h instanceof F&&h.setEntity(H);throw h;},B);}});},error:function(h){m(fa,function(){h instanceof F&&h.setEntity(H);throw h;},B);}});},B);}});}());Se=ma.Class.create({init:function(h){var l,m,r,J,v,E,H,aa;l=bb.parser();m=[];r=[];H=0;aa=!1;l.onerror=function(h){aa||(aa=!0,l.end());};l.onopenobject=function(h){var l;if(J)J[E]={},r.push(J),J=J[E];else if(v){l={};r.push(v);v.push(l);J=l;v=la;}else J={};E=h;};l.oncloseobject=function(){var h;h=r.pop();h?"object"===typeof h?J=h:(J=la,v=h):(m.push(J),H=l.index,J=la);};l.onopenarray=function(){var h;if(J)J[E]=[],r.push(J),v=J[E],J=la;else if(v){h=[];r.push(v);v.push(h);v=h;}else v=[];};l.onclosearray=function(){var h;h=r.pop();h?"object"===typeof h?(J=h,v=la):v=h:(m.push(v),H=l.index,v=la);};l.onkey=function(h){E=h;};l.onvalue=function(h){J?J[E]=h:v?v.push(h):(m.push(h),H=l.index);};l.write(h).close();Object.defineProperties(this,{_values:{value:m,writable:!1,enumerable:!1,configurable:!1},_lastIndex:{value:H,writable:!0,enumerable:!1,configurable:!1}});},more:function(){return 0<this._values.length;},nextValue:function(){return 0==this._values.length?la:this._values.shift();},lastIndex:function(){return this._lastIndex;}});(function(){var l,w,r,C,J;l=ld="entityauthdata";w=Zd="mastertoken";r=$d="headerdata";C=ae="errordata";J=md="signature";Yd=function(v,E,z,aa){m(aa,function(){var m,H,Z,qa,B,R;m=E[l];H=E[w];Z=E[J];if(m&&"object"!==typeof m||H&&"object"!==typeof H||"string"!==typeof Z)throw new ka(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(E));try{qa=wa(Z);}catch(xa){throw new za(h.HEADER_SIGNATURE_INVALID,"header/errormsg "+JSON.stringify(E),xa);}B=null;m&&(B=Ld(v,m));R=E[r];if(R!=la&&null!=R){if("string"!==typeof R)throw new ka(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(E));H?Sb(v,H,{result:function(h){nd(v,R,B,h,qa,z,aa);},error:function(h){aa.error(h);}}):nd(v,R,B,null,qa,z,aa);}else if(m=E[C],m!=la&&null!=m){if("string"!==typeof m)throw new ka(h.JSON_PARSE_ERROR,"header/errormsg "+JSON.stringify(E));be(v,m,B,qa,aa);}else throw new ka(h.JSON_PARSE_ERROR,JSON.stringify(E));});};}());(function(){function r(h,l){this.errordata=h;this.signature=l;}Mb=ma.Class.create({init:function(l,r,C,J,v,E,H,aa,Ea,ya){var w;w=this;m(ya,function(){var z,B;0>E&&(E=-1);if(0>J||J>Ma)throw new ga("Message ID "+J+" is out of range.");if(!r)throw new za(h.MESSAGE_ENTITY_NOT_FOUND);if(Ea)return Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:C,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:E,writable:!1,configurable:!1},errorMessage:{value:H,writable:!1,configurable:!1},userMessage:{value:aa,writable:!1,configurable:!1},errordata:{value:Ea.errordata,writable:!1,enumerable:!1,configurable:!1},signature:{value:Ea.signature,writable:!1,enumerable:!1,configurable:!1}}),this;z={};C&&(z.recipient=C);z.messageid=J;z.errorcode=v;0<E&&(z.internalcode=E);H&&(z.errormsg=H);aa&&(z.usermsg=aa);try{B=l.getEntityAuthenticationFactory(r.scheme).getCryptoContext(l,r);}catch(R){throw R instanceof F&&(R.setEntity(r),R.setMessageId(J)),R;}z=Ta(JSON.stringify(z),La);B.encrypt(z,{result:function(h){m(ya,function(){B.sign(h,{result:function(l){m(ya,function(){Object.defineProperties(this,{entityAuthenticationData:{value:r,writable:!1,configurable:!1},recipient:{value:C,writable:!1,configurable:!1},messageId:{value:J,writable:!1,configurable:!1},errorCode:{value:v,writable:!1,configurable:!1},internalCode:{value:E,writable:!1,configurable:!1},errorMessage:{value:H,writable:!1,configurable:!1},userMessage:{value:aa,writable:!1,configurable:!1},errordata:{value:h,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){m(ya,function(){h instanceof F&&(h.setEntity(r),h.setMessageId(J));throw h;},w);}});},w);},error:function(h){m(ya,function(){h instanceof F&&(h.setEntity(r),h.setMessageId(J));throw h;},w);}});},w);},toJSON:function(){var h;h={};h[ld]=this.entityAuthenticationData;h[ae]=pa(this.errordata);h[md]=pa(this.signature);return h;}});ce=function(h,l,m,r,v,E,H,aa,Ea){new Mb(h,l,m,r,v,E,H,aa,null,Ea);};be=function(w,z,C,J,v){m(v,function(){var E,H,aa;if(!C)throw new za(h.MESSAGE_ENTITY_NOT_FOUND);try{H=C.scheme;aa=w.getEntityAuthenticationFactory(H);if(!aa)throw new tb(h.ENTITYAUTH_FACTORY_NOT_FOUND,H);E=aa.getCryptoContext(w,C);}catch(Ea){throw Ea instanceof F&&Ea.setEntity(C),Ea;}try{z=wa(z);}catch(Ea){throw new za(h.HEADER_DATA_INVALID,z,Ea).setEntity(C);}if(!z||0==z.length)throw new za(h.HEADER_DATA_MISSING,z).setEntity(C);E.verify(z,J,{result:function(H){m(v,function(){if(!H)throw new P(h.MESSAGE_VERIFICATION_FAILED).setEntity(C);E.decrypt(z,{result:function(E){m(v,function(){var m,H,B,aa,Ea,fa,ba,Ca;m=Wa(E,La);try{H=JSON.parse(m);}catch(ua){if(ua instanceof SyntaxError)throw new ka(h.JSON_PARSE_ERROR,"errordata "+m,ua).setEntity(C);throw ua;}B=H.recipient!==la?H.recipient:null;aa=parseInt(H.messageid);Ea=parseInt(H.errorcode);fa=parseInt(H.internalcode);ba=H.errormsg;Ca=H.usermsg;if(B&&"string"!==typeof B||!aa||aa!=aa||!Ea||Ea!=Ea||H.internalcode&&fa!=fa||ba&&"string"!==typeof ba||Ca&&"string"!==typeof Ca)throw new ka(h.JSON_PARSE_ERROR,"errordata "+m).setEntity(C);if(0>aa||aa>Ma)throw new za(h.MESSAGE_ID_OUT_OF_RANGE,"errordata "+m).setEntity(C);H=!1;for(var F in l)if(l[F]==Ea){H=!0;break;}H||(Ea=l.FAIL);if(fa){if(0>fa)throw new za(h.INTERNAL_CODE_NEGATIVE,"errordata "+m).setEntity(C).setMessageId(aa);}else fa=-1;m=new r(z,J);new Mb(w,C,B,aa,Ea,fa,ba,Ca,m,v);});},error:function(h){m(v,function(){h instanceof F&&h.setEntity(C);throw h;});}});});},error:function(h){m(v,function(){h instanceof F&&h.setEntity(C);throw h;});}});});};}());Ue=ma.Class.create({getUserMessage:function(h,l){}});(function(){od=function(h,l){var m,w;if(!h||!l)return null;m=h.compressionAlgorithms.filter(function(h){for(var m=0;m<l.compressionAlgorithms.length;++m)if(h==l.compressionAlgorithms[m])return!0;return!1;});w=h.languages.filter(function(h){for(var m=0;m<l.languages.length;++m)if(h==l.languages[m])return!0;return!1;});return new lc(m,w);};lc=ma.Class.create({init:function(h,l){h||(h=[]);l||(l=[]);h.sort();Object.defineProperties(this,{compressionAlgorithms:{value:h,writable:!1,enumerable:!0,configurable:!1},languages:{value:l,writable:!1,enumerable:!0,configurable:!1}});},toJSON:function(){var h;h={};h.compressionalgos=this.compressionAlgorithms;h.languages=this.languages;return h;},equals:function(h){return this===h?!0:h instanceof lc?vd(this.compressionAlgorithms,h.compressionAlgorithms)&&vd(this.languages,h.languages):!1;},uniqueKey:function(){return this.compressionAlgorithms.join(":")+"|"+this.languages.join(":");}});de=function(l){var m,r,J;m=l.compressionalgos;r=l.languages;if(m&&!(m instanceof Array)||r&&!(r instanceof Array))throw new ka(h.JSON_PARSE_ERROR,"capabilities "+JSON.stringify(l));l=[];for(var C=0;m&&C<m.length;++C){J=m[C];Ob[J]&&l.push(J);}return new lc(l,r);};}());(function(){var ya,Z;function l(h,l,m,v,w){this.customer=h;this.sender=l;this.messageCryptoContext=m;this.headerdata=v;this.signature=w;}function w(h,l,m,v,w,r,E,z,C,ha,J,aa,H,na,Z,g,d,a,b,f){return{cryptoContext:{value:l,writable:!1,configurable:!1},customer:{value:m,writable:!1,configurable:!1},entityAuthenticationData:{value:v,writable:!1,configurable:!1},masterToken:{value:w,writable:!1,configurable:!1},sender:{value:r,writable:!1,configurable:!1},messageId:{value:E,writable:!1,configurable:!1},nonReplayableId:{value:g,writable:!1,configurable:!1},keyRequestData:{value:z,writable:!1,configurable:!1},keyResponseData:{value:C,writable:!1,configurable:!1},userAuthenticationData:{value:ha,writable:!1,configurable:!1},userIdToken:{value:J,writable:!1,configurable:!1},serviceTokens:{value:aa,writable:!1,configurable:!1},peerMasterToken:{value:H,writable:!1,configurable:!1},peerUserIdToken:{value:na,writable:!1,configurable:!1},peerServiceTokens:{value:Z,writable:!1,configurable:!1},messageCapabilities:{value:a,writable:!1,configurable:!1},renewable:{value:d,writable:!1,enumerable:!1,configurable:!1},headerdata:{value:b,writable:!1,enumerable:!1,configurable:!1},signature:{value:f,writable:!1,enumerable:!1,configurable:!1}};}function r(l,m,v){var w;if(v){if(m=l.getMslStore().getCryptoContext(v))return m;if(!v.isVerified()||!v.isDecrypted())throw new Qb(h.MASTERTOKEN_UNTRUSTED,v);return new hb(l,v);}v=m.scheme;w=l.getEntityAuthenticationFactory(v);if(!w)throw new tb(h.ENTITYAUTH_FACTORY_NOT_FOUND,v);return w.getCryptoContext(l,m);}function C(l,v,w,r,E){m(E,function(){v.verify(w,r,{result:function(l){m(E,function(){if(!l)throw new P(h.MESSAGE_VERIFICATION_FAILED);v.decrypt(w,{result:function(h){m(E,function(){return Wa(h,La);});},error:function(h){E.error(h);}});});},error:function(h){E.error(h);}});});}function J(h,l,v){m(v,function(){if(l)Td(h,l,v);else return null;});}function v(h,l,v,w){m(w,function(){if(l)Tb(h,l,v,w);else return null;});}function E(h,l,v,w){m(w,function(){if(v)he(h,l,v,w);else return null;});}function Ca(l,v,w,r,E,z,C){var J;function B(v,C,aa){var ha,H;if(C>=v.length){ha=[];for(H in J)ha.push(J[H]);aa.result(ha);}else{ha=v[C];if("object"!==typeof ha)throw new ka(h.JSON_PARSE_ERROR,"headerdata "+z);Ic(l,ha,w,r,E,{result:function(h){m(aa,function(){J[h.uniqueKey()]=h;B(v,C+1,aa);});},error:function(h){aa.error(h);}});}}J={};m(C,function(){if(v){if(!(v instanceof Array))throw new ka(h.JSON_PARSE_ERROR,"headerdata "+z);B(v,0,C);}else return[];});}function aa(l,v,w,r,E,z){function B(l,v,w){m(w,function(){var m;m=v.peermastertoken;if(m&&"object"!==typeof m)throw new ka(h.JSON_PARSE_ERROR,"headerdata "+E);if(!m)return null;Sb(l,m,w);});}function C(l,v,w,r){m(r,function(){var m;m=v.peeruseridtoken;if(m&&"object"!==typeof m)throw new ka(h.JSON_PARSE_ERROR,"headerdata "+E);if(!m)return null;Tb(l,m,w,r);});}m(z,function(){if(!l.isPeerToPeer())return{peerMasterToken:null,peerUserIdToken:null,peerServiceTokens:[]};B(l,v,{result:function(h){m(z,function(){var B;B=w?w.masterToken:h;C(l,v,B,{result:function(w){m(z,function(){Ca(l,v.peerservicetokens,B,w,r,E,{result:function(l){m(z,function(){return{peerMasterToken:h,peerUserIdToken:w,peerServiceTokens:l};});},error:function(h){m(z,function(){h instanceof F&&(h.setEntity(B),h.setUser(w));throw h;});}});});},error:function(h){m(z,function(){h instanceof F&&h.setEntity(B);throw h;});}});});},error:z.error});});}function Ea(l,v,w,r){var z;function E(h,v){m(r,function(){if(v>=h.length)return z;Sd(l,h[v],{result:function(l){m(r,function(){z.push(l);E(h,v+1);});},error:function(h){r.error(h);}});});}z=[];m(r,function(){var l;l=v.keyrequestdata;if(!l)return z;if(!(l instanceof Array))throw new ka(h.JSON_PARSE_ERROR,"headerdata "+w);E(l,0);});}ya=fe=ma.Class.create({init:function(h,l,m,v,w,r,E,z,C){Object.defineProperties(this,{messageId:{value:h,writable:!1,configurable:!1},nonReplayableId:{value:l,writable:!1,configurable:!1},renewable:{value:m,writable:!1,configurable:!1},capabilities:{value:v,writable:!1,configurable:!1},keyRequestData:{value:w,writable:!1,configurable:!1},keyResponseData:{value:r,writable:!1,configurable:!1},userAuthData:{value:E,writable:!1,configurable:!1},userIdToken:{value:z,writable:!1,configurable:!1},serviceTokens:{value:C,writable:!1,configurable:!1}});}});Z=ge=ma.Class.create({init:function(h,l,m){Object.defineProperties(this,{peerMasterToken:{value:h,writable:!1,configurable:!1},peerUserIdToken:{value:l,writable:!1,configurable:!1},peerServiceTokens:{value:m,writable:!1,configurable:!1}});}});mc=ma.Class.create({init:function(h,l,v,E,z,C,J){var aa;function B(B){m(J,function(){var ha,H,Z,na,fa,g,d,a,b,f,t,p,c,k,q,n,u;l=v?null:l;ha=E.nonReplayableId;H=E.renewable;Z=E.capabilities;na=E.messageId;fa=E.keyRequestData?E.keyRequestData:[];g=E.keyResponseData;d=E.userAuthData;a=E.userIdToken;b=E.serviceTokens?E.serviceTokens:[];h.isPeerToPeer()?(f=z.peerMasterToken,t=z.peerUserIdToken,p=z.peerServiceTokens?z.peerServiceTokens:[]):(t=f=null,p=[]);if(0>na||na>Ma)throw new ga("Message ID "+na+" is out of range.");if(!l&&!v)throw new ga("Message entity authentication data or master token must be provided.");g?h.isPeerToPeer()?(c=v,k=g.masterToken):(c=g.masterToken,k=f):(c=v,k=f);if(a&&(!c||!a.isBoundTo(c)))throw new ga("User ID token must be bound to a master token.");if(t&&(!k||!t.isBoundTo(k)))throw new ga("Peer user ID token must be bound to a peer master token.");b.forEach(function(k){if(k.isMasterTokenBound()&&(!c||!k.isBoundTo(c)))throw new ga("Master token bound service tokens must be bound to the provided master token.");if(k.isUserIdTokenBound()&&(!a||!k.isBoundTo(a)))throw new ga("User ID token bound service tokens must be bound to the provided user ID token.");},this);p.forEach(function(a){if(a.isMasterTokenBound()&&(!k||!a.isBoundTo(k)))throw new ga("Master token bound peer service tokens must be bound to the provided peer master token.");if(a.isUserIdTokenBound()&&(!t||!a.isBoundTo(t)))throw new ga("User ID token bound peer service tokens must be bound to the provided peer user ID token.");},this);if(C){q=C.customer;n=C.messageCryptoContext;u=w(h,n,q,l,v,B,na,fa,g,d,a,b,f,t,p,ha,H,Z,C.headerdata,C.signature);Object.defineProperties(this,u);return this;}q=a?a.customer:null;u={};B&&(u.sender=B);u.messageid=na;"number"===typeof ha&&(u.nonreplayableid=ha);u.renewable=H;Z&&(u.capabilities=Z);0<fa.length&&(u.keyrequestdata=fa);g&&(u.keyresponsedata=g);d&&(u.userauthdata=d);a&&(u.useridtoken=a);0<b.length&&(u.servicetokens=b);f&&(u.peermastertoken=f);t&&(u.peeruseridtoken=t);0<p.length&&(u.peerservicetokens=p);try{n=r(h,l,v);}catch(y){throw y instanceof F&&(y.setEntity(v),y.setEntity(l),y.setUser(a),y.setUser(d),y.setMessageId(na)),y;}u=Ta(JSON.stringify(u),La);n.encrypt(u,{result:function(c){m(J,function(){n.sign(c,{result:function(k){m(J,function(){var u;u=w(h,n,q,l,v,B,na,fa,g,d,a,b,f,t,p,ha,H,Z,c,k);Object.defineProperties(this,u);return this;},aa);},error:function(c){m(J,function(){c instanceof F&&(c.setEntity(v),c.setEntity(l),c.setUser(a),c.setUser(d),c.setMessageId(na));throw c;},aa);}});},aa);},error:function(c){m(J,function(){c instanceof F&&(c.setEntity(v),c.setEntity(l),c.setUser(a),c.setUser(d),c.setMessageId(na));throw c;},aa);}});},aa);}aa=this;m(J,function(){C?B(C.sender):v?h.getEntityAuthenticationData(null,{result:function(h){h=h.getIdentity();B(h);},error:J.error}):B(null);},aa);},isEncrypting:function(){return this.masterToken||Sc(this.entityAuthenticationData.scheme);},isRenewable:function(){return this.renewable;},toJSON:function(){var h;h={};this.masterToken?h[Zd]=this.masterToken:h[ld]=this.entityAuthenticationData;h[$d]=pa(this.headerdata);h[md]=pa(this.signature);return h;}});ee=function(h,l,m,v,w,E){new mc(h,l,m,v,w,null,E);};nd=function(w,z,H,xa,fa,ba,va){m(va,function(){var B,R;H=xa?null:H;if(!H&&!xa)throw new za(h.MESSAGE_ENTITY_NOT_FOUND);B=z;try{z=wa(B);}catch(ha){throw new za(h.HEADER_DATA_INVALID,B,ha);}if(!z||0==z.length)throw new za(h.HEADER_DATA_MISSING,B);try{R=r(w,H,xa);}catch(ha){throw ha instanceof F&&(ha.setEntity(xa),ha.setEntity(H)),ha;}C(w,R,z,fa,{result:function(r){m(va,function(){var C,B,ha,na,qa;try{C=JSON.parse(r);}catch(g){if(g instanceof SyntaxError)throw new ka(h.JSON_PARSE_ERROR,"headerdata "+r,g).setEntity(xa).setEntity(H);throw g;}B=parseInt(C.messageid);if(!B||B!=B)throw new ka(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(xa).setEntity(H);if(0>B||B>Ma)throw new za(h.MESSAGE_ID_OUT_OF_RANGE,"headerdata "+r).setEntity(xa).setEntity(H);ha=xa?C.sender:null;if(xa&&(!ha||"string"!==typeof ha))throw new ka(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(xa).setEntity(H).setMessageId(B);na=C.keyresponsedata;if(na&&"object"!==typeof na)throw new ka(h.JSON_PARSE_ERROR,"headerdata "+r).setEntity(xa).setEntity(H).setMessageId(B);qa=va;va={result:function(g){qa.result(g);},error:function(g){g instanceof F&&(g.setEntity(xa),g.setEntity(H),g.setMessageId(B));qa.error(g);}};J(w,na,{result:function(g){m(va,function(){var d,a;d=!w.isPeerToPeer()&&g?g.masterToken:xa;a=C.useridtoken;if(a&&"object"!==typeof a)throw new ka(h.JSON_PARSE_ERROR,"headerdata "+r);v(w,a,d,{result:function(a){m(va,function(){var f;f=C.userauthdata;if(f&&"object"!==typeof f)throw new ka(h.JSON_PARSE_ERROR,"headerdata "+r);E(w,d,f,{result:function(f){m(va,function(){var b,c,k;if(f){c=f.scheme;k=w.getUserAuthenticationFactory(c);if(!k)throw new Da(h.USERAUTH_FACTORY_NOT_FOUND,c).setUser(a).setUser(f);c=xa?xa.identity:H.getIdentity();b=k.authenticate(w,c,f,a);}else b=a?a.customer:null;Ca(w,C.servicetokens,d,a,ba,r,{result:function(c){m(va,function(){var k,q,d,t;k=C.nonreplayableid!==la?parseInt(C.nonreplayableid):null;q=C.renewable;if(k!=k||"boolean"!==typeof q)throw new ka(h.JSON_PARSE_ERROR,"headerdata "+r);if(0>k||k>Ma)throw new za(h.NONREPLAYABLE_ID_OUT_OF_RANGE,"headerdata "+r);d=null;t=C.capabilities;if(t){if("object"!==typeof t)throw new ka(h.JSON_PARSE_ERROR,"headerdata "+r);d=de(t);}Ea(w,C,r,{result:function(n){aa(w,C,g,ba,r,{result:function(u){m(va,function(){var y,t,p,A;y=u.peerMasterToken;t=u.peerUserIdToken;p=u.peerServiceTokens;A=new ya(B,k,q,d,n,g,f,a,c);y=new Z(y,t,p);t=new l(b,ha,R,z,fa);new mc(w,H,xa,A,y,t,va);});},error:va.error});},error:function(c){m(va,function(){c instanceof F&&(c.setUser(a),c.setUser(f));throw c;});}});});},error:function(c){m(va,function(){c instanceof F&&(c.setEntity(d),c.setUser(a),c.setUser(f));throw c;});}});});},error:va.error});});},error:va.error});});},error:va.error});});},error:va.error});});};}());(function(){function l(h,l){this.payload=h;this.signature=l;}pd=ma.Class.create({init:function(h,l,r,J,v,E,H,aa){var w;w=this;m(aa,function(){var z,C;if(0>h||h>Ma)throw new ga("Sequence number "+h+" is outside the valid range.");if(0>l||l>Ma)throw new ga("Message ID "+l+" is outside the valid range.");if(H)return Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:H.payload,writable:!1,enumerable:!1,configurable:!1},signature:{value:H.signature,writable:!1,enumerable:!1,configurable:!1}}),this;J?(z=qd(J,v),z||(J=null,z=v)):(J=null,z=v);C={};C.sequencenumber=h;C.messageid=l;r&&(C.endofmsg=r);J&&(C.compressionalgo=J);C.data=pa(z);z=Ta(JSON.stringify(C),La);E.encrypt(z,{result:function(z){m(aa,function(){E.sign(z,{result:function(E){m(aa,function(){Object.defineProperties(this,{sequenceNumber:{value:h,writable:!1,configurable:!1},messageId:{value:l,writable:!1,configurable:!1},compressionAlgo:{value:J,writable:!1,configurable:!1},data:{value:v,writable:!1,configurable:!1},endofmsg:{value:r,writable:!1,enumerable:!1,configurable:!1},payload:{value:z,writable:!1,enumerable:!1,configurable:!1},signature:{value:E,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){aa.error(h);}});},w);},error:function(h){aa.error(h);}});},w);},isEndOfMessage:function(){return this.endofmsg;},toJSON:function(){var h;h={};h.payload=pa(this.payload);h.signature=pa(this.signature);return h;}});ie=function(h,l,m,r,v,E,H){new pd(h,l,m,r,v,E,null,H);};je=function(w,r,C){m(C,function(){var z,v,E,H;z=w.payload;v=w.signature;if(!z||"string"!==typeof z||"string"!==typeof v)throw new ka(h.JSON_PARSE_ERROR,"payload chunk "+JSON.stringify(w));try{E=wa(z);}catch(aa){throw new za(h.PAYLOAD_INVALID,"payload chunk "+JSON.stringify(w),aa);}try{H=wa(v);}catch(aa){throw new za(h.PAYLOAD_SIGNATURE_INVALID,"payload chunk "+JSON.stringify(w),aa);}r.verify(E,H,{result:function(v){m(C,function(){if(!v)throw new P(h.PAYLOAD_VERIFICATION_FAILED);r.decrypt(E,{result:function(v){m(C,function(){var m,w,z,B,J,aa,fa;m=Wa(v,La);try{w=JSON.parse(m);}catch(ba){if(ba instanceof SyntaxError)throw new ka(h.JSON_PARSE_ERROR,"payload chunk payload "+m,ba);throw ba;}z=parseInt(w.sequencenumber);B=parseInt(w.messageid);J=w.endofmsg;aa=w.compressionalgo;w=w.data;if(!z||z!=z||!B||B!=B||J&&"boolean"!==typeof J||aa&&"string"!==typeof aa||"string"!==typeof w)throw new ka(h.JSON_PARSE_ERROR,"payload chunk payload "+m);if(0>z||z>Ma)throw new F(h.PAYLOAD_SEQUENCE_NUMBER_OUT_OF_RANGE,"payload chunk payload "+m);if(0>B||B>Ma)throw new F(h.PAYLOAD_MESSAGE_ID_OUT_OF_RANGE,"payload chunk payload "+m);J||(J=!1);if(aa&&!Ob[aa])throw new za(h.UNIDENTIFIED_COMPRESSION,aa);try{fa=wa(w);}catch(ba){throw new za(h.PAYLOAD_DATA_CORRUPT,w,ba);}if(fa&&0!=fa.length)m=aa?Jc(aa,fa):fa;else{if(0<w.length)throw new za(h.PAYLOAD_DATA_CORRUPT,w);if(J)m=new Uint8Array(0);else throw new za(h.PAYLOAD_DATA_MISSING,w);}fa=new l(E,H);new pd(z,B,J,aa,m,r,fa,C);});},error:function(h){C.error(h);}});});},error:function(h){C.error(h);}});});};}());(function(){var C,J;function l(l,w,r,z,C){var E,J,B,aa,H;function v(){m(C,function(){var r,z;J>=w.length&&(J=0,++E);if(E>=B.length){if(aa)throw aa;throw new Qa(h.KEYX_FACTORY_NOT_FOUND,JSON.stringify(w));}r=B[E];z=w[J];r.scheme!=z.keyExchangeScheme?(++J,v()):r.generateResponse(l,z,H,{result:function(h){C.result(h);},error:function(h){m(C,function(){if(!(h instanceof F))throw h;aa=h;++J;v();});}});});}E=0;J=0;B=l.getKeyExchangeFactories();H=r?r:z;v();}function w(h,w,r,z,C){m(C,function(){var v;v=w.keyRequestData;if(w.isRenewable()&&0<v.length)z?z.isRenewable()||z.isExpired()?l(h,v,z,null,C):h.getTokenFactory().isNewestMasterToken(h,z,{result:function(w){m(C,function(){if(w)return null;l(h,v,z,null,C);});},error:C.error}):l(h,v,null,r.getIdentity(),C);else return null;});}function r(l,w,r,z){m(z,function(){var m,v,E,C;m=w.userIdToken;v=w.userAuthenticationData;E=w.messageId;if(m&&m.isVerified()){if(m.isRenewable()&&w.isRenewable()||m.isExpired()||!m.isBoundTo(r)){v=l.getTokenFactory();v.renewUserIdToken(l,m,r,z);return;}}else if(w.isRenewable()&&r&&v){m=w.customer;if(!m){m=v.scheme;C=l.getUserAuthenticationFactory(m);if(!C)throw new Da(h.USERAUTH_FACTORY_NOT_FOUND,m).setEntity(r).setUser(v).setMessageId(E);m=C.authenticate(l,r.identity,v,null);}v=l.getTokenFactory();v.createUserIdToken(l,m,r,z);return;}return m;});}C=new Uint8Array(0);J=Ub=function(h){if(0>h||h>Ma)throw new ga("Message ID "+h+" is outside the valid range.");return h==Ma?0:h+1;};cc=function(h){if(0>h||h>Ma)throw new ga("Message ID "+h+" is outside the valid range.");return 0==h?Ma:h-1;};Vb=function(h,l,w,r,z){m(z,function(){var v;if(r==la||null==r){v=h.getRandom();do r=v.nextLong();while(0>r||r>Ma);}else if(0>r||r>Ma)throw new ga("Message ID "+r+" is outside the valid range.");h.getEntityAuthenticationData(null,{result:function(v){m(z,function(){var m;m=h.getMessageCapabilities();return new Kc(h,r,m,v,l,w,null,null,null,null,null);});},error:function(h){z.error(h);}});});};ke=function(h,l,z){m(z,function(){var E,C,H,Ca,B,R;function v(h){m(z,function(){h instanceof F&&(h.setEntity(E),h.setEntity(C),h.setUser(H),h.setUser(Ca),h.setMessageId(B));throw h;});}E=l.masterToken;C=l.entityAuthenticationData;H=l.userIdToken;Ca=l.userAuthenticationData;B=l.messageId;R=J(B);w(h,l,C,E,{result:function(w){m(z,function(){var C;C=w?w.keyResponseData.masterToken:C=E;h.getEntityAuthenticationData(null,{result:function(B){m(z,function(){r(h,l,C,{result:function(v){m(z,function(){var m,r,z;H=v;m=od(l.messageCapabilities,h.getMessageCapabilities());r=l.keyResponseData;z=l.serviceTokens;return h.isPeerToPeer()?new Kc(h,R,m,B,r?r.masterToken:l.peerMasterToken,l.peerUserIdToken,l.peerServiceTokens,E,H,z,w):new Kc(h,R,m,B,r?r.masterToken:E,H,z,null,null,null,w);});},error:v});});},error:v});});},error:v});});};le=function(h,l,w,r,z){m(z,function(){h.getEntityAuthenticationData(null,{result:function(v){m(z,function(){var m,E;if(l!=la&&null!=l)m=J(l);else{E=h.getRandom();do m=E.nextInt();while(0>m||m>Ma);}ce(h,v,m,w.responseCode,w.internalCode,w.message,r,z);});},error:function(h){z.error(h);}});});};Kc=ma.Class.create({init:function(h,l,m,w,r,z,C,J,B,H,F){var v,E,aa,Z,R;if(!h.isPeerToPeer()&&(J||B))throw new ga("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");v=F&&!h.isPeerToPeer()?F.keyResponseData.masterToken:r;E={};h.getMslStore().getServiceTokens(v,z).forEach(function(h){E[h.name]=h;},this);C&&C.forEach(function(h){E[h.name]=h;},this);R={};h.isPeerToPeer()&&(aa=J,Z=B,C=F?F.keyResponseData.masterToken:J,h.getMslStore().getServiceTokens(C,B).forEach(function(h){R[h.name]=h;},this),H&&H.forEach(function(h){R[h.name]=h;},this));Object.defineProperties(this,{_ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:w,writable:!1,enumerable:!1,configurable:!1},_masterToken:{value:r,writable:!0,enumerable:!1,configurable:!1},_messageId:{value:l,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:m,writable:!1,enumerable:!1,configurable:!1},_keyExchangeData:{value:F,writable:!1,enumerable:!1,configurable:!1},_nonReplayable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_renewable:{value:!1,writable:!0,enumerable:!1,configurable:!1},_keyRequestData:{value:{},writable:!1,enumerable:!1,configurable:!1},_userAuthData:{value:null,writable:!0,enumerable:!1,configurable:!1},_userIdToken:{value:z,writable:!0,enumerable:!1,configurable:!1},_serviceTokens:{value:E,writable:!1,enumerable:!1,configurable:!1},_peerMasterToken:{value:aa,writable:!0,enumerable:!1,configurable:!1},_peerUserIdToken:{value:Z,writable:!0,enumerable:!1,configurable:!1},_peerServiceTokens:{value:R,writable:!1,enumerable:!1,configurable:!1}});},getMessageId:function(){return this._messageId;},getMasterToken:function(){return this._masterToken;},getUserIdToken:function(){return this._userIdToken;},getKeyExchangeData:function(){return this._keyExchangeData;},willEncryptHeader:function(){return this._masterToken||Sc(this._entityAuthData.scheme);},willEncryptPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||Sc(this._entityAuthData.scheme);},willIntegrityProtectHeader:function(){return this._masterToken||wd(this._entityAuthData.scheme);},willIntegrityProtectPayloads:function(){return this._masterToken||!this._ctx.isPeerToPeer()&&this._keyExchangeData||wd(this._entityAuthData.scheme);},getHeader:function(l){m(l,function(){var m,v,w,r,z;m=this._keyExchangeData?this._keyExchangeData.keyResponseData:null;v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);r=[];for(z in this._keyRequestData)r.push(this._keyRequestData[z]);if(this._nonReplayable){if(!this._masterToken)throw new za(h.NONREPLAYABLE_MESSAGE_REQUIRES_MASTERTOKEN);z=this._ctx.getMslStore().getNonReplayableId(this._masterToken);}else z=null;m=new fe(this._messageId,z,this._renewable,this._capabilities,r,m,this._userAuthData,this._userIdToken,v);v=[];for(w in this._peerServiceTokens)v.push(this._peerServiceTokens[w]);w=new ge(this._peerMasterToken,this._peerUserIdToken,v);ee(this._ctx,this._entityAuthData,this._masterToken,m,w,l);},this);},isNonReplayable:function(){return this._nonReplayable;},setNonReplayable:function(h){this._nonReplayable=h;return this;},isRenewable:function(){return this._renewable;},setRenewable:function(h){this._renewable=h;return this;},setAuthTokens:function(h,l){var m,v,w;if(l&&!l.isBoundTo(h))throw new ga("User ID token must be bound to master token.");if(this._keyExchangeData&&!this._ctx.isPeerToPeer())throw new ga("Attempt to set message builder master token when key exchange data exists as a trusted network server.");try{m=this._ctx.getMslStore().getServiceTokens(h,l);}catch(ya){if(ya instanceof F)throw new ga("Invalid master token and user ID token combination despite checking above.",ya);throw ya;}v=[];for(w in this._serviceTokens)v.push(this._serviceTokens[w]);v.forEach(function(m){(m.isUserIdTokenBound()&&!m.isBoundTo(l)||m.isMasterTokenBound()&&!m.isBoundTo(h))&&delete this._serviceTokens[m.name];},this);m.forEach(function(h){this._serviceTokens[h.name]=h;},this);this._masterToken=h;this._userIdToken=l;},setUserAuthenticationData:function(h){this._userAuthData=h;return this;},setCustomer:function(h,l){var v;v=this;m(l,function(){var w;if(!this._ctx.isPeerToPeer()&&null!=this._userIdToken||this._ctx.isPeerToPeer()&&null!=this._peerUserIdToken)throw new ga("User ID token or peer user ID token already exists for the remote user.");w=this._keyExchangeData?this._keyExchangeData.keyResponseData.masterToken:this._ctx.isPeerToPeer()?this._peerMasterToken:this._masterToken;if(!w)throw new ga("User ID token or peer user ID token cannot be created because no corresponding master token exists.");this._ctx.getTokenFactory().createUserIdToken(this._ctx,h,w,{result:function(h){m(l,function(){this._ctx.isPeerToPeer()?this._peerUserIdToken=h:(this._userIdToken=h,this._userAuthData=null);return!0;},v);},error:function(h){l.error(h);}});},v);},addKeyRequestData:function(h){this._keyRequestData[h.uniqueKey()]=h;return this;},removeKeyRequestData:function(h){delete this._keyRequestData[h.uniqueKey()];return this;},addServiceToken:function(l){var m;m=this._keyExchangeData&&!this._ctx.isPeerToPeer()?this._keyExchangeData.keyResponseData.masterToken:this._masterToken;if(l.isMasterTokenBound()&&!l.isBoundTo(m))throw new za(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(m)).setEntity(m);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._userIdToken))throw new za(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._userIdToken)).setEntity(m).setUser(this._userIdToken);this._serviceTokens[l.name]=l;return this;},addServiceTokenIfAbsent:function(h){this._serviceTokens[h.name]||this.addServiceToken(h);return this;},excludeServiceToken:function(h){delete this._serviceTokens[h];return this;},deleteServiceToken:function(h,l){var v;v=this;m(l,function(){var w,r;w=this._serviceTokens[h];if(!w)return this;r=w.isMasterTokenBound()?this._masterToken:null;w=w.isUserIdTokenBound()?this._userIdToken:null;zb(this._ctx,h,C,r,w,!1,null,new bc(),{result:function(h){m(l,function(){return this.addServiceToken(h);},v);},error:function(h){h instanceof F&&(h=new ga("Failed to create and add empty service token to message.",h));l.error(h);}});},v);},getServiceTokens:function(){var h,l;h=[];for(l in this._serviceTokens)h.push(this._serviceTokens[l]);return h;},getPeerMasterToken:function(){return this._peerMasterToken;},getPeerUserIdToken:function(){return this._peerUserIdToken;},setPeerAuthTokens:function(l,m){var v;if(!this._ctx.isPeerToPeer())throw new ga("Cannot set peer master token or peer user ID token when not in peer-to-peer mode.");if(m&&!l)throw new ga("Peer master token cannot be null when setting peer user ID token.");if(m&&!m.isBoundTo(l))throw new za(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit "+m+"; mt "+l).setEntity(l).setUser(m);try{v=this._ctx.getMslStore().getServiceTokens(l,m);}catch(aa){if(aa instanceof F)throw new ga("Invalid peer master token and user ID token combination despite proper check.",aa);throw aa;}Object.keys(this._peerServiceTokens).forEach(function(h){var v;v=this._peerServiceTokens[h];v.isUserIdTokenBound()&&!v.isBoundTo(m)?delete this._peerServiceTokens[h]:v.isMasterTokenBound()&&!v.isBoundTo(l)&&delete this._peerServiceTokens[h];},this);v.forEach(function(h){var l;l=h.name;this._peerServiceTokens[l]||(this._peerServiceTokens[l]=h);},this);this._peerUserIdToken=m;this._peerMasterToken=l;return this;},addPeerServiceToken:function(l){if(!this._ctx.isPeerToPeer())throw new ga("Cannot set peer service tokens when not in peer-to-peer mode.");if(l.isMasterTokenBound()&&!l.isBoundTo(this._peerMasterToken))throw new za(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; mt "+JSON.stringify(this._peerMasterToken)).setEntity(this._peerMasterToken);if(l.isUserIdTokenBound()&&!l.isBoundTo(this._peerUserIdToken))throw new za(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st "+JSON.stringify(l)+"; uit "+JSON.stringify(this._peerUserIdToken)).setEntity(this._peerMasterToken).setUser(this._peerUserIdToken);this._peerServiceTokens[l.name]=l;return this;},addPeerServiceTokenIfAbsent:function(h){this._peerServiceTokens[h.name]||this.addPeerServiceToken(h);return this;},excludePeerServiceToken:function(h){delete this._peerServiceTokens[h];return this;},deletePeerServiceToken:function(h,l){var v;v=this;m(l,function(){var w,r;w=this._peerServiceTokens[h];if(!w)return this;r=w.isMasterTokenBound()?this._peerMasterToken:null;w=w.isUserIdTokenBound()?this._peerUserIdToken:null;zb(this._ctx,h,C,r,w,!1,null,new bc(),{result:function(h){m(l,function(){return this.addPeerServiceToken(h);},v);},error:function(h){h instanceof F&&(h=new ga("Failed to create and add empty peer service token to message.",h));l.error(h);}});},v);},getPeerServiceTokens:function(){var h,l;h=[];for(l in this._peerServiceTokens)h.push(this._peerServiceTokens[l]);return h;}});}());(function(){function h(h,l){return l[h]?l[h]:l[""];}function l(h){var l;l=h.builder.getKeyExchangeData();return l&&!h.ctx.isPeerToPeer()?l.keyResponseData.masterToken:h.builder.getMasterToken();}me=ma.Class.create({init:function(h,l,m){h={ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:l.getCryptoContexts(),writable:!1,enumerable:!1,configurable:!1},builder:{value:m,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},isPrimaryMasterTokenAvailable:function(){return l(this)?!0:!1;},isPrimaryUserIdTokenAvailable:function(){return this.builder.getUserIdToken()?!0:!1;},isPeerMasterTokenAvailable:function(){return this.builder.getPeerMasterToken()?!0:!1;},isPeerUserIdTokenAvailable:function(){return this.builder.getPeerUserIdToken()?!0:!1;},getPrimaryServiceTokens:function(){return this.builder.getServiceTokens();},getPeerServiceTokens:function(){return this.builder.getPeerServiceTokens();},addPrimaryServiceToken:function(h){try{return this.builder.addServiceToken(h),!0;}catch(C){if(C instanceof za)return!1;throw C;}},addPeerServiceToken:function(h){try{return this.builder.addPeerServiceToken(h),!0;}catch(C){if(C instanceof za)return!1;throw C;}},addUnboundPrimaryServiceToken:function(l,w,r,v,E){var z;z=this;m(E,function(){var C;C=h(l,this.cryptoContexts);if(!C)return!1;zb(this.ctx,l,w,null,null,r,v,C,{result:function(h){m(E,function(){try{this.builder.addServiceToken(h);}catch(ya){if(ya instanceof za)throw new ga("Service token bound to incorrect authentication tokens despite being unbound.",ya);throw ya;}return!0;},z);},error:function(h){E.error(h);}});},z);},addUnboundPeerServiceToken:function(l,w,r,v,E){var z;z=this;m(E,function(){var C;C=h(l,this.cryptoContexts);if(!C)return!1;zb(this.ctx,l,w,null,null,r,v,C,{result:function(h){m(E,function(){try{this.builder.addPeerServiceToken(h);}catch(ya){if(ya instanceof za)throw new ga("Service token bound to incorrect authentication tokens despite being unbound.",ya);throw ya;}return!0;},z);},error:function(h){E.error(h);}});},z);},addMasterBoundPrimaryServiceToken:function(w,r,J,v,E){var z;z=this;m(E,function(){var C,H;C=l(this);if(!C)return!1;H=h(w,this.cryptoContexts);if(!H)return!1;zb(this.ctx,w,r,C,null,J,v,H,{result:function(h){m(E,function(){try{this.builder.addServiceToken(h);}catch(Z){if(Z instanceof za)throw new ga("Service token bound to incorrect authentication tokens despite setting correct master token.",Z);throw Z;}return!0;},z);},error:function(h){E.error(h);}});},z);},addMasterBoundPeerServiceToken:function(l,w,r,v,E){var z;z=this;m(E,function(){var C,J;C=this.builder.getPeerMasterToken();if(!C)return!1;J=h(l,this.cryptoContexts);if(!J)return!1;zb(this.ctx,l,w,C,null,r,v,J,{result:function(h){m(E,function(){try{this.builder.addPeerServiceToken(h);}catch(Z){if(Z instanceof za)throw new ga("Service token bound to incorrect authentication tokens despite setting correct master token.",Z);throw Z;}return!0;},z);},error:function(h){E.error(h);}});},z);},addUserBoundPrimaryServiceToken:function(w,r,J,v,E){var z;z=this;m(E,function(){var C,H,F;C=l(this);if(!C)return!1;H=this.builder.getUserIdToken();if(!H)return!1;F=h(w,this.cryptoContexts);if(!F)return!1;zb(this.ctx,w,r,C,H,J,v,F,{result:function(h){m(E,function(){try{this.builder.addServiceToken(h);}catch(qa){if(qa instanceof za)throw new ga("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",qa);throw qa;}return!0;},z);},error:function(h){E.error(h);}});},z);},addUserBoundPeerServiceToken:function(l,w,r,v,E){var z;z=this;m(E,function(){var C,J,H;C=this.builder.getPeerMasterToken();if(!C)return!1;J=this.builder.getPeerUserIdToken();if(!J)return!1;H=h(l,this.cryptoContexts);if(!H)return!1;zb(this.ctx,l,w,C,J,r,v,H,{result:function(h){m(E,function(){try{this.builder.addPeerServiceToken(h);}catch(qa){if(qa instanceof za)throw new ga("Service token bound to incorrect authentication tokens despite setting correct master token and user ID token.",qa);throw qa;}return!0;},z);},error:function(h){E.error(h);}});},z);},excludePrimaryServiceToken:function(h){for(var l=this.builder.getServiceTokens(),m=0;m<l.length;++m)if(l[m].name==h)return this.builder.excludeServiceToken(h),!0;return!1;},excludePeerServiceToken:function(h){for(var l=this.builder.getPeerServiceTokens(),m=0;m<l.length;++m)if(l[m].name==h)return this.builder.excludePeerServiceToken(h),!0;return!1;},deletePrimaryServiceToken:function(h,l){m(l,function(){for(var m=this.builder.getServiceTokens(),v=0;v<m.length;++v)if(m[v].name==h){this.builder.deleteServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);},deletePeerServiceToken:function(h,l){m(l,function(){for(var m=this.builder.getPeerServiceTokens(),v=0;v<m.length;++v)if(m[v].name==h){this.builder.deletePeerServiceToken(h,{result:function(){l.result(!0);},error:function(h){l.error(h);}});return;}return!1;},this);}});}());(function(){function l(l,r,C,J){m(J,function(){var w,z,H,Ea,M,Z;function v(){m(J,function(){var r;if(Z>=C.length){if(M)throw M;throw new Qa(h.KEYX_RESPONSE_REQUEST_MISMATCH,JSON.stringify(C));}r=C[Z];H!=r.keyExchangeScheme?(++Z,v()):Ea.getCryptoContext(l,r,z,w,{result:J.result,error:function(h){m(J,function(){if(!(h instanceof F))throw h;M=h;++Z;v();});}});});}w=r.masterToken;z=r.keyResponseData;if(!z)return null;H=z.keyExchangeScheme;Ea=l.getKeyExchangeFactory(H);if(!Ea)throw new Qa(h.KEYX_FACTORY_NOT_FOUND,H);Z=0;v();});}ne=hd.extend({init:function(m,z,C,J,v,E,H){var w;w=this;r(H,function(){var R;function r(){w._ready=!0;w._readyQueue.add(!0);}function H(h,l){var m;try{m=l.masterToken;h.getTokenFactory().isMasterTokenRevoked(h,m,{result:function(v){v?(w._errored=new Qb(v,m).setUser(l.userIdToken).setUser(l.userAuthenticationData).setMessageId(l.messageId),r()):aa(h,l);},error:function(h){h instanceof F&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;r();}});}catch(va){va instanceof F&&(va.setEntity(l.masterToken),va.setUser(l.userIdToken),va.setUser(l.userAuthenticationData),va.setMessageId(l.messageId));w._errored=va;r();}}function aa(h,l){var m,v;try{m=l.masterToken;v=l.userIdToken;v?h.getTokenFactory().isUserIdTokenRevoked(h,m,v,{result:function(z){z?(w._errored=new MslUserIdTokenException(z,v).setEntity(m).setUser(v).setMessageId(l.messageId),r()):qa(h,l);},error:function(h){h instanceof F&&(h.setEntity(l.masterToken),h.setUser(l.userIdToken),h.setUser(l.userAuthenticationData),h.setMessageId(l.messageId));w._errored=h;r();}}):qa(h,l);}catch(Oa){Oa instanceof F&&(Oa.setEntity(l.masterToken),Oa.setUser(l.userIdToken),Oa.setUser(l.userAuthenticationData),Oa.setMessageId(l.messageId));w._errored=Oa;r();}}function qa(l,m){var v;try{v=m.masterToken;v.isExpired()?m.isRenewable()&&0!=m.keyRequestData.length?l.getTokenFactory().isMasterTokenRenewable(l,v,{result:function(h){h?(w._errored=new za(h,"Master token is expired and not renewable.").setEntity(v).setUser(m.userIdToken).setUser(m.userAuthenticationData).setMessageId(m.messageId),r()):B(l,m);},error:function(h){h instanceof F&&(h.setEntity(m.masterToken),h.setUser(m.userIdToken),h.setUser(m.userAuthenticationData),h.setMessageId(m.messageId));w._errored=h;r();}}):(w._errored=new za(h.MESSAGE_EXPIRED,JSON.stringify(m)).setEntity(v).setUser(m.userIdToken).setUser(m.userAuthenticationData).setMessageId(m.messageId),r()):B(l,m);}catch(va){va instanceof F&&(va.setEntity(m.masterToken),va.setUser(m.userIdToken),va.setUser(m.userAuthenticationData),va.setMessageId(m.messageId));w._errored=va;r();}}function B(l,m){var v,z;try{v=m.masterToken;z=m.nonReplayableId;"number"===typeof z?v?l.getTokenFactory().acceptNonReplayableId(l,v,z,{result:function(l){l||(w._errored=new za(h.MESSAGE_REPLAYED,JSON.stringify(m)).setEntity(v).setUser(m.userIdToken).setUser(m.userAuthenticationData).setMessageId(m.messageId));r();},error:function(h){h instanceof F&&(h.setEntity(v),h.setUser(m.userIdToken),h.setUser(m.userAuthenticationData),h.setMessageId(m.messageId));w._errored=h;r();}}):(w._errored=new za(h.INCOMPLETE_NONREPLAYABLE_MESSAGE,JSON.stringify(m)).setEntity(m.entityAuthenticationData).setUser(m.userIdToken).setUser(m.userAuthenticationData).setMessageId(m.messageId),r()):r();}catch(Oa){Oa instanceof F&&(Oa.setEntity(m.masterToken),Oa.setEntity(m.entityAuthenticationData),Oa.setUser(m.userIdToken),Oa.setUser(m.userAuthenticationData),Oa.setMessageId(m.messageId));w._errored=Oa;r();}}R={_source:{value:z,writable:!1,enumerable:!1,configurable:!1},_parser:{value:la,writable:!0,enumerable:!1,configurable:!1},_charset:{value:C,writable:!1,enumerable:!1,configurable:!1},_remainingData:{value:"",writable:!0,enumerable:!1,configurable:!1},_timeout:{value:E,writable:!1,enumerable:!1,configurable:!1},_header:{value:la,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:la,writable:!0,enumerable:!1,configurable:!1},_keyxCryptoContext:{value:la,writable:!0,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enuemrable:!1,configurable:!1},_eom:{value:!1,writable:!0,enumerable:!1,configurable:!1},_closeSource:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!0,enumerable:!1,configurable:!1},_payloadIndex:{value:-1,writable:!0,enumerable:!1,configurable:!1},_payloadOffset:{value:0,writable:!0,enuemrable:!1,configurable:!1},_markOffset:{value:0,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:null,writable:!0,enumerable:!1,configurable:!1},_readException:{value:null,writable:!0,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,R);Rd(w._source,E,{result:function(z){w._json=z;w._jsonIndex=0;null===w._json?(w._errored=new ka(h.MESSAGE_DATA_MISSING),r()):Yd(m,w._json[w._jsonIndex++],v,{result:function(h){var v;w._header=h;if(w._header instanceof Mb)w._keyxCryptoContext=null,w._cryptoContext=null,r();else{v=w._header;l(m,v,J,{result:function(h){var l;try{w._keyxCryptoContext=h;m.isPeerToPeer()||!w._keyxCryptoContext?w._cryptoContext=v.cryptoContext:w._cryptoContext=w._keyxCryptoContext;try{l=v.masterToken;l&&(m.isPeerToPeer()||l.isVerified())?H(m,v):B(m,v);}catch(ua){ua instanceof F&&(ua.setEntity(v.masterToken),ua.setUser(v.userIdToken),ua.setUser(v.userAuthenticationData),ua.setMessageId(v.messageId));w._errored=ua;r();}}catch(ua){ua instanceof F&&(ua.setEntity(v.masterToken),ua.setEntity(v.entityAuthenticationData),ua.setUser(v.userIdToken),ua.setUser(v.userAuthenticationData),ua.setMessageId(v.messageId));w._errored=ua;r();}},error:function(h){h instanceof F&&(h.setEntity(v.masterToken),h.setEntity(v.entityAuthenticationData),h.setUser(v.userIdToken),h.setUser(v.userAuthenticationData),h.setMessageId(v.messageId));w._errored=h;r();}});}},error:function(h){w._errored=h;r();}});},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});return this;},w);},nextData:function(l,m){var w;w=this;r(m,function(){var v;function l(h){r(h,function(){var m;if(this._jsonIndex<this._json.length)return m=this._json[this._jsonIndex++];Rd(this._source,this._timeout,{result:function(m){m&&m.length&&0<m.length?(m.forEach(function(h){this._json.push(h);}),l(h)):(this._eom=!0,h.result(null));},timeout:function(){h.timeout();},error:function(l){h.error(l);}});},w);}v=this.getMessageHeader();if(!v)throw new ga("Read attempted with error message.");if(-1!=this._payloadIndex&&this._payloadIndex<this._payloads.length)return this._payloads[this._payloadIndex++];if(this._eom)return null;l({result:function(l){r(m,function(){if(!l)return null;if("object"!==typeof l)throw new ka(h.MESSAGE_FORMAT_ERROR);je(l,this._cryptoContext,{result:function(l){r(m,function(){var m,w,r,z;m=v.masterToken;w=v.entityAuthenticationData;r=v.userIdToken;z=v.getUserAuthenticationData;if(l.messageId!=v.messageId)throw new za(h.PAYLOAD_MESSAGE_ID_MISMATCH,"payload mid "+l.messageId+" header mid "+v.messageId).setEntity(m).setEntity(w).setUser(r).setUser(z);if(l.sequenceNumber!=this._payloadSequenceNumber)throw new za(h.PAYLOAD_SEQUENCE_NUMBER_MISMATCH,"payload seqno "+l.sequenceNumber+" expected seqno "+this._payloadSequenceNumber).setEntity(m).setEntity(w).setUser(r).setUser(z);++this._payloadSequenceNumber;l.isEndOfMessage()&&(this._eom=!0);m=l.data;this._payloads.push(m);this._payloadIndex=-1;return m;},w);},error:function(l){l instanceof SyntaxError&&(l=new ka(h.JSON_PARSE_ERROR,"payloadchunk",l));m.error(l);}});},w);},timeout:function(){m.timeout();},error:function(h){m.error(h);}});},w);},isReady:function(h,l){var w;function m(){r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;return!0;}},w);}w=this;r(l,function(){this._ready?m():this._readyQueue.poll(h,{result:function(h){r(l,function(){if(h===la)return!1;m();},w);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorHeader:function(){return this._header instanceof Mb?this._header:null;},getIdentity:function(){var h,l;h=this.getMessageHeader();if(h){l=h.masterToken;return l?l.identity:h.entityAuthenticationData.getIdentity();}return this.getErrorHeader().entityAuthenticationData.getIdentity();},getCustomer:function(){var h;h=this.getMessageHeader();return h?h.customer:null;},getPayloadCryptoContext:function(){return this._cryptoContext;},getKeyExchangeCryptoContext:function(){return this._keyxCryptoContext;},closeSource:function(h){this._closeSource=h;},abort:function(){this._aborted=!0;this._source.abort();this._readyQueue.cancelAll();},close:function(){this._closeSource&&this._source.close();},mark:function(){if(this._currentPayload){for(;0<this._payloads.length&&this._payloads[0]!==this._currentPayload;)this._payloads.shift();this._payloadIndex=0;this._currentPayload=this._payloads[this._payloadIndex++];this._markOffset=this._payloadOffset;}else this._payloadIndex=-1,this._payloads=[];},markSupported:function(){return!0;},read:function(h,l,m){var v;function w(){r(m,function(){var z,C,H,J;function w(m){r(m,function(){var z,E,R;if(C&&J>=C.length)return C.subarray(0,J);z=-1;if(this._currentPayload){E=this._currentPayload.length-this._payloadOffset;if(!C){R=E;if(-1!=this._payloadIndex)for(var Z=this._payloadIndex;Z<this._payloads.length;++Z)R+=this._payloads[Z].length;0<R&&(C=new Uint8Array(R));}E=Math.min(E,C?C.length-J:0);0<E&&(z=this._currentPayload.subarray(this._payloadOffset,this._payloadOffset+E),C.set(z,H),z=E,H+=E,this._payloadOffset+=E);}-1!=z?(J+=z,w(m)):this.nextData(l,{result:function(l){r(m,function(){if(this._aborted)return C?C.subarray(0,J):new Uint8Array(0);this._currentPayload=l;this._payloadOffset=0;if(this._currentPayload)w(m);else return 0==J&&0!=h?null:C?C.subarray(0,J):new Uint8Array(0);},v);},timeout:function(){m.timeout(C?C.subarray(0,J):new Uint8Array(0));},error:function(h){r(m,function(){h instanceof F&&(h=new Za("Error reading the payload chunk.",h));if(0<J)return v._readException=h,C.subarray(0,J);throw h;},v);}});},v);}if(this._aborted)return new Uint8Array(0);if(this._timedout)m.timeout(new Uint8Array(0));else{if(this._errored)throw this._errored;if(null!=this._readException){z=this._readException;this._readException=null;throw z;}C=-1!=h?new Uint8Array(h):la;H=0;J=0;w(m);}},v);}v=this;r(m,function(){if(-1>h)throw new RangeError("read requested with illegal length "+h);this._ready?w():this._readyQueue.poll(l,{result:function(h){h===la?m.result(!1):w();},timeout:function(){m.timeout(new Uint8Array(0));},error:function(h){m.error(h);}});},v);},reset:function(){this._payloadIndex=0;0<this._payloads.length?(this._currentPayload=this._payloads[this._payloadIndex++],this._payloadOffset=this._markOffset):this._currentPayload=null;}});oe=function(h,l,m,r,v,E,H){new ne(h,l,m,r,v,E,H);};}());(function(){pe=Fc.extend({init:function(h,l,m,C,J,v,E){var w;w=this;r(E,function(){var z,E,H;function r(){w._ready=!0;w._readyQueue.add(!0);}z=od(h.getMessageCapabilities(),C.messageCapabilities);E=null;z&&(E=Fd(z.compressionAlgorithms));z={_destination:{value:l,writable:!1,enumerable:!1,configurable:!1},_charset:{value:m,writable:!1,enumerable:!1,configurable:!1},_capabilities:{value:z,writable:!1,enumerable:!1,configurable:!1},_header:{value:C,writable:!1,enumerable:!1,configurable:!1},_compressionAlgo:{value:E,writable:!0,enumerable:!1,configurable:!1},_cryptoContext:{value:J,writable:!1,enumerable:!1,configurable:!1},_payloadSequenceNumber:{value:1,writable:!0,enumerable:!1,configurable:!1},_currentPayload:{value:[],writable:!0,enumerable:!1,configurable:!1},_closed:{value:!1,writable:!0,enumerable:!1,configurable:!1},_payloads:{value:[],writable:!1,enumerable:!1,configurable:!1},_ready:{value:!1,writable:!0,enumerable:!1,configurable:!1},_readyQueue:{value:new ic(),writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_timedout:{value:!1,writable:!0,enumerable:!1,configurable:!1},_errored:{value:null,writable:!0,enumerable:!1,configurable:!1}};Object.defineProperties(this,z);H=Ta(JSON.stringify(C),m);l.write(H,0,H.length,v,{result:function(h){try{w._aborted?r():h<H.length?(w._timedout=!0,r()):l.flush(v,{result:function(h){w._aborted||(w._timedout=!h);r();},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});}catch(B){w._errored=B;r();}},timeout:function(){w._timedout=!0;r();},error:function(h){w._errored=h;r();}});return this;},w);},setCompressionAlgorithm:function(h,l,m){var z;function w(){z.flush(l,{result:function(l){r(m,function(){if(!l)throw new Za("flush() aborted");this._compressionAlgo=h;return!0;},z);},timeout:function(){m.timeout();},error:function(h){m.error(h);}});}z=this;r(m,function(){if(!this.getMessageHeader())throw new ga("Cannot write payload data for an error message.");if(this._compressionAlgo==h)return!0;if(h){if(!this._capabilities)return!1;for(var l=this._capabilities.compressionAlgorithms,m=0;m<l.length;++m)if(l[m]==h){w();return;}return!1;}w();},z);},getMessageHeader:function(){return this._header instanceof mc?this._header:null;},getErrorMessage:function(){return this._header instanceof Mb?this._header:null;},getPayloads:function(){return this._payloads;},abort:function(){this._aborted=!0;this._destination.abort();this._readyQueue.cancelAll();},close:function(h,l){var m;m=this;r(l,function(){if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(this._closed)return!0;this._closed=!0;this.flush(h,{result:function(h){r(l,function(){h&&(this._currentPayload=null);return h;},m);},timeout:function(){l.timeout();},error:function(h){l.error(h);}});}},m);},flush:function(h,l){var w;function m(){r(l,function(){var m,v,M;if(this._aborted)return!1;if(this._timedout)l.timeout();else{if(this._errored)throw this._errored;if(!this._currentPayload||!this._closed&&0==this._currentPayload.length)return!0;m=this.getMessageHeader();if(!m)return!0;v=0;this._currentPayload&&this._currentPayload.forEach(function(h){v+=h.length;});for(var z=new Uint8Array(v),C=0,H=0;this._currentPayload&&H<this._currentPayload.length;++H){M=this._currentPayload[H];z.set(M,C);C+=M.length;}ie(this._payloadSequenceNumber,m.messageId,this._closed,this._compressionAlgo,z,this._cryptoContext,{result:function(m){r(l,function(){var v;this._payloads.push(m);v=Ta(JSON.stringify(m),this._charset);this._destination.write(v,0,v.length,h,{result:function(v){r(l,function(){if(this._aborted)return!1;v<m.length?l.timeout():this._destination.flush(h,{result:function(h){r(l,function(){if(this._aborted)return!1;if(h)return++this._payloadSequenceNumber,this._currentPayload=this._closed?null:[],!0;l.timeout();},w);},timeout:function(){l.timeout();},error:function(h){h instanceof F&&(h=new Za("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},timeout:function(h){l.timeout();},error:function(h){h instanceof F&&(h=new Za("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});},w);},error:function(h){h instanceof F&&(h=new Za("Error encoding payload chunk [sequence number "+w._payloadSequenceNumber+"].",h));l.error(h);}});}},w);}w=this;r(l,function(){this._ready?m():this._readyQueue.poll(h,{result:function(h){h===la?l.result(!1):m();},timeout:function(){l.timeout();},error:function(h){l.error(h);}});},w);},write:function(h,l,m,C,J){r(J,function(){var v;if(this._aborted)return!1;if(this._timedout)J.timeout();else{if(this._errored)throw this._errored;if(this._closed)throw new Za("Message output stream already closed.");if(0>l)throw new RangeError("Offset cannot be negative.");if(0>m)throw new RangeError("Length cannot be negative.");if(l+m>h.length)throw new RangeError("Offset plus length cannot be greater than the array length.");if(!this.getMessageHeader())throw new ga("Cannot write payload data for an error message.");v=h.subarray(l,l+m);this._currentPayload.push(v);return v.length;}},this);}});Lc=function(h,l,m,r,J,v,E){new pe(h,l,m,r,J,v,E);};}());Ve=ma.Class.create({sentHeader:function(h){},receivedHeader:function(h){}});Object.freeze({USERDATA_REAUTH:l.USERDATA_REAUTH,SSOTOKEN_REJECTED:l.SSOTOKEN_REJECTED});qe=ma.Class.create({getCryptoContexts:function(){},getRecipient:function(){},isEncrypted:function(){},isIntegrityProtected:function(){},isNonReplayable:function(){},isRequestingTokens:function(){},getUserId:function(){},getUserAuthData:function(h,l,m,r){},getCustomer:function(){},getKeyRequestData:function(h){},updateServiceTokens:function(h,l,m){},write:function(h,l,m){},getDebugContext:function(){}});ma.Class.create({getInputStream:function(h){},getOutputStream:function(h){}});(function(){var M,aa,Ea,ya,Z,qa,B,R,xa,fa,ba,va;function H(h){return function(){h.abort();};}function w(h,l){Object.defineProperties(this,{masterToken:{value:h,writable:!1,configurable:!1},ticket:{value:l,writable:!1,configurable:!1}});}function z(h,l){Object.defineProperties(this,{builder:{value:h,writable:!1,configurable:!1},msgCtx:{value:l,writable:!1,configurable:!1}});}function C(h,l,m){Object.defineProperties(this,{requestHeader:{value:h,writable:!1,configurable:!1},payloads:{value:l,writable:!1,configurable:!1},handshake:{value:m,writable:!1,configurable:!1}});}function J(h,l){Object.defineProperties(this,{requestHeader:{value:l.requestHeader,writable:!1,configurable:!1},payloads:{value:l.payloads,writable:!1,configurable:!1},handshake:{value:l.handshake,writable:!1,configurable:!1},response:{value:h,writable:!1,configurable:!1}});}function v(h){for(;h;){if(h instanceof cb)return!0;h=h instanceof F?h.cause:la;}return!1;}function E(h,l,m,v,w,z,E,C,g){le(l,v,w,z,{result:function(d){m&&m.sentHeader(d);Lc(l,E,La,d,null,null,C,{result:function(a){h.setAbort(function(){a.abort();});a.close(C,{result:function(a){r(g,function(){if(!a)throw new cb("sendError aborted.");return a;});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){},error:function(a){g.error(a);}});},error:function(d){g.error(d);}});}M=Fc.extend({close:function(h,l){l.result(!0);},write:function(h,l,v,w,r){m(r,function(){return Math.min(h.length-l,v);});},flush:function(h,l){l.result(!0);}});aa=Ue.extend({getUserMessage:function(h,l){return null;}});Ea=qe.extend({init:function(h){Object.defineProperties(this,{_appCtx:{value:h,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContexts:function(){return this._appCtx.getCryptoContexts();},isEncrypted:function(){return this._appCtx.isEncrypted();},isIntegrityProtected:function(){return this._appCtx.isIntegrityProtected();},isNonReplayable:function(){return this._appCtx.isNonReplayable();},isRequestingTokens:function(){return this._appCtx.isRequestingTokens();},getUserId:function(){return this._appCtx.getUserId();},getUserAuthData:function(h,l,m,v){this._appCtx.getUserAuthData(h,l,m,v);},getCustomer:function(){return this._appCtx.getCustomer();},getKeyRequestData:function(h){this._appCtx.getKeyRequestData(h);},updateServiceTokens:function(h,l,m){this._appCtx.updateServiceTokens(h,l,m);},write:function(h,l,m){this._appCtx.write(h,l,m);},getDebugContext:function(){return this._appCtx.getDebugContext();}});ya=Ea.extend({init:function ua(h,l){ua.base.call(this,l);Object.defineProperties(this,{_payloads:{value:h,writable:!1,enumerable:!1,configurable:!1}});},write:function(h,l,m){var w;function v(z,E){var g;if(z==w._payloads.length)m.result(!0);else{g=w._payloads[z];h.setCompressionAlgorithm(g.compressionAlgo,l,{result:function(d){h.write(g.data,0,g.data.length,l,{result:function(a){r(m,function(){g.isEndOfMessage()?v(z+1,E):h.flush(l,{result:function(a){m.result(a);},timeout:function(){m.timeout();},error:function(a){m.error(a);}});},w);},timeout:function(a){m.timeout(a);},error:function(a){m.error(a);}});},timeout:function(){},error:function(d){m.error(d);}});}}w=this;v(0);}});Z=Ea.extend({init:function ha(h){ha.base.call(this,h);},isEncrypted:function(){return!1;},isNonReplayable:function(){return!1;},write:function(h,l,m){m.result(!0);}});qa={};ba=ma.Class.create({init:function(h){h||(h=new aa());Object.defineProperties(this,{_filterFactory:{value:null,writable:!0,enumerable:!1,configurable:!1},_renewingContexts:{value:[],writable:!1,enumerable:!1,configurable:!1},_masterTokenLocks:{value:{},writable:!1,enumerable:!1,configurable:!1},_messageRegistry:{value:h,writable:!1,enumerable:!1,configurable:!1}});},setFilterFactory:function(h){this._filterFactory=h;},getNewestMasterToken:function(h,l,m,v){var z;z=this;r(v,function(){var E,g,d,a,b;E=l.getMslStore();g=E.getMasterToken();if(!g)return null;d=g.uniqueKey();a=this._masterTokenLocks[d];a||(a=new Xc(),this._masterTokenLocks[d]=a);b=a.readLock(m,{result:function(f){r(v,function(){var b;if(f===la)throw new cb("getNewestMasterToken aborted.");b=E.getMasterToken();if(g.equals(b))return new w(g,f);a.unlock(f);a.writeLock(m,{result:function(f){r(v,function(){if(f===la)throw new cb("getNewestMasterToken aborted.");delete this._masterTokenLocks[d];a.unlock(f);return this.getNewestMasterToken(h,l,m,v);},z);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},z);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});h.setAbort(function(){b&&(a.cancel(b),b=la);});},z);},deleteMasterToken:function(h,l){var m;if(l){m=this;setTimeout(function(){var v,w;v=l.uniqueKey();w=m._masterTokenLocks[v];w||(w=new Xc(),m._masterTokenLocks[v]=w);w.writeLock(-1,{result:function(r){h.getMslStore().removeCryptoContext(l);delete m._masterTokenLocks[v];w.unlock(r);},timeout:function(){throw new ga("Unexpected timeout received.");},error:function(h){throw h;}});},0);}},releaseMasterToken:function(h){var l;if(h&&h.masterToken){l=h.masterToken.uniqueKey();l=this._masterTokenLocks[l];if(!l)throw new ga("Master token read/write lock does not exist when it should.");l.unlock(h.ticket);}},updateOutgoingCryptoContexts:function(h,l,m){var v;v=h.getMslStore();!h.isPeerToPeer()&&m&&(v.setCryptoContext(m.keyResponseData.masterToken,m.cryptoContext),this.deleteMasterToken(h,l.masterToken));},updateIncomingCryptoContexts:function(h,l,m){var v,w;v=m.getMessageHeader();if(v){w=h.getMslStore();if(v=v.keyResponseData)w.setCryptoContext(v.masterToken,m.getKeyExchangeCryptoContext()),this.deleteMasterToken(h,l.masterToken);}},storeServiceTokens:function(h,l,m,v){var g,d;h=h.getMslStore();for(var w=[],r=0;r<v.length;++r){g=v[r];if(!g.isBoundTo(l)||!l.isVerified()){d=g.data;d&&0==d.length?h.removeServiceTokens(g.name,g.isMasterTokenBound()?l:null,g.isUserIdTokenBound()?m:null):w.push(g);}}0<w.length&&h.addServiceTokens(w);},buildRequest:function(h,l,v,w,r){var z;z=this;this.getNewestMasterToken(h,l,w,{result:function(g){m(r,function(){var d,a,b;d=g&&g.masterToken;if(d){a=v.getUserId();b=l.getMslStore();a=(a=a?b.getUserIdToken(a):null)&&a.isBoundTo(d)?a:null;}else a=null;Vb(l,d,a,null,{result:function(a){m(r,function(){a.setNonReplayable(v.isNonReplayable());return{builder:a,tokenTicket:g};});},error:function(a){m(r,function(){this.releaseMasterToken(g);a instanceof F&&(a=new ga("User ID token not bound to master token despite internal check.",a));throw a;},z);}});},z);},timeout:function(){r.timeout();},error:function(g){r.error(g);}});},buildResponse:function(h,l,m,v,w,z){var g;g=this;ke(l,v,{result:function(d){r(z,function(){d.setNonReplayable(m.isNonReplayable());if(!l.isPeerToPeer()&&!v.keyResponseData)return{builder:d,tokenTicket:null};this.getNewestMasterToken(h,l,w,{result:function(a){r(z,function(){var b,f,t;b=a&&a.masterToken;if(b){f=m.getUserId();t=l.getMslStore();f=(f=f?t.getUserIdToken(f):null)&&f.isBoundTo(b)?f:null;}else f=null;d.setAuthTokens(b,f);return{builder:d,tokenTicket:a};},g);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});},g);},error:function(d){z.error(d);}});},buildErrorResponse:function(h,m,v,w,E,C,g){var b;function d(a,d){r(g,function(){var f,c;f=Ub(E.messageId);c=new ya(d,v);Vb(m,null,null,f,{result:function(k){r(g,function(){m.isPeerToPeer()&&k.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);k.setNonReplayable(c.isNonReplayable());return{errorResult:new z(k,c),tokenTicket:null};},b);},error:function(a){g.error(a);}});},b);}function a(a,d){b.getNewestMasterToken(h,m,C,{result:function(f){r(g,function(){var c,k,q;c=f&&f.masterToken;k=Ub(E.messageId);q=new ya(d,v);Vb(m,c,null,k,{result:function(c){r(g,function(){m.isPeerToPeer()&&c.setPeerAuthTokens(a.peerMasterToken,a.peerUserIdToken);c.setNonReplayable(q.isNonReplayable());return{errorResult:new z(c,q),tokenTicket:f};},b);},error:function(a){g.error(a);}});},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}b=this;r(g,function(){var f,t,p,c;f=w.requestHeader;t=w.payloads;p=E.errorCode;switch(p){case l.ENTITYDATA_REAUTH:case l.ENTITY_REAUTH:m.getEntityAuthenticationData(p,{result:function(a){r(g,function(){if(!a)return null;d(f,t);},b);},error:function(a){g.error(a);}});break;case l.USERDATA_REAUTH:case l.SSOTOKEN_REJECTED:v.getUserAuthData(p,!1,!0,{result:function(c){r(g,function(){if(!c)return null;a(f,t);},b);},error:function(a){g.error(a);}});break;case l.USER_REAUTH:a(f,t);break;case l.KEYX_REQUIRED:p=Ub(E.messageId),c=new ya(t,v);Vb(m,null,null,p,{result:function(a){r(g,function(){m.isPeerToPeer()&&a.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);a.setRenewable(!0);a.setNonReplayable(c.isNonReplayable());return{errorResult:new z(a,c),tokenTicket:null};},b);},error:function(a){g.error(a);}});break;case l.EXPIRED:this.getNewestMasterToken(h,m,C,{result:function(a){r(g,function(){var c,k,d,y;c=a&&a.masterToken;k=f.userIdToken;d=Ub(E.messageId);y=new ya(t,v);Vb(m,c,k,d,{result:function(k){r(g,function(){m.isPeerToPeer()&&k.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(c)&&k.setRenewable(!0);k.setNonReplayable(y.isNonReplayable());return{errorResult:new z(k,y),tokenTicket:a};},b);},error:function(a){g.error(a);}},b);},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;case l.REPLAYED:this.getNewestMasterToken(h,m,C,{result:function(a){r(g,function(){var c,k,d,y;c=a&&a.masterToken;k=f.userIdToken;d=Ub(E.messageId);y=new ya(t,v);Vb(m,c,k,d,{result:function(k){r(g,function(){m.isPeerToPeer()&&k.setPeerAuthTokens(f.peerMasterToken,f.peerUserIdToken);f.masterToken.equals(c)?(k.setRenewable(!0),k.setNonReplayable(!1)):k.setNonReplayable(y.isNonReplayable());return{errorResult:new z(k,y),tokenTicket:a};},b);},error:function(a){g.error(a);}});},b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});break;default:return null;}},b);},cleanupContext:function(h,m,v){switch(v.errorCode){case l.ENTITY_REAUTH:this.deleteMasterToken(h,m.masterToken);break;case l.USER_REAUTH:v=m.userIdToken,m.masterToken&&v&&h.getMslStore().removeUserIdToken(v);}},send:function(h,l,m,v,w,z,g){var p;function d(c,k,f){r(g,function(){var b;b=w.getPeerUserIdToken();!l.isPeerToPeer()&&!k||l.isPeerToPeer()&&!b?(b=m.getCustomer())?w.setCustomer(b,{result:function(b){r(g,function(){k=w.getUserIdToken();a(c,k,f);},p);},error:function(a){g.error(a);}}):a(c,k,f):a(c,k,f);},p);}function a(a,k,f){r(g,function(){var c,q;c=!f&&(!m.isEncrypted()||w.willEncryptPayloads())&&(!m.isIntegrityProtected()||w.willIntegrityProtectPayloads())&&(!m.isNonReplayable()||w.isNonReplayable()&&a);c||w.setNonReplayable(!1);q=[];w.isRenewable()&&(!a||a.isRenewable()||m.isNonReplayable())?m.getKeyRequestData({result:function(f){r(g,function(){var d;for(var n=0;n<f.length;++n){d=f[n];q.push(d);w.addKeyRequestData(d);}b(a,k,c,q);},p);},error:function(a){g.error(a);}}):b(a,k,c,q);},p);}function b(a,k,b,n){r(g,function(){var c;c=new me(l,m,w);m.updateServiceTokens(c,!b,{result:function(c){w.getHeader({result:function(c){r(g,function(){var n,q;n=m.getDebugContext();n&&n.sentHeader(c);n=w.getKeyExchangeData();this.updateOutgoingCryptoContexts(l,c,n);this.storeServiceTokens(l,a,k,c.serviceTokens);n=!l.isPeerToPeer()&&n?n.cryptoContext:c.cryptoContext;if(h.isAborted())throw new cb("send aborted.");q=null!=this._filterFactory?this._filterFactory.getOutputStream(v):v;Lc(l,q,La,c,n,z,{result:function(a){h.setAbort(function(){a.abort();});f(a,c,b);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},p);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},error:function(a){g.error(a);}});},p);}function f(a,k,f){var c,b;if(f)m.write(a,z,{result:function(c){r(g,function(){if(h.isAborted())throw new cb("MessageOutputStream write aborted.");t(a,k,f);},p);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});else{c=new M();b=new bc();Lc(l,c,La,k,b,z,{result:function(c){m.write(c,z,{result:function(b){r(g,function(){if(h.isAborted())throw new cb("MessageOutputStream proxy write aborted.");c.close(z,{result:function(b){r(g,function(){var n;if(!b)throw new cb("MessageOutputStream proxy close aborted.");n=c.getPayloads();t(a,k,f,n);},p);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},p);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}}function t(a,k,f,b){a.close(z,{result:function(c){r(g,function(){if(!c)throw new cb("MessageOutputStream close aborted.");b||(b=a.getPayloads());return new C(k,b,!f);},p);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});}p=this;r(g,function(){var a,k,f,b;a=w.getMasterToken();k=w.getUserIdToken();f=!1;if(m.getUserId()){b=!k;m.getUserAuthData(null,w.isRenewable(),b,{result:function(c){r(g,function(){c&&(w.willEncryptHeader()&&w.willIntegrityProtectHeader()?w.setUserAuthenticationData(c):f=!0);d(a,k,f);},p);},error:function(a){g.error(a);}});}else d(a,k,f);},p);},receive:function(m,v,w,z,E,C,g){var d;d=this;r(g,function(){var a,b,f;if(m.isAborted())throw new cb("receive aborted.");a=[];E&&(a=E.keyRequestData.filter(function(){return!0;}));b=w.getCryptoContexts();f=this._filterFactory?this._filterFactory.getInputStream(z):z;oe(v,f,La,a,b,C,{result:function(a){m.setAbort(function(){a.abort();});a.isReady(C,{result:function(f){r(g,function(){var c,k,b,n;if(!f)throw new cb("MessageInputStream aborted.");c=a.getMessageHeader();k=a.getErrorHeader();b=w.getDebugContext();b&&b.receivedHeader(c?c:k);if(E&&(b=k?k.errorCode:null,c||b!=l.FAIL&&b!=l.TRANSIENT_FAILURE&&b!=l.ENTITY_REAUTH&&b!=l.ENTITYDATA_REAUTH)){b=c?c.messageId:k.messageId;n=Ub(E.messageId);if(b!=n)throw new za(h.UNEXPECTED_RESPONSE_MESSAGE_ID,"expected "+n+"; received "+b);}v.getEntityAuthenticationData(null,{result:function(f){r(g,function(){var b,n,q,d;b=f.getIdentity();if(c){n=c.entityAuthenticationData;q=c.masterToken;n=q?c.sender:n.getIdentity();if(q&&q.isDecrypted()&&q.identity!=n||b==n)throw new za(h.UNEXPECTED_MESSAGE_SENDER,n);E&&this.updateIncomingCryptoContexts(v,E,a);b=c.keyResponseData;v.isPeerToPeer()?(b=b?b.masterToken:c.peerMasterToken,q=c.peerUserIdToken,n=c.peerServiceTokens):(b=b?b.masterToken:c.masterToken,q=c.userIdToken,n=c.serviceTokens);d=w.getUserId();d&&q&&!q.isVerified()&&v.getMslStore().addUserIdToken(d,q);this.storeServiceTokens(v,b,q,n);}else if(n=k.entityAuthenticationData.getIdentity(),b==n)throw new za(h.UNEXPECTED_MESSAGE_SENDER,n);return a;},d);},error:g.error});},d);},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},timeout:function(){g.timeout();},error:function(a){g.error(a);}});},d);},sendReceive:function(h,l,m,v,w,z,g,d,a){var f;function b(b,p){r(a,function(){z.setRenewable(p);this.send(h,l,m,w,z,g,{result:function(c){r(a,function(){var k;k=c.requestHeader.keyRequestData;d||c.handshake||!k.isEmpty()?this.receive(h,l,m,v,c.requestHeader,g,{result:function(k){r(a,function(){p&&this.releaseRenewalLock(l,b,k);return new J(k,c);},f);},timeout:function(){r(a,function(){p&&this.releaseRenewalLock(l,b,null);a.timeout();},f);},error:function(c){r(a,function(){p&&this.releaseRenewalLock(l,b,null);throw c;},f);}}):r(a,function(){p&&this.releaseRenewalLock(l,b,null);return new J(null,c);},f);},f);},timeout:function(){r(a,function(){p&&this.releaseRenewalLock(l,b,null);a.timeout();},f);},error:function(c){r(a,function(){p&&this.releaseRenewalLock(l,b,null);throw c;},f);}});},f);}f=this;r(a,function(){var f;f=new ic();this.acquireRenewalLock(h,l,m,f,z,g,{result:function(a){b(f,a);},timeout:function(){a.timeout();},error:function(b){b instanceof cb?a.result(null):a.error(b);}});},f);},acquireRenewalLock:function(h,l,m,v,w,z,g){var b;function d(f,t,p){r(g,function(){var q,n;if(h.isAborted())throw new cb("acquireRenewalLock aborted.");for(var c=null,k=0;k<this._renewingContexts.length;++k){q=this._renewingContexts[k];if(q.ctx===l){c=q.queue;break;}}if(!c)return this._renewingContexts.push({ctx:l,queue:v}),!0;n=c.poll(z,{result:function(k){r(g,function(){var b;if(k===la)throw new cb("acquireRenewalLock aborted.");c.add(k);if(k===qa||k.isExpired())d(k,t,p);else{if(p&&!t||t&&!t.isBoundTo(k)){b=l.getMslStore().getUserIdToken(p);t=b&&b.isBoundTo(k)?b:null;}w.setAuthTokens(k,t);w.isRenewable()&&k.equals(f)?d(k,t,p):m.isRequestingTokens()&&!t?d(k,t,p):a(k,t);}},b);},timeout:function(){},error:function(a){}});h.setAbort(function(){n&&(c.cancel(n),n=la);});},b);}function a(a,d){r(g,function(){var k;if(h.isAborted())throw new cb("acquireRenewalLock aborted.");if(!a||a.isRenewable()||!d&&m.getUserId()||d&&d.isRenewable()){for(var b=null,c=0;c<this._renewingContexts.length;++c){k=this._renewingContexts[c];if(k.ctx===l){b=k.queue;break;}}if(!b)return this._renewingContexts.push({ctx:l,queue:v}),!0;}return!1;},b);}b=this;r(g,function(){var b,t,p;b=w.getMasterToken();t=w.getUserIdToken();p=m.getUserId();m.isEncrypted()&&!w.willEncryptPayloads()||m.isIntegrityProtected()&&!w.willIntegrityProtectPayloads()||w.isRenewable()||!b&&m.isNonReplayable()||b&&b.isExpired()||!(t||!p||w.willEncryptHeader()&&w.willIntegrityProtectHeader())||m.isRequestingTokens()&&(!b||p&&!t)?d(b,t,p):a(b,t);},b);},releaseRenewalLock:function(h,l,m){var g;for(var v,w,r=0;r<this._renewingContexts.length;++r){g=this._renewingContexts[r];if(g.ctx===h){v=r;w=g.queue;break;}}if(w!==l)throw new ga("Attempt to release renewal lock that is not owned by this queue.");m?(m=m.messageHeader)?(w=m.keyResponseData)?l.add(w.masterToken):(h=h.isPeerToPeer()?m.peerMasterToken:m.masterToken)?l.add(h):l.add(qa):l.add(qa):l.add(qa);this._renewingContexts.splice(v,1);}});re=ma.Class.create({init:function(){var h;h={_impl:{value:new ba(),writable:!1,enumerable:!1,configurable:!1},_shutdown:{value:!1,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},setFilterFactory:function(h){this._impl.setFilterFactory(h);},shutdown:function(){this._shutdown=!0;},receive:function(h,l,m,v,w,r){var g;if(this._shutdown)throw new F("MslControl is shutdown.");g=new B(this._impl,h,l,m,v,w);setTimeout(function(){g.call(r);},0);return H(g);},respond:function(h,l,m,v,w,r,g){var d;if(this._shutdown)throw new F("MslControl is shutdown.");d=new R(this._impl,h,l,m,v,w,r);setTimeout(function(){d.call(g);},0);return H(d);},error:function(h,l,m,v,w,r,g){var d;if(this._shutdown)throw new F("MslControl is shutdown.");d=new xa(this._impl,h,l,m,v,w,r);setTimeout(function(){d.call(g);},0);return H(d);},request:function(h,l){var m,v,w,r,g,d;if(this._shutdown)throw new F("MslControl is shutdown.");if(5==arguments.length){if(m=arguments[2],w=v=null,r=arguments[3],g=arguments[4],h.isPeerToPeer()){g.error(new ga("This method cannot be used in peer-to-peer mode."));return;}}else if(6==arguments.length&&(m=null,v=arguments[2],w=arguments[3],r=arguments[4],g=arguments[5],!h.isPeerToPeer())){g.error(new ga("This method cannot be used in trusted network mode."));return;}d=new fa(this._impl,h,l,m,v,w,null,0,r);setTimeout(function(){d.call(g);},0);return H(d);}});B=ma.Class.create({init:function(h,l,m,v,w,r){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:m,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:r,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var C;function m(m){r(l,function(){var g;g=m.messageHeader;if(!g)return m;this.setAbort(function(){m.abort();});m.mark(Number.MAX_VALUE);m.read(1,C._timeout,{result:function(d){r(l,function(){if(d&&0==d.length)return null;if(d)return m.reset(),m;w(m);},C);},timeout:function(){l.timeout();},error:function(d){r(l,function(){var a,b,f;if(v(d))return null;a=g?g.messageId:null;d instanceof Za?(b=h.MSL_COMMS_FAILURE,f=d):(b=h.INTERNAL_EXCEPTION,f=new ga("Error peeking into the message payloads."));E(this,this._ctx,this._msgCtx.getDebugContext(),a,b,null,this._output,this._timeout,{result:function(a){l.error(f);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new ib("Error peeking into the message payloads.",a,d);},C);}});},C);}});},C);}function w(m){r(l,function(){m.close();this._ctrl.buildResponse(this,this._ctx,this._msgCtx,m.messageHeader,this._timeout,{result:function(g){r(l,function(){var d,a,b,f,t;d=g.builder;a=g.tokenTicket;b=m.messageHeader;f=new Z(this._msgCtx);if(!this._ctx.isPeerToPeer()||b.isEncrypting()||b.keyResponseData)z(b,d,f,a);else{t=new fa(this._ctrl,this._ctx,f,null,this._input,this._output,g,1,this._timeout);this.setAbort(function(){t.abort();});t.call(l);}},C);},timeout:function(){l.timeout();},error:function(g){r(l,function(){var d,a,b,f;if(v(g))return null;g instanceof F?(d=g.messageId,a=g.error,b=m.messageHeader.messageCapabilities,b=this._ctrl.messageRegistry.getUserMessage(a,b?b.languages:null),f=g):(d=requestHeader?requestHeader.messageId:null,a=h.INTERNAL_EXCEPTION,b=null,f=new ga("Error creating an automatic handshake response.",g));E(this,this._ctx,this._msgCtx.getDebugContext(),d,a,b,this._output,this._timeout,{result:function(a){l.error(f);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new ib("Error creating an automatic handshake response.",a,g);},C);}});},C);}});},C);}function z(m,g,d,a){r(l,function(){g.setRenewable(!1);this._ctrl.send(this._ctx,d,this._output,g,this._timeout,{result:function(b){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);return null;},C);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);l.timeout();},C);},error:function(b){r(l,function(){var f,d,p,c;this._ctx.isPeerToPeer()&&this._ctrl.releaseMasterToken(a);if(v(b))return null;b instanceof F?(f=b.messageId,d=b.error,p=m?m.messageCapabilities:null,p=this._ctrl.messageRegistry.getUserMessage(d,p?p.languages:null),c=b):b instanceof Za?(f=m?m.messageId:null,d=h.MSL_COMMS_FAILURE,p=null,c=b):(f=m?m.messageId:null,d=h.INTERNAL_EXCEPTION,p=null,c=new ga("Error sending an automatic handshake response.",b));E(this,this._ctx,this._msgCtx.getDebugContext(),f,d,p,this._output,this._timeout,{result:function(a){l.error(c);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new ib("Error sending an automatic handshake response.",a,b);},C);}});},C);}});},C);}C=this;r(l,function(){this._ctrl.receive(this,this._ctx,this._msgCtx,this._input,null,this._timeout,{result:function(h){m(h);},timeout:function(){l.timeout();},error:function(m){r(l,function(){var g,d,a,b;if(v(m))return null;m instanceof F?(g=m.messageId,d=m.error,a=this._ctrl.messageRegistry.getUserMessage(d,null),b=m):(g=null,d=h.INTERNAL_EXCEPTION,a=null,b=new ga("Error receiving the message header.",m));E(this,this._ctx,this._msgCtx.getDebugContext(),g,d,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return null;throw new ib("Error receiving the message header.",a,m);},C);}});},C);}});},C);}});R=ma.Class.create({init:function(h,l,m,v,w,r,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:m,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!1,enumerable:!1,configurable:!1},_output:{value:w,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},trustedNetworkExecute:function(l,m,w){var z;z=this;r(w,function(){var C,B;if(12<m+1)return!1;if(C=this._msgCtx.isIntegrityProtected()&&!l.willIntegrityProtectHeader()?h.RESPONSE_REQUIRES_INTEGRITY_PROTECTION:this._msgCtx.isEncrypted()&&!l.willEncryptPayloads()?h.RESPONSE_REQUIRES_ENCRYPTION:null){B=cc(l.getMessageId());E(this,this._ctx,this._msgCtx.getDebugContext(),B,C,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){r(w,function(){if(v(g))return!1;throw new ib("Response requires encryption or integrity protection but cannot be protected: "+C,g,null);},z);}});}else!this._msgCtx.getCustomer()||l.getMasterToken()||l.getKeyExchangeData()?(l.setRenewable(!1),this._ctrl.send(this._ctx,this._msgCtx,this._output,l,this._timeout,{result:function(g){w.result(!0);},timeout:function(){w.timeout();},error:function(g){w.error(g);}})):(B=cc(l.getMessageId()),E(this,this._ctx,this._msgCtx.getDebugContext(),B,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(g){w.result(!1);},timeout:function(){w.timeout();},error:function(g){r(w,function(){if(v(g))return!1;throw new ib("Response wishes to attach a user ID token but there is no master token.",g,null);},z);}}));},z);},peerToPeerExecute:function(l,m,w,z){var B;function C(g){r(z,function(){var d;d=g.response;d.close();d=d.getErrorHeader();this._ctrl.cleanupContext(this._ctx,g.requestHeader,d);this._ctrl.buildErrorResponse(this,this._ctx,l,g,d,{result:function(a){r(z,function(){var b,f;if(!a)return!1;b=a.errorResult;f=a.tokenTicket;this.peerToPeerExecute(b.msgCtx,b.builder,w,{result:function(a){r(z,function(){this._ctrl.releaseMasterToken(f);return a;},B);},timeout:function(){r(z,function(){this._ctrl.releaseMasterToken(f);z.timeout();},B);},error:function(a){r(z,function(){this._ctrl.releaseMasterToken(f);throw a;},B);}});},B);}});},B);}B=this;r(z,function(){var g;if(12<w+2)return!1;if(null!=l.getCustomer()&&null==m.getPeerMasterToken()&&null==m.getKeyExchangeData()){g=cc(m.getMessageId());E(this,this._ctx,l.getDebugContext(),g,h.RESPONSE_REQUIRES_MASTERTOKEN,null,this._output,this._timeout,{result:function(d){z.result(!1);},timeout:function(){z.timeout();},error:function(d){r(z,function(){if(v(d))return!1;throw new ib("Response wishes to attach a user ID token but there is no master token.",d,null);},B);}});}else this._ctrl.sendReceive(this._ctx,l,this._input,this._output,m,this._timeout,!1,{result:function(d){r(z,function(){var f,t,p;function a(){f.read(32768,B._timeout,{result:function(c){r(z,function(){c?a():b();},B);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});}function b(){r(z,function(){var a;a=new ya(d.payloads,l);this._ctrl.buildResponse(this,this._ctx,a,t,this._timeout,{result:function(c){r(z,function(){var k;k=c.tokenTicket;this.peerToPeerExecute(a,c.builder,w,{result:function(a){r(z,function(){this._ctrl.releaseMasterToken(k);return a;},B);},timeout:function(){r(z,function(){this._ctrl.releaseMasterToken(k);z.timeout();},B);},error:function(a){r(z,function(){this._ctrl.releaseMasterToken(k);throw a;},B);}});},B);},timeout:function(){z.timeout();},error:function(a){z.error(a);}});},B);}f=d.response;w+=2;if(!f)return!0;t=f.getMessageHeader();if(t){p=d.payloads;p=0<p.length&&0<p[0].data.length;if(d.handshake&&p)a();else return!0;}else C(d);},B);},timeout:function(){z.timeout();},error:function(d){z.error(d);}});},B);},call:function(l){var m;m=this;this._ctrl.buildResponse(this,this._ctx,this._msgCtx,this._request,this._timeout,{result:function(w){r(l,function(){var z,C;z=w.builder;C=w.tokenTicket;this._ctx.isPeerToPeer()?this.peerToPeerExecute(this._msgCtx,z,3,{result:function(h){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);return h;},m);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);l.timeout();},m);},error:function(w){r(l,function(){var g,d,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);if(v(w))return!1;g=cc(z.getMessageId());w instanceof F?(d=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(d,a?a.languages:null),b=w):w instanceof Za?(d=h.MSL_COMMS_FAILURE,a=null,b=w):(d=h.INTERNAL_EXCEPTION,a=null,b=new ga("Error sending the response.",w));E(this,this._ctx,this._msgCtx.getDebugContext(),g,d,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new ib("Error sending the response.",a,null);},m);}});},m);}}):this.trustedNetworkExecute(z,3,{result:function(h){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);return h;},m);},timeout:function(){r(l,function(){this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);l.timeout();},m);},error:function(w){r(l,function(){var g,d,a,b;this._ctx.isPeerToPeer()&&this.releaseMasterToken(C);if(v(w))return!1;g=cc(z.getMessageId());w instanceof F?(d=w.error,a=this._request.messageCapabilities,a=this._ctrl.messageRegistry.getUserMessage(d,a?a.languages:null),b=w):w instanceof Za?(d=h.MSL_COMMS_FAILURE,a=null,b=w):(d=h.INTERNAL_EXCEPTION,a=null,b=new ga("Error sending the response.",w));E(this,this._ctx,this._msgCtx.getDebugContext(),g,d,a,this._output,this._timeout,{result:function(a){l.error(b);},timeout:function(){l.timeout();},error:function(a){r(l,function(){if(v(a))return!1;throw new ib("Error sending the response.",a,null);},m);}});},m);}});},m);},timeout:function(){l.timeout();},error:function(w){r(l,function(){var z,C,B,g;if(v(w))return!1;w instanceof F?(z=w.messageId,C=w.error,B=this._request.messageCapabilities,B=this._ctrl.messageRegistry.getUserMessage(C,B?B.languages:null),g=w):(z=null,C=h.INTERNAL_EXCEPTION,B=null,g=new ga("Error building the response.",w));E(this,this._ctx,this._msgCtx.getDebugContext(),z,C,B,this._output,this._timeout,{result:function(d){l.error(g);},timeout:function(){l.timeout();},error:function(d){r(l,function(){if(v(d))return null;throw new ib("Error building the response.",d,w);},m);}});},m);}});}});xa=ma.Class.create({init:function(h,l,m,w,v,r,g){Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:m,writable:!1,enumerable:!1,configurable:!1},_appError:{value:w,writable:!1,enumerable:!1,configurable:!1},_output:{value:output,writable:!1,enumerable:!1,configurable:!1},_request:{value:r,writable:!1,enumerable:!1,configurable:!1},_timeout:{value:g,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},call:function(l){var m;m=this;r(l,function(){var w,z;if(this._appError==ENTITY_REJECTED)w=this._request.masterToken?h.MASTERTOKEN_REJECTED_BY_APP:h.ENTITY_REJECTED_BY_APP;else if(this._appError==USER_REJECTED)w=this._request.userIdToken?h.USERIDTOKEN_REJECTED_BY_APP:h.USER_REJECTED_BY_APP;else throw new ga("Unhandled application error "+this._appError+".");z=this._request.messageCapabilities;z=this._ctrl.messageRegistry.getUserMessage(w,z?z.languages:null);E(this,this._ctx,this._msgCtx.getDebugContext(),this._request.messageId,w,z,this._output,this._timeout,{result:function(h){l.result(h);},timeout:l.timeout,error:function(h){r(l,function(){if(v(h))return!1;if(h instanceof F)throw h;throw new ga("Error building the error response.",h);},m);}});},m);}});va={result:function(){},timeout:function(){},error:function(){}};fa=ma.Class.create({init:function(h,l,m,w,v,r,g,d,a){var b;g?(b=g.builder,g=g.tokenTicket):g=b=null;Object.defineProperties(this,{_ctrl:{value:h,writable:!1,enumerable:!1,configurable:!1},_ctx:{value:l,writable:!1,enumerable:!1,configurable:!1},_msgCtx:{value:m,writable:!1,enumerable:!1,configurable:!1},_remoteEntity:{value:w,writable:!1,enumerable:!1,configurable:!1},_input:{value:v,writable:!0,enumerable:!1,configurable:!1},_output:{value:r,writable:!0,enumerable:!1,configurable:!1},_openedStreams:{value:!1,writable:!0,enumerable:!1,configurable:!1},_builder:{value:b,writable:!0,enumerable:!1,configurable:!1},_tokenTicket:{value:g,writable:!0,enumerable:!1,configurable:!1},_timeout:{value:a,writable:!1,enumerable:!1,configurable:!1},_msgCount:{value:d,writable:!1,enumerable:!1,configurable:!1},_aborted:{value:!1,writable:!0,enumerable:!1,configurable:!1},_abortFunc:{value:la,writable:!0,enumerable:!1,configurable:!1}});},isAborted:function(){return this._aborted;},abort:function(){this._aborted=!0;this._abortFunc&&this._abortFunc.call(this);},setAbort:function(h){this._abortFunc=h;},execute:function(h,l,m,w,v){var d;function z(a){function b(b){r(v,function(){var f;f=a.response;return b?b:f;},d);}r(v,function(){var f,t;f=a.response;f.close();t=f.getErrorHeader();this._ctrl.cleanupContext(this._ctx,a.requestHeader,t);this._ctrl.buildErrorResponse(this,this._ctx,h,a,t,m,{result:function(a){r(v,function(){var c,k,q,n;if(!a)return f;c=a.errorResult;k=a.tokenTicket;q=c.builder;c=c.msgCtx;if(this._ctx.isPeerToPeer())this.execute(c,q,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);b(a);},d);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(k);v.timeout();},d);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);v.error(a);},d);}});else{this._openedStreams&&(this._input.close(),this._output.close(m,va));n=new fa(this._ctrl,this._ctx,c,this._remoteEntity,null,null,{builder:q,tokenTicket:k},w,this._timeout);this.setAbort(function(){n.abort();});n.call({result:function(a){b(a);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},d);}function g(a){r(v,function(){var t,p,c,k,q;function b(){t.read(32768,d._timeout,{result:function(a){a?b():f();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function f(){r(v,function(){var c;c=new ya(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,p,m,{result:function(a){r(v,function(){var k;k=a.tokenTicket;this.execute(c,a.builder,this._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);return a;},d);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(k);v.timeout();},d);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);throw a;},d);}});},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},d);}t=a.response;p=t.getMessageHeader();c=a.payloads;c=0<c.length&&0<c[0].data.length;if(!this._ctx.isPeerToPeer()){if(!a.handshake||!c)return t;this._openedStreams&&(this._input.close(),this._output.close(m,va));k=new ya(a.payloads,h);this._ctrl.buildResponse(this,this._ctx,h,p,m,{result:function(a){r(v,function(){var c;c=new fa(this._ctrl,this._ctx,k,this._remoteEntity,null,null,a,w,this._timeout);this.setAbort(function(){c.abort();});c.call(v);},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}else if(a.handshake&&c)b();else if(0<p.keyRequestData.length){q=new Z(h);this._ctrl.buildResponse(this,this._ctx,q,p,m,{result:function(a){r(v,function(){var c,k;c=a.builder;k=a.tokenTicket;t.mark();t.read(1,this._timeout,{result:function(a){r(v,function(){function b(){t.read(32768,d._timeout,{result:function(a){a?b():f();},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}function f(){d.execute(q,c,d._timeout,w,{result:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);return a;},d);},timeout:function(){r(v,function(){this._ctrl.releaseMasterToken(k);v.timeout();},d);},error:function(a){r(v,function(){this._ctrl.releaseMasterToken(k);throw a;},d);}});}if(a)if(t.reset(),12>=w+1)c.setRenewable(!1),this._ctrl.send(this,this._ctx,q,this._output,c,this._timeout,{result:function(a){r(v,function(){this.releaseMasterToken(k);return t;},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});else return this.releaseMasterToken(k),t;else b();},d);},timeout:function(){r(v,function(){this.releaseMasterToken(k);v.timeout();},d);},error:function(a){r(v,function(){this.releaseMasterToken(k);throw a;},d);}});},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});}},d);}d=this;r(v,function(){if(12<w+2)return null;this._ctrl.sendReceive(this,this._ctx,h,this._input,this._output,l,m,!0,{result:function(a){r(v,function(){var b;if(!a)return null;b=a.response;w+=2;b.getMessageHeader()?g(a):z(a);},d);},timeout:function(){v.timeout();},error:function(a){v.error(a);}});},d);},call:function(h){var m;function l(l,w,z){r(h,function(){this.execute(this._msgCtx,l,z,this._msgCount,{result:function(g){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&this._output.close(z,va);g&&g.closeSource(this._openedStreams);return g;},m);},timeout:function(){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(z,va),this._input.close());h.timeout();},m);},error:function(g){r(h,function(){this._ctrl.releaseMasterToken(w);this._openedStreams&&(this._output.close(z,va),this._input.close());if(v(g))return null;throw g;},m);}});},m);}m=this;r(h,function(){var w,z,E;w=this._timeout;if(!this._input||!this._output)try{this._remoteEntity.setTimeout(this._timeout);z=Date.now();E=this._remoteEntity.openConnection();this._output=E.output;this._input=E.input;-1!=w&&(w=this._timeout-(Date.now()-z));this._openedStreams=!0;}catch(g){this._builder&&this._ctrl.releaseMasterToken(this._tokenTicket);this._output&&this._output.close(this._timeout,va);this._input&&this._input.close();if(v(g))return null;throw g;}this._builder?l(this._builder,this._tokenTicket,w):this._ctrl.buildRequest(this,this._ctx,this._msgCtx,this._timeout,{result:function(g){r(h,function(){l(g.builder,g.tokenTicket,w);},m);},timeout:function(){r(h,function(){this._openedStreams&&(this._output.close(this._timeout,va),this._input.close());h.timeout();},m);},error:function(g){r(h,function(){this._openedStreams&&(this._output.close(this._timeout,va),this._input.close());if(v(g))return null;throw g;},m);}});},m);}});}());(function(){rd=ma.Class.create({init:function(h){Object.defineProperties(this,{id:{value:h,writable:!1,configurable:!1}});},toJSON:function(){var h;h={};h.id=this.id;return h;},equals:function(h){return this===h?!0:h instanceof rd?this.id==h.id:!1;},uniqueKey:function(){return this.id;}});se=function(l){var m;m=l.id;if(!m)throw new ka(h.JSON_PARSE_ERROR,JSON.stringify(l));return new rd(m);};}());ma.Class.create({isNewestMasterToken:function(h,l,m){},isMasterTokenRevoked:function(h,l){},acceptNonReplayableId:function(h,l,m,r){},createMasterToken:function(h,l,m,r,J){},isMasterTokenRenewable:function(h,l,m){},renewMasterToken:function(h,l,m,r,J){},isUserIdTokenRevoked:function(h,l,m,r){},createUserIdToken:function(h,l,m,r){},renewUserIdToken:function(h,l,m,r){}});(function(){function l(h,l,m,r){this.sessiondata=h;this.tokendata=l;this.signature=m;this.verified=r;}gb=ma.Class.create({init:function(h,l,r,J,v,E,H,F,M,ya,Z){var w;w=this;m(Z,function(){var z,C,aa,fa,ba;if(r.getTime()<l.getTime())throw new ga("Cannot construct a master token that expires before its renewal window opens.");if(0>J||J>Ma)throw new ga("Sequence number "+J+" is outside the valid range.");if(0>v||v>Ma)throw new ga("Serial number "+v+" is outside the valid range.");z=Math.floor(l.getTime()/1E3);C=Math.floor(r.getTime()/1E3);if(ya)aa=ya.sessiondata;else{fa={};E&&(fa.issuerdata=E);fa.identity=H;fa.encryptionkey=pa(F.toByteArray());fa.hmackey=pa(M.toByteArray());aa=Ta(JSON.stringify(fa),La);}if(ya)return Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:E,writable:!1,configurable:!1},identity:{value:H,writable:!1,configurable:!1},encryptionKey:{value:F,writable:!1,configurable:!1},hmacKey:{value:M,writable:!1,configurable:!1},sessiondata:{value:aa,writable:!1,enumerable:!1,configurable:!1},verified:{value:ya.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ya.tokendata,writable:!1,enumerable:!1,configurable:!1},signature:{value:ya.signature,writable:!1,enumerable:!1,configurable:!1}}),this;ba=h.getMslCryptoContext();ba.encrypt(aa,{result:function(l){m(Z,function(){var r,B;r={};r.renewalwindow=z;r.expiration=C;r.sequencenumber=J;r.serialnumber=v;r.sessiondata=pa(l);B=Ta(JSON.stringify(r),La);ba.sign(B,{result:function(l){m(Z,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},sequenceNumber:{value:J,writable:!1,enumerable:!1,configurable:!1},serialNumber:{value:v,writable:!1,enumerable:!1,configurable:!1},issuerData:{value:E,writable:!1,configurable:!1},identity:{value:H,writable:!1,configurable:!1},encryptionKey:{value:F,writable:!1,configurable:!1},hmacKey:{value:M,writable:!1,configurable:!1},sessiondata:{value:aa,writable:!1,enumerable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:B,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){Z.error(h);}});},w);},error:function(h){Z.error(h);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isDecrypted:function(){return this.sessiondata?!0:!1;},isVerified:function(){return this.verified;},isRenewable:function(h){return this.isVerified()?this.renewalWindow.getTime()<=this.ctx.getTime():!0;},isExpired:function(h){return this.isVerified()?this.expiration.getTime()<=this.ctx.getTime():!1;},isNewerThan:function(h){var l;if(this.sequenceNumber==h.sequenceNumber)return this.expiration>h.expiration;if(this.sequenceNumber>h.sequenceNumber){l=this.sequenceNumber-Ma+127;return h.sequenceNumber>=l;}l=h.sequenceNumber-Ma+127;return this.sequenceNumber<l;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof gb?this.serialNumber==h.serialNumber&&this.sequenceNumber==h.sequenceNumber&&this.expiration.getTime()==h.expiration.getTime():!1;},uniqueKey:function(){return this.serialNumber+":"+this.sequenceNumber+this.expiration.getTime();}});Sb=function(w,r,C){m(C,function(){var z,v,E,H,aa;z=w.getMslCryptoContext();v=r.tokendata;E=r.signature;if("string"!==typeof v||"string"!==typeof E)throw new ka(h.JSON_PARSE_ERROR,"mastertoken "+JSON.stringify(r));try{H=wa(v);}catch(Ea){throw new F(h.MASTERTOKEN_TOKENDATA_INVALID,"mastertoken "+JSON.stringify(r),Ea);}if(!H||0==H.length)throw new ka(h.MASTERTOKEN_TOKENDATA_MISSING,"mastertoken "+JSON.stringify(r));try{aa=wa(E);}catch(Ea){throw new F(h.MASTERTOKEN_SIGNATURE_INVALID,"mastertoken "+JSON.stringify(r),Ea);}z.verify(H,aa,{result:function(v){m(C,function(){var r,E,J,B,R,M,fa,ba,va,Ca;M=Wa(H,La);try{fa=JSON.parse(M);r=parseInt(fa.renewalwindow);E=parseInt(fa.expiration);J=parseInt(fa.sequencenumber);B=parseInt(fa.serialnumber);R=fa.sessiondata;}catch(ua){if(ua instanceof SyntaxError)throw new ka(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+M,ua);throw ua;}if(!r||r!=r||!E||E!=E||"number"!==typeof J||J!=J||"number"!==typeof B||B!=B||"string"!==typeof R)throw new ka(h.MASTERTOKEN_TOKENDATA_PARSE_ERROR,"mastertokendata "+M);if(E<r)throw new F(h.MASTERTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+M);if(0>J||J>Ma)throw new F(h.MASTERTOKEN_SEQUENCE_NUMBER_OUT_OF_RANGE,"mastertokendata "+M);if(0>B||B>Ma)throw new F(h.MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"mastertokendata "+M);ba=new Date(1E3*r);va=new Date(1E3*E);try{Ca=wa(R);}catch(ua){throw new F(h.MASTERTOKEN_SESSIONDATA_INVALID,R,ua);}if(!Ca||0==Ca.length)throw new F(h.MASTERTOKEN_SESSIONDATA_MISSING,R);v?z.decrypt(Ca,{result:function(r){m(C,function(){var z,E,F,R,Z,fa;Z=Wa(r,La);try{fa=JSON.parse(Z);z=fa.issuerdata;E=fa.identity;F=fa.encryptionkey;R=fa.hmackey;}catch(g){if(g instanceof SyntaxError)throw new ka(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+Z,g);throw g;}if(z&&"object"!==typeof z||!E||"string"!==typeof F||"string"!==typeof R)throw new ka(h.MASTERTOKEN_SESSIONDATA_PARSE_ERROR,"sessiondata "+Z);vb(F,ob,Fb,{result:function(g){vb(R,pb,Rb,{result:function(d){m(C,function(){var a;a=new l(r,H,aa,v);new gb(w,ba,va,J,B,z,E,g,d,a,C);});},error:function(d){C.error(new P(h.MASTERTOKEN_KEY_CREATION_ERROR,d));}});},error:function(g){C.error(new P(h.MASTERTOKEN_KEY_CREATION_ERROR,g));}});});},error:function(h){C.error(h);}}):(r=new l(null,H,aa,v),new gb(w,ba,va,J,B,null,null,null,null,r,C));});},error:function(h){C.error(h);}});});};}());(function(){function l(h,l,m){this.tokendata=h;this.signature=l;this.verified=m;}$b=ma.Class.create({init:function(h,l,r,J,v,E,H,aa,M){var w;w=this;m(M,function(){var z,C,B,R,xa,fa,ba;if(r.getTime()<l.getTime())throw new ga("Cannot construct a user ID token that expires before its renewal window opens.");if(!J)throw new ga("Cannot construct a user ID token without a master token.");if(0>v||v>Ma)throw new ga("Serial number "+v+" is outside the valid range.");z=Math.floor(l.getTime()/1E3);C=Math.floor(r.getTime()/1E3);B=J.serialNumber;if(aa){R=aa.tokendata;xa=aa.signature;fa=aa.verified;B=J.serialNumber;Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:B,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:E,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:fa,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:R,writable:!1,enumerable:!1,configurable:!1},signature:{value:xa,writable:!1,enumerable:!1,configurable:!1}});return this;}R={};E&&(R.issuerdata=E);R.identity=H;R=Ta(JSON.stringify(R),La);ba=h.getMslCryptoContext();ba.encrypt(R,{result:function(l){m(M,function(){var r,R;r={};r.renewalwindow=z;r.expiration=C;r.mtserialnumber=B;r.serialnumber=v;r.userdata=pa(l);R=Ta(JSON.stringify(r),La);ba.sign(R,{result:function(l){m(M,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},renewalWindowSeconds:{value:z,writable:!1,enumerable:!1,configurable:!1},expirationSeconds:{value:C,writable:!1,enumerable:!1,configurable:!1},mtSerialNumber:{value:J.serialNumber,writable:!1,configurable:!1},serialNumber:{value:v,writable:!1,configurable:!1},issuerData:{value:E,writable:!1,configurable:!1},customer:{value:H,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:R,writable:!1,enumerable:!1,configurable:!1},signature:{value:l,writable:!1,enumerable:!1,configurable:!1}});return this;},w);},error:function(h){m(M,function(){h instanceof F&&h.setEntity(J);throw h;},w);}});},w);},error:function(h){m(M,function(){h instanceof F&&h.setEntity(J);throw h;},w);}});},this);},get renewalWindow(){return new Date(1E3*this.renewalWindowSeconds);},get expiration(){return new Date(1E3*this.expirationSeconds);},isVerified:function(){return this.verified;},isDecrypted:function(){return this.customer?!0:!1;},isRenewable:function(){return this.renewalWindow.getTime()<=this.ctx.getTime();},isExpired:function(){return this.expiration.getTime()<=this.ctx.getTime();},isBoundTo:function(h){return h&&h.serialNumber==this.mtSerialNumber;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof $b?this.serialNumber==h.serialNumber&&this.mtSerialNumber==h.mtSerialNumber:!1;},uniqueKey:function(){return this.serialNumber+":"+this.mtSerialNumber;}});Tb=function(w,r,C,J){m(J,function(){var v,z,H,aa,M;v=w.getMslCryptoContext();z=r.tokendata;H=r.signature;if("string"!==typeof z||"string"!==typeof H)throw new ka(h.JSON_PARSE_ERROR,"useridtoken "+JSON.stringify(r)).setEntity(C);try{aa=wa(z);}catch(ya){throw new F(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),ya).setEntity(C);}if(!aa||0==aa.length)throw new ka(h.USERIDTOKEN_TOKENDATA_MISSING,"useridtoken "+JSON.stringify(r)).setEntity(C);try{M=wa(H);}catch(ya){throw new F(h.USERIDTOKEN_TOKENDATA_INVALID,"useridtoken "+JSON.stringify(r),ya).setEntity(C);}v.verify(aa,M,{result:function(r){m(J,function(){var z,E,B,H,xa,fa,ba,va,Ca,Ea;fa=Wa(aa,La);try{ba=JSON.parse(fa);z=parseInt(ba.renewalwindow);E=parseInt(ba.expiration);B=parseInt(ba.mtserialnumber);H=parseInt(ba.serialnumber);xa=ba.userdata;}catch(ha){if(ha instanceof SyntaxError)throw new ka(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+fa,ha).setEntity(C);throw ha;}if(!z||z!=z||!E||E!=E||"number"!==typeof B||B!=B||"number"!==typeof H||H!=H||"string"!==typeof xa)throw new ka(h.USERIDTOKEN_TOKENDATA_PARSE_ERROR,"usertokendata "+fa).setEntity(C);if(E<z)throw new F(h.USERIDTOKEN_EXPIRES_BEFORE_RENEWAL,"mastertokendata "+fa).setEntity(C);if(0>B||B>Ma)throw new F(h.USERIDTOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+fa).setEntity(C);if(0>H||H>Ma)throw new F(h.USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"usertokendata "+fa).setEntity(C);va=new Date(1E3*z);Ca=new Date(1E3*E);if(!C||B!=C.serialNumber)throw new F(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+B+"; mt "+JSON.stringify(C)).setEntity(C);try{Ea=wa(xa);}catch(ha){throw new F(h.USERIDTOKEN_USERDATA_INVALID,xa,ha).setEntity(C);}if(!Ea||0==Ea.length)throw new F(h.USERIDTOKEN_USERDATA_MISSING,xa).setEntity(C);r?v.decrypt(Ea,{result:function(v){m(J,function(){var m,z,E,B,R;E=Wa(v,La);try{B=JSON.parse(E);m=B.issuerdata;z=B.identity;}catch(g){if(g instanceof SyntaxError)throw new ka(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+E).setEntity(C);throw g;}if(m&&"object"!==typeof m||"object"!==typeof z)throw new ka(h.USERIDTOKEN_USERDATA_PARSE_ERROR,"userdata "+E).setEntity(C);try{R=se(z);}catch(g){throw new F(h.USERIDTOKEN_IDENTITY_INVALID,"userdata "+E,g).setEntity(C);}z=new l(aa,M,r);new $b(w,va,Ca,C,H,m,R,z,J);});},error:function(h){m(J,function(){h instanceof F&&h.setEntity(C);throw h;});}}):(z=new l(aa,M,r),new $b(w,va,Ca,C,H,null,null,z,J));});},error:function(h){m(J,function(){h instanceof F&&h.setEntity(C);throw h;});}});});};}());(function(){function l(l,m){var w,v,r;w=l.tokendata;if("string"!==typeof w)throw new ka(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));try{v=wa(w);}catch(Ca){throw new F(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(l),Ca);}if(!v||0==v.length)throw new ka(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(l));try{r=JSON.parse(Wa(v,La)).name;}catch(Ca){if(Ca instanceof SyntaxError)throw new ka(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l),Ca);throw Ca;}if(!r)throw new ka(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(l));return m[r]?m[r]:m[""];}function w(h,l,m){this.tokendata=h;this.signature=l;this.verified=m;}Ib=ma.Class.create({init:function(h,l,w,v,r,H,aa,M,P,Z){var z;z=this;m(Z,function(){var E,C,J,fa,ba;if(v&&r&&!r.isBoundTo(v))throw new ga("Cannot construct a service token bound to a master token and user ID token where the user ID token is not bound to the same master token.");E=v?v.serialNumber:-1;C=r?r.serialNumber:-1;if(P)return ba=P.tokendata,Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:E,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},verified:{value:P.verified,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:P.signature,writable:!1,enumerable:!1,configurable:!1}}),this;aa?(J=qd(aa,w),J.length<w.length||(aa=null,J=w)):(aa=null,J=w);fa={};fa.name=l;-1!=E&&(fa.mtserialnumber=E);-1!=C&&(fa.uitserialnumber=C);fa.encrypted=H;aa&&(fa.compressionalgo=aa);if(H&&0<J.length)M.encrypt(J,{result:function(B){m(Z,function(){var J;fa.servicedata=pa(B);J=Ta(JSON.stringify(fa),La);M.sign(J,{result:function(v){m(Z,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:E,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:J,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},z);},error:function(h){m(Z,function(){h instanceof F&&(h.setEntity(v),h.setUser(r));throw h;});}});},z);},error:function(h){m(Z,function(){h instanceof F&&(h.setEntity(v),h.setUser(r));throw h;});}});else{fa.servicedata=pa(J);ba=Ta(JSON.stringify(fa),La);M.sign(ba,{result:function(v){m(Z,function(){Object.defineProperties(this,{ctx:{value:h,writable:!1,enumerable:!1,configurable:!1},name:{value:l,writable:!1,configurable:!1},mtSerialNumber:{value:E,writable:!1,configurable:!1},uitSerialNumber:{value:C,writable:!1,configurable:!1},data:{value:w,writable:!1,configurable:!1},encrypted:{value:H,writable:!1,enumerable:!1,configurable:!1},compressionAlgo:{value:aa,writable:!1,configurable:!1},verified:{value:!0,writable:!1,enumerable:!1,configurable:!1},tokendata:{value:ba,writable:!1,enumerable:!1,configurable:!1},signature:{value:v,writable:!1,enumerable:!1,configurable:!1}});return this;},z);},error:function(h){m(Z,function(){h instanceof F&&(h.setEntity(v),h.setUser(r));throw h;});}});}},this);},isEncrypted:function(){return this.encrypted;},isVerified:function(){return this.verified;},isDecrypted:function(){return this.data?!0:!1;},isDeleted:function(){return this.data&&0==this.data.length;},isMasterTokenBound:function(){return-1!=this.mtSerialNumber;},isBoundTo:function(h){return h?h instanceof gb?h.serialNumber==this.mtSerialNumber:h instanceof $b?h.serialNumber==this.uitSerialNumber:!1:!1;},isUserIdTokenBound:function(){return-1!=this.uitSerialNumber;},isUnbound:function(){return-1==this.mtSerialNumber&&-1==this.uitSerialNumber;},toJSON:function(){var h;h={};h.tokendata=pa(this.tokendata);h.signature=pa(this.signature);return h;},equals:function(h){return this===h?!0:h instanceof Ib?this.name==h.name&&this.mtSerialNumber==h.mtSerialNumber&&this.uitSerialNumber==h.uitSerialNumber:!1;},uniqueKey:function(){return this.name+":"+this.mtSerialNumber+":"+this.uitSerialNumber;}});zb=function(h,l,m,v,w,r,H,F,M){new Ib(h,l,m,v,w,r,H,F,null,M);};Ic=function(r,C,J,v,E,H){m(H,function(){var z,M,P,Z,qa,B,R,xa,fa,ba,va,Ca,ua;!E||E instanceof ac||(E=l(C,E));z=C.tokendata;M=C.signature;if("string"!==typeof z||"string"!==typeof M)throw new ka(h.JSON_PARSE_ERROR,"servicetoken "+JSON.stringify(C)).setEntity(J).setEntity(v);try{P=wa(z);}catch(ha){throw new F(h.SERVICETOKEN_TOKENDATA_INVALID,"servicetoken "+JSON.stringify(C),ha).setEntity(J).setEntity(v);}if(!P||0==P.length)throw new ka(h.SERVICETOKEN_TOKENDATA_MISSING,"servicetoken "+JSON.stringify(C)).setEntity(J).setEntity(v);try{Z=wa(M);}catch(ha){throw new F(h.SERVICETOKEN_SIGNATURE_INVALID,"servicetoken "+JSON.stringify(C),ha).setEntity(J).setEntity(v);}va=Wa(P,La);try{Ca=JSON.parse(va);qa=Ca.name;B=Ca.mtserialnumber?parseInt(Ca.mtserialnumber):-1;R=Ca.uitserialnumber?parseInt(Ca.uitserialnumber):-1;xa=Ca.encrypted;fa=Ca.compressionalgo;ba=Ca.servicedata;}catch(ha){if(ha instanceof SyntaxError)throw new ka(h.JSON_PARSE_ERROR,"servicetokendata "+va,ha).setEntity(J).setEntity(v);throw ha;}if(!qa||"number"!==typeof B||B!=B||"number"!==typeof R||R!=R||"boolean"!==typeof xa||fa&&"string"!==typeof fa||"string"!==typeof ba)throw new ka(h.JSON_PARSE_ERROR,"servicetokendata "+va).setEntity(J).setEntity(v);if(Ca.mtserialnumber&&0>B||B>Ma)throw new F(h.SERVICETOKEN_MASTERTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+va).setEntity(J).setEntity(v);if(Ca.uitserialnumber&&0>R||R>Ma)throw new F(h.SERVICETOKEN_USERIDTOKEN_SERIAL_NUMBER_OUT_OF_RANGE,"servicetokendata "+va).setEntity(J).setEntity(v);if(-1!=B&&(!J||B!=J.serialNumber))throw new F(h.SERVICETOKEN_MASTERTOKEN_MISMATCH,"st mtserialnumber "+B+"; mt "+J).setEntity(J).setEntity(v);if(-1!=R&&(!v||R!=v.serialNumber))throw new F(h.SERVICETOKEN_USERIDTOKEN_MISMATCH,"st uitserialnumber "+R+"; uit "+v).setEntity(J).setEntity(v);xa=!0===xa;if(fa){if(!Ob[fa])throw new F(h.UNIDENTIFIED_COMPRESSION,fa);ua=fa;}else ua=null;E?E.verify(P,Z,{result:function(l){m(H,function(){var z,C;if(l){try{z=wa(ba);}catch(jd){throw new F(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+va,jd).setEntity(J).setEntity(v);}if(!z||0!=ba.length&&0==z.length)throw new F(h.SERVICETOKEN_SERVICEDATA_INVALID,"servicetokendata "+va).setEntity(J).setEntity(v);if(xa&&0<z.length)E.decrypt(z,{result:function(h){m(H,function(){var m,z;m=ua?Jc(ua,h):h;z=new w(P,Z,l);new Ib(r,qa,m,-1!=B?J:null,-1!=R?v:null,xa,ua,E,z,H);});},error:function(h){m(H,function(){h instanceof F&&(h.setEntity(J),h.setUser(v));throw h;});}});else{z=ua?Jc(ua,z):z;C=new w(P,Z,l);new Ib(r,qa,z,-1!=B?J:null,-1!=R?v:null,xa,ua,E,C,H);}}else z=""==ba?new Uint8Array(0):null,C=new w(P,Z,l),new Ib(r,qa,z,-1!=B?J:null,-1!=R?v:null,xa,ua,E,C,H);});},error:function(h){m(H,function(){h instanceof F&&(h.setEntity(J),h.setUser(v));throw h;});}}):(z=""==ba?new Uint8Array(0):null,M=new w(P,Z,!1),new Ib(r,qa,z,-1!=B?J:null,-1!=R?v:null,xa,ua,E,M,H));});};}());db={EMAIL_PASSWORD:"EMAIL_PASSWORD",NETFLIXID:"NETFLIXID",SSO:"SSO",SWITCH_PROFILE:"SWITCH_PROFILE",MDX:"MDX"};Object.freeze(db);(function(){Eb=ma.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},getAuthData:function(){},equals:function(h){return this===h?!0:h instanceof Eb?this.scheme==h.scheme:!1;},toJSON:function(){var h;h={};h.scheme=this.scheme;h.authdata=this.getAuthData();return h;}});he=function(l,w,r,C){m(C,function(){var m,v,z;m=r.scheme;v=r.authdata;if(!m||!v)throw new ka(h.JSON_PARSE_ERROR,"userauthdata "+JSON.stringify(r));if(!db[m])throw new Da(h.UNIDENTIFIED_USERAUTH_SCHEME,m);z=l.getUserAuthenticationFactory(m);if(!z)throw new Da(h.USERAUTH_FACTORY_NOT_FOUND,m);z.createData(l,w,v,C);});};}());nc=ma.Class.create({init:function(h){Object.defineProperties(this,{scheme:{value:h,writable:!1,configurable:!1}});},createData:function(h,l,m,r){},authenticate:function(h,l,m,r){}});(function(){Wb=Eb.extend({init:function w(h,l){w.base.call(this,db.NETFLIXID);Object.defineProperties(this,{netflixId:{value:h,writable:!1,configurable:!1},secureNetflixId:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.netflixid=this.netflixId;this.secureNetflixId&&(h.securenetflixid=this.secureNetflixId);return h;},equals:function z(h){return this===h?!0:h instanceof Wb?z.base.call(this,h)&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId:!1;}});te=function(l){var m,r;m=l.netflixid;r=l.securenetflixid;if(!m)throw new ka(h.JSON_PARSE_ERROR,"NetflixId authdata "+JSON.stringify(l));return new Wb(m,r);};}());We=nc.extend({init:function w(){w.base.call(this,db.NETFLIXID);},createData:function(h,l,r,J){m(J,function(){return te(r);});},authenticate:function(l,m,r,J){if(!(r instanceof Wb))throw new ga("Incorrect authentication data type "+r+".");l=r.secureNetflixId;if(!r.netflixId||!l)throw new Da(h.NETFLIXID_COOKIES_BLANK).setUser(r);throw new Da(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){oc=Eb.extend({init:function z(h,l){z.base.call(this,db.EMAIL_PASSWORD);Object.defineProperties(this,{email:{value:h,writable:!1,configurable:!1},password:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.email=this.email;h.password=this.password;return h;},equals:function C(h){return this===h?!0:h instanceof oc?C.base.call(this,this,h)&&this.email==h.email&&this.password==h.password:!1;}});ue=function(l){var m,v;m=l.email;v=l.password;if(!m||!v)throw new ka(h.JSON_PARSE_ERROR,"email/password authdata "+JSON.stringify(l));return new oc(m,v);};}());Xe=nc.extend({init:function z(){z.base.call(this,db.EMAIL_PASSWORD);},createData:function(h,l,r,v){m(v,function(){return ue(r);});},authenticate:function(l,m,r,v){if(!(r instanceof oc))throw new ga("Incorrect authentication data type "+r+".");l=r.password;if(!r.email||!l)throw new Da(h.EMAILPASSWORD_BLANK).setUser(r);throw new Da(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(r);}});(function(){var v,E,M,aa,Ea,ya,Z,qa;function l(h,l){return"<"+h+">"+l+"</"+h+">";}function r(h){return h.replace(/[<>&"']/g,function(h){return Ea[h];});}function J(h){return encodeURIComponent(h).replace("%20","+").replace(/[!'()]/g,escape).replace(/\*/g,"%2A");}v=Mc={MSL:"MSL",NTBA:"NTBA",MSL_LEGACY:"MSL_LEGACY"};E=ma.Class.create({getAction:function(){},getNonce:function(){},getPin:function(){},getSignature:function(){},getEncoding:function(){},equals:function(){}});M=sd=E.extend({init:function(l,v,r,z,E,C,J){var R;function B(z){m(J,function(){var m,C;try{C={};C.useridtoken=l;C.action=v;C.nonce=r;C.pin=pa(z);m=Ta(JSON.stringify(C),La);}catch(Hb){throw new ka(h.JSON_ENCODE_ERROR,"MSL-based MDX authdata",Hb);}E.sign(m,{result:function(h){F(m,h);},error:J.error});},R);}function F(h,E){m(J,function(){Object.defineProperties(this,{_userIdToken:{value:l,writable:!1,enumerable:!1,configurable:!1},_action:{value:v,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:r,writable:!1,enumerable:!1,configurable:!1},_pin:{value:z,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:h,writable:!1,enumerable:!1,configurable:!1},_signature:{value:E,writable:!1,enumerable:!1,configurable:!1}});return this;},R);}R=this;m(J,function(){C?F(C.encoding,C.signature):E.encrypt(Ta(z,La),{result:function(h){B(h);},error:J.error});},R);},getUserIdToken:function(){return this._userIdToken;},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof M?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin&&this._userIdToken.equals(h._userIdToken):!1;}});sd.ACTION="userauth";aa=function(l,v,r,z,E){function C(z){m(E,function(){var C,J,R,M,Z,aa;C=Wa(r,La);try{aa=JSON.parse(C);J=aa.useridtoken;R=aa.action;M=aa.nonce;Z=aa.pin;}catch(g){if(g instanceof SyntaxError)throw new ka(h.JSON_PARSE_ERROR,"MDX authdata "+C,g);throw g;}if(!(J&&"object"===typeof J&&R&&"string"===typeof R&&M&&"number"===typeof M&&Z)||"string"!==typeof Z)throw new ka(h.JSON_PARSE_ERROR,"MDX authdata "+C);Tb(l,J,v,{result:function(g){m(E,function(){if(!g.isDecrypted())throw new Da(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+C);B(z,g,R,M,Z);});},error:function(g){m(E,function(){if(g instanceof F)throw new Da(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+C,g);throw g;});}});});}function B(h,l,v,C,B){m(E,function(){var J;J=wa(B);h.decrypt(J,{result:function(h){m(E,function(){var g;g=Wa(h,La);new M(l,v,C,g,null,{encoding:r,signature:z},E);});},error:E.error});});}m(E,function(){var B,J;try{J=l.getMslStore().getCryptoContext(v);B=J?J:new hb(l,v);}catch(sb){if(sb instanceof Qb)throw new Da(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+pa(r));throw sb;}B.verify(r,z,{result:function(l){m(E,function(){if(!l)throw new P(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(r));C(B);});},error:E.error});});};Ea={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&apos;"};ya=pc=E.extend({init:function(h,m,v,z){var E,C;E=l("action",r(h));C=l("nonce",m.toString());v=l("pin",v);E=l("registerdata",E+C+v);E=Ta(E,"utf-8");Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:m,writable:!1,enumerable:!1,configurable:!1},_pin:{value:null,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:E,writable:!1,enumerable:!1,configurable:!1},_signature:{value:z,writable:!1,enumerable:!1,configurable:!1}});},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof ya?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});pc.ACTION="regpairrequest";Z=td=E.extend({init:function(h,v,z,E,C,F){var Z;function B(z){m(F,function(){var m,C,B,Z,g;m=pa(z);C=l("action",r(h));B=l("nonce",v.toString());Z=l("pin",m);C=l("registerdata",C+B+Z);g=Ta(C,"utf-8");m="action="+J(h)+"&nonce="+J(v.toString())+"&pin="+J(m);E.sign(Ta(m,"utf-8"),{result:function(d){M(g,d);},error:F.error});},Z);}function M(l,r){m(F,function(){Object.defineProperties(this,{_action:{value:h,writable:!1,enumerable:!1,configurable:!1},_nonce:{value:v,writable:!1,enumerable:!1,configurable:!1},_pin:{value:z,writable:!1,enumerable:!1,configurable:!1},_encoding:{value:l,writable:!1,enumerable:!1,configurable:!1},_signature:{value:r,writable:!1,enumerable:!1,configurable:!1}});return this;},Z);}Z=this;m(F,function(){C?M(C.encoding,C.signature):E.encrypt(Ta(z,"utf-8"),{result:function(h){B(h);},error:F.error});},Z);},getAction:function(){return this._action;},getNonce:function(){return this._nonce;},getPin:function(){return this._pin;},getSignature:function(){return this._signature;},getEncoding:function(){return this._encoding;},equals:function(h){return this===h?!0:h instanceof Z?this._action==h._action&&this._nonce==h._nonce&&this._pin==h._pin:!1;}});td.ACTION=pc.ACTION;qa=function(l,v,r,z,E){m(E,function(){var C,B,F,M,aa,R,fa;C=l.getMslStore().getCryptoContext(v);B=C?C:new hb(l,v);C=Wa(r,"utf-8");F=new DOMParser().parseFromString(C,"application/xml");C=F.getElementsByTagName("action");M=F.getElementsByTagName("nonce");F=F.getElementsByTagName("pin");aa=C&&1==C.length&&C[0].firstChild?C[0].firstChild.nodeValue:null;R=M&&1==M.length&&M[0].firstChild?parseInt(M[0].firstChild.nodeValue):null;fa=F&&1==F.length&&F[0].firstChild?F[0].firstChild.nodeValue:null;if(!aa||!R||!fa)throw new ka(h.XML_PARSE_ERROR,"MDX authdata "+pa(r));C="action="+J(aa)+"&nonce="+J(R.toString())+"&pin="+J(fa);B.verify(Ta(C,"utf-8"),z,{result:function(l){m(E,function(){var v;if(!l)throw new P(h.MDX_USERAUTH_VERIFICATION_FAILED,"MDX authdata "+pa(r));v=wa(fa);B.decrypt(v,{result:function(g){m(E,function(){var d;d=Wa(g,"utf-8");new Z(aa,R,d,null,{encoding:r,signature:z},E);});},error:E.error});});},error:E.error});});};dc=Eb.extend({init:function R(h,l,m,r,z,E){var C,J,F,Z,aa,fa;R.base.call(this,db.MDX);C=null;J=null;F=null;if("string"===typeof m)h=v.MSL_LEGACY,F=m;else if(m instanceof Uint8Array)h=v.NTBA,J=m;else if(m instanceof gb)h=v.MSL,C=m;else throw new TypeError("Controller token "+m+" is not a master token, encrypted CTicket, or MSL token construct.");Z=m=null;aa=null;if(E){fa=E.controllerAuthData;m=fa.getAction();Z=fa.getPin();E=E.userIdToken;fa instanceof M?aa=fa.getUserIdToken().customer:E&&(aa=E.customer);}Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},action:{value:m,writable:!1,configurable:!1},targetPin:{value:l,writable:!1,configurable:!1},controllerPin:{value:Z,writable:!1,configurable:!1},customer:{value:aa,writable:!1,configurable:!1},_masterToken:{value:C,writable:!1,enumerable:!1,configurable:!1},_encryptedCTicket:{value:J,writable:!1,enumerable:!1,configurable:!1},_mslTokens:{value:F,writable:!1,enumerable:!1,configurable:!1},_controllerEncoding:{value:r,writable:!1,enumerable:!1,configurable:!1},_signature:{value:z,writable:!1,enumerable:!1,configurable:!1}});},getAuthData:function(){var h,l;h={};switch(this.mechanism){case v.MSL:l=JSON.parse(JSON.stringify(this._masterToken));h.mastertoken=l;break;case v.NTBA:l=Wa(this._encryptedCTicket,"utf-8");h.cticket=l;break;case v.MSL_LEGACY:h.cticket=this._mslTokens;break;default:throw new ga("Unsupported MDX mechanism.");}h.pin=this.targetPin;h.mdxauthdata=pa(this._controllerEncoding);h.signature=pa(this._signature);return h;},equals:function xa(h){return this===h?!0:h instanceof dc?xa.base.call(this,h)&&(this._masterToken==h._masterToken||this._masterToken&&this._masterToken.equals(h._masterToken))&&(this._encryptedCTicket==h._encryptedCTicket||this._encryptedCTicket&&$a(this._encryptedCTicket,h._encryptedCTicket))&&this._mslTokens==h._mslTokens&&$a(this._controllerEncoding,h._controllerEncoding)&&$a(this._signature,h._signature):!1;}});ve=function(l,v,r){function z(z,E,C,J){Sb(l,E,{result:function(E){m(r,function(){if(!E.isDecrypted())throw new Da(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());aa(l,E,C,J,{result:function(h){m(r,function(){var g,d;g=h.getEncoding();d=h.getSignature();return new dc(l,z,E,g,d,{controllerAuthData:h,userIdToken:null});});},error:r.error});});},error:function(l){m(r,function(){if(l instanceof F)throw new Da(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),l);throw l;});}});}function E(l,v,z,E){m(r,function(){throw new Da(h.UNSUPPORTED_USERAUTH_MECHANISM,"NtbaControllerData$parse");});}function C(z,E,C,J){function Z(g,d){m(d,function(){var a,b;try{a=wa(g);}catch(f){throw new Da(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),f);}if(!a||0==a.length)throw new Da(h.USERAUTH_MASTERTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{b=JSON.parse(Wa(a,"utf-8"));Sb(l,b,{result:function(a){m(d,function(){if(!a.isDecrypted())throw new Da(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+v.toString());return a;});},error:function(a){m(d,function(){if(a instanceof F)throw new Da(h.USERAUTH_MASTERTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),a);throw a;});}});}catch(f){if(f instanceof SyntaxError)throw new ka(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),f);throw f;}});}function M(g,d,a){m(a,function(){var b,f;try{b=wa(g);}catch(t){throw new Da(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),t);}if(!b||0==b.length)throw new Da(h.USERAUTH_USERIDTOKEN_MISSING,"MDX authdata "+JSON.stringify(v));try{f=JSON.parse(Wa(b,"utf-8"));Tb(l,f,d,{result:function(b){m(a,function(){if(!b.isDecrypted())throw new Da(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v));return b;});},error:function(b){m(a,function(){if(b instanceof F)throw new Da(h.USERAUTH_USERIDTOKEN_INVALID,"MDX authdata "+JSON.stringify(v),b);throw b;});}});}catch(t){if(t instanceof SyntaxError)throw new ka(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v),t);throw t;}});}m(r,function(){var g;g=E.split(",");if(3!=g.length||"1"!=g[0])throw new Da(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));Z(g[1],{result:function(d){M(g[2],d,{result:function(a){qa(l,d,C,J,{result:function(b){m(r,function(){return new dc(l,z,E,C,J,{controllerAuthData:b,userIdToken:a});});},error:function(a){m(r,function(){if(a instanceof Qb)throw new Da(h.USERAUTH_MASTERTOKEN_NOT_DECRYPTED,"MDX authdata "+JSON.stringify(v),a);throw a;});}});},error:r.error});},error:r.error});});}m(r,function(){var l,m,r,J,F;l=v.pin;m=v.mdxauthdata;r=v.signature;if(!l||"string"!==typeof l||!m||"string"!==typeof m||!r||"string"!==typeof r)throw new ka(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));try{J=wa(m);F=wa(r);}catch(Hb){throw new Da(h.MDX_CONTROLLERDATA_INVALID,"MDX authdata "+JSON.stringify(v),Hb);}if(v.mastertoken){m=v.mastertoken;if(!m||"object"!==typeof m)throw new ka(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));z(l,m,J,F);}else if(v.cticket){m=v.cticket;if(!m||"string"!==typeof m)throw new ka(h.JSON_PARSE_ERROR,"MDX authdata "+JSON.stringify(v));-1==m.indexOf(",")?E(l,m,J,F):C(l,m,J,F);}else throw new Da(h.UNIDENTIFIED_USERAUTH_MECHANISM,"MDX authdata "+JSON.stringify(v));});};}());(function(){var l,m,r;l=sd.ACTION;m=pc.ACTION;r=td.ACTION;we=nc.extend({init:function E(){E.base.call(this,db.MDX);},createData:function(h,l,m,r){ve(h,m,r);},authenticate:function(z,C,J,F){if(!(J instanceof dc))throw new ga("Incorrect authentication data type "+J.getClass().getName()+".");z=J.action;switch(J.mechanism){case Mc.MSL:if(l!=z)throw new Da(h.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Mc.NTBA:if(m!=z)throw new Da(h.MDX_USERAUTH_ACTION_INVALID).setUser(J);break;case Mc.MSL_LEGACY:if(r!=z)throw new Da(h.MDX_USERAUTH_ACTION_INVALID).setUser(J);}z=J.controllerPin;C=J.targetPin;if(!z||!C)throw new Da(h.MDX_PIN_BLANK).setUser(J);if(z!=C)throw new Da(h.MDX_PIN_MISMATCH).setUser(J);z=J.customer;if(!z)throw new Da(h.MDX_USER_UNKNOWN).setUser(J);if(F&&(F=F.customer,!z.equals(F)))throw new Da(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad customer "+z+"; uit customer "+F).setUser(J);return z;}});}());(function(){var l,m,r;l={MICROSOFT_SAML:"MICROSOFT_SAML",SAMSUNG:"SAMSUNG",MICROSOFT_JWT:"MICROSOFT_JWT",GOOGLE_JWT:"GOOGLE_JWT"};m=ye=ma.Class.create({init:function(h,l){Object.defineProperties(this,{email:{value:h,writable:!1,enumerable:!0,configurable:!1},password:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});r=ze=ma.Class.create({init:function(h,l){Object.defineProperties(this,{netflixId:{value:h,writable:!1,enumerable:!0,configurable:!1},secureNetflixId:{value:l,writable:!1,enumerable:!0,configurable:!1}});}});qc=Eb.extend({init:function E(h,l,z,C){var J,F,B,M;E.base.call(this,db.SSO);J=null;F=null;B=null;M=null;z instanceof m?(J=z.email,F=z.password):z instanceof r&&(B=z.netflixId,M=z.secureNetflixId);Object.defineProperties(this,{mechanism:{value:h,writable:!1,configurable:!1},token:{value:l,writable:!1,configurable:!1},email:{value:J,writable:!1,configurable:!1},password:{value:F,writable:!1,configurable:!1},netflixId:{value:B,writable:!1,configurable:!1},secureNetflixId:{value:M,writable:!1,configurable:!1},profileGuid:{value:"undefined"===typeof C?null:C,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.mechanism=this.mechanism;h.token=pa(this.token);this.email&&this.password?(h.email=this.email,h.password=this.password):this.netflixId&&this.secureNetflixId&&(h.netflixid=this.netflixId,h.securenetflixid=this.secureNetflixId);this.profileGuid&&(h.profileguid=this.profileGuid);return h;},equals:function Ca(h){return this===h?!0:h instanceof qc?Ca.base.call(this,h)&&this.mechanism==h.mechanism&&$a(this.token,h.token)&&this.email==h.email&&this.password==h.password&&this.netflixId==h.netflixId&&this.secureNetflixId==h.secureNetflixId&&this.profileGuid==h.profileGuid:!1;}});xe=function(z){var C,J,F,M,qa,B,R,P,fa;C=z.mechanism;J=z.token;if(!C||!J||"string"!==typeof J)throw new ka(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(z));if(!l[C])throw new Da(h.UNIDENTIFIED_USERAUTH_MECHANISM,"SSO authdata "+JSON.stringify(z));F=z.email;M=z.password;qa=z.netflixid;B=z.securenetflixid;R=z.profileguid;if(F&&!M||!F&&M||qa&&!B||!qa&&B||F&&qa)throw new ka(h.JSON_PARSE_ERROR,"SSO authdata "+JSON.stringify(z));try{P=wa(J);}catch(ba){throw new Da(h.SSOTOKEN_INVALID,"SSO authdata "+JSON.stringify(z),ba);}F&&M?fa=new m(F,M):qa&&B&&(fa=new r(qa,B));return new qc(C,P,fa,R);};}());Ye=nc.extend({init:function C(){C.base.call(this,db.SSO);},createData:function(h,l,v,r){m(r,function(){return xe(v);});},authenticate:function(l,m,v,r){var E,C;if(!(v instanceof qc))throw new ga("Incorrect authentication data type "+v+".");l=v.token;m=v.email;r=v.password;E=v.netflixId;C=v.secureNetflixId;if(!l||0==l.length)throw new Da(h.SSOTOKEN_BLANK);if(!(null===m&&null===r||m&&r))throw new Da(h.EMAILPASSWORD_BLANK);if(!(null===E&&null===C||E&&C))throw new Da(h.NETFLIXID_COOKIES_BLANK).setUser(v);throw new Da(h.UNSUPPORTED_USERAUTH_DATA,this.scheme).setUser(v);}});(function(){rc=Eb.extend({init:function J(h,l){J.base.call(this,db.SWITCH_PROFILE);Object.defineProperties(this,{userIdToken:{value:h,writable:!1,configurable:!1},profileGuid:{value:l,writable:!1,configurable:!1}});},getAuthData:function(){var h;h={};h.useridtoken=JSON.parse(JSON.stringify(this.userIdToken));h.profileguid=this.profileGuid;return h;},equals:function v(h){return this==h?!0:h instanceof rc?v.base.call(this,h)&&this.userIdToken.equals(h.userIdToken)&&this.profileGuid==h.profileGuid:!1;}});Ae=function(l,r,F,M){m(M,function(){var v,E;if(!r)throw new Da(h.USERAUTH_MASTERTOKEN_MISSING);v=F.useridtoken;E=F.profileguid;if("object"!==typeof v||"string"!==typeof E)throw new ka(h.JSON_PARSE_ERROR,"switch profile authdata "+JSON.stringify(F));Tb(l,v,r,{result:function(l){m(M,function(){if(!l.isDecrypted())throw new Da(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED,"switch profile authdata "+JSON.stringify(F));return new rc(l,E);});},error:function(l){M.error(new Da(h.USERAUTH_USERIDTOKEN_INVALID,"switch profile authdata "+JSON.stringify(F),l));}});});};}());Ze=nc.extend({init:function J(h){J.base.call(this,db.SWITCH_PROFILE);Object.defineProperties(this,{_store:{value:h,writable:!1,enumerable:!1,configurable:!1}});},createData:function(h,l,m,r){Ae(h,l,m,r);},authenticate:function(l,m,r,F){if(!(r instanceof rc))throw new ga("Incorrect authentication data type "+r+".");m=r.userIdToken;l=r.profileGuid;if(!l)throw new Da(NetflixMslError.PROFILEGUID_BLANK).setUserAuthenticationData(r);m=m.user;if(!m)throw new Da(h.USERAUTH_USERIDTOKEN_NOT_DECRYPTED).setUserAuthenticationData(r);l=this._store.switchUsers(m,l);if(!l)throw new Da(NetflixMslError.PROFILE_SWITCH_DISALLOWED).setUserAuthenticationData(r);if(F&&(F=F.user,!l.equals(F)))throw new Da(h.USERIDTOKEN_USERAUTH_DATA_MISMATCH,"uad user "+l+"; uit user "+F).setUserAuthenticationData(r);return l;}});Object.freeze({ENTITY_REAUTH:l.ENTITY_REAUTH,ENTITYDATA_REAUTH:l.ENTITYDATA_REAUTH});$e=ma.Class.create({getTime:function(){},getRandom:function(){},isPeerToPeer:function(){},getMessageCapabilities:function(){},getEntityAuthenticationData:function(h,l){},getMslCryptoContext:function(){},getEntityAuthenticationFactory:function(h){},getUserAuthenticationFactory:function(h){},getTokenFactory:function(){},getKeyExchangeFactory:function(h){},getKeyExchangeFactories:function(){},getMslStore:function(){}});Be=ma.Class.create({setCryptoContext:function(h,l){},getMasterToken:function(){},getNonReplayableId:function(h){},getCryptoContext:function(h){},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(h,l){},removeServiceTokens:function(h,l,m){},clearServiceTokens:function(){}});(function(){var l;l=Ob;qd=function(m,r){var v;v={};switch(m){case l.LZW:return Dd(r,v);case l.GZIP:return gzip$compress(r);default:throw new F(h.UNSUPPORTED_COMPRESSION,m);}};Jc=function(m,r,J){switch(m){case l.LZW:return Ed(r);case l.GZIP:return gzip$uncompress(r);default:throw new F(h.UNSUPPORTED_COMPRESSION,m.name());}};}());Be.extend({setCryptoContext:function(h,l){},getMasterToken:function(){return null;},getNonReplayableId:function(h){return 1;},getCryptoContext:function(h){return null;},removeCryptoContext:function(h){},clearCryptoContexts:function(){},addUserIdToken:function(h,l){},getUserIdToken:function(h){return null;},removeUserIdToken:function(h){},clearUserIdTokens:function(){},addServiceTokens:function(h){},getServiceTokens:function(l,m){if(m){if(!l)throw new F(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!m.isBoundTo(l))throw new F(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+m.mtSerialNumber+"; mt "+l.serialNumber);}return[];},removeServiceTokens:function(l,m,r){if(r&&m&&!r.isBoundTo(m))throw new F(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.masterTokenSerialNumber+"; mt "+m.serialNumber);},clearServiceTokens:function(){}});(function(){Ce=Be.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{masterTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},cryptoContexts:{value:{},writable:!1,enumerable:!1,configurable:!1},userIdTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},nonReplayableIds:{value:{},writable:!1,enumerable:!1,configurable:!1},unboundServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},mtServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1},uitServiceTokens:{value:{},writable:!1,enumerable:!1,configurable:!1}});},setCryptoContext:function(h,l){var m;if(l){m=h.uniqueKey();this.masterTokens[m]=h;this.cryptoContexts[m]=l;}else this.removeCryptoContext(h);},getMasterToken:function(){var h,l,m;h=null;for(l in this.masterTokens){m=this.masterTokens[l];if(!h||m.isNewerThan(h))h=m;}return h;},getNonReplayableId:function(h){var l;h=h.serialNumber;l=this.nonReplayableIds[h]!==la?this.nonReplayableIds[h]:0;if(0>l||l>Ma)throw new ga("Non-replayable ID "+l+" is outside the valid range.");l=l==Ma?0:l+1;return this.nonReplayableIds[h]=l;},getCryptoContext:function(h){return this.cryptoContexts[h.uniqueKey()];},removeCryptoContext:function(h){var l,m;l=h.uniqueKey();if(this.masterTokens[l]){delete this.masterTokens[l];delete this.cryptoContexts[l];l=h.serialNumber;for(m in this.masterTokens)if(this.masterTokens[m].serialNumber==l)return;delete this.nonReplayableIds[l];Object.keys(this.userIdTokens).forEach(function(l){l=this.userIdTokens[l];l.isBoundTo(h)&&this.removeUserIdToken(l);},this);try{this.removeServiceTokens(null,h,null);}catch(aa){if(aa instanceof F)throw new ga("Unexpected exception while removing master token bound service tokens.",aa);throw aa;}}},clearCryptoContexts:function(){[this.masterTokens,this.cryptoContexts,this.nonReplayableIds,this.userIdTokens,this.uitServiceTokens,this.mtServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);},addUserIdToken:function(l,m){var r,v;r=!1;for(v in this.masterTokens)if(m.isBoundTo(this.masterTokens[v])){r=!0;break;}if(!r)throw new F(h.USERIDTOKEN_MASTERTOKEN_NOT_FOUND,"uit mtserialnumber "+m.mtSerialNumber);this.userIdTokens[l]=m;},getUserIdToken:function(h){return this.userIdTokens[h];},removeUserIdToken:function(h){var l,m,r;l=null;for(m in this.masterTokens){r=this.masterTokens[m];if(h.isBoundTo(r)){l=r;break;}}Object.keys(this.userIdTokens).forEach(function(m){if(this.userIdTokens[m].equals(h)){delete this.userIdTokens[m];try{this.removeServiceTokens(null,l,h);}catch(ya){if(ya instanceof F)throw new ga("Unexpected exception while removing user ID token bound service tokens.",ya);throw ya;}}},this);},clearUserIdTokens:function(){var l;for(var h in this.userIdTokens){l=this.userIdTokens[h];try{this.removeServiceTokens(null,null,l);}catch(Ca){if(Ca instanceof F)throw new ga("Unexpected exception while removing user ID token bound service tokens.",Ca);throw Ca;}delete this.userIdTokens[h];}},addServiceTokens:function(l){l.forEach(function(l){var m,r,v;if(l.isUnbound())this.unboundServiceTokens[l.uniqueKey()]=l;else{if(l.isMasterTokenBound()){m=!1;for(r in this.masterTokens)if(l.isBoundTo(this.masterTokens[r])){m=!0;break;}if(!m)throw new F(h.SERVICETOKEN_MASTERTOKEN_NOT_FOUND,"st mtserialnumber "+l.mtSerialNumber);}if(l.isUserIdTokenBound()){m=!1;for(v in this.userIdTokens)if(l.isBoundTo(this.userIdTokens[v])){m=!0;break;}if(!m)throw new F(h.SERVICETOKEN_USERIDTOKEN_NOT_FOUND,"st uitserialnumber "+l.uitSerialNumber);}l.isMasterTokenBound()&&((v=this.mtServiceTokens[l.mtSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.mtServiceTokens[l.mtSerialNumber]=v);l.isUserIdTokenBound()&&((v=this.uitServiceTokens[l.uitSerialNumber])||(v={}),v[l.uniqueKey()]=l,this.uitServiceTokens[l.uitSerialNumber]=v);}},this);},getServiceTokens:function(l,m){var r,v,E,M;if(m){if(!l)throw new F(h.USERIDTOKEN_MASTERTOKEN_NULL);if(!m.isBoundTo(l))throw new F(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+m.mtSerialNumber+"; mt "+l.serialNumber);}r={};for(v in this.unboundServiceTokens){E=this.unboundServiceTokens[v];r[E.uniqueKey()]=E;}if(l&&(E=this.mtServiceTokens[l.serialNumber]))for(v in E){M=E[v];M.isUserIdTokenBound()||(r[v]=M);}if(m&&(E=this.uitServiceTokens[m.serialNumber]))for(v in E)M=E[v],M.isBoundTo(l)&&(r[v]=M);E=[];for(v in r)E.push(r[v]);return E;},removeServiceTokens:function(l,m,r){var E,M,qa;if(r&&m&&!r.isBoundTo(m))throw new F(h.USERIDTOKEN_MASTERTOKEN_MISMATCH,"uit mtserialnumber "+r.mtSerialNumber+"; mt "+m.serialNumber);if(l&&!m&&!r){Object.keys(this.unboundServiceTokens).forEach(function(h){this.unboundServiceTokens[h].name==l&&delete this.unboundServiceTokens[h];},this);for(var v in this.mtServiceTokens){E=this.mtServiceTokens[v];M=Object.keys(E);M.forEach(function(h){E[h].name==l&&delete E[h];},this);this.mtServiceTokens[v]=E;}for(var Z in this.uitServiceTokens)E=this.uitServiceTokens[Z],v=Object.keys(E),v.forEach(function(h){E[h].name==l&&delete E[h];},this),this.uitServiceTokens[Z]=E;}if(m&&!r){if(E=this.mtServiceTokens[m.serialNumber])M=Object.keys(E),M.forEach(function(h){var m;m=E[h];l&&m.name!=l||delete E[h];},this),this.mtServiceTokens[m.serialNumber]=E;for(Z in this.uitServiceTokens){qa=this.uitServiceTokens[Z];v=Object.keys(qa);v.forEach(function(h){var r;r=qa[h];l&&r.name!=l||r.isBoundTo(m)&&delete qa[h];},this);this.uitServiceTokens[Z]=qa;}}r&&(E=this.uitServiceTokens[r.serialNumber])&&(v=Object.keys(E),v.forEach(function(h){var r;r=E[h];l&&r.name!=l||m&&!r.isBoundTo(m)||delete E[h];},this),this.uitServiceTokens[r.serialNumber]=E);},clearServiceTokens:function(){[this.unboundServiceTokens,this.mtServiceTokens,this.uitServiceTokens].forEach(function(h){for(var l in h)delete h[l];},this);}});}());Je=Te.extend({init:function v(){v.base.call(this);Object.defineProperties(this,{_contextMap:{value:{},writable:!1,enumerable:!1,configurable:!1}});},addCryptoContext:function(h,l){var m;if(l&&h&&h.length){m=pa(h);this._contextMap[m]=l;}},getCryptoContext:function(h){return h&&h.length?(h=pa(h),this._contextMap[h]||null):null;},removeCryptoContext:function(h){h&&h.length&&(h=pa(h),delete this._contextMap[h]);}});De=Me.extend({init:function E(h,l,m,r){E.base.call(this,h);Object.defineProperties(this,{_kde:{value:l,writable:!1,enumerable:!1,configurable:!1},_kdh:{value:m,writable:!1,enumerable:!1,configurable:!1},_kdw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,m){if(!(m instanceof lb))throw new ga("Incorrect authentication data type "+JSON.stringify(m)+".");if(m.identity!=this.localIdentity)throw new tb(h.ENTITY_NOT_FOUND,"mgk "+m.identity);return new Cc(l,this.localIdentity,this._kde,this._kdh,this._kdw);}});af=Od.extend({init:function Ca(h,l,m,r){Ca.base.call(this,h);Object.defineProperties(this,{_kpe:{value:l,writable:!1,enumerable:!1,configurable:!1},_kph:{value:m,writable:!1,enumerable:!1,configurable:!1},_kpw:{value:r,writable:!1,enumerable:!1,configurable:!1}});},getCryptoContext:function(l,m){if(!(m instanceof qb))throw new ga("Incorrect authentication data type "+JSON.stringify(m)+".");if(m.identity!=this.localIdentity)throw new tb(h.ENTITY_NOT_FOUND,"psk "+m.identity);return new Cc(l,this.localIdentity,this._kpe,this._kph,this._kpw);}});cf=Ce.extend({init:function aa(h,l,m,r,B,F){aa.base.call(this);this._log=h;this._esn=l;this._keyRequestData=m;this._createKeyRequestData=r;this._systemKeyName=B;this._systemKeyWrapFormat=F;},setCryptoContext:function Ea(h,l,m){var r;r=this;r._log.trace("Adding MasterToken",{SequenceNumber:h.sequenceNumber,SerialNumber:h.serialNumber,Expiration:h.expiration.getTime()});Ea.base.call(this,h,l);!m&&(h=r._createKeyRequestData)&&(r._log.trace("Generating new keyx request data"),h().then(function(h){r._keyRequestData=h;},function(h){r._log.error("Unable to generate new keyx request data",""+h);}));},addUserIdToken:function ya(h,l){this._log.trace("Adding UserIdToken",{UserId:h,SerialNumber:l.serialNumber,MTSerialNumber:l.mtSerialNumber,Expiration:l.expiration.getTime()});ya.base.call(this,h,l);},addServiceTokens:function Z(h){Z.base.call(this,h.filter(function(h){return!bf[h.name];}));},getUserIdTokenKeys:function(){var h,l;h=[];for(l in this.userIdTokens)h.push(l);return h;},rekeyUserIdToken:function(h,l){this.userIdTokens[h]&&(this.userIdTokens[l]=this.userIdTokens[h],delete this.userIdTokens[h]);},getKeyRequestData:function(){return this._keyRequestData;},getStoreState:function(h){var l;l=this;m(h,function(){var r;r=l.getMasterToken();r?l.getKeysForStore(r,{result:function(B){m(h,function(){var h,m,F;h=l.userIdTokens;m=Object.keys(h).map(function(m){var B;B=h[m];return{userId:m,userIdTokenJSON:h[m].toJSON(),serviceTokenJSONList:l.getServiceTokens(r,B).map(Ge)};});B.esn=l._esn;B.masterTokenJSON=r.toJSON();B.userList=m;F=l._keyRequestData.storeData;F&&Object.keys(F).forEach(function(h){B[h]=F[h];});return B;});},timeout:h.timeout,error:h.error}):h.result(null);});},getKeysForStore:function(l,r){var B;B=this;m(r,function(){var m;m=B.getCryptoContext(l);m={encryptionKey:m.encryptionKey,hmacKey:m.hmacKey};if(m.encryptionKey&&m.hmacKey)if(B._systemKeyWrapFormat)B.wrapKeysWithSystemKey(m,r);else return m;else throw new F(h.INTERNAL_EXCEPTION,"Unable to get CryptoContext keys");});},wrapKeysWithSystemKey:function(l,r){var B;B=this;xd(this._systemKeyName,{result:function(M){m(r,function(){var m,Z,R,P;m=l.encryptionKey;Z=l.hmacKey;R=m[ec];P=Z[ec];if(R&&P)return{wrappedEncryptionKey:R,wrappedHmacKey:P};Promise.resolve().then(function(){return Promise.all([Ja.wrapKey(B._systemKeyWrapFormat,m,M,M.algorithm),Ja.wrapKey(B._systemKeyWrapFormat,Z,M,M.algorithm)]);}).then(function(h){R=pa(h[0]);m[ec]=R;P=pa(h[1]);Z[ec]=P;r.result({wrappedEncryptionKey:R,wrappedHmacKey:P});})["catch"](function(l){r.error(new F(h.INTERNAL_EXCEPTION,"Error wrapping key with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},unwrapKeysWithSystemKey:function(l,r){var B;B=this;xd(this._systemKeyName,{result:function(M){m(r,function(){var m,Z;m=wa(l.wrappedEncryptionKey);Z=wa(l.wrappedHmacKey);Promise.resolve().then(function(){return Promise.all([Ja.unwrapKey(B._systemKeyWrapFormat,m,M,M.algorithm,ob,!1,Fb),Ja.unwrapKey(B._systemKeyWrapFormat,Z,M,M.algorithm,pb,!1,Rb)]);}).then(function(h){var m;m=h[0];h=h[1];m[ec]=l.wrappedEncryptionKey;h[ec]=l.wrappedHmacKey;r.result({encryptionKey:m,hmacKey:h});})["catch"](function(l){r.error(new F(h.INTERNAL_EXCEPTION,"Error unwrapping with SYSTEM key",l));});});},timeout:r.timeout,error:r.error});},loadStoreState:function(h,l,m,r){var M,Z;function B(h,r){var B;try{B=m.userList.slice();}catch(sb){}B?function Db(){var m;m=B.shift();m?Tb(l,m.userIdTokenJSON,h,{result:function(l){try{M.addUserIdToken(m.userId,l);F(h,l,m.serviceTokenJSONList,{result:Db,timeout:Db,error:Db});}catch(Hb){Db();}},timeout:Db,error:Db}):r.result();}():r.result();}function F(h,m,r,B){var F,Z;try{F=r.slice();}catch(na){}if(F){Z=M.getCryptoContext(h);(function Hb(){var g;g=F.shift();g?Ic(l,g,h,m,Z,{result:function(d){M.addServiceTokens([d]);Hb();},timeout:function(){Hb();},error:function(){Hb();}}):B.result();}());}else B.result();}M=this;Z=M._log;m.esn!=M._esn?(Z.error("Esn mismatch, starting fresh"),r.error()):function(r){var R,fa,P,ba;function B(){var m;if(!R&&fa&&P&&ba){R=!0;m=new hb(l,fa,h.esn,{rawKey:P},{rawKey:ba});M.setCryptoContext(fa,m,!0);r.result(fa);}}function F(h,g){Z.error(h,g&&""+g);R||(R=!0,r.error());}m.masterTokenJSON?(Sb(l,m.masterTokenJSON,{result:function(h){fa=h;B();},timeout:function(){F("Timeout parsing MasterToken");},error:function(h){F("Error parsing MasterToken",h);}}),M._systemKeyWrapFormat?M.unwrapKeysWithSystemKey(m,{result:function(h){P=h.encryptionKey;ba=h.hmacKey;B();},timeout:function(){F("Timeout unwrapping keys");},error:function(h){F("Error unwrapping keys",h);}}):Promise.resolve().then(function(){return Ja.encrypt({name:ob.name,iv:new Uint8Array(16)},m.encryptionKey,new Uint8Array(1));}).then(function(h){P=m.encryptionKey;})["catch"](function(h){F("Error loading encryptionKey");}).then(function(){return Ja.sign(pb,m.hmacKey,new Uint8Array(1));}).then(function(h){ba=m.hmacKey;B();})["catch"](function(h){F("Error loading hmacKey");})):F("Persisted store is corrupt");}({result:function(h){B(h,r);},timeout:r.timeout,error:r.error});}});bf={"streaming.servicetokens.movie":!0,"streaming.servicetokens.license":!0};ec="$netflix$msl$wrapsys";df=$e.extend({init:function(h,l,m,r,F,M){var B,Z;B=new lc([Ob.LZW]);Z=new Oe();Z.addPublicKey(l,m);r[Pa.RSA]=new Ne(Z);l={};l[db.EMAIL_PASSWORD]=new Xe();l[db.NETFLIXID]=new We();l[db.MDX]=new we();l[db.SSO]=new Ye();l[db.SWITCH_PROFILE]=new Ze();h={_mslCryptoContext:{value:new Le(),writable:!0,enumerable:!1,configurable:!1},_capabilities:{value:B,writable:!1,enumerable:!1,configurable:!1},_entityAuthData:{value:F,writable:!0,enumerable:!1,configurable:!1},_entityAuthFactories:{value:r,writable:!1,enumerable:!1,configurable:!1},_userAuthFactories:{value:l,writable:!1,enumerable:!1,configurable:!1},_keyExchangeFactories:{value:M,writable:!1,enumerable:!1,configurable:!1},_store:{value:h,writable:!1,enumerable:!1,configurable:!1}};Object.defineProperties(this,h);},getTime:function(){return Date.now();},getRandom:function(){return new Id();},isPeerToPeer:function(){return!1;},getMessageCapabilities:function(){return this._capabilities;},getEntityAuthenticationData:function(h,l){l.result(this._entityAuthData);},getMslCryptoContext:function(){return this._mslCryptoContext;},getEntityAuthenticationFactory:function(h){return this._entityAuthFactories[h];},getUserAuthenticationFactory:function(h){return this._userAuthFactories[h];},getTokenFactory:function(){return null;},getKeyExchangeFactory:function(h){return this._keyExchangeFactories.filter(function(l){return l.scheme==h;})[0];},getKeyExchangeFactories:function(){return this._keyExchangeFactories;},getMslStore:function(){return this._store;}});zd=qe.extend({init:function(h,l,m,r){this._log=h;this._mslContext=l;this._mslRequest=m;this._keyRequestData=r;},getCryptoContexts:function(){return{};},isEncrypted:function(){return!!this._mslRequest.encrypted;},isNonReplayable:function(){return!!this._mslRequest.nonReplayable;},isRequestingTokens:function(){return!0;},getUserId:function(){return this._mslRequest.profileGuid||this._mslRequest.userId||null;},getUserAuthData:function(h,l,r,F){var B,M;B=this._mslRequest;M=this._mslContext;m(F,function(){var l,m;if(h||!B.shouldSendUserAuthData)return null;if(B.token){B.email?l=new ye(B.email,B.password):B.netflixId&&(l=new ze(B.netflixId,B.secureNetflixId));m="undefined"===typeof B.profileGuid?null:B.profileGuid;return new qc(B.mechanism,Ta(B.token),l,m);}return B.email?new oc(B.email,B.password):B.netflixId?new Wb(B.netflixId,B.secureNetflixId):B.mdxControllerToken?(l=new pc("regpairrequest",B.mdxNonce,B.mdxEncryptedPinB64,B.mdxSignature).getEncoding(),new dc(M,B.mdxPin,B.mdxControllerToken,l,B.mdxSignature)):B.useNetflixUserAuthData?new Wb():B.profileGuid?(l=B.userId,l=M.getMslStore().userIdTokens[l],new rc(l,B.profileGuid)):r&&B.sendUserAuthIfRequired?new Wb():null;});},getCustomer:function(){return null;},getKeyRequestData:function(h){h.result(this._mslRequest.allowTokenRefresh?[this._keyRequestData]:[]);},updateServiceTokens:function(h,l,m){var r,B,F,M,Z,P;r=this._log;B=(this._mslRequest.serviceTokens||[]).slice();F=this._mslContext;l=F.getMslStore();M=h.builder.getMasterToken();Z=this.getUserId();P=l.getUserIdToken(Z);(function ha(){var l;l=B.shift();if(l)try{l instanceof Ib?(h.addPrimaryServiceToken(l),ha()):Ic(F,l,M,P,null,{result:function(l){try{h.addPrimaryServiceToken(l);}catch(jd){r.warn("Exception adding service token",""+jd);}ha();},timeout:function(){r.warn("Timeout parsing service token");ha();},error:function(h){r.warn("Error parsing service token",""+h);ha();}});}catch(Db){r.warn("Exception processing service token",""+Db);ha();}else m.result(!0);}());},write:function(h,l,m){var r;r=Ta(this._mslRequest.body);h.write(r,0,r.length,l,{result:function(B){B!=r.length?m.error(new Za("Not all data was written to output.")):h.flush(l,{result:function(){m.result(!0);},timeout:function(){m.timeout();},error:function(h){m.error(h);}});},timeout:function(){m.timeout();},error:function(h){m.error(h);}});},getDebugContext:function(){this._dc||(this._dc=new ef(this._log,this._mslRequest));return this._dc;}});ef=Ve.extend({init:function(h,l){this._log=h;this._mslRequest=l;},sentHeader:function(h){this._log.trace("Sent MSL header",yd(this._mslRequest,h),h.serviceTokens&&h.serviceTokens.map(He).join("\n"));},receivedHeader:function(h){var l,m;l=yd(this._mslRequest,h);m=h.errorCode;m?this._log.warn("Received MSL error header",l,{errorCode:m,errorMessage:h.errorMessage,internalCode:h.internalCode}):this._log.trace("Received MSL header",l);}});Ee={PSK:function(h){return Tc(h,Pa.PSK,af,qb,kd,Gc);},MGK:function(h){return Tc(h,Pa.MGK,De,lb,kd,Gc);},MGK_WITH_FALLBACK:function(l){var m,r;switch(l.esnPrefix){case"GOOGEUR001":case"GOOGLEXX01":m="PSK";break;default:m="MGK";}r=Ee[m];if(!r)throw new F(h.INTERNAL_EXCEPTION,"Invalid fallback authenticationType: "+m);return r(l);},MGK_JWE:function(h){return Tc(h,Pa.MGK,De,lb,Ud,id);},JWK_RSA:function(h){return Uc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},Hc.JWK_RSA);},JWK_RSAES:function(h){return Uc(h,{name:"RSAES-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Hc.JWK_RSAES);},JWEJS_RSA:function(h){return Uc(h,{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])},Hc.JWEJS_RSA);}};M.netflix=M.netflix||{};M.netflix.msl={createMslClient:function(l,m){var r,M,P,Z,ba;r=l.log;ba=l.notifyMilestone||function(){};Promise.resolve().then(function(){if(!(Ra&&Ra.generateKey&&Ra.importKey&&Ra.unwrapKey))throw new F(h.INTERNAL_EXCEPTION,"No WebCrypto");eb=Ra.generateKey({name:"AES-CBC",length:128},!0,Fb).then?xc.V2014_02:xc.LEGACY;ba("mslisik");return Ja.importKey("spki",l.serverIdentityKeyData,Jd,!1,["verify"]);}).then(function(l){return new Promise(function(m,r){Nb(l,{result:m,error:function(){r(new F(h.KEY_IMPORT_ERROR,"Unable to create server identity verification key"));}});});}).then(function(m){M=m;if(m=Ee[l.authenticationType])return ba("mslcc"),m(l);throw new F(h.INTERNAL_EXCEPTION,"Invalid authenticationType: "+l.authenticationType);}).then(function(h){var m;P=new cf(r,l.esn,h.keyRequestData,h.createKeyRequestData,l.authenticationKeyNames.s,l.systemKeyWrapFormat);Z=new df(P,l.serverIdentityId,M,h.entityAuthFactories,h.entityAuthData,h.keyExchangeFactories);m=l.storeState;if(m)return ba("mslss"),r.info("Loading store state"),new Promise(function(h,r){P.loadStoreState(l,Z,m,{result:h,timeout:h,error:h});});r.info("No store state, starting fresh");}).then(function(){var h;h=new re();ba("msldone");m.result(new Ie(r,h,Z,P,l.ErrorSubCodes));})["catch"](function(h){m.error(h);});},IHttpLocation:Re,MslIoException:Za};(function(){var wa,na,Da;function h(){h=function(){};na.Symbol||(na.Symbol=l);}function l(g){return"jscomp_symbol_"+(g||"")+Da++;}function m(){var g;h();g=na.Symbol.iterator;g||(g=na.Symbol.iterator=na.Symbol("iterator"));"function"!=typeof Array.prototype[g]&&wa(Array.prototype,g,{configurable:!0,writable:!0,value:function(){return r(this);}});m=function(){};}function r(g){var d;d=0;return F(function(){return d<g.length?{done:!1,value:g[d++]}:{done:!0};});}function F(g){m();g={next:g};g[na.Symbol.iterator]=function(){return this;};return g;}function P(g){var d;m();h();m();d=g[Symbol.iterator];return d?d.call(g):r(g);}function ba(g,d){var f;function a(){}a.prototype=d.prototype;g.prototype=new a();g.prototype.constructor=g;for(var b in d)if(Object.defineProperties){f=Object.getOwnPropertyDescriptor(d,b);f&&Object.defineProperty(g,b,f);}else g[b]=d[b];}function ga(g){if(!(g instanceof Array)){g=P(g);for(var d,a=[];!(d=g.next()).done;)a.push(d.value);g=a;}return g;}function ka(g,d){var a,f;if(d){a=na;g=g.split(".");for(var b=0;b<g.length-1;b++){f=g[b];f in a||(a[f]={});a=a[f];}g=g[g.length-1];b=a[g];d=d(b);d!=b&&null!=d&&wa(a,g,{configurable:!0,writable:!0,value:d});}}function la(g,d){return Object.prototype.hasOwnProperty.call(g,d);}function ha(g,d){var a,b;m();g instanceof String&&(g+="");a=0;b={next:function(){var f;if(a<g.length){f=a++;return{value:d(f,g[f]),done:!1};}b.next=function(){return{done:!0,value:void 0};};return b.next();}};b[Symbol.iterator]=function(){return b;};return b;}function ma(g,d,a){if(null==g)throw new TypeError("The 'this' value for String.prototype."+a+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+a+" must not be a regular expression");return g+"";}function pa(g,d,a){var t;g instanceof String&&(g=String(g));for(var b=g.length,f=0;f<b;f++){t=g[f];if(d.call(a,t,f,g))return{Ei:f,TW:t};}return{Ei:-1,TW:void 0};}wa="function"==typeof Object.defineProperties?Object.defineProperty:function(g,d,a){if(a.get||a.set)throw new TypeError("ES3 does not support getters and setters.");g!=Array.prototype&&g!=Object.prototype&&(g[d]=a.value);};na="undefined"!=typeof M&&M===this?this:"undefined"!=typeof global&&null!=global?global:this;Da=0;ka("Object.setPrototypeOf",function(g){return g?g:"object"!=typeof"".__proto__?null:function(d,a){d.__proto__=a;if(d.__proto__!==a)throw new TypeError(d+" is not extensible");return d;};});ka("Object.assign",function(g){return g?g:function(d,a){var f;for(var b=1;b<arguments.length;b++){f=arguments[b];if(f)for(var t in f)la(f,t)&&(d[t]=f[t]);}return d;};});ka("Object.getOwnPropertySymbols",function(g){return g?g:function(){return[];};});ka("Promise",function(g){var b,f;function d(a){var b;this.hM=0;this.paa=void 0;this.UK=[];b=this.o3();try{a(b.resolve,b.reject);}catch(c){b.reject(c);}}function a(){this.Eu=null;}if(g)return g;a.prototype.Qna=function(a){null==this.Eu&&(this.Eu=[],this.TZa());this.Eu.push(a);};a.prototype.TZa=function(){var a;a=this;this.Rna(function(){a.v8a();});};b=na.setTimeout;a.prototype.Rna=function(a){b(a,0);};a.prototype.v8a=function(){var a,c;for(;this.Eu&&this.Eu.length;){a=this.Eu;this.Eu=[];for(var b=0;b<a.length;++b){c=a[b];delete a[b];try{c();}catch(k){this.WZa(k);}}}this.Eu=null;};a.prototype.WZa=function(a){this.Rna(function(){throw a;});};d.prototype.o3=function(){var b,c;function a(a){return function(k){c||(c=!0,a.call(b,k));};}b=this;c=!1;return{resolve:a(this.Bob),reject:a(this.Z$)};};d.prototype.Bob=function(a){var b;if(a===this)this.Z$(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof d)this.Bqb(a);else{a:switch(typeof a){case"object":b=null!=a;break a;case"function":b=!0;break a;default:b=!1;}b?this.Aob(a):this.osa(a);}};d.prototype.Aob=function(a){var b;b=void 0;try{b=a.then;}catch(c){this.Z$(c);return;}"function"==typeof b?this.Cqb(b,a):this.osa(a);};d.prototype.Z$=function(a){this.$Ba(2,a);};d.prototype.osa=function(a){this.$Ba(1,a);};d.prototype.$Ba=function(a,b){if(0!=this.hM)throw Error("Cannot settle("+a+", "+b|"): Promise already settled in state"+this.hM);this.hM=a;this.paa=b;this.w8a();};d.prototype.w8a=function(){if(null!=this.UK){for(var a=this.UK,b=0;b<a.length;++b)a[b].call(),a[b]=null;this.UK=null;}};f=new a();d.prototype.Bqb=function(a){var b;b=this.o3();a.TQ(b.resolve,b.reject);};d.prototype.Cqb=function(a,b){var c;c=this.o3();try{a.call(b,c.resolve,c.reject);}catch(k){c.reject(k);}};d.prototype.then=function(a,b){var k,f,n;function c(a,c){return"function"==typeof a?function(c){try{k(a(c));}catch(K){f(K);}}:c;}n=new d(function(a,c){k=a;f=c;});this.TQ(c(a,k),c(b,f));return n;};d.prototype["catch"]=function(a){return this.then(void 0,a);};d.prototype.TQ=function(a,b){var k;function c(){switch(k.hM){case 1:a(k.paa);break;case 2:b(k.paa);break;default:throw Error("Unexpected state: "+k.hM);}}k=this;null==this.UK?f.Qna(c):this.UK.push(function(){f.Qna(c);});};d.resolve=function(a){return a instanceof d?a:new d(function(b){b(a);});};d.reject=function(a){return new d(function(b,c){c(a);});};d.race=function(a){return new d(function(b,c){for(var k=P(a),f=k.next();!f.done;f=k.next())d.resolve(f.value).TQ(b,c);});};d.all=function(a){var b,c;b=P(a);c=b.next();return c.done?d.resolve([]):new d(function(a,f){var q,y;function k(c){return function(k){q[c]=k;y--;0==y&&a(q);};}q=[];y=0;do q.push(void 0),y++,d.resolve(c.value).TQ(k(q.length-1),f),c=b.next();while(!c.done);});};d.$jscomp$new$AsyncExecutor=function(){return new a();};return d;});ka("Array.prototype.keys",function(g){return g?g:function(){return ha(this,function(d){return d;});};});ka("Math.tanh",function(g){return g?g:function(d){var a;d=Number(d);if(0===d)return d;a=Math.exp(-2*Math.abs(d));a=(1-a)/(1+a);return 0>d?-a:a;};});ka("WeakMap",function(g){var f,t;function d(a){this.QJ=(t+=Math.random()+1).toString();if(a){h();m();a=P(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1]);}}function a(a){la(a,f)||wa(a,f,{value:{}});}function b(b){var c;c=Object[b];c&&(Object[b]=function(k){a(k);return c(k);});}if(function(){var a,c,k;if(!g||!Object.seal)return!1;try{a=Object.seal({});c=Object.seal({});k=new g([[a,2],[c,3]]);if(2!=k.get(a)||3!=k.get(c))return!1;k["delete"](a);k.set(c,4);return!k.has(a)&&4==k.get(c);}catch(q){return!1;}}())return g;f="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");b("seal");t=0;d.prototype.set=function(b,c){a(b);if(!la(b,f))throw Error("WeakMap key fail: "+b);b[f][this.QJ]=c;return this;};d.prototype.get=function(a){return la(a,f)?a[f][this.QJ]:void 0;};d.prototype.has=function(a){return la(a,f)&&la(a[f],this.QJ);};d.prototype["delete"]=function(a){return la(a,f)&&la(a[f],this.QJ)?delete a[f][this.QJ]:!1;};return d;});ka("Map",function(g){var t,p;function d(){var a;a={};return a.bi=a.next=a.head=a;}function a(a,k){var c;c=a.Gs;return F(function(){if(c){for(;c.head!=a.Gs;)c=c.bi;for(;c.next!=c.head;)return c=c.next,{done:!1,value:k(c)};c=null;}return{done:!0,value:void 0};});}function b(a,k){var c,b,f;c=k&&typeof k;"object"==c||"function"==c?t.has(k)?c=t.get(k):(c=""+ ++p,t.set(k,c)):c="p_"+k;b=a.ps[c];if(b&&la(a.ps,c))for(a=0;a<b.length;a++){f=b[a];if(k!==k&&f.key!==f.key||k===f.key)return{id:c,list:b,index:a,Yd:f};}return{id:c,list:b,index:-1,Yd:void 0};}function f(a){this.ps={};this.Gs=d();this.size=0;if(a){a=P(a);for(var c;!(c=a.next()).done;)c=c.value,this.set(c[0],c[1]);}}if(function(){var a,k,b,f;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});k=new g(P([[a,"s"]]));if("s"!=k.get(a)||1!=k.size||k.get({x:4})||k.set({x:4},"t")!=k||2!=k.size)return!1;b=k.entries();f=b.next();if(f.done||f.value[0]!=a||"s"!=f.value[1])return!1;f=b.next();return f.done||4!=f.value[0].x||"t"!=f.value[1]||!b.next().done?!1:!0;}catch(u){return!1;}}())return g;h();m();t=new WeakMap();f.prototype.set=function(a,k){var c;c=b(this,a);c.list||(c.list=this.ps[c.id]=[]);c.Yd?c.Yd.value=k:(c.Yd={next:this.Gs,bi:this.Gs.bi,head:this.Gs,key:a,value:k},c.list.push(c.Yd),this.Gs.bi.next=c.Yd,this.Gs.bi=c.Yd,this.size++);return this;};f.prototype["delete"]=function(a){a=b(this,a);return a.Yd&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.ps[a.id],a.Yd.bi.next=a.Yd.next,a.Yd.next.bi=a.Yd.bi,a.Yd.head=null,this.size--,!0):!1;};f.prototype.clear=function(){this.ps={};this.Gs=this.Gs.bi=d();this.size=0;};f.prototype.has=function(a){return!!b(this,a).Yd;};f.prototype.get=function(a){return(a=b(this,a).Yd)&&a.value;};f.prototype.entries=function(){return a(this,function(a){return[a.key,a.value];});};f.prototype.keys=function(){return a(this,function(a){return a.key;});};f.prototype.values=function(){return a(this,function(a){return a.value;});};f.prototype.forEach=function(a,k){for(var c=this.entries(),b;!(b=c.next()).done;)b=b.value,a.call(k,b[1],b[0],this);};f.prototype[Symbol.iterator]=f.prototype.entries;p=0;return f;});ka("Set",function(g){function d(a){this.jq=new Map();if(a){a=P(a);for(var b;!(b=a.next()).done;)this.add(b.value);}this.size=this.jq.size;}if(function(){var a,b,f,d;if(!g||!g.prototype.entries||"function"!=typeof Object.seal)return!1;try{a=Object.seal({x:4});b=new g(P([a]));if(!b.has(a)||1!=b.size||b.add(a)!=b||1!=b.size||b.add({x:4})!=b||2!=b.size)return!1;f=b.entries();d=f.next();if(d.done||d.value[0]!=a||d.value[1]!=a)return!1;d=f.next();return d.done||d.value[0]==a||4!=d.value[0].x||d.value[1]!=d.value[0]?!1:f.next().done;}catch(p){return!1;}}())return g;h();m();d.prototype.add=function(a){this.jq.set(a,a);this.size=this.jq.size;return this;};d.prototype["delete"]=function(a){a=this.jq["delete"](a);this.size=this.jq.size;return a;};d.prototype.clear=function(){this.jq.clear();this.size=0;};d.prototype.has=function(a){return this.jq.has(a);};d.prototype.entries=function(){return this.jq.entries();};d.prototype.values=function(){return this.jq.values();};d.prototype[Symbol.iterator]=d.prototype.values;d.prototype.forEach=function(a,b){var f;f=this;this.jq.forEach(function(d){return a.call(b,d,d,f);});};return d;});ka("String.prototype.includes",function(g){return g?g:function(d,a){return-1!==ma(this,d,"includes").indexOf(d,a||0);};});ka("Number.isNaN",function(g){return g?g:function(d){return"number"===typeof d&&isNaN(d);};});ka("Array.prototype.find",function(g){return g?g:function(d,a){return pa(this,d,a).TW;};});ka("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991;});ka("Array.prototype.entries",function(g){return g?g:function(){return ha(this,function(d,a){return[d,a];});};});ka("String.prototype.repeat",function(g){return g?g:function(d){var a;a=ma(this,null,"repeat");if(0>d||1342177279<d)throw new RangeError("Invalid count value");d|=0;for(var b="";d;)if(d&1&&(b+=a),d>>>=1)a+=a;return b;};});ka("String.prototype.endsWith",function(g){return g?g:function(d,a){var b;b=ma(this,d,"endsWith");d+="";void 0===a&&(a=b.length);a=Math.max(0,Math.min(a|0,b.length));for(var f=d.length;0<f&&0<a;)if(b[--a]!=d[--f])return!1;return 0>=f;};});ka("Array.prototype.findIndex",function(g){return g?g:function(d,a){return pa(this,d,a).Ei;};});ka("String.prototype.startsWith",function(g){return g?g:function(d,a){var b,f,t;b=ma(this,d,"startsWith");d+="";f=b.length;t=d.length;a=Math.max(0,Math.min(a|0,b.length));for(var p=0;p<t&&a<f;)if(b[a++]!=d[p++])return!1;return p>=t;};});ka("Array.prototype.values",function(g){return g?g:function(){return ha(this,function(d,a){return a;});};});ka("Array.prototype.fill",function(g){return g?g:function(d,a,b){var f;f=this.length||0;0>a&&(a=Math.max(0,f+a));if(null==b||b>f)b=f;b=Number(b);0>b&&(b=Math.max(0,f+b));for(a=Number(a||0);a<b;a++)this[a]=d;return this;};});(function(g){var a;function d(b){var f;if(a[b])return a[b].T;f=a[b]={Ei:b,gfb:!1,T:{}};g[b].call(f.T,f,f.T,d);f.gfb=!0;return f.T;}a={};d.vIb=g;d.GEb=a;d.d=function(a,f,t){d.pjb(a,f)||Object.defineProperty(a,f,{configurable:!1,enumerable:!0,get:t});};d.r=function(a){Object.defineProperty(a,"__esModule",{value:!0});};d.n=function(a){var b;b=a&&a.Aja?function(){return a["default"];}:function(){return a;};d.d(b,"a",b);return b;};d.pjb=function(a,f){return Object.prototype.hasOwnProperty.call(a,f);};d.p="";return d(d.sKb=1049);}([function(g,d,a){function b(){b=Object.assign||function(a){for(var c,k=1,b=arguments.length;k<b;k++){c=arguments[k];for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(a[f]=c[f]);}return a;};return b.apply(this,arguments);}function f(a,c){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c;}||function(a,c){for(var k in c)c.hasOwnProperty(k)&&(a[k]=c[k]);};return f(a,c);}function t(a,c){function k(){this.constructor=a;}f(a,c);a.prototype=null===c?Object.create(c):(k.prototype=c.prototype,new k());}function p(a,c){var k,b,f;k={};for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&0>c.indexOf(b)&&(k[b]=a[b]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){f=0;for(b=Object.getOwnPropertySymbols(a);f<b.length;f++)0>c.indexOf(b[f])&&Object.prototype.propertyIsEnumerable.call(a,b[f])&&(k[b[f]]=a[b[f]]);}return k;}function c(a,c,k,b){var f,n,q;f=arguments.length;n=3>f?c:null===b?b=Object.getOwnPropertyDescriptor(c,k):b;if("object"===typeof Reflect&&"function"===typeof Reflect.Uu)n=Reflect.Uu(a,c,k,b);else for(var d=a.length-1;0<=d;d--)if(q=a[d])n=(3>f?q(n):3<f?q(c,k,n):q(c,k))||n;return 3<f&&n&&Object.defineProperty(c,k,n),n;}function k(a,c){return function(k,b){c(k,b,a);};}function q(a,c){if("object"===typeof Reflect&&"function"===typeof Reflect.fd)return Reflect.fd(a,c);}function n(a,c,k,b){return new(k||(k=Promise))(function(f,n){function q(a){try{u(b.next(a));}catch(O){n(O);}}function d(a){try{u(b["throw"](a));}catch(O){n(O);}}function u(a){a.done?f(a.value):new k(function(c){c(a.value);}).then(q,d);}u((b=b.apply(a,c||[])).next());});}function u(a,c){var f,n,q,d,u;function k(a){return function(c){return b([a,c]);};}function b(k){if(n)throw new TypeError("Generator is already executing.");for(;f;)try{if(n=1,q&&(d=k[0]&2?q["return"]:k[0]?q["throw"]||((d=q["return"])&&d.call(q),0):q.next)&&!(d=d.call(q,k[1])).done)return d;if(q=0,d)k=[k[0]&2,d.value];switch(k[0]){case 0:case 1:d=k;break;case 4:return f.label++,{value:k[1],done:!1};case 5:f.label++;q=k[1];k=[0];continue;case 7:k=f.wz.pop();f.oA.pop();continue;default:if(!(d=f.oA,d=0<d.length&&d[d.length-1])&&(6===k[0]||2===k[0])){f=0;continue;}if(3===k[0]&&(!d||k[1]>d[0]&&k[1]<d[3]))f.label=k[1];else if(6===k[0]&&f.label<d[1])f.label=d[1],d=k;else if(d&&f.label<d[2])f.label=d[2],f.wz.push(k);else{d[2]&&f.wz.pop();f.oA.pop();continue;}}k=c.call(a,f);}catch(O){k=[6,O];q=0;}finally{n=d=0;}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0};}f={label:0,WV:function(){if(d[0]&1)throw d[1];return d[1];},oA:[],wz:[]};h();h();m();return u={next:k(0),"throw":k(1),"return":k(2)},"function"===typeof Symbol&&(u[Symbol.iterator]=function(){return this;}),u;}function y(a,c){for(var k in a)c.hasOwnProperty(k)||(c[k]=a[k]);}function A(a){var c,k;h();h();m();c="function"===typeof Symbol&&a[Symbol.iterator];k=0;return c?c.call(a):{next:function(){a&&k>=a.length&&(a=void 0);return{value:a&&a[k++],done:!a};}};}function K(a,c){var k,b,f,n;h();h();m();k="function"===typeof Symbol&&a[Symbol.iterator];if(!k)return a;a=k.call(a);f=[];try{for(;(void 0===c||0<c--)&&!(b=a.next()).done;)f.push(b.value);}catch(da){n={error:da};}finally{try{b&&!b.done&&(k=a["return"])&&k.call(a);}finally{if(n)throw n.error;}}return f;}function x(){for(var a=[],c=0;c<arguments.length;c++)a=a.concat(K(arguments[c]));return a;}function I(){for(var a=0,c=0,k=arguments.length;c<k;c++)a+=arguments[c].length;for(var a=Array(a),b=0,c=0;c<k;c++)for(var f=arguments[c],n=0,q=f.length;n<q;n++,b++)a[b]=f[n];return a;}function G(a){return this instanceof G?(this.TW=a,this):new G(a);}function N(a,c,k){var u,y,t;function b(a){u[a]&&(y[a]=function(c){return new Promise(function(k,b){1<t.push([a,c,k,b])||f(a,c);});});}function f(a,c){var k;try{k=u[a](c);k.value instanceof G?Promise.resolve(k.value.TW).then(n,q):d(t[0][2],k);}catch(Ga){d(t[0][3],Ga);}}function n(a){f("next",a);}function q(a){f("throw",a);}function d(a,c){(a(c),t.shift(),t.length)&&f(t[0][0],t[0][1]);}h();if(!Symbol.GQ)throw new TypeError("Symbol.asyncIterator is not defined.");u=k.apply(a,c||[]);t=[];h();return y={},b("next"),b("throw"),b("return"),y[Symbol.GQ]=function(){return this;},y;}function T(a){var k,b;function c(c,f){k[c]=a[c]?function(k){return(b=!b)?{value:G(a[c](k)),done:"return"===c}:f?f(k):k;}:f;}h();m();return k={},c("next"),c("throw",function(a){throw a;}),c("return"),k[Symbol.iterator]=function(){return this;},k;}function S(a){var b,f;function c(c){f[c]=a[c]&&function(b){return new Promise(function(f,n){b=a[c](b);k(f,n,b.done,b.value);});};}function k(a,c,k,b){Promise.resolve(b).then(function(c){a({value:c,done:k});},c);}h();if(!Symbol.GQ)throw new TypeError("Symbol.asyncIterator is not defined.");h();b=a[Symbol.GQ];h();m();h();return b?b.call(a):(a="function"===typeof A?A(a):a[Symbol.iterator](),f={},c("next"),c("throw"),c("return"),f[Symbol.GQ]=function(){return this;},f);}function l(a,c){Object.defineProperty?Object.defineProperty(a,"raw",{value:c}):a.raw=c;return a;}function D(a){var c;if(a&&a.Aja)return a;c={};if(null!=a)for(var k in a)Object.hasOwnProperty.call(a,k)&&(c[k]=a[k]);c["default"]=a;return c;}function Q(a){return a&&a.Aja?a:{"default":a};}a.r(d);a.d(d,"__extends",function(){return t;});a.d(d,"__assign",function(){return b;});a.d(d,"__rest",function(){return p;});a.d(d,"__decorate",function(){return c;});a.d(d,"__param",function(){return k;});a.d(d,"__metadata",function(){return q;});a.d(d,"__awaiter",function(){return n;});a.d(d,"__generator",function(){return u;});a.d(d,"__exportStar",function(){return y;});a.d(d,"__values",function(){return A;});a.d(d,"__read",function(){return K;});a.d(d,"__spread",function(){return x;});a.d(d,"__spreadArrays",function(){return I;});a.d(d,"__await",function(){return G;});a.d(d,"__asyncGenerator",function(){return N;});a.d(d,"__asyncDelegator",function(){return T;});a.d(d,"__asyncValues",function(){return S;});a.d(d,"__makeTemplateObject",function(){return l;});a.d(d,"__importStar",function(){return D;});a.d(d,"__importDefault",function(){return Q;});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(31);d.Dzb=g;g=a(1046);d.IF=g.IF;g=a(82);d.Jn=g.Jn;d.Gh=g.Gh;d.mr=g.mr;g=a(1030);d.fda=g.fda;d.Wb=g.Wb;g=a(1029);d.L=g.L;g=a(1028);d.NCa=g.NCa;g=a(1027);d.Jxa=g.Jxa;g=a(465);d.l=g.l;d.XY=g.XY;g=a(1026);d.optional=g.optional;g=a(1025);d.$g=g.$g;g=a(1024);d.lz=g.lz;g=a(1023);d.zM=g.zM;g=a(1022);d.nza=g.nza;g=a(467);d.fZ=g.fZ;g=a(103);d.id=g.id;g=a(90);d.Uu=g.Uu;g=a(462);d.xDa=g.xDa;d.OCa=g.OCa;d.Kxa=g.Kxa;d.CDa=g.CDa;g=a(137);d.uD=g.uD;a=a(1021);d.Hxa=a.Hxa;},function(g,d){var a,b;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.ki=7001]="UNKNOWN";a[a.bSa=7002]="UNHANDLED_EXCEPTION";a[a.JKa=7003]="INIT_COMPONENT_LOG_TO_REMOTE";a[a.cfa=7010]="INIT_ASYNCCOMPONENT";a[a.vfa=7011]="INIT_HTTP";a[a.HKa=7014]="INIT_BADMOVIEID";a[a.VKa=7016]="INIT_NETFLIXID_MISSING";a[a.UKa=7017]="INIT_NETFLIXID_INVALID";a[a.XKa=7018]="INIT_SECURENETFLIXID_MISSING";a[a.wfa=7020]="INIT_PLAYBACK_LOCK";a[a.xfa=7022]="INIT_SESSION_LOCK";a[a.WKa=7029]="INIT_POSTAUTHORIZE";a[a.Wyb=7031]="INIT_HEADER_MEDIA";a[a.Ayb=7032]="HEADER_MISSING";a[a.zyb=7033]="HEADER_FRAGMENTS_MISSING";a[a.YKa=7034]="INIT_TIMEDTEXT_TRACK";a[a.Xyb=7035]="INIT_LOAD_DOWNLOADED_MEDIA";a[a.Yyb=7036]="INIT_STREAMS_NOT_AVAILABLE";a[a.KEa=7037]="ASE_SESSION_ERROR";a[a.RKa=7041]="INIT_CORE_OBJECTS1";a[a.SKa=7042]="INIT_CORE_OBJECTS2";a[a.TKa=7043]="INIT_CORE_OBJECTS3";a[a.Tyb=7051]="INIT_COMPONENT_REQUESTQUOTA";a[a.Nyb=7052]="INIT_COMPONENT_FILESYSTEM";a[a.nfa=7053]="INIT_COMPONENT_STORAGE";a[a.ofa=7054]="INIT_COMPONENT_STORAGELOCK";a[a.Oyb=7055]="INIT_COMPONENT_LOGPERSIST";a[a.Pyb=7056]="INIT_COMPONENT_NRDDPI";a[a.Ryb=7057]="INIT_COMPONENT_PEPPERCRYPTO";a[a.jfa=7058]="INIT_COMPONENT_MAINTHREADMONITOR";a[a.QY=7059]="INIT_COMPONENT_DEVICE";a[a.Qyb=7062]="INIT_COMPONENT_NTBA";a[a.kfa=7063]="INIT_COMPONENT_MSL";a[a.ffa=7065]="INIT_COMPONENT_CONTROL_PROTOCOL";a[a.ifa=7066]="INIT_COMPONENT_LOGBLOBBATCHER";a[a.Jt=7067]="INIT_COMPONENT_PERSISTEDPLAYDATA";a[a.Syb=7068]="INIT_COMPONENT_PLAYBACKHEURISTICSRANDOM";a[a.UN=7069]="INIT_COMPONENT_ACCOUNT";a[a.LKa=7070]="INIT_COMPONENT_NRDP_CONFIG_LOADER";a[a.NKa=7071]="INIT_COMPONENT_NRDP_ESN_PREFIX_LOADER";a[a.OKa=7072]="INIT_COMPONENT_NRDP_MEDIA";a[a.PKa=7073]="INIT_COMPONENT_NRDP_PREPARE_LOADER";a[a.QKa=7074]="INIT_COMPONENT_NRDP_REGISTRATION";a[a.KKa=7081]="INIT_COMPONENT_NRDP";a[a.MKa=7082]="INIT_COMPONENT_NRDP_DEVICE";a[a.ufa=7083]="INIT_COMPONENT_WEBCRYPTO";a[a.qfa=7084]="INIT_COMPONENT_VIDEO_PREPARER";a[a.Vyb=7085]="INIT_CONGESTION_SERVICE";a[a.hfa=7086]="INIT_COMPONENT_IDB_VIEWER_TOOL";a[a.pfa=7087]="INIT_COMPONENT_TRACKING_LOG";a[a.efa=7088]="INIT_COMPONENT_BATTERY_MANAGER";a[a.dfa=7089]="INIT_COMPONENT_ASE_MANAGER";a[a.Uyb=7090]="INIT_COMPONENT_VIDEO_CACHE";a[a.JA=7091]="INIT_COMPONENT_DRM_CACHE";a[a.IKa=7092]="INIT_COMPONENT_DRM";a[a.lfa=7093]="INIT_COMPONENT_PREFETCH_EVENTS";a[a.gfa=7094]="INIT_COMPONENT_FTL";a[a.mfa=7095]="INIT_COMPONENT_PREPARE_MODEL";a[a.rfa=7096]="INIT_COMPONENT_VIDEO_SESSION_EDGE";a[a.sfa=7097]="INIT_COMPONENT_VIDEO_SESSION_MDX";a[a.tfa=7098]="INIT_COMPONENT_VIDEO_SESSION_TEST";a[a.MANIFEST=7111]="MANIFEST";a[a.VEa=7112]="AUTHORIZE_UNKNOWN";a[a.$La=7117]="MANIFEST_VERIFY";a[a.xia=7120]="START";a[a.Sw=7121]="LICENSE";a[a.uQa=7122]="SECURESTOP";a[a.Aia=7123]="STOP";a[a.pyb=7124]="FPSAPPDATA";a[a.WY=7125]="KEEPALIVE";a[a.$wb=7126]="DEACTIVATE";a[a.yCb=7127]="SYNC_DEACTIVATE_LINKS";a[a.Avb=7130]="ACTIVATE";a[a.uZ=7131]="PING";a[a.Jga=7133]="NETFLIXID";a[a.gJa=7134]="ENGAGE";a[a.bG=7135]="LOGIN";a[a.nO=7136]="SWITCH_PROFILES";a[a.CLa=7137]="LOGBLOB";a[a.XNa=7138]="PAUSE";a[a.eQa=7139]="RESUME";a[a.uia=7140]="SPLICE";a[a.kxb=7141]="DOWNLOAD_EVENT";a[a.AFa=7142]="BIND";a[a.UNa=7143]="PAIR";a[a.BFa=7144]="BIND_DEVICE";a[a.qOa=7202]="PLAY_INIT_EXCEPTION";a[a.yzb=7301]="MEDIA_DOWNLOAD";a[a.$Ab=7330]="PLAY_MSE_EME_CREATE_KEYSESSION_FAILED";a[a.aBb=7331]="PLAY_MSE_EME_KEY_SESSION_UPDATE_EXCEPTION";a[a.fha=7332]="PLAY_MSE_EME_KEY_STATUS_CHANGE_EXPIRED";a[a.wOa=7333]="PLAY_MSE_EME_KEY_STATUS_CHANGE_INTERNAL_ERROR";a[a.gha=7334]="PLAY_MSE_EME_KEY_STATUS_CHANGE_OUTPUT_NOT_ALLOWED";a[a.xOa=7335]="PLAY_MSE_EME_KEY_STATUS_EXCEPTION";a[a.iha=7351]="PLAY_MSE_NOTSUPPORTED";a[a.hha=7352]="PLAY_MSE_EME_NOTSUPPORTED";a[a.eha=7353]="PLAY_MSE_DECODER_TIMEOUT";a[a.vZ=7354]="PLAY_MSE_EME_TYPE_NOTSUPPORTED";a[a.xZ=7355]="PLAY_MSE_SOURCEADD";a[a.rOa=7356]="PLAY_MSE_CREATE_MEDIAKEYS";a[a.BOa=7357]="PLAY_MSE_GENERATEKEYREQUEST";a[a.fBb=7358]="PLAY_MSE_PARSECHALLENGE";a[a.ZAb=7359]="PLAY_MSE_ADDKEY";a[a.iBb=7360]="PLAY_MSE_UNEXPECTED_NEEDKEY";a[a.AOa=7361]="PLAY_MSE_EVENT_ERROR";a[a.wZ=7362]="PLAY_MSE_SETMEDIAKEYS";a[a.gO=7363]="PLAY_MSE_EVENT_KEYERROR";a[a.zOa=7364]="PLAY_MSE_EME_SESSION_CLOSE";a[a.COa=7365]="PLAY_MSE_GETCURRENTTIME";a[a.DOa=7367]="PLAY_MSE_SETCURRENTTIME";a[a.EOa=7371]="PLAY_MSE_SOURCEAPPEND";a[a.gBb=7373]="PLAY_MSE_SOURCEAPPEND_INIT";a[a.IOa=7375]="PLAY_MSE_UNEXPECTED_SEEKING";a[a.HOa=7376]="PLAY_MSE_UNEXPECTED_SEEKED";a[a.GOa=7377]="PLAY_MSE_UNEXPECTED_REWIND";a[a.hBb=7379]="PLAY_MSE_SOURCE_EOS";a[a.FOa=7381]="PLAY_MSE_SOURCEBUFFER_ERROR";a[a.eBb=7385]="PLAY_MSE_KEYSESSION_UPDATE";a[a.sOa=7391]="PLAY_MSE_CREATE_MEDIASOURCE";a[a.tOa=7392]="PLAY_MSE_CREATE_MEDIASOURCE_OBJECTURL";a[a.uOa=7393]="PLAY_MSE_CREATE_MEDIASOURCE_OPEN";a[a.cBb=7394]="PLAY_MSE_EME_MISSING_DRMHEADER";a[a.yOa=7395]="PLAY_MSE_EME_MISSING_PSSH";a[a.bBb=7396]="PLAY_MSE_EME_MISSING_CERT";a[a.dBb=7397]="PLAY_MSE_EME_NO_PRK_SUPPORT";a[a.vOa=7398]="PLAY_MSE_DURATIONCHANGE_ERROR";a[a.jha=7399]="PLAY_MSE_SET_LICENSE_ERROR";a[a.lJa=7400]="EXTERNAL";a[a.fO=7500]="PAUSE_TIMEOUT";a[a.SN=7502]="INACTIVITY_TIMEOUT";a[a.UEa=7510]="AUTHORIZATION_EXPIRED";a[a.bxb=7520]="DECRYPT_AUDIO";a[a.sia=7600]="SECURE_STOP_PROMISE_EXPIRED";a[a.vQa=7601]="SECURE_STOP_KEY_ERROR";a[a.cCb=7602]="SECURE_STOP_VIDEO_ERROR";a[a.OBb=7603]="SECURE_STOP_NCCP_ERROR";a[a.PBb=7604]="SECURE_STOP_NCCP_PARSE_PAYLOAD_ERROR";a[a.bCb=7605]="SECURE_STOP_STORAGE_REMOVE_ERROR";a[a.TBb=7620]="SECURE_STOP_PERSISTED_KEY_SESSION_NOT_AVAILABLE";a[a.wQa=7621]="SECURE_STOP_PERSISTED_NO_MORE_ERROR";a[a.UBb=7622]="SECURE_STOP_PERSISTED_MAX_ATTEMPTS_EXCEEDED";a[a.VBb=7623]="SECURE_STOP_PERSISTED_MSE_CREATE_MEDIASOURCE_OPEN";a[a.NZ=7624]="SECURE_STOP_PERSISTED_PLAY_MSE_GENERATEKEYREQUEST";a[a.QBb=7625]="SECURE_STOP_PERSISTED_CREATE_SESSION_WITH_KEY_RELEASE_FAILED";a[a.WBb=7626]="SECURE_STOP_PERSISTED_NCCP_FPSAPPDATA";a[a.ZBb=7627]="SECURE_STOP_PERSISTED_PLIST_PARSE_ERROR";a[a.XBb=7628]="SECURE_STOP_PERSISTED_PENDING_KEY_ADDED_EXPIRED";a[a.SBb=7631]="SECURE_STOP_PERSISTED_KEY_ERROR";a[a.aCb=7632]="SECURE_STOP_PERSISTED_VIDEO_ERROR";a[a.YBb=7633]="SECURE_STOP_PERSISTED_PLAY_MSE_KEYSESSION_UPDATE";a[a.RBb=7634]="SECURE_STOP_PERSISTED_DRM_NOT_SUPPORTED";a[a.$Bb=7635]="SECURE_STOP_PERSISTED_UNEXPECTED_MESSAGE_TYPE";a[a.bJa=7700]="EME_INVALID_KEYSYSTEM";a[a.qea=7701]="EME_CREATE_MEDIAKEYS_SYSTEMACCESS_FAILED";a[a.pea=7702]="EME_CREATE_MEDIAKEYS_FAILED";a[a.rea=7703]="EME_GENERATEREQUEST_FAILED";a[a.CN=7704]="EME_UPDATE_FAILED";a[a.Cxb=7705]="EME_KEYSESSION_ERROR";a[a.Nxb=7706]="EME_NO_KEYMESSAGE";a[a.vea=7707]="EME_REMOVE_FAILED";a[a.dJa=7708]="EME_LOAD_FAILED";a[a.ZIa=7709]="EME_CREATE_SESSION_FAILED";a[a.Exb=7710]="EME_LDL_RENEWAL_ERROR";a[a.sea=7711]="EME_INVALID_INITDATA_DATA";a[a.tea=7712]="EME_INVALID_LICENSE_DATA";a[a.cJa=7713]="EME_LDL_KEYSSION_ALREADY_CLOSED";a[a.Fxb=7714]="EME_MEDIAKEYS_GENERIC_ERROR";a[a.uea=7715]="EME_INVALID_SECURESTOP_DATA";a[a.YIa=7716]="EME_CLOSE_FAILED";a[a.oOa=7800]="PLAYDATA_STORE_FAILURE";a[a.YAb=7801]="PLAYDATA_SEND_FAILURE";a[a.DF=7900]="BRANCH_PLAY_FAILURE";a[a.Gw=7901]="BRANCH_QUEUE_FAILURE";a[a.jda=7902]="BRANCH_UPDATE_NEXT_SEGMENT_WEIGHTS_FAILURE";a[a.nAb=8E3]="NRDP_REGISTRATION_ACTIVATE_FAILURE";a[a.oAb=8010]="NRDP_REGISTRATION_SSO_ACTIVATE_FAILURE";a[a.cOa=8100]="PBO_EVENTLOOKUP_FAILURE";}(a=d.K||(d.K={})));(function(a){a[a.ki=1001]="UNKNOWN";a[a.Dg=1003]="EXCEPTION";a[a.bLa=1004]="INVALID_DI";a[a.OEa=1011]="ASYNCLOAD_EXCEPTION";a[a.PEa=1013]="ASYNCLOAD_TIMEOUT";a[a.LEa=1015]="ASYNCLOAD_BADCONFIG";a[a.MEa=1016]="ASYNCLOAD_COMPONENT_DUPLICATE";a[a.NEa=1017]="ASYNCLOAD_COMPONENT_MISSING";a[a.IA=1101]="HTTP_UNKNOWN";a[a.NY=1102]="HTTP_XHR";a[a.WF=1103]="HTTP_PROTOCOL";a[a.VF=1104]="HTTP_OFFLINE";a[a.XF=1105]="HTTP_TIMEOUT";a[a.Rw=1106]="HTTP_READTIMEOUT";a[a.Ht=1107]="HTTP_ABORT";a[a.JY=1108]="HTTP_PARSE";a[a.Sea=1110]="HTTP_BAD_URL";a[a.HA=1111]="HTTP_PROXY";a[a.hga=1203]="MSE_AUDIO";a[a.iga=1204]="MSE_VIDEO";a[a.pMa=1250]="MSE_MEDIA_ERR_BASE";a[a.Hzb=1251]="MSE_MEDIA_ERR_ABORTED";a[a.Kzb=1252]="MSE_MEDIA_ERR_NETWORK";a[a.Izb=1253]="MSE_MEDIA_ERR_DECODE";a[a.Lzb=1254]="MSE_MEDIA_ERR_SRC_NOT_SUPPORTED";a[a.Jzb=1255]="MSE_MEDIA_ERR_ENCRYPTED";a[a.DA=1260]="EME_MEDIA_KEYERR_BASE";a[a.Lxb=1261]="EME_MEDIA_KEYERR_UNKNOWN";a[a.Gxb=1262]="EME_MEDIA_KEYERR_CLIENT";a[a.Kxb=1263]="EME_MEDIA_KEYERR_SERVICE";a[a.Jxb=1264]="EME_MEDIA_KEYERR_OUTPUT";a[a.Ixb=1265]="EME_MEDIA_KEYERR_HARDWARECHANGE";a[a.Hxb=1266]="EME_MEDIA_KEYERR_DOMAIN";a[a.Mxb=1269]="EME_MEDIA_UNAVAILABLE_CDM";a[a.aJa=1280]="EME_ERROR_NODRMSESSSION";a[a.$Ia=1281]="EME_ERROR_NODRMREQUESTS";a[a.Axb=1282]="EME_ERROR_INDIV_FAILED";a[a.Bxb=1283]="EME_ERROR_UNSUPPORTED_MESSAGETYPE";a[a.fJa=1284]="EME_TIMEOUT_MESSAGE";a[a.eJa=1285]="EME_TIMEOUT_KEYCHANGE";a[a.SX=1286]="EME_UNDEFINED_DATA";a[a.LF=1287]="EME_INVALID_STATE";a[a.Dxb=1288]="EME_LDL_DOES_NOT_SUPPORT_PRK";a[a.RX=1289]="EME_EMPTY_DATA";a[a.MF=1290]="EME_TIMEOUT";a[a.cAb=1303]="NCCP_METHOD_NOT_SUPPORTED";a[a.fAb=1305]="NCCP_PARSEXML";a[a.ROa=1309]="PROCESS_EXCEPTION";a[a.eAb=1311]="NCCP_NETFLIXID_MISSING";a[a.gAb=1312]="NCCP_SECURENETFLIXID_MISSING";a[a.$zb=1313]="NCCP_HMAC_MISSING";a[a.Zzb=1315]="NCCP_HMAC_MISMATCH";a[a.Yzb=1317]="NCCP_HMAC_FAILED";a[a.Xzb=1321]="NCCP_CLIENTTIME_MISSING";a[a.Wzb=1323]="NCCP_CLIENTTIME_MISMATCH";a[a.Nea=1331]="GENERIC";a[a.rNa=1333]="NCCP_PROTOCOL_INVALIDDEVICECREDENTIALS";a[a.sNa=1337]="NCCP_PROTOCOL_REDIRECT_LOOP";a[a.hAb=1341]="NCCP_TRANSACTION";a[a.aAb=1343]="NCCP_INVALID_DRMTYPE";a[a.bAb=1344]="NCCP_INVALID_LICENCE_RESPONSE";a[a.dAb=1345]="NCCP_MISSING_PAYLOAD";a[a.qha=1346]="PROTOCOL_NOT_INITIALIZED";a[a.pBb=1347]="PROTOCOL_MISSING_FIELD";a[a.SOa=1348]="PROTOCOL_MISMATCHED_PROFILEGUID";a[a.Sn=1402]="STORAGE_NODATA";a[a.iCb=1403]="STORAGE_EXCEPTION";a[a.qCb=1405]="STORAGE_QUOTA_NOT_GRANTED";a[a.rCb=1407]="STORAGE_QUOTA_TO_SMALL";a[a.Cia=1411]="STORAGE_LOAD_ERROR";a[a.JQa=1412]="STORAGE_LOAD_TIMEOUT";a[a.Dia=1414]="STORAGE_SAVE_ERROR";a[a.MQa=1415]="STORAGE_SAVE_TIMEOUT";a[a.PZ=1417]="STORAGE_DELETE_ERROR";a[a.Bia=1418]="STORAGE_DELETE_TIMEOUT";a[a.pCb=1421]="STORAGE_FS_REQUESTFILESYSTEM";a[a.mCb=1423]="STORAGE_FS_GETDIRECTORY";a[a.oCb=1425]="STORAGE_FS_READENTRIES";a[a.jCb=1427]="STORAGE_FS_FILEREAD";a[a.lCb=1429]="STORAGE_FS_FILEWRITE";a[a.kCb=1431]="STORAGE_FS_FILEREMOVE";a[a.nCb=1432]="STORAGE_FS_PARSEJSON";a[a.LQa=1451]="STORAGE_NO_LOCALSTORAGE";a[a.KQa=1453]="STORAGE_LOCALSTORAGE_ACCESS_EXCEPTION";a[a.uAb=1501]="NTBA_UNKNOWN";a[a.tAb=1502]="NTBA_EXCEPTION";a[a.pAb=1504]="NTBA_CRYPTO_KEY";a[a.rAb=1506]="NTBA_CRYPTO_OPERATION";a[a.qAb=1508]="NTBA_CRYPTO_KEYEXCHANGE";a[a.sAb=1515]="NTBA_DECRYPT_UNSUPPORTED";a[a.Uda=1553]="DEVICE_NO_ESN";a[a.DX=1555]="DEVICE_ERROR_GETTING_ESN";a[a.mha=1603]="PLUGIN_LOAD_MISSING";a[a.kha=1605]="PLUGIN_LOAD_ERROR";a[a.nha=1607]="PLUGIN_LOAD_TIMEOUT";a[a.lha=1609]="PLUGIN_LOAD_EXCEPTION";a[a.MOa=1625]="PLUGIN_EXCEPTION";a[a.JOa=1627]="PLUGIN_CALLBACK_ERROR";a[a.KOa=1629]="PLUGIN_CALLBACK_TIMEOUT";a[a.JJa=1701]="FORMAT_UNKNOWN";a[a.Fea=1713]="FORMAT_XML";a[a.KJa=1715]="FORMAT_XML_CONTENT";a[a.IJa=1721]="FORMAT_BASE64";a[a.GN=1723]="FORMAT_DFXP";a[a.uKa=1801]="INDEXDB_OPEN_EXCEPTION";a[a.afa=1802]="INDEXDB_NOT_SUPPORTED";a[a.tKa=1803]="INDEXDB_OPEN_ERROR";a[a.bfa=1804]="INDEXDB_OPEN_NULL";a[a.sKa=1805]="INDEXDB_OPEN_BLOCKED";a[a.vKa=1807]="INDEXDB_OPEN_TIMEOUT";a[a.rKa=1808]="INDEXDB_INVALID_STORE_STATE";a[a.TN=1809]="INDEXDB_ACCESS_EXCEPTION";a[a.yMa=1901]="MSL_UNKNOWN";a[a.rMa=1911]="MSL_INIT_NO_MSL";a[a.mga=1913]="MSL_INIT_ERROR";a[a.sMa=1915]="MSL_INIT_NO_WEBCRYPTO";a[a.jga=1931]="MSL_ERROR";a[a.xMa=1933]="MSL_REQUEST_TIMEOUT";a[a.wMa=1934]="MSL_READ_TIMEOUT";a[a.qMa=1935]="MSL_ERROR_HEADER";a[a.fG=1936]="MSL_ERROR_ENVELOPE";a[a.kga=1937]="MSL_ERROR_MISSING_PAYLOAD";a[a.lga=1957]="MSL_ERROR_REAUTH";a[a.g_=2103]="WEBCRYPTO_MISSING";a[a.rSa=2105]="WEBCRYPTOKEYS_MISSING";a[a.sSa=2107]="WEBCRYPTO_IFRAME_LOAD_ERROR";a[a.Gwb=2200]="CACHEDDATA_PARSEJSON";a[a.sda=2201]="CACHEDDATA_UNSUPPORTED_VERSION";a[a.Hwb=2202]="CACHEDDATA_UPGRADE_FAILED";a[a.yt=2203]="CACHEDDATA_INVALID_FORMAT";a[a.Jca=3E3]="ACCOUNT_CHANGE_INFLIGHT";a[a.CEa=3001]="ACCOUNT_INVALID";a[a.jxb=3100]="DOWNLOADED_MANIFEST_UNAVAILABLE";a[a.ixb=3101]="DOWNLOADED_MANIFEST_PARSE_EXCEPTION";a[a.gxb=3200]="DOWNLOADED_LICENSE_UNAVAILABLE";a[a.hxb=3201]="DOWNLOADED_LICENSE_UNUSEABLE";a[a.fxb=3202]="DOWNLOADED_LICENSE_EXCEPTION";a[a.sCb=3300]="STORAGE_VA_LOAD_ERROR";a[a.tCb=3301]="STORAGE_VA_LOAD_TIMEOUT";a[a.wCb=3302]="STORAGE_VA_SAVE_ERROR";a[a.xCb=3303]="STORAGE_VA_SAVE_TIMEOUT";a[a.uCb=3304]="STORAGE_VA_REMOVE_ERROR";a[a.vCb=3305]="STORAGE_VA_REMOVE_TIMEOUT";a[a.tZ=3077]="PBO_DEVICE_EOL_WARNING";a[a.aha=3078]="PBO_DEVICE_EOL_FINAL";a[a.jOa=5003]="PBO_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.YNa=5005]="PBO_ACCOUNT_ON_HOLD";a[a.bOa=5006]="PBO_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.bha=5007]="PBO_INCORRECT_PIN";a[a.hOa=5008]="PBO_MOBILE_ONLY";a[a.dOa=5033]="PBO_INSUFFICIENT_MATURITY_LEVEL";a[a.$Na=5059]="PBO_BLACKLISTED_IP";a[a.ZNa=5070]="PBO_AGE_VERIFICATION_REQUIRED";a[a.aOa=5080]="PBO_CHOICE_MAP_ERROR";a[a.iOa=5090]="PBO_RESTRICTED_TO_TESTERS";a[a.fOa=5091]="PBO_MALFORMED_REQUEST";a[a.eOa=5092]="PBO_INVALID_SERVICE_VERSION";a[a.gOa=5093]="PBO_MDX_INVALID_CTICKET";a[a.sHa=5100]="DECODER_TIMEOUT_BUFFERING";a[a.tHa=5101]="DECODER_TIMEOUT_PRESENTING";a[a.pIa=5200]="DOWNLOADER_IO_ERROR";a[a.ida=5300]="BRANCHING_SEGMENT_NOTFOUND";a[a.GFa=5301]="BRANCHING_PRESENTER_UNINITIALIZED";a[a.Uvb=5302]="BRANCHING_SEGMENT_STREAMING_NOT_STARTED";a[a.oX=5303]="BRANCHING_ASE_UNINITIALIZED";a[a.CFa=5304]="BRANCHING_ASE_FAILURE";a[a.EFa=5305]="BRANCHING_MOMENT_FAILURE";a[a.DFa=5306]="BRANCHING_CURRENT_SEGMENT_UNINITIALIZED";a[a.Tvb=5307]="BRANCHING_SEGMENT_LASTPTS_UNINIITALIZED";a[a.HFa=5308]="BRANCHING_SEEK_THREW";a[a.Svb=5309]="BRANCHING_PLAY_NOTENOUGHNEXTSEGMENTS";a[a.FFa=5310]="BRANCHING_PLAY_TIMEDOUT";a[a.IFa=5311]="BRANCHING_SEGMENT_ALREADYQUEUED";a[a.JFa=5312]="BRANCHING_UPDATE_NEXT_SEGMENT_WEIGHTS_THREW";}(b=d.H||(d.H={})));(function(a){a[a.ewb=5003]="BR_VIEWABLE_OUT_OF_AVAILABILITY_WINDOW";a[a.Vvb=5005]="BR_ACCOUNT_ON_HOLD";a[a.Zvb=5006]="BR_CONCURRENT_STREAM_QUOTA_EXCEEDED";a[a.bwb=5033]="BR_INSUFFICIENT_MATURITY_LEVEL";a[a.Yvb=5059]="BR_BLACKLISTED_IP";a[a.Wvb=5070]="BR_AGE_VERIFICATION_REQUIRED";a[a.cwb=2204]="BR_PLAYBACK_CONTEXT_CREATION";a[a.$vb=2205]="BR_DRM_LICENSE_AQUISITION";a[a.dwb=2206]="BR_PLAYBACK_SERVICE_ERROR";a[a.awb=2207]="BR_ENDPOINT_ERROR";a[a.Xvb=2208]="BR_AUTHORIZATION_ERROR";}(d.yJa||(d.yJa={})));d.OY={OFa:"400",dDb:"401",rha:"413"};d.gZ={nyb:1,RCb:2,Qxb:3,cDb:4,qzb:5,Pxb:6,d_:7,kJa:8,GBb:9,fCb:10};(function(a){a[a.VNa=21]="PAIRING_CONTROLLER_CTICKET_EXPIRED";a[a.WNa=98]="PAIRING_UNKNOWN_ERROR";}(d.dZ||(d.dZ={})));d.Xxb=function(a){return 7100<=a&&7200>a;};d.wJa=function(b){return b==a.fO||b==a.SN;};d.AJa=function(a){return 1100<=a&&1199>=a;};d.Zxb=function(a){return 1300<=a&&1399>=a;};d.Yxb=function(a){return 1900<=a&&1999>=a;};d.zea=function(a,b){return 1<=a&&9>=a?b+a:b;};d.BJa=function(a){return d.zea(a,b.pMa);};d.Aea=function(a){return d.zea(a,b.DA);};d.Nn=function(a){var d,f,c;d={};f=a.errorExternalCode||a.qc;c=a.errorDetails||a.Oa;d.ErrorSubCode=a.errorSubCode||a.Y||b.ki;f&&(d.ErrorExternalCode=f);c&&(d.ErrorDetails=c);return d;};},function(g,d,a){var t;function b(a){return t.uO.apply(this,arguments)||this;}function f(a){return new t.rp(a,d.na);}Object.defineProperty(d,"__esModule",{value:!0});t=a(461);ba(b,t.uO);d.WCb=b;d.JIb=function(a){return new t.rp(a,d.QA);};d.Xlb=function(a){return new t.rp(a*d.Em.Ie,d.QA);};d.zb=f;d.xg=function(a){return new t.rp(a,d.Em);};d.l9=function(a){return new t.rp(a,d.Cga);};d.zHb=function(a){return new t.rp(a,d.lKa);};d.timestamp=function(a){return f(a);};d.QA=new b(1,"\u03bcs");d.na=new b(1E3,"ms",d.QA);d.Em=new b(1E3*d.na.Ie,"s",d.QA);d.Cga=new b(60*d.Em.Ie,"min",d.QA);d.lKa=new b(60*d.Cga.Ie,"hr",d.QA);d.sf=f(0);},function(g,d,a){var b,f,t,p,c,k,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(468);g=a(5);f=a(29);t=a(98);p=a(99);c=a(40);k=a(19);q=a(62);d.um=b.Vc.get(t.ox);d.RW=d.um.encode.bind(d.um);d.QM=d.um.decode.bind(d.um);d.th=b.Vc.get(p.Hw);d.pEb=d.th.encode.bind(d.th);d.oEb=d.th.decode.bind(d.th);d.doa=d.th.rJ.bind(d.th);d.qEb=d.th.nDa.bind(d.th);d.he=b.Vc.get(c.Jj);d.$r=function(a){a=k.Ld(a)?d.QM(a):a;return d.he.encode(a);};d.Jk=d.he.decode.bind(d.he);d.D_a=function(a){return d.RW(d.Jk(a));};d.qRa=a(508);d.lD=function(){return b.Vc.get(f.NX);};d.Ue=b.Vc.get(g.kb);d.log=d.Ue.ib("General");d.Cf=function(a,c){return d.Ue.ib(a,void 0,c);};d.Uf=function(a,c){return d.Ue.ib(c,a,void 0);};d.CS=function(a,c,k,b){return d.Ue.ib(a,void 0,b,c,k);};d.dx=function(a,c){return b.Vc.get(q.uk)(a,c,void 0).$ba();};d.W=b.Vc;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Ih||(d.Ih={});g[g.HJa=0]="FATAL";g[g.ERROR=1]="ERROR";g[g.f_=2]="WARN";g[g.PY=3]="INFO";g[g.Wia=4]="TRACE";g[g.Yq=5]="DEBUG";d.Yfa="LogFieldBuilderFactorySymbol";d.kb="LoggerFactorySymbol";d.Mw={};},function(g){g.T={TJ:function(d){for(var a in d)d.hasOwnProperty(a)&&(this[a]=d[a]);},reset:function(){}};},function(g){var d;d={qa:function(a){return"number"===typeof a;},Se:function(a){return"object"===typeof a;},Ld:function(a){return"string"===typeof a;},P:function(a){return"undefined"===typeof a;},meb:function(a){return"boolean"===typeof a;},Mb:function(a){return"function"===typeof a;},Ra:function(a){return null===a;},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a);},isFinite:function(a){return isFinite(a)&&!isNaN(parseFloat(a));},has:function(a,b){return null!==a&&"undefined"!==typeof a&&Object.prototype.hasOwnProperty.call(a,b);},rkb:function(a){var b,f;f=[];if(!d.Se(a))throw new TypeError("Object.pairs called on non-object");for(b in a)a.hasOwnProperty(b)&&f.push([b,a[b]]);return f;}};d.Rc=d.forEach=function(a,b,f){if(null===a||"undefined"===typeof a)return a;if(a.length===+a.length)for(var t=0,p=a.length;t<p;t++)b.call(f,a[t],t,a);else for(t in a)d.has(a,t)&&b.call(f,a[t],t,a);return a;};g.T=d;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ee=function(){};d.fQa=function(){return!0;};d.yc={X:!0};d.qk=1E3;d.MBb=86400;d.NBb=604800;d.zzb=1E4;d.Azb=1E7;d.gDb=1.5;d.ozb=.128;d.Rvb=7.8125;d.gwb=128;d.Uw=145152E5;d.bMa=1E5;d.pZ="$netflix$player$order";d.WA=-1;d.qZ=1;d.BHa=["en-US"];d.hwb=8;d.cMa=65535;d.eCb=65536;d.zAb=Number.MAX_VALUE;d.QX="playready";d.kea="widevine";d.zxb="fps";d.UIa="clearkey";d.Vw='audio/mp4; codecs="mp4a.40.5"';d.fMa='audio/mp4; codecs="mp4a.a6"';d.pl='video/mp4; codecs="avc1.640028"';d.Czb='video/mp4; codecs="hev1.2.6.L153.B0"';d.Bzb='video/mp4; codecs="dvhe.01000000"';d.SIa="9A04F079-9840-4286-AB92-E65BE0885F95";d.xxb="29701FE4-3CC7-4A34-8C5B-AE90C7439A47";d.yxb="EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED";d.vwb=["4E657466-6C69-7850-6966-665374726D21","4E657466-6C69-7848-6165-6465722E7632"];d.aGa="A2394F52-5A9B-4F14-A244-6C427C648DF4";d.wwb="4E657466-6C69-7846-7261-6D6552617465";d.xwb="8974DBCE-7BE7-4C51-84F9-7148F9882554";d.rwb="mp4a";d.ZFa="enca";d.owb="ec-3";d.mwb="avc1";d.$Fa="encv";d.qwb="hvcC";d.pwb="hev1";d.nwb="dvhe";d.swb="vp09";d.ZY=0;d.eG=1;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g="undefined"===typeof M?{}:M;d.Nj=g.navigator||{};d.tk=d.Nj.userAgent;d.mZ=g.location;d.fr=g.screen;d.er=g.performance;d.Ed=g.document||{};d.jAb=d.Ed.documentElement;d.Bu=Array.prototype;d.sort=d.Bu.sort;d.map=d.Bu.map;d.slice=d.Bu.slice;d.every=d.Bu.every;d.reduce=d.Bu.reduce;d.filter=d.Bu.filter;d.forEach=d.Bu.forEach;d.pop=d.Bu.pop;d.oG=Object.create;d.NNa=Object.keys;d.zN=Date.now;d.mRa=String.fromCharCode;d.Xw=Math.floor;d.KMa=Math.ceil;d.Jh=Math.round;d.Am=Math.max;d.Bm=Math.min;d.hG=Math.random;d.gG=Math.abs;d.rga=Math.pow;d.LMa=Math.sqrt;d.lZ=g.escape;d.nZ=g.unescape;d.URL=g.URL||g.webkitURL;d.SA=g.MediaSource||g.WebKitMediaSource;d.lG=g.WebKitMediaKeys||g.MSMediaKeys||g.MediaKeys;d.Rt=g.nfCrypto||g.webkitCrypto||g.msCrypto||g.crypto;d.Ym=d.Rt&&(d.Rt.webkitSubtle||d.Rt.subtle);d.kZ=g.nfCryptokeys||g.webkitCryptokeys||g.msCryptokeys||g.cryptokeys;try{d.indexedDB=g.indexedDB;}catch(a){d.JHb=a||"noex";}try{d.localStorage=g.localStorage;}catch(a){d.dwa=a||"noex";}},function(g,d,a){var b,f,t,p;b=a(81);f=a(1002);t=a(238);p=a(1001);g=function(){function a(a){this.zr=!1;a&&(this.Of=a);}a.prototype.Xf=function(c){var k;k=new a();k.source=this;k.R9=c;return k;};a.prototype.subscribe=function(a,c,b){var k;k=this.R9;a=f.Wsb(a,c,b);k?k.call(a,this.source):a.add(this.source||!a.mk?this.Of(a):this.b1(a));if(a.mk&&(a.mk=!1,a.dA))throw a.eA;return a;};a.prototype.b1=function(a){try{return this.Of(a);}catch(q){a.dA=!0;a.eA=q;a.error(q);}};a.prototype.forEach=function(a,c){var k;k=this;c||(b.root.gx&&b.root.gx.config&&b.root.gx.config.Promise?c=b.root.gx.config.Promise:b.root.Promise&&(c=b.root.Promise));if(!c)throw Error("no Promise impl found");return new c(function(c,b){var n;n=k.subscribe(function(c){if(n)try{a(c);}catch(x){b(x);n.unsubscribe();}else a(c);},b,c);});};a.prototype.Of=function(a){return this.source.subscribe(a);};a.prototype[t.observable]=function(){return this;};a.prototype.nlb=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return 0===a.length?this:p.olb(a)(this);};a.prototype.Zba=function(){var a,c;c=this;a||(b.root.gx&&b.root.gx.config&&b.root.gx.config.Promise?a=b.root.gx.config.Promise:b.root.Promise&&(a=b.root.Promise));if(!a)throw Error("no Promise impl found");return new a(function(a,k){var b;c.subscribe(function(a){return b=a;},function(a){return k(a);},function(){return a(b);});});};a.create=function(c){return new a(c);};return a;}();d.Ca=g;},function(g){g.T={Ia:{fh:0,Ij:1,St:2,wd:3,cB:4,bB:5,gi:6,name:"STARTING BUFFERING REBUFFERING PLAYING STOPPING STOPPED PAUSED".split(" ")},fwb:{Ut:0,hCb:1,name:["STARTUP","STEADY"]},PN:{fh:0,gCb:1,cSa:2,name:["STARTING","STABLE","UNSTABLE"]},I:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},bh:{AUDIO:0,VIDEO:1,name:["AUDIO","VIDEO"]},uf:{URL:0,ix:1,Pfa:2,dr:3,name:["URL","SERVER","LOCATION","NETWORK"]},vd:{HAVE_NOTHING:0,Gt:1,op:2,RF:3,name:["HAVE_NOTHING","HAVE_SOMETHING","HAVE_MINIMUM","HAVE_ENOUGH"]},Le:{hda:0,GJa:1,nBb:2,NEXT:3,OAb:4,PCb:5,qyb:6,dMa:7,Ut:8,ERROR:9,yZ:10,QOa:11,nX:12,BLa:13,ALa:14,zQa:15,yQa:16,name:"maxweightedbw fastselection reuseprevious nextdomain onlychoice tolowgrade fromlowgrade mcqueen startup error probeswitchback probeswitchaway bitrate locswitchback locswitchaway serverswitchback serverswitchaway".split(" ")},Oxb:{dr:0,axb:1,name:["NETWORK","DECODE"]},xQa:{IHa:"delayedSeamless",Jyb:"hideLongTransition"}};},function(g,d,a){var t,p,c,k,q,n,u,y,A,K,x,h,G,N,T,S,l,m;function b(a){return(a=d.config.Itb[f(a)])?a:{};}function f(a){if(a){if(0<=a.indexOf("billboard"))return"billboard";if(0<=a.toLowerCase().indexOf("preplay"))return"preplay";if(0<=a.indexOf("embedded"))return"embedded";if(0<=a.indexOf("content-sampling"))return"content-sampling";}}Object.defineProperty(d,"__esModule",{value:!0});t=a(8);p=a(28);c=a(4);k=a(52);q=a(14);a(19);n=a(32);u=a(29);y=a(66);A=a(18);a(5);K=a(9);x=a(25);h=a(16);G=a(211);N=a(38);T=a(58);S=a(169);l=a(34);m=a(3);d.S1a=function(a){var sa,B,Fa,Va,F,Ab,Xa,fc,ta;function b(a,c){A.Sc(a,function(a,k){h.Mb(k)?c[a]=k.call(void 0,c[a]):h.Se(k)&&(c[a]=c[a]||{},b(k,c[a]));});}function f(a,c,k,b){for(var n=[],f=3;f<arguments.length;++f)n[f-3]=arguments[f];return function(b){h.Ob(b)&&(k=b);q.Ga(h.Mb(a));return a.apply(void 0,[].concat([c,k],ga(n)));};}function g(a){a=a.toLowerCase();Va.hasOwnProperty(a)&&(Fa[a]=Va[a],F[a]=Va[a]);return a;}function I(a,k,b){var n;a=a.toLowerCase();if(Fa.hasOwnProperty(a)){n=Fa[a];try{n=b?b(n):n;}catch(jf){n=void 0;}if(void 0!==n)return n;q.Ga(!1);c.log.error("Invalid configuration value. Name: "+a);}return k;}function V(a,c,k,b){return I(a,c,function(a){h.Ld(a)&&(a=A.Od(a));if(h.xeb(a,k,b))return a;});}function D(a,c,k,b){return I(a,c,function(a){h.Ld(a)&&(a=A.Od(a));if(h.zv(a,k,b))return a;});}function Q(a,c,k,b){return I(a,c,function(a){h.Ld(a)&&(a=parseFloat(a));if(h.qa(a,k,b))return a;});}function ea(a,c,k){return I(a,c,function(a){if(k?k.test(a):h.Ld(a))return a;});}function r(a,c){return I(a,c,function(a){if("true"==a||!0===a)return!0;if("false"==a||!1===a)return!1;});}function oa(a,c){return I(a,c,function(a){if(h.Ld(a))return JSON.parse(K.nZ(a));if(h.Se(a))return a;});}function O(a,c,k,b,n,f){var q;a=a.toLowerCase();Fa.hasOwnProperty(a)&&(q=Fa[a]);if(!h.Ob(q))return c;if(h.Ld(q))if(q[0]!==k)q=b(q);else try{q=JSON.parse(K.nZ(q));}catch(kb){q=void 0;}if(void 0===q)return c;for(a=0;a<n.length;a++)if(!n[a](q))return c;return f?f(q):q;}function ra(a,c,k,b,n){return O(a,c,"[",function(a){a=a.split("|");for(var c=a.length;c--;)a[c]=A.Od(a[c]);return a;},[function(a){return h.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--;)if(!h.zv(a[c],k,b))return!1;return!0;},function(a){return void 0===n||a.length>=n;}]);}function Aa(a,c){return O(a,c,"[",function(a){a=h.isArray(a)?a:a.split("|");for(var c=a.length;c--;)try{a[c]=JSON.parse(K.nZ(a[c]));}catch(jf){a=void 0;break;}return a;},[function(a){return h.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--;)if(!h.Ob(a[c])||!h.Se(a[c]))return!1;return!0;}]);}function Ha(a,c,k,b){return O(a,c,"[",function(a){return h.isArray(a)?a:a.split("|");},[function(a){return h.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--;)if(k?!k.test(a[c]):!h.Ry(a[c]))return!1;return!0;},function(a){return void 0===b||a.length>=b;}]);}function Ga(a,c,k){return O(a,c,"{",function(a){var c,b,n;c={};a=a.split(";");for(var k=a.length;k--;){b=a[k];n=b.indexOf(":");if(0>=n)return;c[b.substring(0,n)]=b.substring(n+1);}return c;},[function(a){return h.Se(a)&&0<Object.keys(a).length;},function(a){if(k)for(var c in a)if(!k.test(a[c]))return!1;return!0;}],function(a){var k;k={};A.Ya(k,c);A.Ya(k,a);return k;});}function Jb(a){var c;c=[];A.Sc(a,function(a,k){var b;try{b="videoapp"===a.toLowerCase()?"[object object]":JSON.stringify(k);}catch(kf){b="cantparse";}c.push(a+"="+b);});return c.join("\n");}sa=/^[0-9]+[%]?$/;B=/^[0-9]*$/;F={};Ab=c.W.get(k.ym);Xa=c.W.get(S.jO);(function(){var b;function k(a){a.split(",").forEach(function(a){var c;c=a.indexOf("=");0<c&&(Fa[a.substring(0,c).toLowerCase()]=a.substring(c+1));});}Fa={};A.Ya(Fa,n.nOa);a&&a.length&&K.forEach.call(a,function(a){h.Ld(a)?k(a):h.Se(a)&&A.Ya(Fa,a,{RD:!0});});Va=A.Ya({},p.Z5(),{RD:!0});b=p.bnb().cadmiumconfig;b&&(c.log.info("Config cookie loaded",b),k(b));if(n.DEa||Fa.istestaccount)A.Ya(Fa,Va),F=Va;"clearkey"!=ea("drmType")||Fa.keysystemid||(Fa.keysystemid=(M.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit-":HTMLVideoElement.prototype.msSetMediaKeys?"ms-":"")+"org.w3.clearkey");}());d.config={};fc={l4:f(r,g("enableDDPlus20"),!0),k4:f(r,g("enableDDPlus"),!0),TI:f(r,g("enableDDPlusAtmos"),!1),o7a:f(r,g("enableLSSDH"),!0),k7a:f(r,g("enableHEVC"),!1),Gya:f(r,g("overrideEnableHEVC"),!1),j7a:f(r,g("enableHDR"),!1),Fya:f(r,g("overrideEnableHDR"),!1),SR:f(r,g("enableAVCHigh"),Xa.SR),RU:f(r,g("overrideEnableAVCHigh"),Xa.RU),y7a:f(r,g("enableVP9"),!1),Hya:f(r,g("overrideEnableVP9"),!1),g7a:f(r,g("enableAV1"),!1),T9:f(r,g("overrideEnableAV1"),!1),t7a:f(r,g("enablePRK"),!1),l7a:f(r,g("enableHWDRM"),!1),n7a:f(r,g("enableImageSubs"),!0),OH:f(Ha,g("audioProfiles"),Xa.OH),$Fb:f(r,g("disableHD"),!1),WW:f(D,"videoCapabilityDetectorType",u.Oj.Kw),S1:f(D,"audioCapabilityDetectorType",u.Fw.Kw),tF:f(Ha,g("videoProfiles"),Xa.tF),QXa:f(Ha,g("timedTextProfiles"),Xa.ot),ot:function(){return fc.QXa().filter(function(a){return a===y.wk.EX?fc.o7a():a===y.wk.RA?fc.n7a():!0;});},endpoint:f(r,g("endpoint"),!1),SBa:f(r,g("setMediaKeysEarly"),!1),kT:f(r,g("ignoreKeyStatusOutputNotAllowed"),!1),Hqa:f(r,g("doNotPerformLdlOnPlaybackCreate"),!1),Iqa:f(r,g("doNotPerformLdlOnPlaybackStart"),!1),cEa:f(r,g("useHdcpLevelOnCast"),!1),m7a:f(r,g("enableHdcp"),!1),tn:f(r,g("prepareCadmium"),!1),yYa:f(r,g("acceptManifestOnPrepareItemParams"),!0),qza:f(oa,"ppmconfig",{maxNumberTitlesScheduled:1}),Klb:f(r,g("playerPredictionModelV2"),!0),pM:f(r,g("supportsLimitedDurationLicense"),!1),p4:f(r,g("enableLdlPrefetch"),!1),TR:f(r,g("enableGetHeadersAndMediaPrefetch"),!1),CI:f(r,g("deleteCachedManifestOnPlayback"),!1),EI:f(r,g("deleteOtherManifestCacheOnCreate"),!1),DI:f(r,g("deleteOtherLdlCacheOnCreate"),!1),jlb:f(D,g("periodicPrepareLogsIntervalMilliseconds"),36E5),hmb:f(D,g("prepareManifestCacheMaxCount"),50),fmb:f(D,g("prepareLdlCacheMaxCount"),30),xza:f(D,g("prepareManifestExpiryMilliseconds"),12E5),gmb:f(D,g("prepareLdlExpiryMilliseconds"),78E4),emb:f(ea,g("prepareInsertStrategyPersistentTasks"),"append",/^(prepend|append|ignore)$/),Pub:f(oa,"videoApp"),nw:f(oa,"storageRules"),W6:f(r,"ignoreIdbOpenError"),R9a:f(r,"ftlEnabled",!0),X6:f(D,g("imageSubsResolution"),0),Kdb:f(D,g("imageSubsMaxBuffer"),Xa.jhb.fa(l.Kn),0),hI:f(r,g("captureBatteryStatus"),!1),q$a:f(D,g("getBatteryApiTimeoutMilliseconds"),5E3),Md:f(ea,g("keySystemId"),Xa.Md),Kva:f(Ha,g("keySystemList"),void 0,void 0),Qhb:f(D,g("hdcpGlobalTimeout1"),1E4),Rhb:f(D,g("hdcpGlobalTimeout2"),1E4),KIb:f(D,g("hdcpQueryTimeout1"),1E3),LIb:f(D,g("hdcpQueryTimeout2"),1E3),Shb:f(D,g("hdcpQueryTimeout2"),100),Thb:f(r,g("microsoftHwdrmRequiresHevc"),!1),Nhb:f(r,g("microsoftEnableDeviceInfo"),!1),Ohb:f(r,g("microsoftEnableHardwareInfo"),!1),Phb:f(r,g("microsoftEnableHardwareReset"),!1),rgb:f(r,"logMediaPipelineStatus",!1),CL:f(r,g("renderDomDiagnostics"),!0),jwa:function(){return-1;},ND:f(V,g("logDisplayMaxEntryCount"),Xa.ND,-1),ygb:f(V,g("logToConsoleLevel"),-1),J_a:f(V,g("bladerunnerCmdHistorySize"),10),bn:function(){return Ab.bn;},nub:f(r,"upgradeNetflixId",!0),g8:f(r,"logErrorIfEsnNotProvided",!0),t4:f(r,"enforceSinglePlayback",Xa.t4),$R:f(r,"enforceSingleSession",Xa.$R),M2:f(r,"closeOtherPlaybacks",!0),UZa:f(D,"asyncLoadTimeout",15E3,1),Lgb:f(D,"mainThreadMonitorPollRate",0),eJb:f(r,"nrdpAlwaysShowUIOverlay",!1),gJb:f(r,"nrdpValidateSSOTokens",!0),fJb:f(ea,"nrdpConfigServiceApiPath","/cbp/cadmiumconfig-default"),LKb:f(r,"showNrdpDebugBadging",!1),YW:function(){return Ab.YW;},uv:function(){return Ab.uv;},qC:function(){return Ab.qC;},pA:function(){return Ab.pA;},kEa:f(D,g("verbosePlaybackInfoDenominator"),0),zV:f(r,"renderTimedText",!0),Tlb:f(r,"preBufferTimedText",!0),P8a:f(r,"fatalOnTimedTextLoadError",!0),eDa:f(Ga,"timedTextStyleDefaults",{}),Wba:f(Ga,"timedTextStyleOverrides",{}),Vba:f(Ga,"timedTextFontFamilyMapping",Xa.Vba||{"default":"font-family:Arial,Helvetica;font-weight:bolder"}),fDa:f(D,g("timedTextTimeOverride"),0),hF:f(D,"timedTextSimpleFallbackThreshold",Xa.hF.fa(l.Kn)),x3:f(ea,g("customDfxpUrl")),x7a:f(r,g("enableSubtitleTrackerLogging"),!1),Hpb:f(r,g("sendSubtitleQoeLogblobOnMidplay"),!1),w2:f(ra,"cdnIdWhiteList",[]),v2:f(ra,"cdnIdBlackList",[]),Z4:f(ea,g("forceAudioTrack")),Cib:f(r,"muteVolumeOnPlaybackClose",!0),hJb:f(ea,"nrdpVolumeControlType","VOLUME_STREAM"),b5:f(ea,g("forceTimedTextTrack")),Wwa:f(D,g("maxRetriesTimedTextDownload"),0),dDa:f(D,g("timedTextRetryInterval"),8E3),Grb:f(ea,"storageType","idb",/^(none|fs|idb|ls)$/),ngb:f(D,"lockExpiration",1E4),ogb:f(D,"lockRefresh",3E3),M0a:f(r,"captureUnhandledExceptions",!0),Jdb:f(r,"ignoreUnhandledExceptionDuringPlayback",!0),Ntb:f(r,"unhandledExceptionsArePlaybackErrors",!1),GDa:f(ea,"unhandledExceptionSource",""),omb:f(r,"preserveLastFrame",!1),bib:f(D,"minBufferingTimeInMilliseconds",4E3),Amb:f(D,"progressBackwardsGraceTimeMilliseconds",4E3),Bmb:f(D,"progressBackwardsMinPercent",10),L_a:f(ea,g("bookmarkIgnoreBeginning"),"0",sa),M_a:f(ea,g("bookmarkIgnoreEnd"),"5%",sa),N_a:f(ea,g("bookmarkIgnoreEndForBranching"),"60000",sa),UD:f(D,"maxParallelConnections",3),daa:f(r,"reportThroughputInLogblobs",!0),bE:f(D,"minAudioMediaRequestDuration",16E3),$hb:f(D,"minAudioMediaRequestDurationBranching",0),eE:f(D,"minVideoMediaRequestDuration",4E3),kib:f(D,"minVideoMediaRequestDurationAL1",0),lib:f(D,"minVideoMediaRequestDurationBranching",0),nU:f(D,"minAudioMediaRequestSizeBytes",0),vU:f(D,"minVideoMediaRequestSizeBytes",0),R6a:f(r,"droppedFrameRateFilterEnabled",!1),S6a:f(D,"droppedFrameRateFilterMaxObservation",60,10,1E3),U6a:f(function(a,c,k,b,n,f){return O(a,c,"[",function(a){a=a.split(";");for(var c=a.length;c--;){a[c]=a[c].split("|");for(var k=a[c].length;k--;)a[c][k]=A.Od(a[c][k]);}return a;},[function(a){return h.isArray(a)&&0<a.length;},function(a){for(var c=a.length;c--&&void 0!==a;){if(!h.isArray(a[c]))return!1;for(var n=a[c].length;n--;)if(!h.zv(a[c][n],k,b))return!1;}return!0;},function(a){if(void 0!==n)for(var c=a.length;c--;)if(n!==a[c].length)return!1;return!0;},function(a){return void 0===f||a.length>=f;}]);},"droppedFrameRateFilterPolicy",[[3,15],[6,9],[9,2],[15,1]],void 0,void 0,2,0),dGb:f(r,"droppedFrameRateFilterWithoutRebufferEnabled",!0),OR:f(D,"droppedFrameRateFilterBasedOnPreviousSession"),Tqa:f(ra,"droppedFrameRateFilterBasedOnPreviousSessionPolicy"),T6a:f(D,"droppedFrameRateFilterMinHeight",384),X6a:f(D,"droppedFramesStorageSessionLimit",0),W6a:f(D,"droppedFramesStorageInterval",6E4),V6a:f(ra,"droppedFramesPercentilesList",[]),Uhb:f(r,"microsoftScreenSizeFilterEnabled",!1),Htb:f(r,"uiLabelFilterEnabled",!0),Gtb:f(oa,"uiLabelFilter",{}),D5a:f(D,g("defaultVolume"),100,0,100),Bqa:f(r,"disableVideoRightClickMenu",!1),gib:f(D,"minDecoderBufferMilliseconds",1E3,0,t.Uw),S9:f(D,"optimalDecoderBufferMilliseconds",5E3,0,t.Uw),yya:f(D,"optimalDecoderBufferMillisecondsBranching",3E3,0,t.Uw),wU:f(D,"minimumTimeBeforeBranchDecision",3E3,0,t.Uw),$T:f(D,"maxDecoderBufferMilliseconds",Xa.$T.fa(m.na),0,t.Uw),kqa:f(D,"decoderTimeoutMilliseconds",1E4,1),o6a:f(r,"disgardMediaOnAppend",!1),vZa:f(r,"appendMediaBeforeInit",!1),Wkb:f(D,"pauseTimeoutLimitMilliseconds",18E5),a7:f(D,"inactivityMonitorInterval",3E4,0),wYa:f(ra,"abrdelLogPointsSeconds",[15,30,60,120],0,void 0,4),XC:f(r,"enableTrickPlay",!1),fZa:f(ra,"additionalDownloadSimulationParams",[2E3,2E3,100],0,void 0,3),xtb:f(D,"trickPlayHighResolutionBitrateThreshold",1E3),ytb:f(D,"trickPlayHighResolutionThresholdMilliseconds",1E4),Btb:f(Q,"trickplayBufferFactor",.5),wtb:f(D,"trickPlayDownloadRetryCount",1),F8:f(ea,"marginPredictor","simple",/^(simple|scale|iqr|percentile)$/),hCa:f(D,"simplePercentilePredictorPercentile",25),fCa:f(ea,"simplePercentilePredictorCalcToUse","simple",/^(simple|tdigest)$/),gCa:f(ea,"simplePercentilePredictorMethod","simple",/^(simple|minimum)$/),yfa:f(oa,"IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.1,fup:.95,fmind:.2,fmaxd:1,fmintp:.25,fmindp:.75}),v9:f(ea,"networkMeasurementGranularity","video_location",/^(location|video_location)$/),Xea:f(oa,"HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}),Owa:f(V,"maxIQRSamples",Infinity),vxa:f(V,"minIQRSamples",5),gEa:f(r,"useResourceTimingAPI",!1),Gdb:f(r,"ignoreFirstByte",!0),Hhb:f(r,"mediaRequestAsyncLoadStart",!0),Bub:f(r,"useXHROnLoadStart",!1),G4:f(ra,"failedDownloadRetryWaitsASE",[10,200,500,1E3,2E3,4E3]),eR:f(D,"connectTimeoutMilliseconds",8E3,500),B9:f(D,"noProgressTimeoutMilliseconds",8E3,500),xub:f(r,"useOnLineApi",!1),cDa:f(D,"timedTextDownloadRetryCountBeforeCdnSwitch",3),Lxa:f(D,"netflixRequestExpiryTimeout",0),fvb:f(r,"webkitDecodedFrameCountIncorrectlyReported",!1),opb:f(D,"seekBackOnAudioTrackChangeMilliseconds",8E3),Fba:f(Ha,g("supportedAudioTrackTypes"),[],void 0,1),Vua:f(D,"initialLogFlushTimeout",5E3),gza:f(ea,"playdataPersistKey",Ab.bn?"unsentplaydatatest":"unsentplaydata"),Paa:f(r,"sendPersistedPlaydata",!0),Ilb:f(D,"playdataPersistIntervalMilliseconds",4E3),JJb:f(D,"playdataSendDelayMilliseconds",1E4),VV:f(r,"sendPlaydataBackupOnInit",!0),ugb:f(Ha,"logPerformanceTiming","navigationStart redirectStart fetchStart secureConnectionStart requestStart domLoading".split(" ")),Whb:f(r,"midplayEnabled",!0),pxa:f(D,"midplayIntervalMilliseconds",3E5),Xhb:f(ra,"midplayKeyPoints",[15E3,3E4,6E4,12E4]),NI:f(D,"downloadReportDenominator",0),z6a:f(D,"downloadReportInterval",3E5),OI:f(Ha,"downloadReportTcpInfo",[]),iwa:f(D,"logConfigApplyDenominator",0),koa:f(Ga,g("bookmarkByMovieId"),{}),nJ:f(r,g("forceLimitedDurationLicense"),!1),Gv:f(D,g("licenseRenewalRequestDelay"),0),e$:f(D,g("persistedReleaseDelay"),1E4),qIb:f(r,g("limitedDurationFlagOverride"),void 0),di:f(r,g("secureStopEnabled"),!1),GKb:f(r,g("secureStopFromPersistedKeySession"),!1),nBa:f(D,"secureStopKeyMessageTimeoutMilliseconds",2E3,1),Daa:f(D,"secureStopKeyAddedTimeoutMilliseconds",1E3,1),mpb:f(D,g("secureStopPersistedKeyMessageTimeoutMilliseconds"),2500,1),npb:f(D,g("secureStopPersistedKeySessionRetries"),17,1),lpb:f(D,"secureStopPersistedKeyAddedTimeoutUnmatchedSession",1E3,1),qF:f(r,g("useCdmId"),!1),YAa:f(D,"safariPlayPauseWorkaroundDelay",100),mvb:f(D,"workaroundValueForSeekIssue",1200),lvb:f(r,"workaroundSaio",!0),t2:f(r,g("callEndOfStream"),Xa.t2),hlb:f(r,"performRewindCheck",!0),R8a:f(r,"fatalOnUnexpectedSeeking",!0),Q8a:f(r,"fatalOnUnexpectedSeeked",!0),xqb:f(r,g("setVideoElementSize")),u1a:f(r,g("clearVideoSrc"),!0),uqa:f(D,g("delayPlayPause"),0),v_a:f(r,g("avoidSBRemove"),!1),kp:f(r,g("useTypescriptEme"),!1),RI:f(ea,g("drmPersistKey"),"unsentDrmData"),F$:f(r,g("promiseBasedEme"),!1),L0a:f(r,"captureKeyStatusData",!1),CD:f(r,"includeCapabilitiesInRequestMediaKeySystemAccess",!0),ijb:f(r,g("nudgeSourceBuffer"),!1),Eaa:f(V,g("seekDelta"),1),jL:f(r,g("preciseSeeking"),!1),Ylb:f(r,g("preciseSeekingOnTwoCoreDevice"),!1),tqa:f(Ga,g("delayErrorHandling")),rDa:f(r,"trackingLogEnabled",!1),sDa:f(function(a,c){var k;k=Ga(a,c,void 0);k&&Object.keys(k).forEach(function(a){var c;c=k[a];"true"===c?k[a]=!0:"false"===c&&(k[a]=!1);});return k;},"trackingLogEvents",{sso:!1,startup:!1,playback:!1,regpair:!1}),dca:f(ea,"trackingLogPath","/customerevents/track/debug"),etb:f(ra,"trackingLogStallKeyPoints",[1E4,3E4,6E4,12E4]),xh:f(ea,"esn",""),Fra:f(ea,"fesn",""),m4:f(r,g("enableEmeVerboseLogging"),!1),p7a:f(r,"enableLastChunkLogging",!1),FH:f(ea,"appId","",B),sessionId:f(ea,"sessionId","",B),y2:f(ea,"cdnProxyUrl"),zub:f(r,"usePlayReadyHeaderObject",!1),fsa:f(D,"forceXhrErrorResponseCode",void 0),Og:{Fxa:f(ea,"mslApiPath","/msl/"),Xqa:f(ea,g("edgePath"),"/cbp/cadmium-29"),ZJb:f(ea,"proxyPath",""),oF:f(ea,"uiVersion"),IW:f(ea,"uiPlatform"),OEb:function(){return"0";},Dz:f(Ha,"preferredLanguages",t.BHa,/^[a-zA-Z-]{2,5}$/,1),z9a:f(ea,g("forceDebugLogLevel"),void 0,/^(ERROR|WARN|INFO|TRACE)$/),fsb:f(r,"supportPreviewContentPin",!0),gsb:f(r,"supportWatermarking",!0),Tqb:f(r,"showAllSubDubTracks",!1),H8a:f(r,g("failOnGuidMismatch"),!1)},qV:{enabled:f(r,"qcEnabled",!1),qn:f(ea,"qcPackageId","")},SH:f(ea,"authenticationType",Ab.bn?Xa.j_a:Xa.SH),Yna:f(Ga,"authenticationKeyNames",A.Ya({e:"DKE",h:"DKH",w:"DKW",s:"DKS"})),psb:f(ea,"systemKeyWrapFormat"),Pdb:f(r,"includeNetflixIdUserAuthData",!0),Qqb:f(r,"shouldSendUserAuthData",!0),Raa:f(r,"sendUserAuthIfRequired",Xa.Raa),Lqb:f(r,"shouldClearUserData",!1),yib:f(r,"mslDeleteStore",!1),zib:f(r,"mslPersistStore",!0),n2a:f(r,"correctNetworkForShortTitles",!0),Rlb:f(r,"postplayHighInitBitrate",!1),s9a:f(r,"flushHeaderCacheOnAudioTrackChange",!0),O8a:f(r,"fatalOnAseStreamingFailure",!0),lsb:f(r,"supportsUnequalizedDownloadables",!0),eqa:f(D,g("debugAseDenominator"),100),K1:f(D,"aseAudioBufferSizeBytes",Xa.K1.fa(l.Kn)),N1:f(D,"aseVideoBufferSizeBytes",Xa.N1.fa(l.Kn)),Rv:f(D,"minInitVideoBitrate",560),h9:f(D,"minHCInitVideoBitrate",560),dz:f(D,"maxInitVideoBitrate",Infinity),HK:f(D,"minInitAudioBitrate",0),GK:f(D,"minHCInitAudioBitrate",0),wK:f(D,"maxInitAudioBitrate",65535),mU:f(D,"minAcceptableVideoBitrate",235),tU:f(D,"minRequiredBuffer",3E4),Ji:f(D,"minPrebufSize",7800),T$:f(Q,"rebufferingFactor",1),lq:f(D,"maxBufferingTime",2600),yca:f(r,"useMaxPrebufSize",!0),VD:f(D,"maxPrebufSize",45E3),P8:f(D,"maxRebufSize",Infinity),pT:f(Aa,"initialBitrateSelectionCurve",null),Rua:f(D,"initSelectionLowerBound",560),Sua:f(D,"initSelectionUpperBound",1050),AW:f(D,"throughputPercentForAudio",15),X1:f(D,"bandwidthMargin",10),Y1:f(r,"bandwidthMarginContinuous",!1),Z1:f(Aa,"bandwidthMarginCurve",[{m:65,b:8E3},{m:65,b:3E4},{m:50,b:6E4},{m:45,b:9E4},{m:40,b:12E4},{m:20,b:18E4},{m:5,b:24E4}]),Y2:f(D,"conservBandwidthMargin",20),Jba:f(r,"switchConfigBasedOnInSessionTput",!1),lI:f(D,"conservBandwidthMarginTputThreshold",0),Z2:f(Aa,"conservBandwidthMarginCurve",[{m:80,b:8E3},{m:80,b:3E4},{m:70,b:6E4},{m:60,b:9E4},{m:50,b:12E4},{m:30,b:18E4},{m:10,b:24E4}]),LCa:f(r,"switchAlgoBasedOnHistIQR",!1),uw:f(ea,"switchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/),O8:f(V,"maxPlayerStateToSwitchConfig",-1),q8:f(ea,"lowEndMarkingCriteria","none",/^(none|iqr|avg)$/),RY:f(Q,"IQRThreshold",.5),O6:f(ea,"histIQRCalcToUse","simple"),Ms:f(D,"maxTotalBufferLevelPerSession",0),wua:f(D,"highWatermarkLevel",3E4),mDa:f(D,"toStableThreshold",3E4),GW:f(D,"toUnstableThreshold",Xa.GW.fa(m.na)),oba:f(r,"skipBitrateInUpswitch",!0),Fca:f(D,"watermarkLevelForSkipStart",8E3),H6:f(D,"highStreamRetentionWindow",9E4),r8:f(D,"lowStreamTransitionWindow",51E4),J6:f(D,"highStreamRetentionWindowUp",3E5),t8:f(D,"lowStreamTransitionWindowUp",3E5),I6:f(D,"highStreamRetentionWindowDown",6E5),s8:f(D,"lowStreamTransitionWindowDown",0),G6:f(Q,"highStreamInfeasibleBitrateFactor",.5),$y:f(D,"lowestBufForUpswitch",15E3),UT:f(D,"lockPeriodAfterDownswitch",15E3),v8:f(D,"lowWatermarkLevel",25E3),az:f(D,"lowestWaterMarkLevel",2E4),y8:f(r,"lowestWaterMarkLevelBufferRelaxed",!1),a9:f(Q,"mediaRate",1),R8:f(D,"maxTrailingBufferLen",1E4),Q1:f(D,"audioBufferTargetAvailableSize",262144),Dca:f(D,"videoBufferTargetAvailableSize",1048576),Ywa:f(D,"maxVideoTrailingBufferSize",8388608),Kwa:f(D,"maxAudioTrailingBufferSize",393216),hS:f(Q,"fastUpswitchFactor",3),I4:f(Q,"fastDownswitchFactor",1),cU:f(D,"maxMediaBufferAllowed",24E4),lba:f(r,"simulatePartialBlocks",!0),iCa:f(r,"simulateBufferFull",!0),a3:f(r,"considerConnectTime",!1),X2:f(Q,"connectTimeMultiplier",1),swa:f(D,"lowGradeModeEnterThreshold",12E4),twa:f(D,"lowGradeModeExitThreshold",9E4),Lwa:f(D,"maxDomainFailureWaitDuration",3E4),Iwa:f(D,"maxAttemptsOnFailure",18),vra:f(r,"exhaustAllLocationsForFailure",!0),Rwa:f(D,"maxNetworkErrorsDuringBuffering",20),J8:f(D,"maxBufferingTimeAllowedWithNetworkError",6E4),H4:f(D,"fastDomainSelectionBwThreshold",2E3),Rba:f(D,"throughputProbingEnterThreshold",4E4),YCa:f(D,"throughputProbingExitThreshold",34E3),fwa:f(D,"locationProbingTimeout",1E4),Ira:f(D,"finalLocationSelectionBwThreshold",1E4),WCa:f(Q,"throughputHighConfidenceLevel",.75),XCa:f(Q,"throughputLowConfidenceLevel",.4),WC:f(r,"enablePerfBasedLocationSwitch",!1),Uo:f(r,"probeServerWhenError",!0),A$:f(D,"probeRequestTimeoutMilliseconds",8E3),Ur:f(r,"allowSwitchback",!0),Fz:f(D,"probeDetailDenominator",100),aU:f(D,"maxDelayToReportFailure",300),d8:f(D,"locationStatisticsUpdateInterval",6E4),Dpa:f(r,"countGapInBuffer",!1),dC:f(r,"allowReissueMediaRequestAfterAbort",!1),z1:f(r,"allowCallToStreamSelector",!0),g2:f(D,"bufferThresholdForAbort",1E4),h$:f(D,"pipelineScheduleTimeoutMs",2),ez:f(D,"maxPartialBuffersAtBufferingStart",2),i9:f(D,"minPendingBufferLen",6E3),Lv:f(D,"maxPendingBufferLen",12E3),nhb:f(D,"maxPendingBufferLenAL1",3E4),XR:f(r,"enableRequestPacing",!1),Q8:f(D,"maxStreamingSkew",4E3),N8:f(D,"maxPendingBufferPercentage",10),fz:f(D,"maxRequestsInBuffer",60),Twa:f(D,"maxRequestsInBufferAL1",240),Uwa:f(D,"maxRequestsInBufferBranching",120),dT:f(D,"headerRequestSize",4096),oU:f(D,"minBufferLenForHeaderDownloading",1E4),GV:f(D,"reserveForSkipbackBufferMs",1E4),K9:f(D,"numExtraFragmentsAllowed",2),rn:f(r,"pipelineEnabled",!1),lCa:f(D,"socketReceiveBufferSize",0),T1:f(D,"audioSocketReceiveBufferSize",32768),YM:f(D,"videoSocketReceiveBufferSize",65536),E6:f(D,"headersSocketReceiveBufferSize",32768),KW:f(D,"updatePtsIntervalMs",1E3),i2:f(D,"bufferTraceDenominator",100),mC:f(D,"bufferLevelNotifyIntervalMs",2E3),iC:f(D,"aseReportDenominator",0),L1:f(D,"aseReportIntervalMs",3E5),cra:f(r,"enableAbortTesting",!1),Qma:f(D,"abortRequestFrequency",8),Cba:f(D,"streamingStatusIntervalMs",2E3),uE:f(D,"prebufferTimeLimit",24E4),pU:f(D,"minBufferLevelForTrackSwitch",2E3),b$:f(D,"penaltyFactorForLongConnectTime",2),n8:f(D,"longConnectTimeThreshold",200),v1:f(D,"additionalBufferingLongConnectTime",2E3),w1:f(D,"additionalBufferingPerFailure",8E3),zL:f(D,"rebufferCheckDuration",6E4),fra:f(r,"enableLookaheadHints",!1),pwa:f(D,"lookaheadFragments",2),ro:f(r,"enableOCSideChannel",!0),eO:f(oa,"OCSCBufferQuantizationConfig",{lv:5,mx:240}),NDa:f(r,"updateDrmRequestOnNetworkFailure",!1),yR:f(r,"deferAseScheduling",!1),bU:f(D,"maxDiffAudioVideoEndPtsMs",16E3),rF:f(r,"useHeaderCache",!0),uR:f(D,"defaultHeaderCacheSize",4),N3:f(D,"defaultHeaderCacheDataPrefetchMs",8E3),B6:f(D,"headerCacheMaxPendingData",6),w9:f(r,"neverWipeHeaderCache",!0),C6:f(D,"headerCachePriorityLimit",5),XI:f(r,"enableUsingHeaderCount",!1),tua:f(r,"headerCacheTruncateHeaderAfterParsing",!0),r9a:f(r,g("flushHeaderCacheBeforePlayback"),!1),u9:f(D,"networkFailureResetWaitMs",2E3),t9:f(D,"networkFailureAbandonMs",6E4),gU:f(D,"maxThrottledNetworkFailures",3),zW:f(D,"throttledNetworkFailureThresholdMs",200),Pr:f(r,"abortUnsentBlocks",!1),S8:f(D,"maxUnsentBlocks",2),k1:f(D,"abortStreamSelectionPeriod",2E3),u8:f(V,"lowThroughputThreshold",400),y4:f(r,"excludeSessionWithoutHistoryFromLowThroughputThreshold",!1),Cxa:f(r,"mp4ParsingInNative",!1),mCa:f(r,"sourceBufferInOrderAppend",!0),vn:f(r,"requireAudioStreamToEncompassVideo",!0),rna:f(r,"allowAudioToStreamPastVideo",!0),bf:f(r,"enableManagerDebugTraces",!1),Bwa:f(D,"managerDebugMessageInterval",1E3),Awa:f(D,"managerDebugMessageCount",20),Zxa:f(r,"notifyManifestCacheEom",!1),MQ:f(D,"bufferThresholdToSwitchToSingleConnMs",18E4),h2:f(D,"bufferThresholdToSwitchToParallelConnMs",12E4),$U:f(D,"periodicHistoryPersistMs",3E5),OV:f(D,"saveVideoBitrateMs",18E4),Dna:f(r,"appendMediaRequestOnComplete",!0),ZW:f(r,"waitForDrmToAppendMedia",!1),Y4:f(r,g("forceAppendHeadersAfterDrm"),!1),yL:f(r,g("reappendRequestsOnSkip"),!0),Fib:f(D,"netIntrStoreWindow",36E3),iib:f(D,"minNetIntrDuration",8E3),L8a:f(D,"fastHistoricBandwidthExpirationTime",10368E3),y_a:f(D,"bandwidthExpirationTime",5184E3),J8a:f(D,"failureExpirationTime",86400),pdb:f(D,"historyTimeOfDayGranularity",4),y8a:f(r,"expandDownloadTime",!1),rib:f(D,"minimumMeasurementTime",500),qib:f(D,"minimumMeasurementBytes",131072),Dsb:f(D,"throughputMeasurementTimeout",2E3),Zdb:f(D,"initThroughputMeasureDataSize",262144),Esb:f(ea,"throughputPredictor","ewma"),Csb:f(D,"throughputMeasureWindow",5E3),Gsb:f(D,"throughputWarmupTime",5E3),Bsb:f(D,"throughputIQRMeasureWindow",5E3),hLa:f(D,"IQRBucketizerWindow",15E3),T1a:f(D,"connectTimeHalflife",10),Dob:f(D,"responseTimeHalflife",10),odb:f(D,"historicBandwidthUpdateInterval",2E3),pib:f(D,"minimumBufferToStopProbing",1E4),Baa:f(ea,"secondThroughputEstimator","none"),kBa:f(V,"secondThroughputMeasureWindowInMs",Infinity),i7a:f(Ha,"enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy".split(" ")),Y8a:f(oa,"filterDefinitionOverrides",{}),z5a:f(ea,"defaultFilter","throughput-ewma"),hpb:f(ea,"secondaryFilter","none"),A5a:f(oa,"defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3,wt:5E3},"throughput-sw":{type:"slidingwindow",mw:5E3},"throughput-iqr":{type:"iqr",mx:Infinity,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400,"in":3600},"respconn-location-history":{type:"discrete-ewma",hl:100,"in":25},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10,"in":10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,"in":"none",mins:1,hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]}}),MK:f(r,"needMinimumNetworkConfidence",!0),b2:f(r,"biasTowardHistoricalThroughput",!0),wQ:f(r,"addHeaderDataToNetworkMonitor",!1),uba:f(r,"startMonitorOnLoadStart",!1),caa:f(r,"reportFailedRequestsToNetworkMonitor",!1),L8:f(V,"maxFastPlayBufferInMs",Infinity),K8:f(V,"maxFastPlayBitThreshold",Infinity),E1:f(r,"appendFirstHeaderOnComplete",!0),GZa:f(ea,"ase_stream_selector","optimized"),h7:f(ea,"initBitrateSelectorAlgorithm","default"),k2:f(ea,"bufferingSelectorAlgorithm","default"),D3:f(ea,"ase_ls_failure_simulation",""),B3:f(r,"ase_dump_fragments",!1),C3:f(D,"ase_location_history",0),E3:f(D,"ase_throughput",0),gqa:f(r,"ase_simulate_verbose",!1),Olb:f(D,"pollingPeriod",150),cwa:f(D,"loadTimeMs",18E4),Ewa:f(D,"marginTimeMs",1E4),zw:f(r,"useMediaCache",!1),Wu:f(D,"diskCacheSizeLimit",52428800),jU:f(D,"mediaCachePrefetchMs",8E3),W8:f(Ga,"mediaCachePartitionConfig",{partitions:[{key:"billboard",capacity:31457280,owner:"browser-player@netflix.com",evictionPolicy:"FIFO"}]}),uJ:f(r,"generateHardwareDeviceId",!1),z5:f(r,"getDeviceIdFromBindDevice",!1),s1:f(r,"addFailedLogBlobsToQueue",!0),Oqb:f(r,"shouldSaveLogs",!1),j8:f(Ha,"logTypesToSave","startup startplay endplay debug subtitleqoe playbackaborted".split(" ")),Itb:{"content-sampling":{lq:f(D,"contentSamplingMaxBufferingTime",3E3),LE:f(ea,"contentSamplingSelectStartingVMAFMethod","fallback"),zH:f(r,"contentSamplingActivateSelectStartingVMAF",!0),dE:f(D,"contentSamplingMinStartingVideoVMAF",80)},billboard:{Rv:f(D,"billboardMinInitVideoBitrate",1050),dz:f(D,"billboardMaxInitVideoBitrate",null),Ji:f(D,"billboardMinPrebufSize",null),VD:f(D,"billboardMaxPrebufSize",null),lq:f(D,"billboardMaxBufferingTime",null),ez:f(D,"billboardMaxPartialBuffersAtBufferingStart",null),az:f(D,"billboardLowestWaterMarkLevel",6E3),$y:f(D,"billboardLowestBufForUpswitch",25E3),uw:f(ea,"billboardSwitchConfigBasedOnThroughputHistory","none",/^(none|iqr|avg)$/)},preplay:{Rv:f(D,"preplayMinInitVideoBitrate",1050),dz:f(D,"preplayMaxInitVideoBitrate",null),Ji:f(D,"preplayMinPrebufSize",null),VD:f(D,"preplayMaxPrebufSize",null),lq:f(D,"preplayMaxBufferingTime",null),ez:f(D,"preplayMaxPartialBuffersAtBufferingStart",null),az:f(D,"preplayLowestWaterMarkLevel",6E3),$y:f(D,"preplayLowestBufForUpswitch",25E3)},embedded:{Rv:f(D,"embeddedMinInitVideoBitrate",1050),dz:f(D,"embeddedMaxInitVideoBitrate",null),Ji:f(D,"embeddedMinPrebufSize",null),VD:f(D,"embeddedMaxPrebufSize",null),lq:f(D,"embeddedMaxBufferingTime",null),ez:f(D,"embeddedMaxPartialBuffersAtBufferingStart",null),az:f(D,"embeddedLowestWaterMarkLevel",6E3),$y:f(D,"embeddedLowestBufForUpswitch",25E3)}},VR:f(r,"enablePsd",!1),H$:f(D,"psdCallFrequency",6E4),I$:f(r,"psdReturnToNormal",!1),pL:f(D,"psdThroughputThresh",0),JI:f(D,"discardLastNPsdBins",0),Vg:f(oa,"psdPredictor",{numB:240,bSizeMs:1E3,fillS:"last",fillHl:1E3,bthresh:100,freqave:5,numfreq:26,beta:[-2.57382621685251,1.00514098612371,-.369357559975733,.00999932810065489,.142934270516382,.162644679552085,-.0566219452189998,.022239120872481,-.0668887810950692,-.179565604901062,-.164944450316777,-.269160823754313,-.353934286812968,.127490861540904,-.30639082364227,-.21647101116447,-.0842995352796247,-.0103329141448779,-.12855537458795,.181738862222313,.263672043403025,.0755588656690725,.400401204107367,-.420677412792809,-1.09035458665828,1.27111376831522,.561903634898845,-1.17759977644374],thresh:.22,tol:1E-10,tol2:1E-4}),z7a:f(r,"enableVerbosePlaydelayLogging",!1),w7a:f(r,"enableSeamless",!1),N6:f(D,"hindsightDenominator",0),M6:f(D,"hindsightDebugDenominator",0),fT:f(oa,"hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}),WI:f(r,"enableSessionHistoryReport",!1),j4:f(D,"earlyStageEstimatePeriod",1E4),Pva:f(D,"lateStageEstimatePeriod",3E4),dU:f(D,"maxNumSessionHistoryStored",30),uU:f(D,"minSessionHistoryDuration",3E4),VI:f(r,"enableInitThroughputEstimate",!1),G1:f(r,"applyInitThroughputEstimate",!1),Tua:f(oa,"initThroughputPredictor",{bwThreshold:4E3,lrWeights:{}}),kq:f(D,"maxActiveRequestsPerSession",3),ZT:f(D,"maxActiveRequestsSABCell100",2),eU:f(D,"maxPendingBufferLenSABCell100",500),Y7:f(r,"limitAudioDiscountByMaxAudioBitrate",!0),Lp:f(oa,"browserInfo",{}),f0a:f(D,g("busyGracePeriod"),199),Ipb:f(r,g("sendTransitionLogblob"),!0),$m:f(r,g("editAudioFragments"),!1),vs:f(r,g("editVideoFragments"),!1),b7a:f(r,g("editAudioFragmentsBranching"),!0),Yqa:f(r,g("editVideoFragmentsBranching"),!0),RR:f(r,g("earlyAppendSingleChildBranch"),!0),Qdb:f(r,g("includeSegmentInfoOnLogblobs"),!0),C8a:f(r,"exposeTestData",!1),F3:f(r,"declareBufferingCompleteAtSegmentEnd",!0),Vx:f(r,"applyProfileTimestampOffset",!1),ao:f(r,"applyProfileStreamingOffset",!1),pZa:f(r,g("allowSmallSeekDelta"),!1),brb:f(D,g("smallSeekDeltaThresholdMilliseconds"),G.OZ),h7a:f(r,"enableCDMAttestedDescriptors",!1),haa:f(r,"requireDownloadDataAtBuffering",!1),iaa:f(r,"requireSetupConnectionDuringBuffering",!1),U$:f(r,"recordFirstFragmentOnSubBranchCreate",!1),R_a:f(r,"branchingAudioTrackFrameDropSmallSeekFix",!0),esa:f(r,"forceL3WidevineCdm",!1),wub:f(r,"useMobileVMAF",!1),Z5a:f(ea,"desiredVMAFTypeMobile","phone_plus_exp"),$5a:f(ea,"desiredVMAFTypeNonMobile","plus_lts"),zH:f(r,"activateSelectStartingVMAF",!1),dE:f(D,"minStartingVideoVMAF",1)};ta=!0;d.ppa=function(a){var k,f;if(0<d.config.iwa&&0===x.Jfa%d.config.iwa)try{k=c.W.get(N.Mj);f=c.W.get(T.On).Nl("config","info",{params:a});k.vc(f);}catch(hf){c.log.error("Failed to log config$apply",hf);}M._cad_global.config=d.config;M._cad_global.platformExtraInfo=n.Pn;q.Ga(a);a&&(Fa=A.Ya({},a,{RD:!0}),A.Ya(Fa,F,{RD:!0}),b(fc,d.config),Fa.istestaccount&&c.log.trace("Config applied for",Jb(ta?Fa:a)),ta=!1);};d.ppa(Fa);};d.eFb=function(a,c){return h.Ld(a)&&"%"==a[a.length-1]?K.Jh(parseFloat(a)*c/100):a|0;};d.R1a=function(a){return a?(a=A.Ya({},d.config),A.Ya(a,{S9:d.config.yya},{uq:!0})):d.config;};d.fFb=function(a){var c;c=A.Ya({},d.config);return A.Ya(c,b(a),{uq:!0});};d.rpa=function(c){c=b(c);return A.Ya({},a(149)(c),{uq:!0});};d.qpa=function(c,k,b){b=!!b&&(0<=b.indexOf("h264hpl")||0<=b.indexOf("vp9"));c={bE:c?d.config.$hb:d.config.bE,eE:c?d.config.lib:b?d.config.kib:d.config.eE,dC:c?!1:d.config.dC,fz:c&&b?Math.max(d.config.Uwa,d.config.Twa):c?d.config.Uwa:b?d.config.Twa:d.config.fz,Lv:b?d.config.nhb:d.config.Lv,$m:d.config.$m||c&&d.config.b7a,vs:d.config.vs||c&&d.config.Yqa,RR:!k};return A.Ya({},a(149)(c),{uq:!0});};d.hFb=b;d.gFb=f;d.dFb="";},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);return f;}(Error);d.assert=function(a,b){if(!a)throw new f(b||"Assertion failed");};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(4);a=a(88);d.xFa=function(){d.Ga();};d.JFb=!0;d.Oe=g.W.get(a.At);d.Ga=d.Oe.assert.bind(d.Oe);d.EFb=d.Oe.JZa.bind(d.Oe);d.FFb=d.Oe.KZa.bind(d.Oe);d.R4a=d.Oe.PZa.bind(d.Oe);d.AI=d.Oe.SZa.bind(d.Oe);d.IFb=d.Oe.QZa.bind(d.Oe);d.GFb=d.Oe.NZa.bind(d.Oe);d.qR=d.Oe.MZa.bind(d.Oe);d.zI=d.Oe.RZa.bind(d.Oe);d.HFb=d.Oe.OZa.bind(d.Oe);d.DFb=d.Oe.HZa.bind(d.Oe);d.dqa=d.Oe.LZa.bind(d.Oe);d.KFb=d.Oe.heb.bind(d.Oe);},function(g,d){function a(){}function b(){}function f(){}function t(){}function p(){}function c(){}Object.defineProperty(d,"__esModule",{value:!0});c.jgb="loadedtracks";c.igb="loadedmetadata";c.loaded="loaded";c.error="error";c.closed="closed";c.Zm="currenttimechanged";c.soa="bufferedtimechanged";c.Y6a="durationchanged";c.Vub="videosizechanged";c.Xkb="pausedchanged";c.Mlb="playingchanged";c.e8a="endedchanged";c.o2="busychanged";c.Vna="audiotracklistchanged";c.QH="audiotrackchanged";c.jA="timedtexttracklistchanged";c.iF="timedtexttrackchanged";c.HM="trickplayframeschanged";c.Dib="mutedchanged";c.Zub="volumechanged";c.Uqb="showsubtitle";c.Ynb="removesubtitle";c.dvb="watermark";c.z7="isReadyToTransition";c.BD="inactivated";c.vpb="segmentmaploaded";c.wpb="segmentpresenting";c.l_a="autoplaywasallowed";c.m_a="autoplaywasblocked";d.rb=c;p.FBa="serverTimeChanged";d.Ffa=p;t.RL="playlistsegmenttransition";d.vG=t;(function(a){a[a.gC=0]="aseException";a[a.hC=1]="aseReport";a[a.hEb=2]="aseSessionCreateRequest";a[a.Zna=3]="authorized";a[a.aoa=4]="autoplayWasAllowed";a[a.Gl=5]="autoplayWasBlocked";a[a.C_a=6]="bandwidthMeterAggregateUpdate";a[a.fo=7]="bufferUnderrun";a[a.closed=8]="closed";a[a.se=9]="closing";a[a.Zm=10]="currentTimeChanged";a[a.Xu=11]="downloadComplete";a[a.BD=12]="inactivated";a[a.Rva=13]="licenseAdded";a[a.pK=14]="licensed";a[a.hq=15]="locationSelected";a[a.YT=16]="manifestClosing";a[a.Ls=17]="manifestPresenting";a[a.AIb=18]="manifestSelected";a[a.iU=19]="mediaBufferChanged";a[a.s9=20]="needLicense";a[a.FU=21]="nextSegmentChosen";a[a.Bh=22]="playbackStart";a[a.un=23]="repositioned";a[a.Pz=24]="repositioning";a[a.ZAa=25]="safePlayRequested";a[a.ppb=26]="segmentAborted";a[a.rpb=27]="segmentLastPts";a[a.QL=28]="segmentPresenting";a[a.upb=29]="segmentStarting";a[a.HKb=30]="segmentComplete";a[a.QE=31]="serverSwitch";a[a.cCa=32]="shouldUpdateVideoDiagInfo";a[a.Pi=33]="skipped";a[a.bF=34]="subtitleError";a[a.Pba=35]="throttledMediaTimeChanged";a[a.gF=36]="timedTextRebuffer";a[a.jA=37]="timedTextTrackListChanged";a[a.HM=38]="trickPlayFramesChanged";a[a.JM=39]="tryRecoverFromStall";a[a.Nq=40]="updateNextSegmentWeights";a[a.Gub=41]="userInitiatedPause";a[a.iEa=42]="userInitiatedResume";}(d.U||(d.U={})));f.TA=0;f.LOADING=1;f.$c=2;f.CLOSING=3;f.CLOSED=4;d.lb=f;b.$c=1;b.Ij=2;b.wia=3;d.hf=b;a.ig=1;a.wd=2;a.gi=3;a.$q=4;d.qb=a;(function(a){a[a.YF=0]="INITIAL";a[a.hx=1]="SEEK";a[a.ZZ=2]="TRACK_CHANGED";a[a.aB=3]="SEGMENT_CHANGED";}(d.Fg||(d.Fg={})));},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(138);d.is=g.Lt;d.Ob=function(a){return d.is.zd(a);};d.Se=function(a){return d.is.Tx(a);};d.Ueb=function(a){return d.is.pQ(a);};d.isArray=function(a){return d.is.Vr(a);};d.zva=function(a){return d.is.vna(a);};d.qa=function(a,f,g){return d.is.Pf(a,f,g);};d.xeb=function(a,f,g){return d.is.A1(a,f,g);};d.zv=function(a,f,g){return d.is.Hp(a,f,g);};d.rva=function(a){return d.is.yH(a);};d.VHb=function(a){return d.is.rYa(a);};d.YHb=function(a){return d.is.sYa(a);};d.Ava=function(a){return d.is.wna(a);};d.Ld=function(a){return d.is.vi(a);};d.Ry=function(a){return d.is.jj(a);};d.fva=function(a){return d.is.aC(a);};d.Mb=function(a){return d.is.xH(a);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gd="ConfigSymbol";},function(g,d,a){var b,f,t,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(14);f=a(19);t=a(9);p=a(16);d.Sc=function(a,k){for(var c in a)a.hasOwnProperty(c)&&k(c,a[c]);};d.Ya=d.Ya||function(a,k,b){var c,q,y;if(k)if(b){c=b.RD;q=b.prefix;y=b.uq;d.Sc(k,function(k,b){if(!y||f.Ob(b))a[(q||"")+(c?k.toLowerCase():k)]=b;});}else d.Sc(k,function(c,k){a[c]=k;});return a;};d.E0a=function(a,k,b,n){var c;if(a){c=a[k];p.Mb(c)&&(b=c.apply(a,t.slice.call(arguments,3)));}};d.DZa=function(){for(var a=["info","warn","trace","error"],k={},b=a.length;b--;)k[a[b]]=!0;return k;};d.Od=d.Od||function(a){return parseInt(a,10);};d.tJb=function(a){return/^true$/i.test(a);};d.Qza=function(a,b){return t.Jh(a+t.hG()*(b-a));};d.vW=function(a){return JSON.stringify(a,null,"  ");};d.Q6=function(){var k,f;function a(a){b.Ga(void 0!==k[a]);return k[a];}k={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};f=/[&'"<>]/g;return function(c){return c.replace(f,a);};}();d.trim=function(){var a;a=/^\s+|\s+$/gm;return function(c){return c.replace(a,"");};}();d.C8=function(a){return Array.isArray(a)?a:[a];};d.od=d.od||function(a){var c,b,n;if(a){c=a.stack;b=a.number;n=a.message;n||(n=""+a);c?(a=""+c,0!=a.indexOf(n)&&(a=n+"\n"+a)):a=n;b&&(a+="\nnumber:"+b);return a;}};d.Ul=function(a){return p.qa(a)?a.toFixed(0):"";};d.wy=function(a){return p.qa(a)?(a/1E3).toFixed(0):"";};d.D9a=function(a){return p.qa(a)?a.toFixed():"";};d.j2a=function(a){for(var c=[],b=0;b<a.length;b++)c[b]=a[b];return c;};},function(g,d,a){var p,c;function b(a){return null!==a&&void 0!==a;}function f(a){return typeof a==d.wRa;}function t(a,f,n){var k,q,d;if(f)if(n){k=n.RD;q=n.prefix;d=n.uq;c.Sc(f,function(c,n){if(!d||b(n))a[(q||"")+(k?c.toLowerCase():c)]=n;});}else c.Sc(f,function(c,b){a[c]=b;});return a;}Object.defineProperty(d,"__esModule",{value:!0});p=a(9);c=a(18);d.ee=function(){};d.qk=1E3;d.oG=Object.create;d.NNa=Object.keys;d.zN=Date.now;d.Xw=Math.floor;d.KMa=Math.ceil;d.Jh=Math.round;d.Am=Math.max;d.Bm=Math.min;d.hG=Math.random;d.gG=Math.abs;d.rga=Math.pow;d.Ui="$attributes";d.bX="$children";d.cX="$name";d.Uq="$text";d.zEa="$parent";d.zF="$sibling";d.wRa="string";d.TCb="number";d.SCb="function";d.vRa="object";d.Ob=b;d.Se=function(a){return typeof a==d.vRa;};d.Ld=f;d.Ry=function(a){return f(a)&&a;};d.Od=function(a){return parseInt(a,10);};d.gr=function(a,c,b){return a>=c?a<=b?a:b:c;};d.Ya=t;d.ZL=function(a){return t({},a);};d.N2=function(a){var f;for(var c=0;c<arguments.length;++c);for(var c=0,k=arguments.length;c<k;){f=arguments[c++];if(b(f))return f;}};d.CZa=function(a){for(var c,b=!0,k;b;)for(b=!1,c=a.length;--c;)k=a[c],k.startTime<a[c-1].startTime&&(a[c]=a[c-1],a[c-1]=k,b=!0);};d.Qu=function(a,c){if(a.length==c.length){for(var b=a.length;b--;)if(a[b]!=c[b])return!1;return!0;}return!1;};d.createElement=function(a,b,n,f){var k;k=p.Ed.createElement(a);b&&(k.style.cssText=b);n&&(k.innerHTML=n);f&&c.Sc(f,function(a,c){k.setAttribute(a,c);});return k;};d.pI=function(a){var b;b="";c.Sc(a,function(a,c){b+=(b?";":"")+a+":"+c;});return b;};d.pS=function(a,c,b){var k;a/c>b?(k=d.Jh(c*b),a=c):(k=a,a=d.Jh(a/b));return{width:k,height:a};};d.Q6=function(){var c,b;function a(a){return c[a];}c={"&":"&amp;","'":"&#39;",'"':"&quot;","<":"&lt;",">":"&gt;"};b=/[&'"<>]/g;return function(c){return c.replace(b,a);};}();d.od=function(a){var c,b;if(a){c=a.stack;b=a.number;a=""+a;c?(c=""+c,0!=c.indexOf(a)&&(c=a+"\n"+c)):c=a;b&&(c+="\nnumber:"+b);return c;}};d.H={ki:1001,Dg:1003,JJa:1701,Fea:1713,KJa:1715,IJa:1721,GN:1723};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.de="IsTypeSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xe="AsyncComponentLoaderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ye="UtilitiesSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Je="ApplicationSymbol";},function(g,d,a){g.T={EventEmitter:a(758),Pw:a(757)};},function(g,d,a){var f,t,p,c;function b(){return d.EO.Vy.fa(c.na);}Object.defineProperty(d,"__esModule",{value:!0});g=a(468);f=a(41);t=a(23);p=a(116);c=a(3);d.Wja=g.Vc.get(f.Kj);d.EO=g.Vc.get(t.Je);d.zUa=g.Vc.get(p.MA);d.Jfa=d.EO.id;d.Qf=function(){return d.EO.ac().fa(c.na);};d.$Q=function(){return d.Wja.Qe.fa(c.Em);};d.UEb=function(){return d.EO.Vy.fa(c.Em);};d.w1a=function(){return d.zUa.BC();};d.x1a=b;d.K2=function(){return d.Wja.Qe.fa(c.na);};d.VEb=function(){return b();};},function(g,d,a){g.T={SJa:a(754),ka:a(60).ka,sC:a(60).sC,io:a(60).io,TD:a(60).TD,PL:a(60).PL,rZ:a(753).rZ,CZ:a(206),wSa:a(752)};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.AX="ConfigurableInputsSymbol";d.cj="ValidatingConfigurableInputsSymbol";d.BA="ConfigNameSymbol";d.WN="InitParamsSymbol";},function(g,d,a){var n,u,y,A,K,x,h;function b(){var a,c;if(a=d.Z5.cma)return a;a=x.mZ.search.substr(1);c=a.indexOf("#");0<=c&&(a=a.substr(0,c));a=f(a);return d.Z5.cma=a;}function f(a){for(var c=/[+]/g,b=(a||"").split("&"),k={},n,f=0;f<b.length;f++)a=A.trim(b[f]),n=a.indexOf("="),0<=n?k[decodeURIComponent(a.substr(0,n).replace(c,"%20")).toLowerCase()]=decodeURIComponent(a.substr(n+1).replace(c,"%20")):k[a.toLowerCase()]=null;return k;}function t(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";}function p(a){return t(a.constructor);}function c(a){return x.sort.call(a,function(a,c){return a-c;});}function k(a){for(var c=0,b=a.length;b--;)c+=a[b];return c;}function q(){return h.Mb(x.Nj.requestMediaKeySystemAccess);}Object.defineProperty(d,"__esModule",{value:!0});n=a(8);u=a(14);y=a(4);A=a(18);K=a(19);x=a(9);h=a(16);d.hpa=function(a,c){if(a===c)return!0;if(!a||!c)return!1;for(var b in a)if(a.hasOwnProperty(b)&&(!c.hasOwnProperty(b)||a[b]!==c[b]))return!1;return!0;};d.Qu=d.Qu||function(a,c){if(a.length==c.length){for(var b=a.length;b--;)if(a[b]!=c[b])return!1;return!0;}return!1;};d.$Jb=function(a){var c;if(a){c=a.length;if(c)return c=A.Qza(0,c-1),a[c];}};d.Z1a=function(a,c){if(a.length!=c.length)return!1;a.sort();c.sort();for(var b=a.length;b--;)if(a[b]!==c[b])return!1;return!0;};d.$Ya=function(a,c){function b(){a.removeEventListener("loadedmetadata",b);c.apply(this,arguments);}a.addEventListener("loadedmetadata",b);};d.bnb=function(){var a,c,b,k,n,f;a=x.Ed.cookie.split("; ");c=a.length;f={};for(b=0;b<c;b++)if(k=A.trim(a[b]))n=k.indexOf("="),0<n&&(f[k.substr(0,n)]=k.substr(n+1));return f;};d.mHb=b;d.Z5=Object.assign(b,{cma:void 0});d.UU=f;d.SK=function(a){var c;c="";A.Sc(a,function(a,b){c&&(c+="&");u.Ga(K.Ld(b)||h.qa(b)||h.fva(b));c+=encodeURIComponent(a)+"="+encodeURIComponent(b);});return c;};d.getFunctionName=t;d.Nsa=p;d.iya=function(a){var c;c="";h.isArray(a)||h.zva(a)?c=x.reduce.call(a,function(a,c){return a+(32<=c&&128>c?x.mRa(c):".");},""):K.Ld(a)?c=a:A.Sc(a,function(a,b){c+=(c?", ":"")+"{"+a+": "+(h.Mb(b)?t(b)||"function":b)+"}";});return"["+p(a)+" "+c+"]";};d.RJb=function(a,c){a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c);};d.pI=d.pI||function(a){var c;c="";A.Sc(a,function(a,b){c+=(c?";":"")+a+":"+b;});return c;};d.QHb=function(a,c){var b;b=a[0];if(c<=b[0])return b.slice(1);for(var k=1,n;n=a[k++];){if(c<=n[0]){a=(c-b[0])/(n[0]-b[0]);c=[];for(k=1;k<b.length;k++)c.push((b[k]||0)+a*((n[k]||0)-(b[k]||0)));return c;}b=n;}return b.slice(1);};d.Ivb=function(a,c){var n;for(var b={},k=0;k<c.length;k++){n=c[k];if("string"!=typeof n&&"number"!=typeof n)return!1;b[c[k]]=1;}for(k=0;k<a.length;k++)if(n=a[k],!b[n])return!1;return!0;};d.hFa=function(a,c){0>a.indexOf(c)&&a.push(c);};d.fX=c;d.Kvb=k;d.$ca=function(a,c){var b,k,n,f;b=-1;k=a.length;if(1===arguments.length){for(;++b<k&&!(null!=(n=a[b])&&n<=n);)n=void 0;for(;++b<k;)null!=(f=a[b])&&f>n&&(n=f);}else{for(;++b<k&&!(null!=(n=c.call(a,a[b],b))&&n<=n);)n=void 0;for(;++b<k;)null!=(f=c.call(a,a[b],b))&&f>n&&(n=f);}return n;};d.Jvb=function(a,c){var b,k,n,f;b=-1;k=a.length;if(1===arguments.length){for(;++b<k&&!(null!=(n=a[b])&&n<=n);)n=void 0;for(;++b<k;)null!=(f=a[b])&&n>f&&(n=f);}else{for(;++b<k&&!(null!=(n=c.call(a,a[b],b))&&n<=n);)n=void 0;for(;++b<k;)null!=(f=c.call(a,a[b],b))&&n>f&&(n=f);}return n;};d.jE=function(a){return h.Mb(a.then)?a:new Promise(function(c,b){a.oncomplete=function(){c(a.result);};a.onerror=function(){b(a.error);};});};d.BGb=function(a,b){var n,f,q,d,u,y;function k(a){0>n.indexOf(a)&&h.qa(a)&&n.push(a);}a=a.slice();c(a);n=[];if(!b||!b.length)return a;if(!a.length)return[];f=b.length;try{for(;f--;){u=""+b[f];y=K.Od(u);switch(u[u.length-1]){case"-":for(q=a.length;q--;)if(d=a[q],d<y){k(d);break;}break;case"+":for(q=0;q<a.length;q++)if(d=a[q],d>y){k(d);break;}break;default:0<=a.indexOf(y)&&k(y);}}}catch(ia){}n.length||n.push(a[0]);c(n);return n;};d.pS=d.pS||function(a,c,b){var k;a/c>b?(k=x.Jh(c*b),a=c):(k=a,a=x.Jh(a/b));return{width:k,height:a};};d.cFb=function(a,c,b){for(var n=[],f=0;f<c;f++)n.push(x.rga(a[f]-b,2));return x.LMa(k(n)/n.length);};d.Kl=function(a,c){var b;b=a.length;c=(b-1)*c+1;if(1===c)return a[0];if(c==b)return a[b-1];b=x.Xw(c);return a[b-1]+(c-b)*(a[b]-a[b-1]);};d.DGb=function(a,c){if(!h.isArray(a))throw Error("boxes is not an array");if(0>=a.length)throw Error("There are no boxes in boxes");c=h.isArray(c)?c:[c];for(var b=a.length,k=0;k<b;k++)for(var n=0;n<c.length;n++)if(a[k].type==c[n])return a[k];throw Error("Box not found "+c);};d.uwb=function(a){return a.kv("trak/mdia/minf/stbl/stsd/"+n.ZFa+"|"+n.$Fa).children.filter(function(a){return"sinf"==a.type&&"cenc"==a.R4.schm.$ob;})[0].kv("schi/tenc").hK;};d.twb=function(a){var b;function c(a,c){var k;k=b[a];b[a]=b[c];b[c]=k;}b=new Uint8Array(a);c(0,3);c(1,2);c(4,5);c(6,7);return b;};d.tva=q;d.w7=function(a){return q()||a.pM;};d.KJb=function(a){return function(c){return c&&c[a];};};h.Mb(ArrayBuffer.prototype.slice)||(ArrayBuffer.prototype.slice=function(a,c){var b,k;void 0===a&&(a=0);void 0===c&&(c=this.byteLength);a=Math.floor(a);c=Math.floor(c);0>a&&(a+=this.byteLength);0>c&&(c+=this.byteLength);a=Math.min(Math.max(0,a),this.byteLength);c=Math.min(Math.max(0,c),this.byteLength);if(0>=c-a)return new ArrayBuffer(0);b=new ArrayBuffer(c-a);k=new Uint8Array(b);a=new Uint8Array(this,a,c-a);k.set(a);return b;});d.C7=function(a){return a&&0==a.toLowerCase().indexOf("https");};d.fab=function(){var a,c;a=new ArrayBuffer(4);c=new Uint8Array(a);a=new Uint32Array(a);c[0]=161;c[1]=178;c[2]=195;c[3]=212;return 3569595041==a[0]?"LE":2712847316==a[0]?"BE":"undefined";};d.MS=function(){var a,c,b;try{a=/playercore.*js/;c=x.er.getEntries("resource").filter(function(c){return null!==a.exec(c.name);});if(c&&0<c.length){b=x.Jh(c[0].duration);return JSON.stringify(b);}}catch(S){}};d.MJb=function(a,c,b){if(a&&a.length)if(b&&b.l1a)try{a.forEach(function(a,k){var n;n=(k=b.l1a[k])&&k.media;n&&K.Ld(n)?(n=y.Jk(n).buffer,a.media={arrayBuffer:n,length:n.byteLength,stream:c,Sb:k.cdn}):y.log.warn("chunk not in cache",a.Yf);});}catch(S){y.log.error("error reading cached chunks",S);}else y.log.warn("chunks not available in cached stream",b.type);else y.log.warn("chunks not available in mediabuffer",b.type);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Audio=0]="Audio";a[a.qja=1]="Video";}(d.kG||(d.kG={})));(function(a){a[a.Kw=0]="Default";a[a.Zw=1]="Microsoft";}(d.Fw||(d.Fw={})));(function(a){a[a.Kw=0]="Default";a[a.wX=1]="Cast";a[a.zX=2]="Chrome";a[a.Zw=3]="Microsoft";a[a.Gia=4]="Safari";}(d.Oj||(d.Oj={})));(function(a){a[a.yG=0]="SD";a[a.IN=1]="HD";a[a.tO=2]="UHD";a[a.mp=3]="DV";a[a.br=4]="HDR10";a[a.wA=5]="AVCHigh";a[a.Vt=6]="VP9";a[a.Fh=7]="AV1";}(d.ad||(d.ad={})));(function(a){a[a.pp=0]="Level_1_4";a[a.Tw=1]="Level_2_2";}(d.Hh||(d.Hh={})));d.kDb=function(){};(function(a){a[a.wBb=0]="Platform";a[a.Ywb=1]="CurrentTitle";}(d.nSa||(d.nSa={})));d.NX="DeviceCapabilitiesSymbol";d.txb=function(){};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hg="SchedulerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qt="named";d.aO="name";d.BG="unmanaged";d.Vga="optional";d.ZF="inject";d.Ww="multi_inject";d.Qia="inversify:tagged";d.Ria="inversify:tagged_props";d.sZ="inversify:paramtypes";d.KHa="design:paramtypes";d.qG="post_construct";},function(g,d,a){var c,k,q,n,u,y,A,K,x;function b(a,c){var b,k,n;try{b=q.Nj.plugins;k=b.length;for(n=0;n<k;n++)if(c.test(b[n][a]))return b[n];return!1;}catch(V){}}function f(){var a,c;a=b("filename",/widevinecdm/i);if(a){try{c=a.description.match(/version: ([0-9.]+)/);if(c&&c[1])return c[1];}catch(N){}return"true";}return"false";}function t(){var a;a=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:c.pl,robustness:"HW_SECURE_DECODE"},{contentType:c.pl,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:c.Vw,robustness:"SW_SECURE_CRYPTO"}]}];try{q.Nj.requestMediaKeySystemAccess("com.widevine.alpha",a).then(function(a){var c;c=a.getConfiguration();a=c.videoCapabilities;(c=c.audioCapabilities)&&c.length&&(c=p(c),0<=c.indexOf("SW_SECURE_CRYPTO")&&(d.Pn.cptheaacwv_sw_cryp=!0));a&&a.length?(d.Pn.cpth264wv=!0,c=p(a),0<=c.indexOf("SW_SECURE_DECODE")&&(d.Pn.cpth264wv_sw_dec=!0),0<=c.indexOf("HW_SECURE_DECODE")&&(d.Pn.cpth264wv_hw_dec=!0)):d.Pn.cpth264wv=!1;})["catch"](function(){d.Pn.cpth264wv=!1;});}catch(G){}}function p(a){return a.map(function(a){return a.robustness;});}Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(762),d);c=a(8);g=a(28);k=a(19);q=a(9);a=a(29);d.XHb=/CrOS/.test(q.tk);d.kia=/CrOS/.test(q.tk);d.nOa={droppedFrameRateFilterEnabled:!0,promiseBasedEme:!0,workaroundValueForSeekIssue:500,captureKeyStatusData:!0,logMediaPipelineStatus:!0,prepareCadmium:!0,enableLdlPrefetch:!0,doNotPerformLdlOnPlaybackStart:!0,captureBatteryStatus:!0,enableGetHeadersAndMediaPrefetch:!0,enableUsingHeaderCount:!0,defaultHeaderCacheSize:15,enableSeamless:!0,videoCapabilityDetectorType:a.Oj.zX,preciseSeeking:!0,editAudioFragments:!0,editVideoFragments:!0,useTypescriptEme:!0,webkitDecodedFrameCountIncorrectlyReported:!0};d.VAb=function(){return{};};d.WAb=b;d.XAb=f;d.dha=f();a=d.dha;if(!(n=d.dha))a:{try{q.Nj.plugins.refresh();n=f();break a;}catch(I){}n=void 0;}u=!!b("name",/Chrome Remote Desktop Viewer/i);y=!!b("name",/Chromoting Viewer/i);a:{try{A=MediaSource.isTypeSupported(c.pl);break a;}catch(I){}A=void 0;}a:{try{K=k.createElement("VIDEO").canPlayType(c.pl);break a;}catch(I){}K=void 0;}a:{try{if(g.tva())t();else{x=k.createElement("VIDEO").canPlayType(c.pl,"com.widevine.alpha");break a;}}catch(I){}x=void 0;}d.Pn={wvp:a,wvp2:n,crdvp:u,cvp:y,itsh264:A,cpth264:K,cpth264wv:x};d.SEb=t;d.nHb=p;},function(g,d,a){var p,c,k;function b(a){return function(c,b){return c.R$(b,a);};}function f(a,c){return a.rV.Tmb[c]||t(a,c);}function t(a,c){a=a.Js.data[c];switch(typeof a){case"undefined":break;case"string":case"number":case"boolean":return a.toString();default:return JSON.stringify(a);}}Object.defineProperty(d,"__esModule",{value:!0});p=a(34);c=a(3);k=a(134);d.config=function(a,c){return function(b,n,q){var d,u;d=void 0!==c?c:n;u=q.get;void 0!==u&&(q.get=function(){var c;if(!this.Jeb(n))return this.Fbb(n);a:{c=(this.oZa?f:t)(this,d.toString());if(void 0!==c)if(c=a(this.RK,c),c instanceof k.Cm)this.gsa(d,c);else break a;c=u.bind(this)();}this.Cob(n,c);return c;});return q;};};d.m7=function(a,c){return a.Wza(c);};d.re=function(a,c){return a.P$(c);};d.yw=function(a,c){return a.Pa(c);};d.string=function(a,c){return a.R$(c);};d.Dba=function(a,c){return a.je(c,d.string);};d.RHb=function(a,c){return a.je(c,d.m7);};d.DDa=function(a,c){return a.je(c,d.yw);};d.Ug=function(a,b){a=a.Pa(b);return a instanceof k.Cm?a:c.zb(a);};d.ba=function(a,c){a=a.Pa(c);return a instanceof k.Cm?a:p.ba(a);};d.url=b(/^\S+$/);d.nGb=function(a){return function(c,b){return c.Vza(b,a);};};d.object=function(){return function(a,c){return a.Xza(c);};};d.lAa=b;d.Jp=function(a,c){return function(b,k){return b.je(k,a,c);};};},function(g,d,a){var t;function b(a){return t.uO.apply(this,arguments)||this;}function f(a){return new t.rp(a,d.yA);}Object.defineProperty(d,"__esModule",{value:!0});t=a(461);ba(b,t.uO);d.Ewb=b;d.JQ=f;d.ba=function(a){return new t.rp(a,d.Kn);};d.mIb=function(a){return new t.rp(a,d.Nfa);};d.HIb=function(a){return new t.rp(a,d.$Ma);};d.yA=new b(1,"b");d.Kn=new b(8*d.yA.Ie,"B",d.yA);d.Nfa=new b(1024*d.Kn.Ie,"KB",d.yA);d.$Ma=new b(1024*d.Nfa.Ie,"MB",d.yA);d.sf=f(0);},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);d.Yq=!1;g=function(){function a(a,b,c,k){this.u=a;this.type=b;this.startOffset=c;this.length=k;this.level=0;this.zc={};a&&(this.level=a.level);this.kE=k;}a.prototype.Xe=function(){var a,b,c;this.version=this.u.bd();a=this.u.bd();b=this.u.bd();c=this.u.bd();this.De=a<<16|b<<8|c;};a.prototype.iJ=function(a){var c,f;function b(b){b&&b.iJ&&(b=b.iJ(a),b.length&&(c=c.concat(b)));}c=[];this.type===a&&c.push(this);if(this.zc)for(var k in this.zc){f=this.zc[k];Array.isArray(f)&&f.forEach(b);}return c;};a.prototype.jJ=function(a){return this.iJ(a)[0];};a.prototype.parse=function(){return!0;};a.prototype.oJ=function(a){this.u.ka(a.type,a);};a.prototype.Idb=function(){};a.prototype.hp=function(a){if((a=this.zc[a])&&Array.isArray(a)&&1===a.length)return a[0];};a.prototype.Sj=function(a,f){f=void 0===f?this.u.offset:f;b.assert(f>=this.startOffset+8&&f+a<=this.startOffset+this.kE,"Removal range [0x"+f.toString(16)+"-0x"+(f+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.kE).toString(16)+")");d.Yq&&this.u.dc("rewriting length of "+this.type+" box at "+this.startOffset+" from "+this.length+" to "+(this.length-a));this.length-=a;this.u.Dl(this.length,!1,this.startOffset);this.u.Sj(a,f);};a.prototype.$za=function(a,b,c){if(1<c){for(var k=[];0<c--;)k.push(this.fma(a,b));return k;}return this.fma(a,b);};a.prototype.Bq=function(a){var b,c;c=this;void 0===b&&(b={});a.forEach(function(a){var k,n;if("offset"===a.type){k=a.offset;if(0<k%8)throw Error("Requested offset "+a.offset+"is not an even byte multiple");c.u.offset+=k/8;}else for(k in a){n=a[k];b[k]="string"===typeof n?c.$za(n):c.$za(n.type,n.length,n.BZa);}});return b;};a.prototype.ns=function(a,b){var c,k;c=this.u.offset;k=this.length-(c-this.startOffset);0<k&&(b=this.u.p3(this,c,k,b),b.Dp=void 0,b.addEventListener("error",this.oJ.bind(this)),b.addEventListener("drmheader",this.oJ.bind(this)),b.addEventListener("nflxheader",this.oJ.bind(this)),b.addEventListener("keyid",this.oJ.bind(this)),b.addEventListener("requestdata",this.Idb.bind(this)),b.addEventListener("sampledescriptions",this.oJ.bind(this)),this.zc=b.zc,b.parse(a));return!0;};a.prototype.OB=function(a,f,c){c=void 0===c?this.u.offset:c;b.assert(c>=this.startOffset+8&&c+a<=this.startOffset+this.kE,"Removal range [0x"+c.toString(16)+"-0x"+(c+a).toString(16)+") must be in box [0x"+this.startOffset.toString(16)+"-0x"+(this.startOffset+this.kE).toString(16)+")");d.Yq&&this.u.dc("rewriting length of "+this.type+" box at "+this.startOffset+" from "+this.length+" to "+(this.length+(f?f.byteLength:0)-a));this.length+=(f?f.byteLength:0)-a;this.u.Dl(this.length,!1,this.startOffset);this.u.OB(a,f,c);};a.prototype.fma=function(a,b){var c;c=this.length-this.u.offset+this.startOffset;"undefined"===typeof b&&(b=c);switch(a){case"int8":a=this.u.bd();break;case"int64":a=this.u.Mh();break;case"int32":a=this.u.ub();break;case"int16":a=this.u.yf();break;case"string":a=this.u.anb(Math.min(b,c));break;default:throw Error("Invalid type: "+a);}return a;};return a;}();d["default"]=g;},function(g,d,a){var t,p,c,k;function b(a,c){var b;b=k.call(this,a,c)||this;b.spa=c;b.debug=a.debug;b.ia=a.Ue.ib(b.spa);return b;}function f(a,c){this.spa=c;this.G$={};this.Js=a.Js;this.RK=a.RK;this.rV=a.rV;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);t=a(1011);p=a(1);c=a(134);d.uRa="isTestAccount";f.prototype.gsa=function(){};f.prototype.Cob=function(a,c){this.G$[a]=[c,this.Js.RAa];};f.prototype.Jeb=function(a){return t.Zga.of(this.G$[a]).map(function(a){return a[1];}).Bya(-1)<this.Js.RAa;};f.prototype.Fbb=function(a){return t.Zga.of(this.G$[a]).map(function(a){return a[0];}).Bya(function(){throw Error("Invalid State Error");});};na.Object.defineProperties(f.prototype,{oZa:{configurable:!0,enumerable:!0,get:function(){var a,b;if(this&&this.Js&&this.Js.data){a=this.Js.data[d.uRa];"undefined"!==typeof a&&(b=a.toString());a=this.RK.P$(b);a=a instanceof c.Cm?!1:a;}else a=!1;return a;}}});k=f;k=g.__decorate([p.L(),g.__param(0,p.$g()),g.__param(1,p.$g())],k);d.kN=k;ba(b,k);b.prototype.gsa=function(a,c){this.ia.error("Invalid configuration value.",{name:a},c);this.debug.assert(!1);};a=b;a=g.__decorate([g.__param(0,p.$g()),g.__param(1,p.$g())],a);d.oe=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uja="WindowTimersSymbol";d.Mt="JSONSymbol";d.VA="NavigatorSymbol";d.YMa="MediaSourceSymbol";d.Ufa="LocationSymbol";d.Zda="DateSymbol";d.DZ="PerformanceSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.YY="LogBatcherConfigSymbol";d.Mj="LogBatcherSymbol";d.Vfa="LogBatcherProviderSymbol";},function(g){g.T=function(d,a){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b]);return a;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jj="Base64EncoderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Kj="ClockSymbol";},function(g,d,a){var f;function b(a,b,c,k,q,n,d,y,g,K,x){this.code=void 0===a?f.K.ki:a;this.Bc=b;this.Tf=c;this.py=k;this.qq=q;this.message=n;this.LC=d;this.data=y;this.Sk=g;this.Flb=K;this.alert=x;this.X=!1;}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);b.od=function(a){var b,c,k;if(a){b=a.stack;c=a.number;k=a.message;k||(k=""+a);b?(a=""+b,0!==a.indexOf(k)&&(a=k+"\n"+a)):a=k;c&&(a+="\nnumber:"+c);return a;}return"";};b.prototype.HI=function(a){this.LC=b.od(a);this.data=a;};b.prototype.toString=function(){return JSON.stringify(this.toJSON);};b.prototype.toJSON=function(){return{code:this.code,subCode:this.Bc,extCode:this.Tf,edgeCode:this.py,mslCode:this.qq,message:this.message,details:this.LC,data:this.data,errorDisplayMessage:this.Sk,playbackServiceError:this.Flb};};d.cc=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aj={nwa:"logblob",Aa:"manifest",Ef:"license",events:"events",bind:"bind",Kya:"pair"};g=d.Gg||(d.Gg={});g[g.It=20]="High";g[g.eZ=10]="Medium";g[g.OA=0]="Low";d.MZ={Gg:"reqPriority",oQa:"reqAttempt",pQa:"reqName"};},function(g,d,a){var p,c;function b(a){return a&&a.df&&a.inRange&&!a.Rg&&!1!==a.zs;}function f(a,c,b){return!p.qa(a)||a<c?c:a>b?b:a;}function t(a){if(!(this instanceof t))return new t(a);this.qd=p.qa(a)?a:void 0;}p=a(7);c=new(a(6)).Console("ASEJS_STREAM_SELECTOR","media|asejs");g.T={console:c,debug:!1,assert:function(a,b){if(!a)throw a=b?" : "+b:"",c.error("Assertion failed"+a),Error("ASEJS_STREAM_SELECTOR assertion failed"+a);},Qy:b,P4:function(a,c,b){var n,q,d,g;function k(c){var k;k=a[c];if(!k.df||!k.inRange||k.Rg||b&&!b(k,c))return!1;g=c;return!0;}n=a.length;q=0;d=n;p.isArray(c)&&(q=f(c[0],0,n),d=f(c[1],0,n),c=c[2]);c=f(c,q-1,d);for(n=c-1;n>=q;--n)if(k(n))return g;for(n=c+1;n<d;++n)if(k(n))return g;return-1;},vib:function(a,c){return Math.floor(a/(125*c)*1E3);},g0a:function(a,c){return Math.ceil(a/1E3*c*125);},ZHb:function(a,c){return!a.slice(c+1).some(b);},up:t,Kna:function(a,c){var b;return a.some(function(a,k,n){b=a;return c(a,k,n);})?b:void 0;},IH:function(a,c){var b;return a.some(function(a,k,n){b=k;return c(a,k,n);})?b:-1;},sC:f};},function(g,d){var f;function a(a,b,c,k){var f;Object.getOwnPropertyNames(a).filter(function(a){return(!k||k(a))&&(c||!Object.prototype.hasOwnProperty.call(b,a));}).forEach(function(c){f=Object.getOwnPropertyDescriptor(a,c);void 0!==f&&Object.defineProperty(b,c,f);});}function b(f,d,c){var k,q;k=c?[]:Object.keys(d);q=Object.getPrototypeOf(f);null!==q&&q!==Object.prototype&&b(q,d,c);a(f,d,!0,function(a){return"constructor"!==a&&-1===k.indexOf(a);});}Object.defineProperty(d,"__esModule",{value:!0});f=Object.getOwnPropertyNames(Function);d.Ti=function(d,g,c){void 0===c&&(c=!0);d.prototype?(b(d.prototype,g.prototype,c),a(d,g,c,function(a){return-1===f.indexOf(a);})):a(d,g.prototype,c,function(a){return-1===f.indexOf(a);});};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yb=function(a){return setTimeout(a,0);};},function(g,d,a){var b,f,t,p,c,k;b=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var k in c)c.hasOwnProperty(k)&&(a[k]=c[k]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=a(454);g=a(73);t=a(240);p=a(239);c=function(a){function f(b,f,n){var q;a.call(this);this.eA=null;this.Wf=this.mk=this.dA=!1;switch(arguments.length){case 0:this.destination=t.empty;break;case 1:if(!b){this.destination=t.empty;break;}if("object"===typeof b){if(b instanceof c||"syncErrorThrowable"in b&&b[p.Vz]){q=b[p.Vz]();this.mk=q.mk;this.destination=q;q.add(this);}else this.mk=!0,this.destination=new k(this,b);break;}default:this.mk=!0,this.destination=new k(this,b,f,n);}}b(f,a);f.prototype[p.Vz]=function(){return this;};f.create=function(a,c,b){a=new f(a,c,b);a.mk=!1;return a;};f.prototype.next=function(a){this.Wf||this.oh(a);};f.prototype.error=function(a){this.Wf||(this.Wf=!0,this.Dc(a));};f.prototype.complete=function(){this.Wf||(this.Wf=!0,this.Eb());};f.prototype.unsubscribe=function(){this.closed||(this.Wf=!0,a.prototype.unsubscribe.call(this));};f.prototype.oh=function(a){this.destination.next(a);};f.prototype.Dc=function(a){this.destination.error(a);this.unsubscribe();};f.prototype.Eb=function(){this.destination.complete();this.unsubscribe();};f.prototype.ZXa=function(){var a,c;a=this.Qm;c=this.Dx;this.Dx=this.Qm=null;this.unsubscribe();this.Wf=this.closed=!1;this.Qm=a;this.Dx=c;};return f;}(g.vk);d.ii=c;k=function(a){function c(c,b,k,n){var q;a.call(this);this.eH=c;c=this;f.Mb(b)?q=b:b&&(q=b.next,k=b.error,n=b.complete,b!==t.empty&&(c=Object.create(b),f.Mb(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this)));this.li=c;this.oh=q;this.Dc=k;this.Eb=n;}b(c,a);c.prototype.next=function(a){var c;if(!this.Wf&&this.oh){c=this.eH;c.mk?this.h_(c,this.oh,a)&&this.unsubscribe():this.i_(this.oh,a);}};c.prototype.error=function(a){var c;if(!this.Wf){c=this.eH;if(this.Dc)c.mk?this.h_(c,this.Dc,a):this.i_(this.Dc,a),this.unsubscribe();else if(c.mk)c.eA=a,c.dA=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};c.prototype.complete=function(){var a,c,b;a=this;if(!this.Wf){c=this.eH;if(this.Eb){b=function(){return a.Eb.call(a.li);};c.mk?this.h_(c,b):this.i_(b);}this.unsubscribe();}};c.prototype.i_=function(a,c){try{a.call(this.li,c);}catch(A){throw this.unsubscribe(),A;}};c.prototype.h_=function(a,c,b){try{c.call(this.li,b);}catch(K){return a.eA=K,a.dA=!0;}return!1;};c.prototype.Mr=function(){var a;a=this.eH;this.eH=this.li=null;a.unsubscribe();};return c;}(c);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.mjb=function(a,b){return a-b;};d.SKb=function(a,b){return a.localeCompare(b);};d.Yk=function(a,b){var f;f=Object.getOwnPropertyDescriptor(a,b);f&&Object.defineProperty(a,b,{configurable:f.configurable,enumerable:!1,value:f.value,writable:f.writable});};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ql="PboCommandContextSymbol";},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(374),d);d.Mgb=function(b){d.platform.TJ(b);return a(759).BMa;};d.bHb=function(){return a(348);};d.SIb=function(){return a(204);};g=a(11);d.ec=g;g=a(650);d.Sp=g.Sp;g=a(6);d.platform=g;},function(g,d,a){var b,f;b=a(111);f=a(158);g.T=function(a){return function c(k,q){switch(arguments.length){case 0:return c;case 1:return f(k)?c:b(function(c){return a(k,c);});default:return f(k)&&f(q)?c:f(k)?b(function(c){return a(c,q);}):f(q)?b(function(c){return a(k,c);}):a(k,q);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Et||(d.Et={});g[g.Xia=0]="Test";g[g.Efa=1]="Int";g[g.fRa=2]="Staging";g[g.WPa=3]="Prod";d.ym="GeneralConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qIa="Cannot apply @injectable decorator multiple times.";d.rIa="Metadata key was used more than once in a parameter:";d.mG="NULL argument";d.Lfa="Key Not Found";d.FEa="Ambiguous match found for serviceIdentifier:";d.lGa="Could not unbind serviceIdentifier:";d.yNa="No matching bindings found for serviceIdentifier:";d.mMa="Missing required @injectable annotation in:";d.nMa="Missing required @inject or @multiInject annotation in:";d.aSa=function(a){return"@inject called with undefined this could mean that the class "+a+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.";};d.oGa="Circular dependency found:";d.lAb="Sorry, this feature is not fully implemented yet.";d.$Ka="Invalid binding type:";d.zNa="No snapshot available to restore.";d.cLa="Invalid return type in middleware. Middleware must return!";d.azb="Value provided to function binding must be a function!";d.eLa="The toSelf function can only be applied when a constructor is used as service identifier";d.aLa="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";d.GEa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"The number of constructor arguments in the derived class "+(a[0]+" must be >= than the number of constructor arguments of its base class.");};d.DGa="Invalid Container constructor argument. Container options must be an object.";d.BGa="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";d.AGa="Invalid Container option. Auto bind injectable must be a boolean";d.CGa="Invalid Container option. Skip base check must be a boolean";d.AMa="Cannot apply @postConstruct decorator multiple times in the same class";d.NOa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"@postConstruct error in class "+a[0]+": "+a[1];};d.pGa=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return"It looks like there is a circular dependency "+("in one of the '"+a[0]+"' bindings. Please investigate bindings with")+("service identifier '"+a[1]+"'.");};d.GQa="Maximum call stack size exceeded";},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(70);b=a(46);f=a(9);d.ue=new g.Lj();d.Uk=1;d.Gy=2;d.u6=3;d.GJ=4;d.t6=5;b.yb(function(){var b,c,k;function a(a,b){if(c)c.on(a,b);else M.addEventListener(a,b);}b=M.jQuery;c=b&&b(M);b=(b=M.netflix)&&b.cadmium&&b.cadmium.addBeforeUnloadHandler;k=f.Ed.hidden;b?b(function(a){d.ue.Hb(d.Uk,a);}):a("beforeunload",function(a){d.ue.Hb(d.Uk,a);});a("keydown",function(a){d.ue.Hb(d.Gy,a);});a("resize",function(){d.ue.Hb(d.u6);});f.Ed.addEventListener("visibilitychange",function(){k!==f.Ed.hidden&&(k=f.Ed.hidden,d.ue.Hb(d.GJ));});});(function(){M.addEventListener("error",function(a){d.ue.Hb(d.t6,a);return!0;});}());},function(g,d,a){var t;function b(){t.assert(!1);}function f(a){a.set=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});t=a(13);d.Yj=function(a,c){Object.defineProperties(a,c);};d.bJb=b;d.Z=f;d.$o=function(a){a.set=b;return a;};d.nZa=function(a){var c;c={};Object.getOwnPropertyNames(a).forEach(function(b){c[b]=f(a[b]);});return c;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mia="StorageValidatorSymbol";d.Hn="AppStorageFactorySymbol";},function(g,d,a){var f,t;function b(a,c){var k;k=d.jr[0];k==c&&(k=d.jr[1]);k?k.close(function(){b(a,c);}):a&&a(f.yc);}Object.defineProperty(d,"__esModule",{value:!0});f=a(8);t=a(14);d.Qha=b;d.Tha=function(a,c){switch(a){case d.Oha:d.Rha.push(c);return;case d.Pha:d.Sha.push(c);return;}t.Ga(!1);};d.jr=[];d.Rha=[];d.Sha=[];d.Oha=1;d.Pha=3;d.uG={index:0,uib:void 0,U4:void 0};d.Nha="network";d.Mha="media";d.uPa="timedtext";d.vPa="playback";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.On="LogMessageFactorySymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(13);d.QO=function(a){b.assert("number"===typeof a);return String.fromCharCode(a>>>24&255)+String.fromCharCode(a>>>16&255)+String.fromCharCode(a>>>8&255)+String.fromCharCode(a&255);};d.aka=function(a){return a.charCodeAt(3)+(a.charCodeAt(2)<<8)+(a.charCodeAt(1)<<16)+(a.charCodeAt(0)<<24);};d.EDb=function(a,b){return Math.floor(1E3*a/b);};},function(g,d,a){var u;function b(a,b){if(a.length==b.length&&1<a.length){for(var k=a.length,f=0,n=c(a),q=c(b),d=0;d<k;d++)f+=a[d]*b[d];return(f-n*q/k)/k;}return!1;}function f(a){if(!Array.isArray(a)||2>a.length)return!1;a=t(a);return Math.sqrt(a);}function t(a){var b;if(!Array.isArray(a)||2>a.length)return!1;b=p(a);return c(a.map(function(a){return(a-b)*(a-b);}))/(a.length-1);}function p(a){return Array.isArray(a)&&a.length?c(a)/a.length:!1;}function c(a){return Array.isArray(a)?a.reduce(function(a,c){return a+c;},0):!1;}function k(a,c,b){return Math.max(Math.min(a,b),c);}function q(a,c){return"number"===typeof a?a:c;}function n(a){return 1/(1+Math.exp(-a));}u=a(7);g.T={ka:function(a,c,b){try{a.ka(c,b);}catch(x){a.Dc("JAVASCRIPT EXCEPTION: Caught in ASE client event listener. Exception:",x,"Event:",b);}},io:function(){var a,c,b;a=Array.prototype.concat.apply([],arguments);c=a.reduce(function(a,c){return a+c.byteLength;},0);b=new Uint8Array(c);a.reduce(function(a,c){b.set(new Uint8Array(c),a);return a+c.byteLength;},0);return b.buffer;},sC:k,o1a:function(a,c,b,f){return{min:k(q(a.min,c),b,f),max:k(q(a.max,c),b,f),ks:k(a.ks||6E4,0,6E5),Loa:k(a.Loa||0,-3E5,3E5),scale:k(a.scale||6E4,0,3E5),fBa:k(a.fBa||0,-3E5,3E5),gamma:k(a.gamma||1,.1,10)};},Sc:function(a,c){void 0!==a&&u.rkb(a).forEach(function(a){c(a[0],a[1]);});},q8a:function(a,c,b){return a.min+(a.max-a.min)*(1-Math.pow(n(6*(c-(a.ks+(a.Loa||0)*(1-b)))/(a.scale+(a.fBa||0)*(1-b))),a.gamma));},r8a:function(a,c){return a.min+(a.max-a.min)*Math.pow(n(6*(c-a.ks)/a.scale),a.gamma);},Zbb:c,k$a:p,tcb:t,Tbb:f,WGb:b,VGb:function(a,c){var k;if(a.length==c.length){k=b(a,c);a=f(a);c=f(c);if(0<a&&0<c)return k/(a*c);}return!1;},TD:function(a,c,b){return c.x4a?c.x4a(b):new a.Console("ASEJS","media|asejs",b);},PL:function(a){return a.length?"{"+a+"} ":"";},Yob:function(a,c,b){return{min:a.min*b+(1-b)*c.min,max:a.max*b+(1-b)*c.max,ks:a.ks*b+(1-b)*c.ks,scale:a.scale*b+(1-b)*c.scale,gamma:a.gamma*b+(1-b)*c.gamma};},tanh:Math.tanh||function(a){var c;c=Math.exp(+a);a=Math.exp(-a);return Infinity==c?1:Infinity==a?-1:(c-a)/(c+a);},iba:n};},function(g,d,a){var c;function b(){}function f(){}function t(){}function p(){}Object.defineProperty(d,"__esModule",{value:!0});a=a(112);(function(a){a[a.Dm=0]="STANDARD";a[a.Ot=1]="LIMITED";a[a.mBb=2]="PREVIEW";}(c||(c={})));p.yda="created";p.yia="started";p.Eia="succeeded";p.Ft="failed";p.zA="cancelled";p.oN="cancelled_on_create";p.EF="cancelled_on_start";p.nN="cancelled_not_encrypted";d.me=p;t.bDb="uirequest";t.lBb="prefetch_start";t.jBb="prefetch_complete";t.kBb="prefetch_delete";t.lOa="periodic_update";(function(a){a[a.pha=0]="PRE_FETCH";a[a.iia=1]="QC";a[a.Dm=2]="STANDARD";a[a.Fia=3]="SUPPLEMENTAL";a[a.oIa=4]="DOWNLOAD";}(g=d.Qn||(d.Qn={})));a={manifest:a.ne.Vi.Nca,ldl:a.ne.Vi.Sw,getHeaders:a.ne.Vi.SF,getMedia:a.ne.Vi.MEDIA};f.SEa="asl_start";f.QEa="asl_comp";f.Bvb="asl_exc";f.REa="asl_fail";f.IQa="stf_creat";f.zKa="idb_open";f.wKa="idb_block";f.GKa="idb_upgr";f.FKa="idb_succ";f.xKa="idb_error";f.yKa="idb_invalid_state";f.BKa="idb_open_timeout";f.DKa="idb_open_wrkarnd";f.EKa="idb_storelen_exc";f.AKa="idb_open_exc";f.CKa="idb_timeout_invalid_storelen";f.tMa="msl_load_data";f.vMa="msl_load_no_data";f.uMa="msl_load_failed";d.ji=f;b.rzb=c;b.zpa=function(a){return["STANDARD","LIMITED","PREVIEW"][a];};b.me=p;b.OOa=t;b.Qn=g;b.h2a=function(a){return["PRE_FETCH","QC","STANDARD","SUPPLEMENTAL","DOWNLOAD"][a];};b.rG=a;b.ji=f;d.Zc=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uk="PlayerErrorFactorySymbol";},function(g,d){function a(a){var b;b=Error.call(this,"TimeoutError");this.message=b.message;"stack"in b&&(this.stack=b.stack);this.interval=a;}Object.defineProperty(d,"__esModule",{value:!0});ba(a,Error);d.Fm=a;d.ex="PromiseTimerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Mn="EmeConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Xca="AccountManagerSymbol";d.Wq="AccountManagerProviderSymbol";},function(g,d){function a(){}function b(){}function f(){}Object.defineProperty(d,"__esModule",{value:!0});f.cY="playready-h264mpl30-dash";f.HN="playready-h264mpl31-dash";f.dY="playready-h264mpl40-dash";f.VJa="playready-h264hpl22-dash";f.$X="playready-h264hpl30-dash";f.aY="playready-h264hpl31-dash";f.bY="playready-h264hpl40-dash";f.BY="hevc-main-L30-dash-cenc";f.CY="hevc-main-L31-dash-cenc";f.DY="hevc-main-L40-dash-cenc";f.EY="hevc-main-L41-dash-cenc";f.FY="hevc-main-L50-dash-cenc";f.GY="hevc-main-L51-dash-cenc";f.nY="hevc-main10-L30-dash-cenc";f.qY="hevc-main10-L31-dash-cenc";f.tY="hevc-main10-L40-dash-cenc";f.wY="hevc-main10-L41-dash-cenc";f.TF="hevc-main10-L50-dash-cenc";f.UF="hevc-main10-L51-dash-cenc";f.oY="hevc-main10-L30-dash-cenc-prk";f.rY="hevc-main10-L31-dash-cenc-prk";f.uY="hevc-main10-L40-dash-cenc-prk";f.xY="hevc-main10-L41-dash-cenc-prk";f.pY="hevc-main10-L30-dash-cenc-prk-do";f.sY="hevc-main10-L31-dash-cenc-prk-do";f.vY="hevc-main10-L40-dash-cenc-prk-do";f.yY="hevc-main10-L41-dash-cenc-prk-do";f.zY="hevc-main10-L50-dash-cenc-prk-do";f.AY="hevc-main10-L51-dash-cenc-prk-do";f.Fyb="hevc-main-L30-L31-dash-cenc-tl";f.Gyb="hevc-main-L31-L40-dash-cenc-tl";f.Hyb="hevc-main-L40-L41-dash-cenc-tl";f.Iyb="hevc-main-L50-L51-dash-cenc-tl";f.Byb="hevc-main10-L30-L31-dash-cenc-tl";f.Cyb="hevc-main10-L31-L40-dash-cenc-tl";f.Dyb="hevc-main10-L40-L41-dash-cenc-tl";f.Eyb="hevc-main10-L50-L51-dash-cenc-tl";f.FX="hevc-dv-main10-L30-dash-cenc";f.GX="hevc-dv-main10-L31-dash-cenc";f.HX="hevc-dv-main10-L40-dash-cenc";f.IX="hevc-dv-main10-L41-dash-cenc";f.JX="hevc-dv-main10-L50-dash-cenc";f.KX="hevc-dv-main10-L51-dash-cenc";f.tN="hevc-dv5-main10-L30-dash-cenc-prk";f.uN="hevc-dv5-main10-L31-dash-cenc-prk";f.vN="hevc-dv5-main10-L40-dash-cenc-prk";f.wN="hevc-dv5-main10-L41-dash-cenc-prk";f.xN="hevc-dv5-main10-L50-dash-cenc-prk";f.yN="hevc-dv5-main10-L51-dash-cenc-prk";f.eY="hevc-hdr-main10-L30-dash-cenc";f.fY="hevc-hdr-main10-L31-dash-cenc";f.gY="hevc-hdr-main10-L40-dash-cenc";f.hY="hevc-hdr-main10-L41-dash-cenc";f.iY="hevc-hdr-main10-L50-dash-cenc";f.kY="hevc-hdr-main10-L51-dash-cenc";f.JN="hevc-hdr-main10-L30-dash-cenc-prk";f.KN="hevc-hdr-main10-L31-dash-cenc-prk";f.LN="hevc-hdr-main10-L40-dash-cenc-prk";f.MN="hevc-hdr-main10-L41-dash-cenc-prk";f.jY="hevc-hdr-main10-L50-dash-cenc-prk";f.lY="hevc-hdr-main10-L51-dash-cenc-prk";f.pja="vp9-profile0-L21-dash-cenc";f.EG="vp9-profile0-L30-dash-cenc";f.FG="vp9-profile0-L31-dash-cenc";f.GG="vp9-profile0-L40-dash-cenc";f.kja="vp9-profile2-L30-dash-cenc-prk";f.lja="vp9-profile2-L31-dash-cenc-prk";f.mja="vp9-profile2-L40-dash-cenc-prk";f.nja="vp9-profile2-L50-dash-cenc-prk";f.oja="vp9-profile2-L51-dash-cenc-prk";f.Oca="av1-main-L20-dash-cbcs-prk";f.Pca="av1-main-L21-dash-cbcs-prk";f.Qca="av1-main-L30-dash-cbcs-prk";f.Rca="av1-main-L31-dash-cbcs-prk";f.Sca="av1-main-L40-dash-cbcs-prk";f.Tca="av1-main-L41-dash-cbcs-prk";f.Uca="av1-main-L50-dash-cbcs-prk";f.Vca="av1-main-L51-dash-cbcs-prk";f.tQa=[f.cY];f.$Ja=[f.HN,f.dY];f.YRa=[f.BY,f.CY,f.DY,f.EY,f.FY,f.GY];f.$Ra=[f.nY,f.qY,f.tY,f.wY,f.TF,f.UF];f.ZRa=[f.oY,f.rY,f.uY,f.xY,f.TF,f.UF];f.$Cb=[f.pY,f.sY,f.vY,f.yY,f.zY,f.AY];f.ZJa=[f.eY,f.fY,f.gY,f.hY,f.iY,f.kY];f.YJa=[f.JN,f.KN,f.LN,f.MN,f.jY,f.lY];f.tIa=[f.FX,f.HX,f.JX,f.GX,f.IX,f.KX];f.sIa=[f.tN,f.vN,f.xN,f.uN,f.wN,f.yN];f.mxb=[f.FX,f.GX,f.HX,f.JX,f.IX];f.lxb=[f.tN,f.uN,f.vN,f.xN,f.wN];f.Dvb=[f.$X,f.aY,f.bY];f.jDb=[f.EG,f.FG,f.GG];f.Vt=[f.pja,f.EG,f.FG,f.GG,f.kja,f.lja,f.mja,f.nja,f.oja];f.XEa=[f.Oca,f.Pca,f.Qca];f.WEa=[f.Rca,f.Sca,f.Tca];f.YEa=[f.Uca,f.Vca];f.Fh=[].concat(f.XEa,f.WEa,f.YEa);f.UJa=f.tQa.concat(f.$Ja);f.XJa=f.YRa;f.WJa=f.$Ra;f.bFa=[].concat(f.UJa,f.XJa,f.WJa,f.ZRa,f.ZJa,f.YJa,f.tIa,f.sIa,f.Vt,f.Fh);d.aa=f;b.NN="heaac-2-dash";b.rN="ddplus-2.0-dash";b.BX="ddplus-5.1-dash";b.sN="ddplus-atmos-dash";b.mY="playready-heaac-2-dash";b.bKa="heaac-2-dash-enc";b.nHa="ddplus-2.0-dash-enc";b.oHa="ddplus-5.1-dash-enc";b.aKa="playready-heaac-2-dash-enc";b.bFa=[].concat(b.NN,b.rN,b.BX,b.sN,b.mY,b.bKa,b.nHa,b.oHa,b.aKa);d.nl=b;a.DQa="simplesdh";a.EX="dfxp-ls-sdh";a.RA="nflx-cmisc";a.dCb="simplesdh-enc";a.exb="dfxp-ls-sdh-enc";a.bO="nflx-cmisc-enc";d.wk=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rn="PlatformSymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);g=function(){function a(a,b){this.key=a;this.value=b;}a.prototype.toString=function(){return this.key===b.Qt?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }";};return a;}();d.Metadata=g;},function(g,d,a){var p;function b(a,b){return"number"!==typeof a||"number"!==typeof b?!1:a&&b?Math.abs(a*b/f(a,b)):0;}function f(a,b){var c;a=Math.abs(a);for(b=Math.abs(b);b;){c=b;b=a%b;a=c;}return a;}function t(){p.assert(!1);}Object.defineProperty(d,"__esModule",{value:!0});p=a(13);g=a(55);a=function(){function a(a,c){"object"===typeof a?(this.fQ=a.Dd,this.Lr=a.ha):(this.fQ=a,this.Lr=c);}a.mJb=function(c){return new a(1,c);};a.M9a=function(c){return new a(c,1E3);};a.kDa=function(a,c){return Math.floor(1E3*a/c);};a.Exa=function(a,c){return Math.floor(a*c/1E3);};a.max=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return a.reduce(function(a,c){return a.greaterThan(c)?a:c;});};a.min=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return a.reduce(function(a,c){return a.lessThan(c)?a:c;});};a.T9a=function(c,q){var k;if(c.ha===q.ha)return new a(f(c.Dd,q.Dd),c.ha);k=b(c.ha,q.ha);return a.T9a(c.rm(k),q.rm(k));};a.prototype.rm=function(c){c/=this.ha;return new a(Math.floor(this.Dd*c),Math.floor(this.ha*c));};a.prototype.add=function(c){var k;if(this.ha===c.ha)return new a(this.Dd+c.Dd,this.ha);k=b(this.ha,c.ha);return this.rm(k).add(c.rm(k));};a.prototype.sd=function(c){return this.add(new a(-c.Dd,c.ha));};a.prototype.r9=function(c){return new a(this.Dd*c,this.ha);};a.prototype.QC=function(a){var c;if(this.ha===a.ha)return this.Dd/a.Dd;c=b(this.ha,a.ha);return this.rm(c).QC(a.rm(c));};a.prototype.icb=function(a){return b(this.ha,a);};a.prototype.onb=function(){return new a(this.ha,this.Dd);};a.prototype.compare=function(a,c){var k;if(this.ha===c.ha)return a(this.Dd,c.Dd);k=b(this.ha,c.ha);return a(this.rm(k).Dd,c.rm(k).Dd);};a.prototype.equal=function(a){return this.compare(function(a,c){return a===c;},a);};a.prototype.Vxa=function(a){return this.compare(function(a,c){return a!==c;},a);};a.prototype.lessThan=function(a){return this.compare(function(a,c){return a<c;},a);};a.prototype.greaterThan=function(a){return this.compare(function(a,c){return a>c;},a);};a.prototype.Afb=function(a){return this.compare(function(a,c){return a<=c;},a);};a.prototype.v6=function(a){return this.compare(function(a,c){return a>=c;},a);};a.prototype.toJSON=function(){return{ticks:this.Dd,timescale:this.ha};};a.prototype.toString=function(){return this.Dd+"/"+this.ha;};a.sf=new a(0,1);a.VK=new a(1,1E3);return a;}();d.oc=a;g.Yj(a.prototype,{Dd:{get:function(){return this.fQ;},set:t},ha:{get:function(){return this.Lr;},set:t},Zf:{get:function(){return 1E3*this.fQ/this.Lr;},set:t},xg:{get:function(){return this.fQ/this.Lr;},set:t}});},function(g,d,a){var f,t;function b(){var a,c;a=this;this.Un={};this.on=function(c,b,f){a.addListener(c,b,f);};this.addListener=function(c,b,f){a.Un&&(a.Un[c]=a.Un[c]||new t.eia(!0)).add(b,f);};this.removeListener=function(c,b){a.Un&&a.Un[c]&&a.Un[c].removeAll(b);};this.E5=function(c){return a.Un&&a.Un[c]?a.Un[c].q9a():[];};c=this;this.Hb=function(a,b,n){var k;if(c.Un){k=c.E5(a);for(a={Ei:0};a.Ei<k.length;a={Ei:a.Ei},a.Ei++)n?function(a){return function(){var c;c=k[a.Ei];f.yb(function(){c(b);});};}(a)():k[a.Ei].call(this,b);}};}Object.defineProperty(d,"__esModule",{value:!0});f=a(46);t=a(421);b.prototype.PC=function(){this.Un=void 0;};d.Lj=b;},function(g,d,a){var n,u,y,A,h,x,I,G,N,T,l,m,D,Q,r,ca;function b(a){var c,b,k,f;c=a.url.split("?");b=c[0];k="sc="+a.bpb;f=a.xoa?"random="+(1E17*l.hG()).toFixed(0):"";b=c[1]?b+("?"+c[1]+"&"+k):b+("?"+k);b=b+(f?"&"+f:"");a.Sb&&!A.C7(b)&&(a=u.config&&u.config.y2)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function f(a){var c,b,k,f;c=a.url.split("?");b=c[0];k="bb_reason="+a.reason;f=a.xoa?"random="+(1E17*l.hG()).toFixed(0):"";b=c[1]?b+("?"+c[1]+"&"+k):b+("?"+k);b=b+(f?"&"+f:"");a.Sb&&!A.C7(b)&&(a=u.config&&u.config.y2)&&(b=a.replace("{URL}",b).replace("{EURL}",encodeURIComponent(b)));return b;}function t(a,c){var b,k,f,n;b=a.url.split("?");k=b[0];f=p(a);f&&(c.zq=f,(void 0===a.OM?0:a.OM)?(a.headers=a.headers||{},a.headers.Range="bytes="+f):(c.zq=f,k="/"==k[k.length-1]?k+"range/":k+"/range/",k+=f));f=a.xoa?"random="+(1E17*l.hG()).toFixed(0):"";u.config.ro&&a.eW&&(n="sc="+a.eW,f=n+(f?"&"+f:""));k=b[1]?k+("?"+b[1]+(f?"&"+f:"")):k+(f?"?"+f:"");a.Sb&&!A.C7(k)&&(a=u.config&&u.config.y2)&&(k=a.replace("{URL}",k).replace("{EURL}",encodeURIComponent(k)));c.url=k;}function p(a){var c;c=a.offset;if(void 0!==c)return N.qR(c),void 0!==a.length?(a=a.offset+a.length-1,N.qR(a),N.Ga(c<=a),c+"-"+a):c+"-";}function c(){return!1!==l.Nj.onLine;}function k(a,c,b,k){var f,n;f=k.s$;n=k.headers;a.open(f?"POST":"GET",c,!b);switch(k.responseType){case d.hT:a.responseType="arraybuffer";break;case d.Aua:T.E0a(a,"overrideMimeType",void 0,"text/xml");}f&&(c={"Content-Type":x.Ld(f)?"text/plain":"application/x-octet-stream"},n=n?x.Ya(c,n):c);n&&T.Sc(n,function(c,b){a.setRequestHeader(c,b);});k.withCredentials&&(a.withCredentials=!0);void 0!==a.msCaching&&(a.msCaching="disabled");f?a.send(f):a.send();}function q(a,c){switch(c.type){case d.hT:return a.response||new ArrayBuffer(0);case d.Aua:return a.responseXML;default:return a.responseText;}}Object.defineProperty(d,"__esModule",{value:!0});n=a(70);u=a(12);y=a(8);A=a(28);h=a(25);x=a(19);I=a(2);G=a(4);N=a(14);T=a(18);l=a(9);m=a(46);D=a(16);Q=a(21);r={YZ:1,pDb:2,zFa:3};d.Uc=function(){var A,K,T,l;function a(a){var c;try{c=a.url;D.Ava(c)?0===c.indexOf("https")?l.ssl++:0===c.indexOf("http")?l["non-ssl"]++:l.invalid++:l.invalid++;}catch(ra){}}function g(){K.Hb(d.xdb);K.Hb(d.Bua);}function p(){K.Hb(d.S6);K.Hb(d.Bua);}A=G.Cf("Http");K=new n.Lj();T=0;l={ssl:0,"non-ssl":0,invalid:0};G.W.get(Q.xe).register(I.K.vfa,function(a){u.config.xub&&(M.addEventListener("online",g),M.addEventListener("offline",p),d.R6=c);a(y.yc);});return{addEventListener:K.addListener,removeEventListener:K.removeListener,download:function(c,b){var Q,O,r,ja,W,oa,ea,da,Y,X,ia;function f(){var a;f=x.ee;ia&&(clearTimeout(ia),ia=null);K.removeListener(d.S6,p);Y&&(Y.onloadstart=null,Y.onreadystatechange=null,Y.onprogress=null,Y.onerror=null,Y.onload=null,Y=Y.onabort=null);da.X||(da.Y!=I.H.Ht?Q.warn("Download failed",O,I.Nn(da)):Q.trace("Download aborted",O));a=r;r=void 0;for(var c=a.length;c--;)(function(){var b;b=a[c];m.yb(function(){b(da);});}());K.Hb(d.vdb,da,!0);}function n(){ia&&(clearTimeout(ia),ia=null);ia=setTimeout(l,X?ea:oa);}function g(a,c,b,k){var n,d;da.X=!1;da.Y=a;n=h.Qf();d=da.uj;d.bg=d.bg||n;d.jl=d.jl||n;0<c&&(da.Uh=da.qc=c);b&&(da.Oa=b);k&&(da.Dj=k);a!==I.H.VF&&a!==I.H.Rw&&a!==I.H.XF||!Y||(Y.onabort=null,S());f();}function y(a){var c,b;try{b=a.getResponseHeader("X-Netflix.Retry.Server.Policy");b&&(c=JSON.parse(b));}catch(ab){}return c;}function p(){d.R6()||g(I.H.VF);}function l(){g(X?I.H.Rw:I.H.XF);}function S(){try{Y&&Y.abort();}catch(kf){}}function V(){g(I.H.Ht);}N.Ga(b);Q=c.j&&c.j.log&&G.Uf(c.j,"Http")||A;O={Num:T++};r=[b];ja={};oa=c.eR||u.config.eR;ea=c.B9||u.config.B9;a(c);da=function(){var a,b,k;a=x.ee;b=x.ee;k=x.ee;return{request:c,type:c.responseType,uj:ja,abort:S,timeout:l,Rma:function(a){f!==x.ee&&(N.Ga(r,"Callback should be added before download starts."),r&&r.unshift(a));},LU:function(a){k(a);},NU:function(c){a(c);},hE:function(a){b(a);},gqb:function(a){k=a;},qqb:function(c){a=c;},dqb:function(a){b=a;}};}();m.yb(function(){var a,b;if(D.Ava(c.url))try{if(t(c,da),W=da.url,N.AI(W),O.Url=W,d.R6()){Y=new XMLHttpRequest();a=u.config.Bub&&"undefined"!=typeof Y.onloadstart;a&&(Y.onloadstart=function(){var a;a=h.Qf();ja.requestTime=a;da.LU({mediaRequest:c,timestamp:a});});Y.onreadystatechange=function(){if(2==Y.readyState){X=!0;ja.bg=h.Qf();Y.onreadystatechange=null;n();for(var a=da,b=Y.getAllResponseHeaders().split("\n"),k=b.length,f,d,q={};k--;)if(f=b[k])d=f.indexOf(": "),1<=d&&d<f.length-1&&(q[f.substr(0,d)]=f.substr(d+2));a.headers=q;da.NU({timestamp:ja.bg,connect:!0,mediaRequest:c,start:ja.requestTime,rt:[ja.bg-ja.requestTime]});}};Y.onprogress=function(a){X=!0;ja.Su=a.loaded;n();a={mediaRequest:c,bytes:a.loaded,tempstamp:h.Qf(),bytesLoaded:a.loaded};da.NU(a);};Y.onload=function(){var a;if(f!==x.ee){N.Ga(void 0===ja.jl);ja.jl=h.Qf();ja.bg=ja.bg||ja.jl;if(200<=Y.status&&299>=Y.status)if(a=q(Y,da),c.u)try{da.content=c.u(a,da);da.X=!0;da.parsed=!0;da.raw=a;}catch(ab){Q.warn("Exception parsing response",ab,O);g(I.H.JY,void 0,x.od(ab));}else da.parsed=!1,da.content=a,da.X=!0;else Y.status==ca?g(I.H.HA,Y.status):g(I.H.WF,Y.status,Y.response,y(Y));f();}};Y.onabort=V;Y.onerror=function(){var a,c;a=Y.status;"undefined"!==typeof u.config.fsa&&(a=u.config.fsa);if(0<a)if(a==ca)g(I.H.HA,a);else{try{c=Y.responseText;}catch(Bb){}g(I.H.WF,a,c,y(Y));}else g(I.H.IA);};b=h.Qf();k(Y,W,!1,c);K.Hb(d.wdb,da,!0);a||(ja.requestTime=b,da.LU({mediaRequest:c,timestamp:b}));n();K.addListener(d.S6,p);}else m.yb(g.bind(void 0,I.H.VF));}catch(kb){Q.error("Exception starting download",kb,O);g(I.H.NY,void 0,x.od(kb));}else g(I.H.Sea);});return da;},Jb:l,cJb:function(a){var c;c=new XMLHttpRequest();a=f(a);c.open("HEAD",a);c.onreadystatechange=function(){};c.send();},Wqb:function(a){var c;c=new XMLHttpRequest();a=b(a);c.open("HEAD",a);c.onreadystatechange=function(){};c.send();},vmb:function(a){var c,b,k;c=new XMLHttpRequest();b=a.url;k=a.smb;c.open("HEAD",b);c.timeout=Math.max(2*k.lgb,u.config.A$);c.onreadystatechange=function(){2==c.readyState&&k&&k.cl({url:b});};c.ontimeout=c.onerror=function(){k&&k.I9({url:b});};c.send();},dQa:r};}();d.DHb=b;d.AHb=f;d.CHb=t;d.BHb=p;d.R6=y.fQa;d.EHb=c;d.rDb=k;d.qDb=q;d.wdb=1;d.vdb=2;d.xdb=3;d.S6=4;d.Bua=5;d.zua=1;d.Aua=2;d.hT=3;ca=420;M._cad_global.http=d.Uc;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.FN="EventSourceSymbol";d.ZX="GlobalEventSourceSymbol";d.JF="DebugEventSourceSymbol";},function(g,d,a){var f,t,p,c,k,q;function b(a){return a.reduce(function(a,c){return a.concat(c instanceof q.vO?c.cJ:c);},[]);}f=a(102);t=a(455);p=a(454);c=a(1004);k=a(453);q=a(1003);g=function(){function a(a){this.closed=!1;this.WB=this.Dx=this.Qm=null;a&&(this.Mr=a);}a.prototype.unsubscribe=function(){var a,n,d,g,h,I;a=!1;if(!this.closed){d=this.Qm;g=this.Dx;h=this.Mr;I=this.WB;this.closed=!0;this.WB=this.Dx=this.Qm=null;for(var G=-1,N=g?g.length:0;d;)d.remove(this),d=++G<N&&g[G]||null;p.Mb(h)&&(d=c.zDa(h).call(this),d===k.cv&&(a=!0,n=n||(k.cv.e instanceof q.vO?b(k.cv.e.cJ):[k.cv.e])));if(f.isArray(I))for(G=-1,N=I.length;++G<N;)d=I[G],t.Se(d)&&(d=c.zDa(d.unsubscribe).call(d),d===k.cv&&(a=!0,n=n||[],d=k.cv.e,d instanceof q.vO?n=n.concat(b(d.cJ)):n.push(d)));if(a)throw new q.vO(n);}};a.prototype.add=function(c){var b;if(!c||c===a.EMPTY)return a.EMPTY;if(c===this)return this;b=c;switch(typeof c){case"function":b=new a(c);case"object":if(b.closed||"function"!==typeof b.unsubscribe)return b;if(this.closed)return b.unsubscribe(),b;"function"!==typeof b.Fja&&(c=b,b=new a(),b.WB=[c]);break;default:throw Error("unrecognized teardown "+c+" added to Subscription.");}(this.WB||(this.WB=[])).push(b);b.Fja(this);return b;};a.prototype.remove=function(a){var c;c=this.WB;c&&(a=c.indexOf(a),-1!==a&&c.splice(a,1));};a.prototype.Fja=function(a){var c,b;c=this.Qm;b=this.Dx;c&&c!==a?b?-1===b.indexOf(a)&&b.push(a):this.Dx=[a]:this.Qm=a;};a.EMPTY=function(a){a.closed=!0;return a;}(new a());return a;}();d.vk=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.ResponseType||(d.ResponseType={});g[g.Text=0]="Text";g[g.sDb=1]="Xml";g[g.lwb=2]="Binary";d.Myb="HttpClientSymbol";d.cr="LegacyHttpSymbol";},function(g){g.T=function a(b,f){var g;b.__proto__&&b.__proto__!==Object.prototype&&a(b.__proto__,f);Object.getOwnPropertyNames(b).forEach(function(a){g=Object.getOwnPropertyDescriptor(b,a);void 0!==g&&Object.defineProperty(f,a,g);});};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gg={audio:"audio",video:"video",DW:"timedtext",jca:"trickplay"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ol={start:"start",stop:"stop",gK:"keepAlive",YI:"engage",splice:"splice"};d.WX="EventPboCommandFactorySymbol";d.Kia="StartEventPboCommandSymbol";d.Lia="StopEventPboCommandSymbol";d.Mfa="KeepAliveEventPboCommandSymbol";d.Iia="SpliceEventPboCommandSymbol";d.yea="EngageEventPboCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Dm=0]="STANDARD";a[a.Ot=1]="LIMITED";}(d.Zi||(d.Zi={})));d.Vva=function(a){return["STANDARD","LIMITED"][a];};},function(g,d,a){var b,f,t,p,c,k,q,n;b=a(81);f=a(444);t=a(443);p=a(455);c=a(10);k=a(165);q=a(986);n=a(238);d.mt=function(a,d,g,h){var u;u=new q.Dfa(a,g,h);if(u.closed)return null;if(d instanceof c.Ca)if(d.zr)u.next(d.value),u.complete();else return u.mk=!0,d.subscribe(u);else if(f.dva(d)){a=0;for(g=d.length;a<g&&!u.closed;a++)u.next(d[a]);u.closed||u.complete();}else{if(t.sva(d))return d.then(function(a){u.closed||(u.next(a),u.complete());},function(a){return u.error(a);}).then(null,function(a){b.root.setTimeout(function(){throw a;});}),u;if(d&&"function"===typeof d[k.iterator]){d=d[k.iterator]();do{a=d.next();if(a.done){u.complete();break;}u.next(a.value);if(u.closed)break;}while(1);}else if(d&&"function"===typeof d[n.observable])if(d=d[n.observable](),"function"!==typeof d.subscribe)u.error(new TypeError("Provided object does not correctly implement Symbol.observable"));else return d.subscribe(new q.Dfa(a,g,h));else d="You provided "+(p.Se(d)?"an invalid object":"'"+d+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.",u.error(new TypeError(d));}return null;};},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(){a.apply(this,arguments);}b(f,a);f.prototype.rz=function(a,c){this.destination.next(c);};f.prototype.F9=function(a){this.destination.error(a);};f.prototype.cl=function(){this.destination.complete();};return f;}(a(47).ii);d.ir=g;},function(g,d,a){g=a(248);a="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;g="undefined"!==typeof M&&M||"undefined"!==typeof g&&g||a;d.root=g;if(!g)throw Error("RxJS could not find any global context (window, self, global)");},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jn={Request:"Request",SZ:"Singleton",rO:"Transient"};d.Gh={Jda:"ConstantValue",Kda:"Constructor",oea:"DynamicValue",YX:"Factory",Function:"Function",TY:"Instance",uLa:"Invalid",hia:"Provider"};d.mr={Gda:"ClassProperty",Lda:"ConstructorArgument",e_:"Variable"};},function(g,d,a){var f,t,p,c;function b(a,c,b,f,d,g){this.context=a;this.errorCode=c;this.Gob=b;this.faa=d;this.eaa=g;this.name=f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);t=a(290);p=a(3);c=a(42);b.prototype.send=function(a,c,b,f,d,g,t){var k;k=this;return this.V$a(a,c,b,f,d,g,t).then(function(a){return k.context.q6a.send(a.context,a.request);});};b.prototype.V$a=function(a,c,b,f,d,g,p){var k,n;try{k=t.c0a(this.context.wv.BC(),b,this.context.dl,f,d);n=this.a0a(a,c,g,p);return Promise.resolve({context:n,request:k});}catch(G){return Promise.reject(G);}};b.prototype.a0a=function(a,c,b,f){return{Uc:this.context.Uc,log:a,Mk:this.name,url:this.context.tub(t.d0a(this.context.zf,this.context.dl,this.name)),profile:c,raa:this.Gob,timeout:p.xg(59),headers:{"Content-Type":"text/plain"},eaa:this.eaa,faa:void 0!==b?b:this.faa,I_a:f};};b.prototype.xo=function(a){return a instanceof c.cc?a:t.xo(this.errorCode,a);};b.prototype.Poa=function(a){var c;c=this;a.forEach(function(a){if(c.t7(a))throw a.error;});};b.prototype.t7=function(a){return void 0!==a.error;};a=b;a=g.__decorate([f.L(),g.__param(0,f.$g()),g.__param(1,f.$g()),g.__param(2,f.$g()),g.__param(3,f.$g()),g.__param(4,f.$g()),g.__param(5,f.$g())],a);d.Wi=a;},function(g){var d;d=function(){function a(a){this.xf=a;}a.prototype.rqb=function(a){this.xf=a;};a.prototype.Voa=function(){this.xf=void 0;};a.prototype.yy=function(a){this.xf&&this.xf.vz&&this.xf.vz(a);};a.prototype.xy=function(a){this.xf&&this.xf.Wv&&this.xf.Wv(a);};a.prototype.jD=function(a){this.xf&&this.xf.WK&&this.xf.WK(a);};a.prototype.fv=function(a){this.xf&&this.xf.$h&&this.xf.$h(a);};a.prototype.vS=function(a){this.xf&&this.xf.iE&&this.xf.iE(a);};a.prototype.uS=function(a,f){this.xf&&this.xf.OU&&this.xf.OU(a,f);};return a;}();d.prototype.vz=d.prototype.yy;d.prototype.Wv=d.prototype.xy;d.prototype.WK=d.prototype.jD;d.prototype.$h=d.prototype.fv;d.prototype.iE=d.prototype.vS;d.prototype.OU=d.prototype.uS;g.T=d;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Qqa=0]="downloading";a[a.F6a=1]="downloaded";a[a.Ph=2]="appended";a[a.buffered=3]="buffered";a[a.kKb=4]="removed";a[a.oLb=5]="unused";}(d.bda||(d.bda={})));(function(a){a[a.waiting=1]="waiting";a[a.kJb=2]="ondeck";a[a.Qqa=4]="downloading";a[a.F6a=8]="downloaded";a[a.ZJ=6]="inprogress";}(d.ada||(d.ada={})));d.Lvb="AseBufferViewSymbol";d.hX="AseBufferAccountingSymbol";},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(73);d.iLa=g.iLa;g=a(10);d.Ca=g.Ca;g=a(166);d.bj=g.bj;g=a(450);d.xG=g.xG;g=a(448);d.Ida=g.Ida;g=a(993);d.Yia=g.Yia;a(989);a(985);a(979);a(977);a(974);a(970);a(967);a(963);a(960);a(958);a(956);a(954);a(951);a(947);a(944);a(943);a(940);a(936);a(933);a(932);a(930);a(928);a(925);a(923);a(922);a(920);a(917);a(914);a(911);a(908);a(907);g=a(240);d.QNa=g.QNa;a=a(73);d.vk=a.vk;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xt="ApiInfoSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$da="DebugConfigSymbol";d.At="DebugSymbol";},function(g,d,a){var f,t;function b(a,c,b,d,n){a=void 0===a?f.K.ki:a;return t.cc.call(this,a,c,b,void 0,void 0,d,t.cc.od(n),n)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);t=a(42);ba(b,t.cc);d.tf=b;},function(g,d,a){var t,p;function b(a,b,f,n,d){var c,k,u;c={};k="number"===typeof d;d=void 0!==d&&k?d.toString():f;if(k&&void 0!==f)throw Error(t.aLa);Reflect.A6(a,b)&&(c=Reflect.getMetadata(a,b));f=c[d];if(Array.isArray(f))for(var k=0,q=f;k<q.length;k++){u=q[k];if(u.key===n.key)throw Error(t.rIa+" "+u.key.toString());}else f=[];f.push(n);c[d]=f;Reflect.R3(a,c,b);}function f(a,b){return function(c,k){b(c,k,a);};}Object.defineProperty(d,"__esModule",{value:!0});t=a(53);p=a(31);d.fA=function(a,k,f,n){b(p.Qia,a,k,n,f);};d.xM=function(a,k,f){b(p.Ria,a.constructor,k,f);};d.Uu=function(a,b,d){"number"===typeof d?Reflect.Uu([f(d,a)],b):"string"===typeof d?Reflect.Uu([a],b,d):Reflect.Uu([a],b);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(15);d.ZMa=function(a){var g;function f(){}g=[];this.ht=function(a){var f;for(var c=[],b=g.length;b--;){f=g[b];f.ht(a)&&c.push(f.hJ);}if(c.length)return c;};d.zga.forEach(function(c){(c=c(a))&&g.push(c);});0<g.length&&a.addEventListener(b.U.Bh,f);};d.jG=function(a){d.zga.push(a);};d.zga=[];},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cx="PboConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lw="DeviceFactorySymbol";},function(g,d,a){var b,f,t,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(13);f=a(11);t=a(75);p=a(69);g=a(55);c=a(45);k=a(155);q=a(208);a=a(154);n=function(a){function c(c,b){var k;k=a.call(this,c,b)||this;k.ni=b.index;k.vB=b.eb;k.or=b.nb;k.h1=b.Vb?b.Vb:c.Vb;k.ama=b.Yo||0;k.ela=!!b.gq;k.Jd=void 0===b.d5||void 0===b.c5||b.d5===b.eb&&b.c5===b.nb?k:new q.CF(k,{eb:b.d5,nb:b.c5});k.nVa=b.p9;k.BSa=b.kg;k.Lm=b.Xa?k.Uxa(b.Xa):void 0;k.Ama=b.vw;k.Ph=!1;return k;}b.__extends(c,a);c.prototype.UBa=function(a){this.ama=a.rm(this.ha).Dd;};c.prototype.G8=function(){this.ela=!0;};c.prototype.XL=function(a){this.Ama=a;};c.prototype.Fj=function(a){var c,b;void 0===a&&(a={});c=this.stream.Ka.Dd;b=this.Lm||{start:0,end:this.pJ};a=this.Uxa(a);this.Jd&&this.Jd!==this||(this.Jd=new q.CF(this,this));a.start>b.start&&(this.vB=this.Jd.eb+a.start*c);a.end<b.end&&(this.or=this.Jd.eb+a.end*c);this.Lm=a;};c.prototype.Sqa=function(){this.Lm?this.Fj({start:this.Lm.start+1,end:this.Lm.end}):this.Fj({start:1});};c.prototype.P6a=function(){this.Lm?this.Fj({start:this.Lm.start,end:(this.Lm.end||0)-1}):this.Fj({start:0,end:-1});};c.prototype.j9a=function(a){var b;if(!(a<this.V||a>=this.da)&&this.kg&&this.kg.length){a=new p.oc(a+1-this.V,1E3).QC(this.stream.Ka);for(var c=this.kg.length-1;0<=c;--c){b=this.kg[c];if(b.jk<=a)return b;}return{jk:0,Cd:this.gv};}};c.prototype.i9a=function(a){var b;if(!(a<this.V||a>=this.da)&&this.kg&&this.kg.length){a=new p.oc(a+1-this.V,1E3).QC(this.stream.Ka);for(var c=this.kg.length-1;0<=c;--c){b=this.kg[c];if(b.jk<=a)return b;}return{jk:0,Cd:this.gv};}};c.prototype.Kra=function(a,c){var b,k,f;if(!(a<this.V||a>=this.da)){b=this.Ka.Dd;k=this.Ka.ha;f=Math.floor(this.Qk/b);a=Math.min((c?Math.ceil:Math.floor)((p.oc.Exa(a,k)-this.eb+(c?-1:1)*(k/1E3-1))/b),f);b=p.oc.kDa(this.eb+a*b,k);return a===f?void 0:{jk:a,Cd:b};}};c.prototype.kS=function(a){return this.R===f.I.VIDEO?this.j9a(a):this.Kra(a,!1);};c.prototype.Sra=function(a){return this.R===f.I.VIDEO?this.i9a(a):this.Kra(a,!0);};c.prototype.y1=function(a){this.Rb+=a.ba;this.or=a.nb;};c.prototype.toString=function(){return"["+this.Ua+", "+this.O+"kbit/s, "+("c:"+this.Mc+"-"+this.Wd+",")+("p:"+this.tc+"-"+this.Pd+",d:"+this.duration+"]");};c.prototype.toJSON=function(){var a;a=k.Ew.prototype.toJSON.call(this);t({index:this.index,startPts:this.V,endPts:this.da,contentStartPts:this.Mc,contentEndPts:this.Wd,fragmentStartPts:this.gv!==this.V?this.gv:void 0,fragmentEndPts:this.wS!==this.da?this.wS:void 0,edit:this.Xa},a);return a;};c.prototype.Rra=function(a){var c;if(this.kg)for(var b=0;b<this.kg.length;++b)this.kg[b].jk===a&&(c=this.kg[b].offset);return c;};c.prototype.Uxa=function(a){return{start:a.start||0,end:(void 0!==a.end&&0<=a.end?0:this.pJ)+(a.end||0)};};return c;}(k.Ew);d.pk=n;g.Yj(n.prototype,{THb:g.Z({get:function(){return!0;}}),Ny:g.Z({get:function(){return!0;}}),index:g.Z({get:function(){return this.ni;}}),Vb:g.Z({get:function(){return this.h1;}}),eb:g.Z({get:function(){return this.vB;}}),nb:g.Z({get:function(){return this.or;}}),Yo:g.Z({get:function(){return this.ama;}}),gq:g.Z({get:function(){return this.ela;}}),p9:g.Z({get:function(){return this.nVa;}}),kg:g.Z({get:function(){return this.BSa;}}),Xa:g.Z({get:function(){return this.Lm;}}),vw:g.Z({get:function(){return this.Ama;}}),d5:g.Z({get:function(){return this.Jd.eb;}}),F9a:g.Z({get:function(){return this.Jd.Qk;}}),c5:g.Z({get:function(){return this.Jd.nb;}}),jsa:g.Z({get:function(){return this.Jd.eL;}}),MGb:g.Z({get:function(){return this.Jd.rE;}}),LGb:g.Z({get:function(){return this.Jd.QR;}}),JGb:g.Z({get:function(){return this.Jd.wpa;}}),IGb:g.Z({get:function(){return this.Jd.tpa;}}),OGb:g.Z({get:function(){return this.Jd.fV;}}),NGb:g.Z({get:function(){return this.Jd.hza;}}),gv:g.Z({get:function(){return this.Jd.tc;}}),wS:g.Z({get:function(){return this.Jd.Pd;}}),isa:g.Z({get:function(){return this.Jd.duration;}}),hsa:g.Z({get:function(){return this.Jd.Mc;}}),HGb:g.Z({get:function(){return this.Jd.Wd;}}),pJ:g.Z({get:function(){return this.F9a/this.stream.Ka.Dd;}})});c.Ti(a.iN,n);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.NA="LoggerSinksSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.eB="ThrottleFactorySymbol";},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.format=function(a,b){var k;for(var c=1;c<arguments.length;++c);k=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return"undefined"!=typeof k[c]?k[c]:a;});};b.prototype.Orb=function(a){for(var b=a.length,c=new Uint16Array(b),k=0;k<b;k++)c[k]=a.charCodeAt(k);return c.buffer;};b.prototype.vW=function(a){return JSON.stringify(a,null,"  ");};f=b;f=g.__decorate([a.L()],f);d.kx=f;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ox="Utf8EncoderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hw="Base16EncoderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.ax="MslSymbol";},function(g,d,a){var b,f,t,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var k in b)b.hasOwnProperty(k)&&(a[k]=b[k]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(234);t=a(132);p=a(117);a=function(a){function c(c,b){a.call(this);this.Jp=c;(this.la=b)||1!==c.length||(this.zr=!0,this.value=c[0]);}b(c,a);c.create=function(a,b){return new c(a,b);};c.of=function(){var k;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];p.Py(b)?a.pop():b=null;k=a.length;return 1<k?new c(a,b):1===k?new f.QZ(a[0],b):new t.OF(b);};c.yb=function(a){var c,b,k;c=a.Jp;b=a.index;k=a.qf;b>=a.count?k.complete():(k.next(c[b]),k.closed||(a.index=b+1,this.Ib(a)));};c.prototype.Of=function(a){var b,k,f;b=this.Jp;k=b.length;f=this.la;if(f)return f.Ib(c.yb,0,{Jp:b,index:0,count:k,qf:a});for(f=0;f<k&&!a.closed;f++)a.next(b[f]);a.complete();};return c;}(g.Ca);d.Cw=a;},function(g,d){d.isArray=Array.isArray||function(a){return a&&"number"===typeof a.length;};},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});a=0;d.id=function(){return a++;};},function(g,d,a){var b,f,t,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(8);f=a(12);g=a(2);t=a(14);p=a(4);c=a(334);k=a(32);q=a(9);a=a(21);n=p.W.get(a.xe);n.register(g.K.QY,function(a){var u,g;t.Ga(f.config);t.Ga(q.Rt&&q.Rt.getDeviceId||q.kZ||k.Mea);u=p.W.get(c.dea);g=p.Cf("Device");n.Nc("devs");u.create({deviceId:f.config.deviceId,m5:k.Mea,DR:"deviceid",xh:f.config.xh,cn:k.Eg.TX,Aqa:k.Vda,userAgent:q.tk,g8:f.config.g8,z5:f.config.z5,e6a:k.Eg.Tda,i_a:f.config.Yna.e,d6a:k.Eg.LHa,uJ:f.config.uJ,eua:f.config.Pub,Aib:f.config.bn?"mslstoretest":"mslstore"}).then(function(c){d.wh=c;M._cad_global.device=d.wh;g.info("Esn source: "+d.wh.dD);n.Nc("devdone");a(b.yc);})["catch"](function(c){c.X=void 0;a(c);});});},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(16);d.gr=d.gr||function(a,b,d){return a>=b?a<=d?a:d:b;};d.AAb=function(a,b,d,c,k){return(a-b)*(k-c)/(d-b)+c;};d.eh=function(a){if(b.qa(a))return(a/1E3).toFixed(3);};},function(g,d,a){var b,f,t,p,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(8);t=a(14);g=a(2);p=a(4);c=a(65);k=a(32);a=a(21);p.W.get(a.xe).register(g.K.UN,function(a){t.Ga(b.config);k.aZ&&t.Ga(M._cad_global.msl.Ff);p.W.get(c.Wq)().then(function(c){d.Lg=c;a(f.yc);})["catch"](function(c){a(c);});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Nt||(d.Nt={});g[g.jwb=8]="Backspace";g[g.Tab=9]="Tab";g[g.Uxb=13]="Enter";g[g.ECb=16]="Shift";g[g.Xwb=17]="Ctrl";g[g.Gvb=18]="Alt";g[g.sBb=19]="PauseBreak";g[g.Owb=20]="CapsLock";g[g.$xb=27]="Escape";g[g.GCb=32]="Space";g[g.rBb=33]="PageUp";g[g.qBb=34]="PageDown";g[g.Txb=35]="End";g[g.Kyb=36]="Home";g[g.tzb=37]="LeftArrow";g[g.eDb=38]="UpArrow";g[g.JBb=39]="RightArrow";g[g.wxb=40]="DownArrow";g[g.kzb=45]="Insert";g[g.pxb=46]="Delete";g[g.vDb=48]="Zero";g[g.RAb=49]="One";g[g.YCb=50]="Two";g[g.UCb=51]="Three";g[g.uyb=52]="Four";g[g.syb=53]="Five";g[g.FCb=54]="Six";g[g.DCb=55]="Seven";g[g.Sxb=56]="Eight";g[g.wAb=57]="Nine";g[g.yvb=65]="A";g[g.Nvb=66]="B";g[g.Fwb=67]="C";g[g.mHa=68]="D";g[g.E=69]="E";g[g.ayb=70]="F";g[g.vyb=71]="G";g[g.yyb=72]="H";g[g.oKa=73]="I";g[g.lzb=74]="J";g[g.VY=75]="K";g[g.yLa=76]="L";g[g.xzb=77]="M";g[g.qNa=78]="N";g[g.LAb=79]="O";g[g.TAb=80]="P";g[g.Q=81]="Q";g[g.DBb=82]="R";g[g.rQa=83]="S";g[g.tRa=84]="T";g[g.ZCb=85]="U";g[g.fDb=86]="V";g[g.lDb=87]="W";g[g.oDb=88]="X";g[g.tDb=89]="Y";g[g.uDb=90]="Z";g[g.uzb=91]="LeftWindowKey";g[g.KBb=92]="RightWindowKey";g[g.BCb=93]="SelectKey";g[g.BAb=96]="Numpad0";g[g.CAb=97]="Numpad1";g[g.DAb=98]="Numpad2";g[g.EAb=99]="Numpad3";g[g.FAb=100]="Numpad4";g[g.GAb=101]="Numpad5";g[g.HAb=102]="Numpad6";g[g.IAb=103]="Numpad7";g[g.JAb=104]="Numpad8";g[g.KAb=105]="Numpad9";g[g.Vzb=106]="Multiply";g[g.Fvb=107]="Add";g[g.NCb=109]="Subtract";g[g.oxb=110]="DecimalPoint";g[g.vxb=111]="Divide";g[g.byb=112]="F1";g[g.fyb=113]="F2";g[g.gyb=114]="F3";g[g.hyb=115]="F4";g[g.iyb=116]="F5";g[g.jyb=117]="F6";g[g.kyb=118]="F7";g[g.lyb=119]="F8";g[g.myb=120]="F9";g[g.cyb=121]="F10";g[g.dyb=122]="F11";g[g.eyb=123]="F12";g[g.yAb=144]="NumLock";g[g.zCb=145]="ScrollLock";g[g.CCb=186]="SemiColon";g[g.Wxb=187]="Equals";g[g.Twb=188]="Comma";g[g.nxb=189]="Dash";g[g.vBb=190]="Period";g[g.tyb=191]="ForwardSlash";g[g.VCb=192]="Tilde";g[g.SAb=219]="OpenBracket";g[g.iwb=220]="BackSlash";g[g.Rwb=221]="CloseBracket";g[g.CBb=222]="Quote";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gB="VideoPreparerSymbol";},function(g,d,a){var c,k;function b(a){return a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);}function f(a){return c.Ld(a);}function t(a){return c.qa(a);}function p(a){return!b(a)&&!f(a)&&!t(a)&&!Array.isArray(a)&&c.Se(a);}c=a(7);k={Jw:0,mO:1,BNa:2,OBJECT:3,ki:4};g.T={q6:function(a){return b(a)?k.Jw:f(a)?k.mO:t(a)?k.BNa:p(a)?k.OBJECT:k.ki;},xT:b,Ld:f,qa:t,Se:p,zm:k};},function(g){var d;d={TJ:function(a){for(var b in a)a.hasOwnProperty(b)&&(d[b]=a[b]);}};g.T=d;},function(g,d,a){var b;b=a(158);g.T=function(a){return function p(c){return 0===arguments.length||b(c)?p:a.apply(this,arguments);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(function(a){function b(){}function f(){}function d(){}d.jGa="cache_start";d.kGa="cache_success";d.gGa="cache_abort";d.iGa="cache_fail";d.hGa="cache_evict";d.kOa="pb_request";d.HQa="start_playback";a.Ow=d;f.Nca="auth";f.Sw="ldl";f.SF="hdr";f.MEDIA="media";a.Vi=f;b.mN="cached";b.LOADING="loading";b.kJa="expired";a.fN=b;}(d.ne||(d.ne={})));d.cia="PrefetchEventsFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dB="SourceBufferTypeProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nx="TimingApiSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pia="SystemRandomSymbol";d.wG="RandomGeneratorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.MA="IdProviderSymbol";},function(g,d){d.Py=function(a){return a&&"function"===typeof a.Ib;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yw="MediaKeySystemAccessServicesSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jea="DrmServicesSymbol";d.BN="DrmServicesProviderSymbol";},function(g,d,a){var f,t,p,c,k,q,n,u,y,A,h,x,I,G,N,T,l;function b(a){var n;n=this;this.createPlayer=function(a,b){var k,f;b=void 0===b?{}:b;b="number"===typeof b?{Zg:b}:b;k=b.manifest;if(k&&k.runtime)k.clientGenesis=k.clientGenesis||h.K2(),k=c.W.get(A.cZ).decode(k);else if(k){f=c.W.get(N.sG)();f.xQ(k.links);k.nf=f;}a=c.W.get(I.HZ).s4a(a);return c.W.get(x.IZ).create(a,b,k).nEa;};this.createPlaylistPlayer=function(a,b,k){var f;f=c.W.get(G.$ha);return c.W.get(x.IZ).create(f.ntb(a),b,k).nEa;};this.closeAllPlayers=function(a){p.Qha(void 0===a?function(){}:a);};this.init=function(a){a=void 0===a?function(){}:a;n.FQ.rK(function(k){k.X?(t.config.VV?n.Cpb().then(function(){f.rPa();})["catch"](function(a){c.log.error("Unable to initialize the playdata services",a);}):Promise.resolve()).then(function(){Object.assign(n,b.KH);a(Object.assign({success:!0},b.KH));}):a({success:!1,error:c.dx(k.errorCode||q.K.cfa,k)});});};this.applyConfig=function(a){n.QDa(a);t.ppa(a);};this.prepare=function(a,b){var k;a=n.x$.yqa(a)||[];k=new Set();a=a.filter(function(a){var c;c=k.has(a.M);k.add(a.M);return!c;});if(t.config.tn&&n.Hc())try{n.Hc().ew(a,b);}catch(ia){c.log.warn("Prepare call failed",ia);}};this.predownload=function(a,b){if((a=n.x$.yqa(a))&&t.config.zw&&n.Hc())try{n.Hc().$lb(a,b);}catch(ca){c.log.warn("Predownload call failed",ca);}};this.lookupPredownloaded=function(){return t.config.zw&&n.Hc()?n.Hc().Zy():Promise.resolve([]);};this.ppmUpdate=function(a){M._cad_global.playerPredictionModel?((a=n.x$.Y5a(a))&&M._cad_global.playerPredictionModel.update(a),M._cad_global.prefetchEvents&&M._cad_global.prefetchEvents.update(a)):c.log.error("ppmUpdate called but there is no ppmModel");};this.supportsHdr=function(a){var b;try{b=c.lD().oM();a(b);}catch(ca){a(!1);}};this.supportsUltraHd=function(a){c.lD().qM().then(a)["catch"](function(){return a(!1);});};this.supportsDolbyAtmos=function(a){var b;try{b=c.lD().lM();a(b);}catch(ca){a(!1);}};this.supportsDolbyVision=function(a){var b;try{b=c.lD().mM();a(b);}catch(ca){a(!1);}};this.close=function(){};this.deviceThroughput=function(){var a;a=c.W.get(u.dO).k3();return a?Promise.resolve(a.zo()):Promise.resolve(void 0);};this.deviceThroughputNiqr=function(){var a;a=c.W.get(u.dO).k3();return a?Promise.resolve(a.fbb()):Promise.resolve(void 0);};this.isSeamlessEnabled=function(){return t.config.w7a;};this.x$=c.W.get(k.EZ);this.FQ=c.W.get(l.xe);this.Hc=c.W.get(T.gB);this.QDa(a);t.S1a([a]);c.lD().qM();}Object.defineProperty(d,"__esModule",{value:!0});f=a(180);t=a(12);p=a(57);c=a(4);k=a(182);q=a(2);n=a(27);u=a(188);y=a(145);A=a(160);h=a(25);x=a(259);I=a(173);G=a(255);N=a(124);T=a(108);l=a(21);b.prototype.QDa=function(a){c.W.get(n.WN).Lhb(a);};b.prototype.Cpb=function(){return c.W.get(y.hO)()["catch"](function(a){c.log.error("Unable to initialize the playdata services",a);throw a;}).then(function(a){return a.send(Infinity);})["catch"](function(a){c.log.error("Unable to send deferred playdata",a);});};b.KH={};d.wO=b;},function(g,d,a){var f,t,p;function b(a,b,f,n,d){b=p.Wi.call(this,a,b,n,t.aj.events,d,t.aj.events+"/"+f)||this;b.context=a;b.s8a=f;return b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);t=a(43);p=a(83);a(148);ba(b,p.Wi);b.prototype.Sf=function(a,b,f){var c,k;c=this;k=this.OQ(f);return this.send(a,b,f.href,k).then(function(){return f;})["catch"](function(a){throw c.xo(a);});};b.prototype.vo=function(a,b,f,n){var c,k;c=this;k=this.OQ(n);return this.send(a,b,f.P5("events").href,k).then(function(a){f.xQ(a.result.links);return n;})["catch"](function(a){throw c.xo(a);});};b.prototype.OQ=function(a){return{event:this.s8a,xid:a.oa,position:a.position||0,clientTime:a.iI,sessionStartTime:a.WL,mediaId:a.gz,trackId:a.fb,sessionId:a.sessionId,appId:a.FH,playTimes:this.e0a(a.bL),sessionParams:a.lm,mdxControllerEsn:a.U8};};b.prototype.m2=function(a){return{downloadableId:a.Qc,duration:a.duration};};b.prototype.e0a=function(a){return{total:a.total,audio:a.audio.map(this.m2),video:a.video.map(this.m2),text:a.text.map(this.m2)};};a=b;a=g.__decorate([f.L(),g.__param(0,f.$g()),g.__param(1,f.$g()),g.__param(2,f.$g()),g.__param(3,f.$g()),g.__param(4,f.$g())],a);d.In=a;},function(g,d,a){var b,f,t,p,c,k,q,n,u,y,A,h,x,I;Object.defineProperty(d,"__esModule",{value:!0});b=a(50);f=a(293);t=a(558);p=a(139);c=a(12);k=a(8);q=a(144);n=a(277);u=a(25);g=a(2);y=a(4);A=a(188);h=a(9);x=a(123);I=a(21);y.W.get(I.xe).register(g.K.dfa,function(g){var K,I,G,l,m,Q,r;K=y.W.get(A.dO).k3();I=y.W.get(q.gea).Nw;G=y.W.get(f.xga).sk;l={};l.zz=y.CS("ASE");l.FZa=y.CS("JS-ASE",void 0,"Platform");l.Cf=y.CS;l.storage=x.storage;l.ss=x.ss;l.gbb=h.zN;l.getTime=u.Qf;l.KD={};l.sk=G;l.kr=t.kr;l.Nw=I;l.MediaSource=n.WMa;l.SourceBuffer=p.vga;l.dHb=function(){};I=new Promise(function(a){x.storage.load("nh",function(c){l.KD.nh=c.X?c.data:void 0;a();});});G=new Promise(function(a){x.storage.load("lh",function(c){l.KD.lh=c.X?c.data:void 0;a();});});m=new Promise(function(a){x.storage.load("gh",function(c){l.KD.gh=c.X?c.data:void 0;a();});});Q=new Promise(function(a){x.storage.load("sth",function(c){l.KD.sth=c.X?c.data:void 0;a();});});r=new Promise(function(a){x.storage.load("vb",function(c){l.KD.vb=c.X?c.data:void 0;a();});});Promise.all([I,G,r,Q,m]).then(function(){var f;f=a(556)(l);d.Wj=a(276);d.Wj.declare(b.Sp);d.Wj.declare({zw:["useMediaCache",!1],Wu:["diskCacheSizeLimit",0],AFb:["dailyDiskCacheWriteLimit",0],jU:["mediaCachePrefetchMs",8E3],W8:["mediaCachePartitionConfig",{}]});d.Wj.set(a(149)(c.config),!0,y.CS("ASE"));f=b.Mgb(f);d.Ik=new f(d.Wj,K);d.Ik.gc(c.config.K1,c.config.N1,{zz:l.zz},c.config.GV);g(k.yc);})["catch"](function(a){l.zz.error("Exception loading location history from local storage",a);});});},function(g,d,a){var b,f,t,p,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(8);t=a(284);g=a(2);p=a(283);c=a(281);k=a(4);a=a(21);d.storage=d.storage||void 0;d.ss=d.ss||void 0;k.W.get(a.xe).register(g.K.nfa,function(a){var k;switch(b.config.Grb){case"idb":k=p.Crb;break;case"none":k=t.Erb;break;case"ls":k=c.Drb;}k(function(c){c.X?(d.storage=c.storage,d.ss=c.ss,a(f.yc)):a(c);});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Aha="PboLinksManagerSymbol";d.sG="PboLinksManagerFactorySymbol";},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(18);f=a(14);d.Ui="$attributes";d.bX="$children";d.cX="$name";d.Uq="$text";d.zEa="$parent";d.zF="$sibling";d.yJb=/^\s*\<\?xml.*\?\>/i;d.R$a=function(a,b,c){for(var k=2;k<arguments.length;++k);for(k=1;(b=arguments[k++])&&(a=a[b]););return a;};d.uJb=function(a,g){var c;a?c=b.Od(a[d.Uq]):void 0!==g&&(c=g);f.qR(c);return c;};d.Nkb=function(a){var b;a&&(b=a[d.Uq]);f.R4a(b);return b;};d.zIb=function(a,b){var c;c={};c[d.Ui]=a;c[d.Uq]=b;return c;};},function(g,d,a){function b(a,b){this.ZB=a;this.rh=Math.floor((a+b-1)/b);this.pc=b;this.reset();}a(13);b.prototype.shift=function(){this.Cc.shift();this.Ep.shift();};b.prototype.nE=function(a){return this.Boa(this.Cc[a],a);};b.prototype.update=function(a,b){this.Cc[a]=(this.Cc[a]||0)+b;};b.prototype.push=function(){this.Cc.push(0);this.Ep.push(0);this.Qa+=this.pc;};b.prototype.add=function(a,b,d){var c,k,f;if(null===this.Qa)for(c=Math.max(Math.floor((d-b+this.pc-1)/this.pc),1),this.Qa=b;this.Cc.length<c;)this.push();for(;this.Qa<=d;)this.push(),this.Cc.length>this.rh&&this.shift();if(null===this.xk||b<this.xk)this.xk=b;if(b>this.Qa-this.pc)this.update(this.Cc.length-1,a);else if(b==d)c=this.Cc.length-Math.max(Math.ceil((this.Qa-d)/this.pc),1),0<=c&&this.update(c,a);else for(c=1;c<=this.Cc.length;++c){k=this.Qa-c*this.pc;f=k+this.pc;if(!(k>d)){if(f<b)break;this.update(this.Cc.length-c,Math.round(a*(Math.min(f,d)-Math.max(k,b))/(d-b)));}}for(;this.Cc.length>this.rh;)this.shift();};b.prototype.start=function(a){null===this.xk&&(this.xk=a);null===this.Qa&&(this.Qa=a);};b.prototype.stop=function(a){var b,f;if(null!==this.Qa)if(a-this.Qa>10*this.ZB)this.reset();else{for(;this.Qa<=a;)this.push(),this.Cc.length>this.rh&&this.shift();b=this.Cc.length-Math.ceil((this.Qa-this.xk)/this.pc);0>b&&(this.xk=this.Qa-this.pc*this.Cc.length,b=0);f=this.Cc.length-Math.ceil((this.Qa-a)/this.pc);if(b===f)this.Ep[b]+=a-this.xk;else if(f>b)for(this.Ep[b]+=(this.Qa-this.xk)%this.pc,this.Ep[f]+=this.pc-(this.Qa-a)%this.pc,a=b+1;a<f;++a)this.Ep[a]=this.pc;this.xk=null;}};b.prototype.Boa=function(a,b){b=this.o5(b);return 0===b?null:8*a/b;};b.prototype.o5=function(a){var b;b=this.Ep[a];null!==this.xk&&(a=this.Qa-(this.Cc.length-a-1)*this.pc,a>this.xk&&(b=a-this.xk<=this.pc?b+(a-this.xk):this.pc));return b;};b.prototype.get=function(a,b){var f,c;f=this.Cc.map(this.Boa,this);if("last"===a)for(a=0;a<f.length;++a)null===f[a]&&(f[a]=0<a?f[a-1]:0);else if("average"===a){b=1-Math.pow(.5,1/((b||2E3)/this.pc));for(a=0;a<f.length;++a)null===f[a]?f[a]=Math.floor(c||0):c=void 0!==c?b*f[a]+(1-b)*c:f[a];}return f;};b.prototype.reset=function(){this.Cc=[];this.Ep=[];this.xk=this.Qa=null;};b.prototype.setInterval=function(a){this.rh=Math.floor((a+this.pc-1)/this.pc);};g.T=b;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(793);a=a(790);d.Mhb=g;d.Us=a;},function(g,d,a){var f,t,p,c;function b(a,b,n){var k;k=p.qN.call(this,a,b,f.kG.qja)||this;k.config=a;k.b9=b;k.is=n;k.type=f.Oj.Kw;k.vF=c.ye.Ppa();return k;}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);t=a(66);p=a(404);g=a(97);c=a(129);new g.kx();ba(b,p.qN);b.prototype.Iq=function(){return Promise.resolve(!1);};b.prototype.nD=function(){return Promise.resolve("");};b.prototype.oM=function(){return!1;};b.prototype.mM=function(){return!1;};b.prototype.qM=function(){return Promise.resolve(!1);};b.prototype.lM=function(){return!1;};b.prototype.vJ=function(a){return this.vF[a];};b.prototype.r1=function(a){return a;};b.prototype.Cwa=function(a){switch(a){case f.Hh.pp:return"1.4";case f.Hh.Tw:return"2.2";}};b.prototype.jy=function(){var a,b;a={};a[t.aa.cY]="avc1.4D401E";a[t.aa.HN]="avc1.4D401F";a[t.aa.dY]="avc1.4D4028";a[t.aa.BY]="hev1.1.6.L90.B0";a[t.aa.CY]="hev1.1.6.L93.B0";a[t.aa.DY]="hev1.1.6.L120.B0";a[t.aa.EY]="hev1.1.6.L123.B0";a[t.aa.FY]="hev1.1.6.L150.B0";a[t.aa.GY]="hev1.1.6.L153.B0";a[t.aa.nY]="hev1.2.6.L90.B0";a[t.aa.qY]="hev1.2.6.L93.B0";a[t.aa.tY]="hev1.2.6.L120.B0";a[t.aa.wY]="hev1.2.6.L123.B0";a[t.aa.TF]="hev1.2.6.L150.B0";a[t.aa.UF]="hev1.2.6.L153.B0";a[t.aa.oY]="hev1.2.6.L90.B0";a[t.aa.rY]="hev1.2.6.L93.B0";a[t.aa.uY]="hev1.2.6.L120.B0";a[t.aa.xY]="hev1.2.6.L123.B0";a[t.aa.eY]="hev1.2.6.L90.B0";a[t.aa.fY]="hev1.2.6.L93.B0";a[t.aa.gY]="hev1.2.6.L120.B0";a[t.aa.hY]="hev1.2.6.L123.B0";a[t.aa.iY]="hev1.2.6.L150.B0";a[t.aa.kY]="hev1.2.6.L153.B0";a[t.aa.JN]="hev1.2.6.L90.B0";a[t.aa.KN]="hev1.2.6.L93.B0";a[t.aa.LN]="hev1.2.6.L120.B0";a[t.aa.MN]="hev1.2.6.L123.B0";b=this.vJ(f.ad.mp);a[t.aa.FX]=b;a[t.aa.GX]=b;a[t.aa.HX]=b;a[t.aa.IX]=b;a[t.aa.JX]=b;a[t.aa.KX]=b;a[t.aa.tN]=b;a[t.aa.uN]=b;a[t.aa.vN]=b;a[t.aa.wN]=b;a[t.aa.xN]=b;a[t.aa.yN]=b;a[t.aa.VJa]="avc1.640016";a[t.aa.$X]="avc1.64001E";a[t.aa.aY]="avc1.64001F";a[t.aa.bY]="avc1.640028";a[t.aa.pja]=c.ye.DG;a[t.aa.EG]=c.ye.DG;a[t.aa.FG]=c.ye.DG;a[t.aa.GG]=c.ye.DG;a[t.aa.kja]=c.ye.CG;a[t.aa.lja]=c.ye.CG;a[t.aa.mja]=c.ye.CG;a[t.aa.nja]=c.ye.CG;a[t.aa.oja]=c.ye.CG;a[t.aa.Oca]=c.ye.Fh;a[t.aa.Pca]=c.ye.Fh;a[t.aa.Qca]=c.ye.Fh;a[t.aa.Rca]=c.ye.Fh;a[t.aa.Sca]=c.ye.Fh;a[t.aa.Tca]=c.ye.Fh;a[t.aa.Uca]=c.ye.Fh;a[t.aa.Vca]=c.ye.Fh;return a;};b.prototype.Y5=function(){return this.config().tF;};b.prototype.qD=function(){return Promise.resolve(void 0);};b.prototype.DJ=function(){return Promise.resolve(void 0);};b.prototype.sI=function(a){var c;c=[];this.is.zd(a)&&c.push(this.Cwa(a));return[{type:"DigitalVideoOutputDescriptor",outputType:"unknown",supportedHdcpVersions:c,isHdcpEngaged:!!c.length}];};b.nF="video/mp4;codecs={0};";d.xm=b;},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);b.Ppa=function(a){var d;d={};d[f.ad.yG]=b.PF;d[f.ad.IN]=b.PF;d[f.ad.tO]=b.QF;d[f.ad.br]=b.br;d[f.ad.mp]=a||b.mp;d[f.ad.wA]=b.PF;d[f.ad.Vt]=b.DG;d[f.ad.Fh]=b.Fh;return d;};b.PF="avc1.640028";b.QF="hev1.1.6.L93.B0";b.Bda="dvhe.01000000";b.MGa="dvhe.dtr.uhd60";b.xX="dvhe.05.09";b.mp=b.Bda;b.br=b.QF;b.dX="mp4a.40.2";b.Zwb="ec-3";b.iDb="vp9";b.DG="vp09.00.11.08.02";b.CG="vp09.02.31.10.01";b.Fh="av01.0.04M.08";b.NGa=[b.xX,b.MGa,b.Bda];d.ye=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fB="TimeoutMonitorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.buffer=a;this.position=0;}a.prototype.seek=function(a){this.position=a;};a.prototype.skip=function(a){this.position+=a;};a.prototype.qj=function(){return this.buffer.length-this.position;};a.prototype.ae=function(){return this.buffer[this.position++];};a.prototype.je=function(a){var b;b=this.position;this.position+=a;return this.Qeb(this.buffer)?this.buffer.subarray(b,this.position):this.buffer.slice(b,this.position);};a.prototype.Qeb=function(a){return void 0!==a.subarray;};a.prototype.kc=function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;};a.prototype.Aq=function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;};a.prototype.Q$=function(){for(var a="",f;f=this.ae();)a+=String.fromCharCode(f);return a;};a.prototype.Ab=function(){return this.kc(2);};a.prototype.Pa=function(){return this.kc(4);};a.prototype.Hf=function(){return this.kc(8);};a.prototype.tV=function(){return this.kc(2)/256;};a.prototype.wL=function(){return this.kc(4)/65536;};a.prototype.We=function(a){for(var b,d="";a--;)b=this.ae(),d+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return d;};a.prototype.gw=function(){return this.We(4)+"-"+this.We(2)+"-"+this.We(2)+"-"+this.We(2)+"-"+this.We(6);};a.prototype.xL=function(a){for(var b=0,d=0;d<a;d++)b+=this.ae()<<(d<<3);return b;};a.prototype.Lz=function(){return this.xL(4);};a.prototype.yF=function(a){this.Sq(a,2);};a.prototype.Tq=function(a){this.Sq(a,4);};a.prototype.cN=function(a){this.buffer[this.position++]=a;};a.prototype.Sq=function(a,f){this.position+=f;for(var b=1;b<=f;b++)this.buffer[this.position-b]=a&255,a=Math.floor(a/256);};a.prototype.Rq=function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);};a.prototype.uA=function(a){for(var b=a.length,d=0;d<b;d++)this.buffer[this.position++]=a[d];};a.prototype.vA=function(a,f){this.uA(a.je(f));};a.prototype.yEa=function(b){b=new a(b);for(var f,d;;)if(f=b.qj(),d=f>>>14)d=Math.min(4,d),this.cN(192|d),this.vA(b,16384*d);else{128>f?this.cN(f):this.Sq(f|32768,2);this.vA(b,f);break;}};a.prototype.Sza=function(){var d;for(var b=[],f=new a(b);;){d=this.ae();if(d&128)if(128==(d&192))d&=63,d=(d<<8)+this.ae(),f.vA(this,d);else if(d&=63,0<d&&4>=d){f.vA(this,16384*d);continue;}else throw Error("bad asn1");else f.vA(this,d);break;}return new Uint8Array(b);};return a;}();d.CA=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b){a.call(this);this.la=b;}b(f,a);f.create=function(a){return new f(a);};f.yb=function(a){a.qf.complete();};f.prototype.Of=function(a){var c;c=this.la;if(c)return c.Ib(f.yb,0,{qf:a});a.complete();};return f;}(a(10).Ca);d.OF=g;},function(g,d,a){var b,f,t,p;b=a(117);f=a(442);t=a(441);p=a(438);d.concat=function(){for(var a=[],k=0;k<arguments.length;k++)a[k-0]=arguments[k];return 1===a.length||2===a.length&&b.Py(a[1])?t.from(a[0]):p.kI()(f.of.apply(void 0,a));};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cm=function(){};d.VZ="StringObjectReaderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.iG="MediaKeysStorageFactorySymbol";},function(g,d,a){var f,t,p;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(168);t=a(42);p=a(2);b.A5=function(a){if(a){if(a.includes(d.KF.Cz))return f.Ln.Cz;if(a.includes("fps"))return f.Ln.gD;if(a.includes(d.KF.aX))return f.Ln.aX;}throw new t.cc(p.K.bJa,void 0,void 0,void 0,void 0,"Invalid KeySystem: "+a);};b.Wsa=function(a){switch(a){case f.Ln.Cz:return d.KF.Cz;case f.Ln.gD:return d.KF.gD;default:return d.KF.aX;}};b.sp="com.microsoft.playready";b.jd="com.microsoft.playready.hardware";b.tG="com.microsoft.playready.software";b.xBb="com.chromecast.playready";b.yBb="org.chromium.external.playready";b.ryb="com.apple.fps.2_0";b.uSa="com.widevine.alpha";b.zBb="com.microsoft.playready.recommendation";b.ABb="com.microsoft.playready.recommendation.3000";b.BBb="com.microsoft.playready.recommendation.2000";d.jb=b;d.KF={gD:"fairplay",aX:"widevine",Cz:"playready"};},function(g,d,a){var k;function b(a){return"function"===typeof a?a.name:"symbol"===typeof a?a.toString():a;}function f(a,c){return null===a.Ts?!1:a.Ts.He===c?!0:f(a.Ts,c);}function t(a){function c(a,k){void 0===k&&(k=[]);k.push(b(a.He));return null!==a.Ts?c(a.Ts,k):k;}return c(a).reverse().join(" --\x3e ");}function p(a){a.D2.forEach(function(a){if(f(a,a.He))throw a=t(a),Error(k.oGa+" "+a);p(a);});}function c(a){var c;if(a.name)return a.name;a=a.toString();c=a.match(/^function\s*([^\s(]+)/);return c?c[1]:"Anonymous function: "+a;}Object.defineProperty(d,"__esModule",{value:!0});k=a(53);d.uD=b;d.Zva=function(a,b,k){var f;f="";a=k(a,b);0!==a.length&&(f="\nRegistered bindings:",a.forEach(function(a){var b;b="Object";null!==a.rj&&(b=c(a.rj));f=f+"\n "+b;a.wC.mxa&&(f=f+" - "+a.wC.mxa);}));return f;};d.n1a=p;d.Cfb=function(a,c){var b,k;if(c.A7()||c.x7()){b="";k=c.cbb();c=c.N$a();null!==k&&(b+=k.toString()+"\n");null!==c&&c.forEach(function(a){b+=a.toString()+"\n";});return" "+a+"\n "+a+" - "+b;}return" "+a;};d.getFunctionName=c;},function(g,d){var b;function a(){}Object.defineProperty(d,"__esModule",{value:!0});b=/^\S+$/;a.prototype.Ol=function(a){return void 0!==a;};a.prototype.zd=function(a){return null!==a&&void 0!==a;};a.prototype.Tx=function(b){return a.una(b);};a.prototype.pQ=function(b){return!(!b||!a.una(b));};a.prototype.Vr=function(a){return Array.isArray(a);};a.prototype.vna=function(a){return!(!a||a.constructor!=Uint8Array);};a.prototype.Pf=function(b,d,g){return a.Oma(b,d,g);};a.prototype.j1=function(b){return a.j1(b);};a.prototype.A1=function(b,d,g){return a.zQ(b,d,g)&&0===b%1;};a.prototype.Hp=function(b,d,g){return a.zQ(b,d||0,g);};a.prototype.yH=function(b){return a.zQ(b,1);};a.prototype.rYa=function(b){return a.zQ(b,0,255);};a.prototype.sYa=function(a){return a===+a&&(0===a||a!==(a|0))&&!0&&!0;};a.prototype.wna=function(a){return!(!a||!b.test(a));};a.prototype.vi=function(b){return a.Pma(b);};a.prototype.jj=function(b){return!(!a.Pma(b)||!b);};a.prototype.aC=function(a){return!0===a||!1===a;};a.prototype.xH=function(a){return"function"==typeof a;};a.Pma=function(a){return"string"==typeof a;};a.Oma=function(a,b,d){return"number"==typeof a&&!isNaN(a)&&isFinite(a)&&(void 0===b||a>=b)&&(void 0===d||a<=d);};a.j1=function(a){return"number"==typeof a&&isNaN(a);};a.zQ=function(b,d,g){return a.Oma(b,d,g)&&0===b%1;};a.una=function(a){return"object"==typeof a;};d.Lt=new a();},function(g,d,a){var t,p,c,k,q,n,u,y,A,h,x,I,G,N,T,l;function b(a){b=h.ee;T=a.appendBuffer?"appendBuffer":"append";d.YN=!k.config.v_a&&!!a.remove;l=!!a.addEventListener;}function f(a,f,d,g,A){var h,x;h=this;this.j=a;this.type=f;this.Jja=g;this.log=A;this.nP=new q.Ic(!1);this.tx={data:[],state:"",operation:""};this.aE=this.Ara((this.type===t.ec.I.VIDEO?this.j.gf.value:this.j.Ec.value).mc);this.fj=new n.Lj();this.h0={Type:this.type};k.config.Gv&&(x=!0,this.S4=new q.Ic(!1));this.log.trace("Adding source buffer",this.h0,{TypeId:this.aE});this.Kc=d.addSourceBuffer(this.aE);b(this.Kc);l&&(this.Kc.addEventListener("updatestart",function(){h.tx.state="updatestart";}),this.Kc.addEventListener("update",function(){h.tx.state="update";}),this.Kc.addEventListener("updateend",function(){h.nP.set(!1);h.Mja&&h.Mja();h.tx.state="updateend";x&&h.Kc.buffered.length&&(x=!1,h.S4.set(!0));}),this.Kc.addEventListener("error",function(b){var k;try{k=b.target.error&&b.target.error.message;(b.message||k)&&A.error("error event received on sourcebuffer",{mediaErrorMessage:b.message});}catch(da){}b=u.W.get(c.uk);a.md(b(y.K.FOa,p.D5(h.type)));}),this.Kc.addEventListener("abort",function(){}));a.addEventListener(I.U.closed,function(){h.Kc=void 0;});}Object.defineProperty(d,"__esModule",{value:!0});t=a(50);p=a(211);c=a(62);k=a(12);q=a(177);n=a(70);u=a(4);a(85);y=a(2);a(3);A=a(14);h=a(19);x=a(16);I=a(15);G=a(113);N=a(142);f.prototype.pj=function(){return this.nP.value;};f.prototype.updating=function(){return this.Kc?this.Kc.updating:!1;};f.prototype.KBa=function(a){this.Mja=a;};f.prototype.buffered=function(){return this.Kc.buffered;};f.prototype.toString=function(){return"SourceBuffer (type: "+this.type+")";};f.prototype.toJSON=function(){return{type:this.type};};f.prototype.ES=function(){var a,c,b,k,f,n,d;try{a=this.Kc.buffered;f=0;if(a)for(c=[],b=0,k=a.length,b=0;b<k;b++){n=a.start(b);d=a.end(b);f=f+(d-n);A.Ga(d>n);c.push(n+"-"+d);}if(c)return{Buffered:f.toFixed(3),Ranges:c.join("|")};}catch(ja){}};f.prototype.Cna=function(a,c){A.Ga(this.Kc.buffered&&1>=this.Kc.buffered.length,"Gaps in media are not allowed: "+JSON.stringify(this.ES()));A.Ga(!this.pj());this.aCa("append",a);c=c&&c.hm/1E3;x.qa(c)&&this.Kc.timestampOffset!==c&&(this.Kc.timestampOffset=c);this.Kc[T](a);l&&this.nP.set(!0);};f.prototype.remove=function(a,c){A.Ga(!this.pj());try{d.YN&&(this.aCa("remove"),this.Kc.remove(a,c),l&&this.nP.set(!0));}catch(Q){this.log.error("SourceBuffer remove exception",Q,this.h0);}};f.prototype.aCa=function(a,c){this.tx.data=c||[];this.tx.state="init";this.tx.operation=a;};f.prototype.vqb=function(a,c){this.ufb=Math.floor(1E3*a/c);};f.prototype.X0a=function(a){var c;if(this.Kc){if(a=this.Ara([{type:this.$1a,Pe:a}]),a!==this.aE){c=this.aE;this.log.info("Changing SourceBuffer mime-type from: "+this.aE+" to: "+a);try{if(this.Kc.changeType)this.Kc.changeType(a),this.aE=a;else throw Error("Platform doesnt support changing SourceBuffer mime-type");}catch(Q){throw this.log.error("Error changing SourceBuffer type",Q,this.h0,{From:c,To:a}),Q;}}}else this.log.info("No SourceBuffer");};f.prototype.appendBuffer=function(a,c){!c||c.Tb?this.F1(a,c):this.AQ(a,c);return!0;};f.prototype.F1=function(a,c){this.j.qg.F1(this,a,c||{});};f.prototype.AQ=function(a,c){a=this.W1a(a,c);this.j.qg.AQ(a);};f.prototype.W1a=function(a,c){var b,k,f;b=this.ufb||0;k=this.R;f=this.Jm-b||Infinity;return{Toa:function(){this.response=void 0;},ck:function(){return this.requestId;},constructor:{name:"MediaRequest"},requestId:c.ck(),R:k,readyState:N.Cb.Xb.DONE,Zs:c.V,yE:c.V+c.duration,us:c.duration,hm:b,ko:c.ko,yg:c.$f.cd.ya.id,Ua:c.Ua,Xc:+c.Xc,location:c.location,dI:c.offset,cI:c.offset+c.ba-1,O:c.O,response:a,kua:a&&0<a.byteLength,Ny:!0,get Tb(){return!this.Ny;},$f:{cd:{ya:{da:f}}},toJSON:function(){var a;a={requestId:this.requestId,segmentId:this.yg,isHeader:this.Tb,ptsStart:this.Zs,ptsOffset:this.hm,responseType:this.QDb,duration:this.us,readystate:this.jf};this.stream&&(a.bitrate=this.stream.O);return JSON.stringify(a);}};};f.prototype.endOfStream=function(){};f.prototype.addEventListener=function(a,c,b){this.fj.addListener(a,c,b);};f.prototype.removeEventListener=function(a,c){this.fj.removeListener(a,c);};f.prototype.Ara=function(a){var c;c=u.W.get(G.dB);return this.type===t.ec.I.VIDEO?c.uI(a):c.oI(a);};na.Object.defineProperties(f.prototype,{R:{configurable:!0,enumerable:!0,get:function(){return this.type;}},LQ:{configurable:!0,enumerable:!0,get:function(){return this.Jja.LQ;}},sourceId:{configurable:!0,enumerable:!0,get:function(){return this.Jja.sourceId;}},$1a:{configurable:!0,enumerable:!0,get:function(){return 0===this.type?"audio":"video";}}});d.vga=f;},function(g,d,a){var b,f,t,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(280);f=a(12);t=a(8);g=a(2);p=a(14);c=a(4);k=a(18);q=a(72);n=a(87);a=a(21);d.vh={};M._cad_global.controlProtocol=d.vh;c.W.get(a.xe).register(g.K.ffa,function(a){var q,u,g;p.Ga(f.config);q=c.Cf("ControlProtocol");u=f.config.Og;p.Ga(u);g=c.W.get(n.xt);q.info("Creating EDGE instance",{Endpoint:g.endpoint+u.Fxa,Path:u.Xqa});k.Ya(d.vh,new b.gHa(q));a(t.yc);});d.pFb=c.W.get(q.FN);d.oFb="1";d.qFb="2";d.rFb="3";d.nFb="4";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.iO="PboPublisherSymbol";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.ud={Tga:"mr1",Sga:"mr2",Uga:"mr3",nG:"mr4",LNa:"mr5",bx:"mr6"};a.Xb={UNSENT:0,OPENED:1,Tt:2,fx:3,DONE:5,Ft:6,AF:7,name:"UNSENT OPENED SENT RECEIVING DONE FAILED ABORTED".split(" ")};a.IBb={Lca:0,jx:1,Lga:2,name:["ARRAYBUFFER","STREAM","NOTIFICATION"]};a.Ct={NO_ERROR:-1,ZHa:0,Xda:1,kIa:2,cIa:3,vGa:4,wda:5,uX:6,wGa:7,xGa:8,yGa:9,sGa:10,uGa:11,vda:12,tGa:13,rGa:14,fKa:15,Uea:16,Tea:17,KY:18,QN:19,LY:20,MY:21,hKa:22,RN:23,Vea:24,gKa:25,fIa:26,$Ha:27,FQa:28,QHa:29,RHa:30,SHa:31,THa:32,UHa:33,VHa:34,WHa:35,XHa:36,YHa:37,aIa:38,bIa:39,dIa:40,eIa:41,gIa:42,hIa:43,iIa:44,jIa:45,lIa:46,mIa:47,EQa:48,TIMEOUT:49,IY:50,Rea:51,eKa:52,name:"DNS_ERROR DNS_TIMEOUT DNS_QUERY_REFUSED DNS_NOT_FOUND CONNECTION_REFUSED CONNECTION_TIMEOUT CONNECTION_CLOSED CONNECTION_RESET CONNECTION_RESET_ON_CONNECT CONNECTION_RESET_WHILE_RECEIVING CONNECTION_NET_UNREACHABLE CONNECTION_NO_ROUTE_TO_HOST CONNECTION_NETWORK_DOWN CONNECTION_NO_ADDRESS CONNECTION_ERROR HTTP_CONNECTION_ERROR HTTP_CONNECTION_TIMEOUT HTTP_CONNECTION_STALL HTTP_PROTOCOL_ERROR HTTP_RESPONSE_4XX HTTP_RESPONSE_420 HTTP_RESPONSE_5XX HTTP_TOO_MANY_REDIRECTS HTTP_TRANSACTION_TIMEOUT HTTP_MESSAGE_LENGTH_ERROR HTTP_HEADER_LENGTH_ERROR DNS_NOT_SUPPORTED DNS_EXPIRED SSL_ERROR DNS_BAD_FAMILY DNS_BAD_FLAGS DNS_BAD_HINTS DNS_BAD_NAME DNS_BAD_STRING DNS_CANCELLED DNS_CHANNEL_DESTROYED DNS_CONNECTION_REFUSED DNS_EOF DNS_FILE DNS_FORMAT_ERROR DNS_NOT_IMPLEMENTED DNS_NOT_INITIALIZED DNS_NO_DATA DNS_NO_MEMORY DNS_NO_NAME DNS_QUERY_MALFORMED DNS_RESPONSE_MALFORMED DNS_SERVER_FAILURE SOCKET_ERROR TIMEOUT HTTPS_CONNECTION_ERROR HTTPS_CONNECTION_TIMEOUT HTTPS_CONNECTION_REDIRECT_TO_HTTP".split(" ")};a.Pc={EE:{Lca:!0,jx:!1,Lga:!0}};d.Cb=a;},function(g){var p,c,k,q;function d(){d.gc.call(this);}function a(a,c,b,k){var f,n;if("function"!==typeof b)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b);f=a.ih;void 0===f?(f=a.ih=Object.create(null),a.wx=0):(void 0!==f.XIb&&(a.emit("newListener",c,b.listener?b.listener:b),f=a.ih),n=f[c]);void 0===n?(f[c]=b,++a.wx):("function"===typeof n?n=f[c]=k?[b,n]:[n,b]:k?n.unshift(b):n.push(b),b=void 0===a.cH?d.UFb:a.cH,0<b&&n.length>b&&!n.bvb&&(n.bvb=!0,b=Error("Possible EventEmitter memory leak detected. "+n.length+" "+String(c)+" listeners added. Use emitter.setMaxListeners() to increase limit"),b.name="MaxListenersExceededWarning",b.fGb=a,b.type=c,b.count=n.length,console&&console.warn&&console.warn(b)));return a;}function b(){for(var a=[],b=0;b<arguments.length;b++)a.push(arguments[b]);this.Vra||(this.target.removeListener(this.type,this.xEa),this.Vra=!0,c(this.listener,this.target,a));}function f(a,c,k){a={Vra:!1,xEa:void 0,target:a,type:c,listener:k};c=b.bind(a);c.listener=k;return a.xEa=c;}function t(a){var c;c=this.ih;if(void 0!==c){a=c[a];if("function"===typeof a)return 1;if(void 0!==a)return a.length;}return 0;}p="object"===typeof Reflect?Reflect:null;c=p&&"function"===typeof p.apply?p.apply:function(a,c,b){return Function.prototype.apply.call(a,c,b);};k=Number.isNaN||function(a){return a!==a;};g.T=d;d.EventEmitter=d;d.prototype.ih=void 0;d.prototype.wx=0;d.prototype.cH=void 0;q=10;Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return q;},set:function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");q=a;}});d.gc=function(){if(void 0===this.ih||this.ih===Object.getPrototypeOf(this).ih)this.ih=Object.create(null),this.wx=0;this.cH=this.cH||void 0;};d.prototype.setMaxListeners=function(a){if("number"!==typeof a||0>a||k(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");this.cH=a;return this;};d.prototype.emit=function(a){var f,k,n;for(var b=[],k=1;k<arguments.length;k++)b.push(arguments[k]);f="error"===a;k=this.ih;if(void 0!==k)f=f&&void 0===k.error;else if(!f)return!1;if(f){0<b.length&&(n=b[0]);if(n instanceof Error)throw n;b=Error("Unhandled error."+(n?" ("+n.message+")":""));b.context=n;throw b;}k=k[a];if(void 0===k)return!1;if("function"===typeof k)c(k,this,b);else{n=k.length;for(var f=Array(n),d=0;d<n;++d)f[d]=k[d];for(k=0;k<n;++k)c(f[k],this,b);}return!0;};d.prototype.addListener=function(c,b){return a(this,c,b,!1);};d.prototype.on=d.prototype.addListener;d.prototype.zza=function(c,b){return a(this,c,b,!0);};d.prototype.once=function(a,c){if("function"!==typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);this.on(a,f(this,a,c));return this;};d.prototype.jmb=function(a,c){if("function"!==typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);this.zza(a,f(this,a,c));return this;};d.prototype.removeListener=function(a,c){var b,k,f,n,d;if("function"!==typeof c)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof c);k=this.ih;if(void 0===k)return this;b=k[a];if(void 0===b)return this;if(b===c||b.listener===c)0===--this.wx?this.ih=Object.create(null):(delete k[a],k.removeListener&&this.emit("removeListener",a,b.listener||c));else if("function"!==typeof b){f=-1;for(n=b.length-1;0<=n;n--)if(b[n]===c||b[n].listener===c){d=b[n].listener;f=n;break;}if(0>f)return this;if(0===f)b.shift();else{for(;f+1<b.length;f++)b[f]=b[f+1];b.pop();}1===b.length&&(k[a]=b[0]);void 0!==k.removeListener&&this.emit("removeListener",a,d||c);}return this;};d.prototype.zjb=d.prototype.removeListener;d.prototype.removeAllListeners=function(a){var c,b,k;b=this.ih;if(void 0===b)return this;if(void 0===b.removeListener)return 0===arguments.length?(this.ih=Object.create(null),this.wx=0):void 0!==b[a]&&(0===--this.wx?this.ih=Object.create(null):delete b[a]),this;if(0===arguments.length){c=Object.keys(b);for(b=0;b<c.length;++b)k=c[b],"removeListener"!==k&&this.removeAllListeners(k);this.removeAllListeners("removeListener");this.ih=Object.create(null);this.wx=0;return this;}c=b[a];if("function"===typeof c)this.removeListener(a,c);else if(void 0!==c)for(b=c.length-1;0<=b;b--)this.removeListener(a,c[b]);return this;};d.prototype.listeners=function(a){var c;c=this.ih;if(void 0===c)a=[];else if(a=c[a],void 0===a)a=[];else if("function"===typeof a)a=[a.listener||a];else{for(var c=Array(a.length),b=0;b<c.length;++b)c[b]=a[b].listener||a[b];a=c;}return a;};d.listenerCount=function(a,c){return"function"===typeof a.listenerCount?a.listenerCount(c):t.call(a,c);};d.prototype.listenerCount=t;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.MIa=function(){this.AUDIO=0;this.VIDEO=1;this.ON=2;this.Sf=function(){};};d.gea="DownloadTrackConstructorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gha="PboPlaydataServicesSymbol";d.hO="PboPlaydataServicesProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cG="LicenseProviderSymbol";},function(g,d,a){var f,t;function b(a){switch(a){case f.H.WF:return"http";case f.H.XF:return"connectiontimeout";case f.H.Rw:return"readtimeout";case f.H.JY:return"corruptcontent";case f.H.Ht:return"abort";case f.H.IA:case f.H.NY:return"unknown";}}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);t=a(9);d.vta=b;d.Ata=function(a,c){a={errorcode:a+(c.errorCode||f.K.ki)};c.Y&&(a.errorsubcode=c.Y);c.qc&&(a.errorextcode=c.qc);c.aD&&(a.erroredgecode=c.aD);c.Oa&&(a.errordetails=c.Oa);c.Uh&&(a.httperr=c.Uh);c.CU&&(a.aseneterr=c.CU);c.so&&(a.errordata=c.so);c.BK&&(a.mediaerrormessage=c.BK);(c=b(Number(c.Y)))&&(a.nwerr=c);return a;};d.Jta=function(){return{screensize:t.fr.width+"x"+t.fr.height,screenavailsize:t.fr.availWidth+"x"+t.fr.availHeight,clientsize:M.innerWidth+"x"+M.innerHeight};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});(d.aea||(d.aea={})).PboDebugEvent="PboDebugEvent";d.LX={CMa:"Manifest",Event:"Event",wzb:"Logblob"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g.T=function(a){return{minInitVideoBitrate:a.Rv,minHCInitVideoBitrate:a.h9,maxInitVideoBitrate:a.dz,minInitAudioBitrate:a.HK,maxInitAudioBitrate:a.wK,minHCInitAudioBitrate:a.GK,minAcceptableVideoBitrate:a.mU,minRequiredBuffer:a.tU,minPrebufSize:a.Ji,rebufferingFactor:a.T$,useMaxPrebufSize:a.yca,maxPrebufSize:a.VD,maxRebufSize:a.P8,maxBufferingTime:a.lq,minAudioMediaRequestSizeBytes:a.nU,minVideoMediaRequestSizeBytes:a.vU,initialBitrateSelectionCurve:a.pT,initSelectionLowerBound:a.Rua,initSelectionUpperBound:a.Sua,throughputPercentForAudio:a.AW,bandwidthMargin:a.X1,bandwidthMarginContinuous:a.Y1,bandwidthMarginCurve:a.Z1,conservBandwidthMargin:a.Y2,switchConfigBasedOnInSessionTput:a.Jba,conservBandwidthMarginTputThreshold:a.lI,conservBandwidthMarginCurve:a.Z2,switchAlgoBasedOnHistIQR:a.LCa,switchConfigBasedOnThroughputHistory:a.uw,maxPlayerStateToSwitchConfig:a.O8,lowEndMarkingCriteria:a.q8,IQRThreshold:a.RY,histIQRCalcToUse:a.O6,maxTotalBufferLevelPerSession:a.Ms,highWatermarkLevel:a.wua,toStableThreshold:a.mDa,toUnstableThreshold:a.GW,skipBitrateInUpswitch:a.oba,watermarkLevelForSkipStart:a.Fca,highStreamRetentionWindow:a.H6,lowStreamTransitionWindow:a.r8,highStreamRetentionWindowUp:a.J6,lowStreamTransitionWindowUp:a.t8,highStreamRetentionWindowDown:a.I6,lowStreamTransitionWindowDown:a.s8,highStreamInfeasibleBitrateFactor:a.G6,lowestBufForUpswitch:a.$y,lockPeriodAfterDownswitch:a.UT,lowWatermarkLevel:a.v8,lowestWaterMarkLevel:a.az,lowestWaterMarkLevelBufferRelaxed:a.y8,mediaRate:a.a9,maxTrailingBufferLen:a.R8,audioBufferTargetAvailableSize:a.Q1,videoBufferTargetAvailableSize:a.Dca,maxVideoTrailingBufferSize:a.Ywa,maxAudioTrailingBufferSize:a.Kwa,fastUpswitchFactor:a.hS,fastDownswitchFactor:a.I4,maxMediaBufferAllowed:a.cU,simulatePartialBlocks:a.lba,simulateBufferFull:a.iCa,considerConnectTime:a.a3,connectTimeMultiplier:a.X2,lowGradeModeEnterThreshold:a.swa,lowGradeModeExitThreshold:a.twa,maxDomainFailureWaitDuration:a.Lwa,maxAttemptsOnFailure:a.Iwa,exhaustAllLocationsForFailure:a.vra,maxNetworkErrorsDuringBuffering:a.Rwa,maxBufferingTimeAllowedWithNetworkError:a.J8,fastDomainSelectionBwThreshold:a.H4,throughputProbingEnterThreshold:a.Rba,throughputProbingExitThreshold:a.YCa,locationProbingTimeout:a.fwa,finalLocationSelectionBwThreshold:a.Ira,throughputHighConfidenceLevel:a.WCa,throughputLowConfidenceLevel:a.XCa,locationStatisticsUpdateInterval:a.d8,enablePerfBasedLocationSwitch:a.WC,probeServerWhenError:a.Uo,probeRequestTimeoutMilliseconds:a.A$,allowSwitchback:a.Ur,probeDetailDenominator:a.Fz,maxDelayToReportFailure:a.aU,countGapInBuffer:a.Dpa,allowReissueMediaRequestAfterAbort:a.dC,bufferThresholdForAbort:a.g2,allowCallToStreamSelector:a.z1,pipelineScheduleTimeoutMs:a.h$,maxPartialBuffersAtBufferingStart:a.ez,minPendingBufferLen:a.i9,maxPendingBufferLen:a.Lv,maxPendingBufferLenSABCell100:a.eU,maxActiveRequestsSABCell100:a.ZT,enableRequestPacing:a.XR,maxStreamingSkew:a.Q8,maxPendingBufferPercentage:a.N8,maxRequestsInBuffer:a.fz,headerRequestSize:a.dT,minBufferLenForHeaderDownloading:a.oU,reserveForSkipbackBufferMs:a.GV,numExtraFragmentsAllowed:a.K9,pipelineEnabled:a.rn,maxParallelConnections:a.UD,socketReceiveBufferSize:a.lCa,audioSocketReceiveBufferSize:a.T1,videoSocketReceiveBufferSize:a.YM,headersSocketReceiveBufferSize:a.E6,updatePtsIntervalMs:a.KW,bufferTraceDenominator:a.i2,bufferLevelNotifyIntervalMs:a.mC,aseReportDenominator:a.iC,aseReportIntervalMs:a.L1,enableAbortTesting:a.cra,abortRequestFrequency:a.Qma,streamingStatusIntervalMs:a.Cba,prebufferTimeLimit:a.uE,minBufferLevelForTrackSwitch:a.pU,penaltyFactorForLongConnectTime:a.b$,longConnectTimeThreshold:a.n8,additionalBufferingLongConnectTime:a.v1,additionalBufferingPerFailure:a.w1,rebufferCheckDuration:a.zL,enableLookaheadHints:a.fra,lookaheadFragments:a.pwa,enableOCSideChannel:a.ro,OCSCBufferQuantizationConfig:a.eO,updateDrmRequestOnNetworkFailure:a.NDa,deferAseScheduling:a.yR,maxDiffAudioVideoEndPtsMs:a.bU,useHeaderCache:a.rF,useHeaderCacheData:a.TR,defaultHeaderCacheSize:a.uR,defaultHeaderCacheDataPrefetchMs:a.N3,headerCacheMaxPendingData:a.B6,neverWipeHeaderCache:a.w9,headerCachePriorityLimit:a.C6,enableUsingHeaderCount:a.XI,networkFailureResetWaitMs:a.u9,networkFailureAbandonMs:a.t9,maxThrottledNetworkFailures:a.gU,throttledNetworkFailureThresholdMs:a.zW,abortUnsentBlocks:a.Pr,maxUnsentBlocks:a.S8,abortStreamSelectionPeriod:a.k1,lowThroughputThreshold:a.u8,excludeSessionWithoutHistoryFromLowThroughputThreshold:a.y4,mp4ParsingInNative:a.Cxa,sourceBufferInOrderAppend:a.mCa,requireAudioStreamToEncompassVideo:a.vn,allowAudioToStreamPastVideo:a.rna,enableManagerDebugTraces:a.bf,managerDebugMessageInterval:a.Bwa,managerDebugMessageCount:a.Awa,bufferThresholdToSwitchToSingleConnMs:a.MQ,bufferThresholdToSwitchToParallelConnMs:a.h2,netIntrStoreWindow:a.Fib,minNetIntrDuration:a.iib,fastHistoricBandwidthExpirationTime:a.L8a,bandwidthExpirationTime:a.y_a,failureExpirationTime:a.J8a,historyTimeOfDayGranularity:a.pdb,expandDownloadTime:a.y8a,minimumMeasurementTime:a.rib,minimumMeasurementBytes:a.qib,throughputMeasurementTimeout:a.Dsb,initThroughputMeasureDataSize:a.Zdb,throughputMeasureWindow:a.Csb,throughputIQRMeasureWindow:a.Bsb,IQRBucketizerWindow:a.hLa,connectTimeHalflife:a.T1a,responseTimeHalflife:a.Dob,historicBandwidthUpdateInterval:a.odb,throughputWarmupTime:a.Gsb,minimumBufferToStopProbing:a.pib,throughputPredictor:a.Esb,ase_stream_selector:a.GZa,enableFilters:a.i7a,filterDefinitionOverrides:a.Y8a,defaultFilter:a.z5a,secondaryFilter:a.hpb,defaultFilterDefinitions:a.A5a,initBitrateSelectorAlgorithm:a.h7,bufferingSelectorAlgorithm:a.k2,ase_ls_failure_simulation:a.D3,ase_dump_fragments:a.B3,ase_location_history:a.C3,ase_throughput:a.E3,ase_simulate_verbose:a.gqa,secondThroughputEstimator:a.Baa,secondThroughputMeasureWindowInMs:a.kBa,marginPredictor:a.F8,simplePercentilePredictorPercentile:a.hCa,simplePercentilePredictorCalcToUse:a.fCa,simplePercentilePredictorMethod:a.gCa,IQRBandwidthFactorConfig:a.yfa,networkMeasurementGranularity:a.v9,HistoricalTDigestConfig:a.Xea,maxIQRSamples:a.Owa,minIQRSamples:a.vxa,periodicHistoryPersistMs:a.$U,saveVideoBitrateMs:a.OV,needMinimumNetworkConfidence:a.MK,biasTowardHistoricalThroughput:a.b2,maxFastPlayBufferInMs:a.L8,maxFastPlayBitThreshold:a.K8,headerCacheTruncateHeaderAfterParsing:a.tua,minAudioMediaRequestDuration:a.bE,minVideoMediaRequestDuration:a.eE,minAudioMediaRequestDurationCache:a.bE,minVideoMediaRequestDurationCache:a.eE,addHeaderDataToNetworkMonitor:a.wQ,useMediaCache:a.zw,mediaCachePartitionConfig:a.W8,diskCacheSizeLimit:a.Wu,mediaCachePrefetchMs:a.jU,enablePsd:a.VR,psdCallFrequency:a.H$,psdReturnToNormal:a.I$,psdThroughputThresh:a.pL,discardLastNPsdBins:a.JI,psdPredictor:a.Vg,hindsightDenominator:a.N6,hindsightDebugDenominator:a.M6,hindsightParam:a.fT,minimumTimeBeforeBranchDecision:a.wU,enableSessionHistoryReport:a.WI,earlyStageEstimatePeriod:a.j4,lateStageEstimatePeriod:a.Pva,maxNumSessionHistoryStored:a.dU,minSessionHistoryDuration:a.uU,enableInitThroughputEstimate:a.VI,applyInitThroughputEstimate:a.G1,initThroughputPredictor:a.Tua,appendMediaRequestOnComplete:a.Dna,waitForDrmToAppendMedia:a.ZW,forceAppendHeadersAfterDrm:a.Y4,startMonitorOnLoadStart:a.uba,reportFailedRequestsToNetworkMonitor:a.caa,reappendRequestsOnSkip:a.yL,maxActiveRequestsPerSession:a.kq,limitAudioDiscountByMaxAudioBitrate:a.Y7,appendFirstHeaderOnComplete:a.E1,maxAudioFragmentOverlapMs:0,editAudioFragments:a.$m,editVideoFragments:a.vs,declareBufferingCompleteAtSegmentEnd:a.F3,applyProfileTimestampOffset:a.Vx,applyProfileStreamingOffset:a.ao,requireDownloadDataAtBuffering:a.haa,requireSetupConnectionDuringBuffering:a.iaa,recordFirstFragmentOnSubBranchCreate:a.U$,earlyAppendSingleChildBranch:a.RR,selectStartingVMAFMethod:a.LE,activateSelectStartingVMAF:a.zH,minStartingVideoVMAF:a.dE};};},function(g,d,a){(function(b,f){var p;function d(a,b){var c;c=Date.now();this.jrb=c;this.aS=c+a;this.ilb=a;this.Q4a=c+b;this.debug=!1;}p=new(a(6)).Console("ASEJS_QOE_EVAL","media|asejs");d.prototype.constructor=d;d.prototype.cb=function(a,b){a=((a-this.jrb)/1E3).toFixed(3);a="     ".slice(a.length-4)+a;p.debug(a+" "+this.S4a+b);};d.prototype.nXa=function(a){this.S4a=a;this.cb(Date.now(),"starting");};d.prototype.aYa=function(a){var c;c=new Date().getTime();if(c>=this.Q4a)throw Error("Execution deadline exceeded");if(3221225472<b.IIb().uHb)throw Error("Heap total limit exceeded");if(this.debug&&!(c<=this.aS)){for(;c>this.aS;)this.aS+=this.ilb;this.cb(c,a);}};d.gc=function(){f.oV=new d(5E3,12E5);};d.Yaa=function(a){f.oV&&f.oV.nXa(a);};d.update=function(a){f.oV&&f.oV.aYa(a);};g.T=d;}.call(this,a(230),a(248)));},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.HH=function(a,b){return""+a===""+b;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f,d){this.u=a;this.tag=f;this.length=d;this.tag=f;this.startOffset=a.offset;this.length=d;}a.prototype.parse=function(){this.u.offset=this.startOffset+this.length;this.u.mz=0;return!0;};a.prototype.Lra=function(a){var b;b=[];this.tag===a&&b.push(this);if(this.Vu)for(var d=0;d<this.Vu.length;d++)b=b.concat(this.Vu[d].Lra(a));return b;};a.prototype.jJ=function(a){for(a=this.Lra(a);0<a.length;)return a[0];};a.prototype.ema=function(){for(this.Vu=[];this.u.offset<this.startOffset+this.length;)this.Vu.push(this.u.dma(this));};return a;}();g.prototype.skip=g.prototype.parse;d["default"]=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uNa="6674654e-696c-5078-6966-665374726d21";d.vNa="6674654e-696c-4878-6165-6465722e7632";d.Kga="6674654e-696c-5078-6966-66496e646578";d.jZ="6674654e-696c-4d78-6f6f-6653697a6573";d.hZ="6674654e-696c-5378-6565-6b506f696e74";d.mOa="cedb7489-e77b-514c-84f9-7148f9882554";d.cha="524f39a2-9b5a-144f-a244-6c427c648df4";d.iZ="6674654e-696c-4678-7261-6d6552617465";},function(g,d,a){var t;function b(a,c){return void 0===a||void 0===c?void 0:a+c;}function f(a,c){return void 0===a||void 0===c?void 0:a-c;}Object.defineProperty(d,"__esModule",{value:!0});t=a(69);g=a(55);a=function(){function a(){}a.prototype.XB=function(a){return void 0===a?void 0:0===a?t.oc.sf:new t.oc(a,this.ha);};a.prototype.tu=function(a){return a&&Math.floor(t.oc.kDa(a,this.ha));};return a;}();d.iN=a;g.Yj(a.prototype,{Qk:g.Z({get:function(){return f(this.nb,this.eb)||0;}}),eL:g.Z({get:function(){return b(this.eb,this.Yo);}}),rE:g.Z({get:function(){return b(this.nb,this.Yo);}}),QR:g.Z({get:function(){return this.XB(this.Qk);}}),wpa:g.Z({get:function(){return this.XB(this.eb);}}),tpa:g.Z({get:function(){return this.XB(this.nb);}}),fV:g.Z({get:function(){return this.XB(this.eL);}}),hza:g.Z({get:function(){return this.XB(this.rE);}}),Mmb:g.Z({get:function(){return this.XB(this.Yo);}}),V:g.Z({get:function(){return this.tu(this.eL);}}),da:g.Z({get:function(){return this.tu(this.rE);}}),duration:g.Z({get:function(){return f(this.da,this.V)||0;}}),hm:g.Z({get:function(){return this.tu(this.Yo);}}),ko:g.Z({get:function(){return this.tu(this.eb);}}),Mc:g.Z({get:function(){return this.tu(this.eb);}}),Wd:g.Z({get:function(){return this.tu(this.nb);}}),tc:g.Z({get:function(){return this.tu(this.eL);}}),Pd:g.Z({get:function(){return this.tu(this.rE);}}),us:g.Z({get:function(){return this.duration;}}),Zs:g.Z({get:function(){return this.V;}}),yE:g.Z({get:function(){return this.da;}})});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(13);g=a(55);a=function(){function a(a,b){this.Lc=a;this.Rb=b.ba;this.xd=b.offset;}a.prototype.toJSON=function(){return{movieId:this.M,streamId:this.Ua,offset:this.offset,bytes:this.ba};};return a;}();d.Ew=a;g.Yj(a.prototype,{stream:g.$o({get:function(){return this.Lc;}}),ba:g.$o({get:function(){return this.Rb;}}),offset:g.$o({get:function(){return this.xd;}}),ga:g.$o({get:function(){return this.Lc.ga;}}),M:g.$o({get:function(){return this.Lc.M;}}),R:g.$o({get:function(){return this.Lc.R;}}),Ua:g.$o({get:function(){return this.Lc.Ua;}}),O:g.$o({get:function(){return this.Lc.O;}}),profile:g.$o({get:function(){return this.Lc.profile;}}),ha:g.$o({get:function(){return this.Lc.ha;}}),Tv:g.$o({get:function(){return this.Lc.Tv;}}),Ka:g.Z({get:function(){return this.Lc.Ka;}}),NH:g.Z({get:function(){return this.Lc.NH;}}),PH:g.Z({get:function(){return this.Lc.PH;}}),n7:g.Z({get:function(){return this.Lc.n7;}})});},function(g,d,a){var b,f,t,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(13);t=a(11);p=a(6);g=function(a){function c(c,b,k,d){k=a.call(this,k)||this;k.kma=c.Ua;k.location=c.location||b.location;k.Xc=c.Qb||b.Qb;k.Vaa=c.Vaa||b.Vaa;k.ZKb=p.time.ea();f.assert(d);k.N=d;return k;}b.__extends(c,a);c.prototype.gc=function(a,c){this.Sa=a;this.$f=c;this.x1=!1;};c.prototype.JP=function(a){var c,b,k;c={type:"logdata",target:"endplay",fields:{}};b=this.R===t.I.AUDIO?"audioedit":"videoedit";k=[this.gv===this.V?this.Wd:this.Mc,this.gv===this.V?-this.duration:this.duration];a&&a.Gq&&k.push(a.Gq);c.fields[b]={type:"array",value:k};this.Sa&&this.Sa.emit(c.type,c);};c.prototype.BP=function(a){this.Sa.G.yL&&(this.ksa=!0,this.$qa=a);};c.prototype.NW=function(a,c){var b,k;if(this.complete)return 0;b=this.kma;k=a[b];return k?k.url?this.url===k.url||(c(this,k.location,k.Qb),this.sM(k.url))?0:(this.N.warn("swapUrl failed: ",this.fD),3):(this.N.warn("updateurl, missing url for streamId:",b,"mediaRequest:",this,"stream:",k),2):(this.N.warn("updateUrl, missing stream for streamId:",b,"mediaRequest:",this,"streamMap:",a),1);};return c;}(a(84));d.Dw=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vp={ZA:"PRIMARY",Mca:"ASSISTIVE",uda:"COMMENTARY"};d.b_={assistive:d.vp.Mca,closedcaptions:d.vp.Mca,directorscommentary:d.vp.uda,commentary:d.vp.uda,subtitles:d.vp.ZA,primary:d.vp.ZA};},function(g){g.T=function(d){return null!=d&&"object"===typeof d&&!0===d["@@functional/placeholder"];};},function(g,d,a){var b,f,t;b=a(111);f=a(51);t=a(158);g.T=function(a){return function k(d,n,u){switch(arguments.length){case 0:return k;case 1:return t(d)?k:f(function(b,k){return a(d,b,k);});case 2:return t(d)&&t(n)?k:t(d)?f(function(b,k){return a(b,n,k);}):t(n)?f(function(b,k){return a(d,b,k);}):b(function(b){return a(d,n,b);});default:return t(d)&&t(n)&&t(u)?k:t(d)&&t(n)?f(function(b,k){return a(b,k,u);}):t(d)&&t(u)?f(function(b,k){return a(b,n,k);}):t(n)&&t(u)?f(function(b,k){return a(d,b,k);}):t(d)?b(function(b){return a(b,n,u);}):t(n)?b(function(b){return a(d,b,u);}):t(u)?b(function(b){return a(d,n,b);}):a(d,n,u);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nga="ManifestEncoderSymbol";d.cZ="ManifestTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zea="IDBDatabaseFactorySymbol";d.Bfa="IndexedDBFactorySymbol";d.SY="IndexedDBStorageFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.CNa="NativeLocalStorageSymbol";d.Mga="NativeLocalStorageFactorySymbol";d.$ea="IDBFactorySymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(29);d.qxb=function(){this.OH=[];this.tF=[];this.S1=b.Fw.Kw;this.WW=b.Oj.Kw;};d.AN="DeviceCapabilitiesConfigSymbol";},function(g,d,a){g=a(237);a=a(236);d.async=new a.mX(g.lX);},function(g,d,a){function b(a){var b,c;b=a.Symbol;if("function"===typeof b)return b.iterator||(b.iterator=b("iterator polyfill")),b.iterator;if((b=a.Set)&&"function"===typeof new b()["@@iterator"])return"@@iterator";if(a=a.Map)for(var b=Object.getOwnPropertyNames(a.prototype),f=0;f<b.length;++f){c=b[f];if("entries"!==c&&"size"!==c&&a.prototype[c]===a.prototype.entries)return c;}return"@@iterator";}g=a(81);d.UKb=b;d.iterator=b(g.root);d.vvb=d.iterator;},function(g,d,a){var b,f,t,p,c,k,q,n;b=this&&this.__extends||function(a,c){function b(){this.constructor=a;}for(var k in c)c.hasOwnProperty(k)&&(a[k]=c[k]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b());};f=a(10);g=a(47);t=a(73);p=a(452);c=a(451);k=a(239);q=function(a){function c(c){a.call(this,c);this.destination=c;}b(c,a);return c;}(g.ii);d.oRa=q;a=function(a){function d(){a.call(this);this.Rs=[];this.JJ=this.Wf=this.closed=!1;this.Sba=null;}b(d,a);d.prototype[k.Vz]=function(){return new q(this);};d.prototype.Xf=function(a){var c;c=new n(this,this);c.R9=a;return c;};d.prototype.next=function(a){if(this.closed)throw new p.XA();if(!this.Wf)for(var c=this.Rs,b=c.length,c=c.slice(),k=0;k<b;k++)c[k].next(a);};d.prototype.error=function(a){if(this.closed)throw new p.XA();this.JJ=!0;this.Sba=a;this.Wf=!0;for(var c=this.Rs,b=c.length,c=c.slice(),k=0;k<b;k++)c[k].error(a);this.Rs.length=0;};d.prototype.complete=function(){if(this.closed)throw new p.XA();this.Wf=!0;for(var a=this.Rs,c=a.length,a=a.slice(),b=0;b<c;b++)a[b].complete();this.Rs.length=0;};d.prototype.unsubscribe=function(){this.closed=this.Wf=!0;this.Rs=null;};d.prototype.b1=function(c){if(this.closed)throw new p.XA();return a.prototype.b1.call(this,c);};d.prototype.Of=function(a){if(this.closed)throw new p.XA();if(this.JJ)return a.error(this.Sba),t.vk.EMPTY;if(this.Wf)return a.complete(),t.vk.EMPTY;this.Rs.push(a);return new c.Nia(this,a);};d.prototype.J1=function(){var a;a=new f.Ca();a.source=this;return a;};d.create=function(a,c){return new n(a,c);};return d;}(f.Ca);d.bj=a;n=function(a){function c(c,b){a.call(this);this.destination=c;this.source=b;}b(c,a);c.prototype.next=function(a){var c;c=this.destination;c&&c.next&&c.next(a);};c.prototype.error=function(a){var c;c=this.destination;c&&c.error&&this.destination.error(a);};c.prototype.complete=function(){var a;a=this.destination;a&&a.complete&&this.destination.complete();};c.prototype.Of=function(a){return this.source?this.source.subscribe(a):t.vk.EMPTY;};return c;}(a);d.Hvb=n;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qia="ReportSyncSymbol";d.pia="ReportApiErrorSyncSymbol";d.Kea="FtlProbeConfigSymbol";d.Lea="FtlProbeSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Ln||(d.Ln={});g[g.Cz=0]="playready";g[g.aX=1]="widevine";g[g.gD=2]="fairplay";g[g.TEb=3]="clearkey";d.VIa="DrmTypeSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jO="PlatformConfigDefaultsSymbol";},function(g){g.T={Xq:{$Z:0,tia:1,hi:2,name:["transient","semiTransient","permanent"]},Vq:{Eea:0,ria:1,lO:2,pG:3,hr:100,name:["firstLoad","scrollHorizontal","search","playFocus"]},hDb:{QCb:0,Gzb:1,Mwb:2,hr:100,name:["trailer","montage","content"]},qp:{Ofa:0,mia:1,dSa:2,nIa:3,hr:100,name:["left","right","up","down"]},$F:{EGa:0,lO:1,xyb:2,Rxb:3,Qvb:4,wyb:5,yFa:6,hr:100,name:"continueWatching search grid episode billboard genre bigRow".split(" ")},LA:{pG:0,Sda:1,hr:100,name:["playFocused","detailsOpened"]}};},function(g,d,a){d=a(230);g.T="undefined"!==typeof d&&"undefined"!==typeof nrdp?nrdp.ea:Date.now;},function(g,d,a){var b,f,t,p,c,k,q,n,u,y,A,h,x,I,G,N,T;Object.defineProperty(d,"__esModule",{value:!0});b=a(181);f=a(104);t=a(12);p=a(8);g=a(32);c=a(2);k=a(14);q=a(4);n=a(114);u=a(61);y=a(56);A=a(18);h=a(9);x=a(16);I=a(28);G=a(96);N=a(3);a=a(21);d.vj={};M._cad_global.msl=d.vj;T=q.W.get(a.xe);g.aZ&&T.register(c.K.kfa,function(a){var S,m,r,X,ja,Y,da,ea,Sa,oa,O,ra,Aa,Ha;function g(b){b&&b.userList&&t.config.Lqb&&(b.userList=[]);X({esn:f.wh.xh,esnPrefix:f.wh.cn,authenticationType:t.config.SH,authenticationKeyNames:t.config.Yna,systemKeyWrapFormat:t.config.psb,serverIdentityId:"MSL_TRUSTED_NETWORK_SERVER_KEY",serverIdentityKeyData:Aa,storeState:b,notifyMilestone:T.Nc.bind(T),log:da,ErrorSubCodes:{MSL_REQUEST_TIMEOUT:c.H.xMa,MSL_READ_TIMEOUT:c.H.wMa}},{result:function(a){K(a);},timeout:function(){a({Y:c.H.mga});},error:function(b){a(l(c.H.mga,void 0,b));}});}function K(b){var n,u,g;function f(){ra&&q.W.get(y.Hn).create().then(function(a){return a.save(oa,u,!1);})["catch"](function(a){da.error("Error persisting msl store",c.Nn(a));});}n=q.W.get(G.eB)(N.zb(100));g=ja.extend({init:function(a){this.tla=a;},getResponse:function(a,c,b){var f,n;c=this.tla;f=c.dm.Uc||f;a=x.zva(a.body)?q.RW(a.body):a.body;k.AI(a,"Msl should not be sending empty request");a={url:c.url,s$:a,withCredentials:!0,MC:"nq-"+c.method,headers:c.headers};c=this.tla.timeout;a.eR=c;a.B9=c;n=f.download(a,function(a){try{if(a.X)b.result({body:a.content});else if(400===a.Uh&&a.Oa)b.result({body:a.Oa});else throw A.Ya(new Y("HTTP error, SubCode: "+a.Y+(a.Uh?", HttpCode: "+a.Uh:"")),{cadmiumResponse:a});}catch(ff){b.error(ff);}});return{abort:function(){n.abort();}};}});Sa&&b.addEventHandler("shouldpersist",function(a){u=a.storeState;n.Ib(f);});A.Ya(d.vj,{HHb:function(){O=!0;},send:function(a){function k(){var c,b;c=a.dm;b={method:a.method,nonReplayable:a.C9,encrypted:a.Ql,userId:a.PM,body:a.body,timeout:2*a.timeout,url:new g(a),allowTokenRefresh:ra,sendUserAuthIfRequired:Ha,shouldSendUserAuthData:t.config.Qqb};c.ry?(b.email=c.ry,b.password=c.password||""):c.oDa?(b.token=c.oDa,b.mechanism=c.Chb,c.pz&&(b.netflixId=c.pz,b.secureNetflixId=c.SV),c.Ch&&(b.profileGuid=c.Ch)):c.pz?(b.netflixId=c.pz,b.secureNetflixId=c.SV):c.bxa?(b.mdxControllerToken=c.bxa,b.mdxPin=c.xhb,b.mdxNonce=c.whb,b.mdxEncryptedPinB64=c.vhb,b.mdxSignature=c.yhb):O||c.useNetflixUserAuthData?b.useNetflixUserAuthData=!0:c.Ch&&(b.profileGuid=c.Ch);return b;}return new Promise(function(a,f){var n;n=k();b.send(n).then(function(c){O&&(O=!1);a({X:!0,body:c.body});})["catch"](function(a){var k,n;if(a.error){k=a.error.cadmiumResponse&&a.error.cadmiumResponse.Y?a.error.cadmiumResponse.Y:b.isErrorReauth(a.error)?c.H.lga:b.isErrorHeader(a.error)?c.H.qMa:c.H.jga;n=b.getErrorCode(a.error);f(l(k,n,a.error));}else da.error("Unknown MSL error",a),a.Bc=a.subCode,f({Y:a.Bc?a.Bc:c.H.yMa});});});},Ff:b});a(p.yc);}function l(a,c,b){var k,f,n,d;d={Y:a,bv:c};if(b){k=function(a){var c;a=a||""+b;if(b.stack){c=""+b.stack;a=0<=c.indexOf(a)?c:a+c;}return a;};if(n=b.cadmiumResponse){if(f=n.qc&&n.qc.toString())n.qc=f;n.Y=a;n.bv=c;n.Oa=k(b.message);n.error={Bc:a,Tf:f,qq:c,data:b.cause,message:b.message};return n;}k=k(b.errorMessage);f=A.Od(b.internalCode)||A.Od(b.error&&b.error.internalCode);n=void 0!==b.o8a?I.iya(b.o8a):void 0;}k&&(d.Oa=k);f&&(d.qc=f);d.error={Bc:a,Tf:f.toString(),qq:c,data:n,message:k};return d;}k.Ga(t.config);S=q.W.get(n.nx);m=u.Zc.ji;if(h.Rt&&h.Ym&&h.Ym.unwrapKey){try{r=M.netflix.msl;X=r.createMslClient;ja=r.IHttpLocation;Y=r.MslIoException;}catch(Ga){a({Y:c.H.rMa});return;}da=q.Cf("Msl");ea=t.config.yib;Sa=t.config.zib;oa=t.config.bn?"mslstoretest":"mslstore";r=b.ZE.IBa;O=t.config.Pdb;ra=!r||r.X;Aa=q.Jk(t.config.bn?"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm84o+RfF7KdJgbE6lggYAdUxOArfgCsGCq33+kwAK/Jmf3VnNo1NOGlRpLQUFAqYRqG29u4wl8fH0YCn0v8JNjrxPWP83Hf5Xdnh7dHHwHSMc0LxA2MyYlGzn3jOF5dG/3EUmUKPEjK/SKnxeKfNRKBWnm0K1rzCmMUpiZz1pxgEB/cIJow6FrDAt2Djt4L1u6sJ/FOy/zA1Hf4mZhytgabDfapxAzsks+HF9rMr3wXW5lSP6y2lM+gjjX/bjqMLJQ6iqDi6++7ScBh0oNHmgUxsSFE3aBRBaCL1kz0HOYJe26UqJqMLQ71SwvjgM+KnxZvKa1ZHzQ+7vFTwE7+yxwIDAQAB":"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAlibeiUhffUDs6QqZiB+jXH/MNgITf7OOcMzuSv4G3JysWkc0aPbT3vkCVaxdjNtw50zo2Si8I24z3/ggS3wZaF//lJ/jgA70siIL6J8kBt8zy3x+tup4Dc0QZH0k1oxzQxM90FB5x+UP0hORqQEUYZCGZ9RbZ/WNV70TAmFkjmckutWN9DtR6WUdAQWr0HxsxI9R05nz5qU2530AfQ95h+WGZqnRoG0W6xO1X05scyscNQg0PNCy3nfKBG+E6uIl5JB4dpc9cgSNgkfAIeuPURhpD0jHkJ/+4ytpdsXAGmwYmoJcCSE1TJyYYoExuoaE8gLFeM01xXK5VINU7/eWjQIDAQAB");Ha=!!t.config.Raa;q.W.get(y.Hn).create().then(function(b){ea?b.remove(oa).then(function(){g();})["catch"](function(a){da.error("Unable to delete MSL store",c.Nn(a));g();}):Sa?b.load(oa).then(function(a){S.mark(m.tMa);g(a.value);})["catch"](function(k){k.Y==c.H.Sn?(S.mark(m.vMa),g()):(da.error("Error loading msl store",c.Nn(k)),S.mark(m.uMa),b.remove(oa).then(function(){g();})["catch"](function(c){a(c);}));}):g();})["catch"](function(b){da.error("Error creating app storage while loading msl store",c.Nn(b));a(b);});}else a({Y:c.H.sMa});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.HZ="PlaylistHelperSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.oia=function(a,b){var f;this.dba=function(){f||(f=setInterval(b,a));};this.I2=function(){f&&(clearInterval(f),f=void 0);};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Kh||(d.Kh={});g[g.oCa=1]="sourceopen";g[g.Zm=2]="currentTimeChanged";g[g.NL=3]="seeked";g[g.TIb=4]="needlicense";g[g.Wva=5]="licenseadded";g[g.nCa=6]="sourceBuffersAdded";g[g.M9=7]="onNeedKey";},function(g,d,a){var b,f,t;Object.defineProperty(d,"__esModule",{value:!0});b=a(14);f=a(18);t=a(16);(function(){var c,k,q;function a(a){b.Ga(void 0!==c[a]);return c[a];}c={'"':'""',"\r":"","\n":" "};k=/["\r\n]/g;q=/[", ]/;d.G4a=function(c){return t.Ob(c)?t.qa(c)?c:t.Ld(c)?c.replace(k,a):t.fva(c)?c:isNaN(c)?"NaN":"":"";};d.xwa=function(a){var c,b;c=d.G4a;b="";f.Sc(a,function(a,k){a=c(a)+"="+c(k);q.test(a)&&(a='"'+a+'"');b=b?b+(","+a):a;});return b;};}());},function(g,d,a){var f,t,p;function b(a,b){this.gj=b?[b]:[];this.DB="$op$"+p++;this.o=a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(8);t=a(14);p=0;b.prototype.addListener=function(a,b){var c;c=this;t.dqa(a);t.Ga(0>this.gj.indexOf(a));a[f.pZ+this.DB]=b;this.gj=this.gj.slice();this.gj.push(a);this.gj.sort(function(a,b){return c.erb(a,b);});};b.prototype.removeListener=function(a){var c;t.dqa(a);this.gj=this.gj.slice();0<=(c=this.gj.indexOf(a))&&this.gj.splice(c,1);};b.prototype.set=function(a,b){if(this.o!==a){b={oldValue:this.o,newValue:a,Tu:b};this.o=a;a=this.gj;for(var c=a.length,k=0;k<c;k++)a[k](b);}};b.prototype.erb=function(a,b){return(a[f.pZ+this.DB]||0)-(b[f.pZ+this.DB]||0);};na.Object.defineProperties(b.prototype,{value:{configurable:!0,enumerable:!0,get:function(){return this.o;}}});d.Ic=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.GZ="PlaybackSegmentDataFactorySymbol";},function(g,d,a){var t,p,c,k,q,n,u,y,A,h,x,I,G,N,T,l,m;function b(a){var b;b=this;this.j=a;this.$na=this.Xva=!1;this.log=q.Uf(this.j,"Playback");this.dm={Uc:a.PJ,log:q.Uf(a,"MSLContext"),profile:a.profile};this.RT=q.W.get(G.cG);this.dl=q.W.get(l.cx);this.Hc=q.W.get(m.gB);this.j.addEventListener(T.U.pK,function(){return b.oub();});n.Ga(c.config);n.Ga(t.vh);n.Ga(this.dm.Uc);c.config.kp||(this.K6a=q.W.get(u.hea));}function f(a,c,b){var f;function k(a){return a&&0<a.length&&a[0].Fv;}f=q.W.get(G.cG);return a.oa&&k(a.ic)?f.release(Object.assign({},b,{oa:a.oa,ic:a.ic}),c):b.oa&&k(b.ic)?f.release(b,c):Promise.resolve(p.yc);}Object.defineProperty(d,"__esModule",{value:!0});t=a(140);p=a(8);c=a(12);k=a(25);q=a(4);n=a(14);u=a(459);y=a(2);A=a(61);h=a(32);x=a(46);I=a(16);G=a(146);N=a(145);T=a(15);l=a(92);m=a(108);b.prototype.TH=function(a){var d,q,u;function b(){d.j.wBa().then(f)["catch"](a);}function f(c){try{d.j.Gza(c);a(p.yc);d.l9a();}catch(Y){d.log.error("Exception processing authorization response",Y);a({X:!1,Y:y.H.ROa});}}d=this;n.zI(this.j.M);n.zI(this.j.Zg);q=this.j.Aa;if(q){u=q.expiration;u?(u-=k.K2(),18E5<u?x.yb(function(){f(q);d.j.Lu="ui";}):(this.log.error("manifest is expired",{gap:u}),b())):x.yb(function(){f(q);d.j.Lu="ui";});}else c.config.tn&&this.Hc()?(u=this.Hc().Vl(this.j.M,"manifest"))&&u.then(function(a){f(a);d.j.Lu="videopreparer";})["catch"](function(a){d.log.warn("manifest not in cache",a);b();}):b();};b.prototype.Cs=function(a){var c;c=this;return new Promise(function(b,k){var f,n,d;f=A.Zc.zpa(a.zh);n=a.Pp.map(function(a){return{sessionId:a.sessionId,dataBase64:q.$r(a.data)};});d=c.j.qbb(a.Pp[0].sessionId);f={Gf:d.Gf,zh:I.is.jj(a.zh)?a.zh:f,LR:[d.$j],Pp:n,oa:d.oa,po:a.po,nf:d.Aa.nf};c.j.nI&&c.j.nI.gR&&(f.AK=c.j.nI.gR);c.RT.bC(f,c.dm.profile).then(function(a){c.j.ic=a.ic;b(a);c.m9a(d);})["catch"](k);});};b.prototype.release=function(a){return f(this.j,this.dm.profile,a);};b.prototype.Fpa=function(){var a;a=this.K6a.create();a.profileId=this.j.profile.id;this.j.Ce&&(a.Md=this.j.Ce.nD());a.ic=this.j.ic;a.oa=this.j.oa;a.M=this.j.M;return a;};b.prototype.m9a=function(a){this.Xva||(this.Xva=!0,this.j.fireEvent(T.U.pK,{ga:a.ga}));};b.prototype.l9a=function(){var a;a=this;this.$na||(this.$na=!0,this.j.fireEvent(T.U.Zna),q.W.get(N.hO)().then(function(c){c.krb(a.j);}));};b.prototype.oub=function(){var a;a=this;this.dl.Gi||b.$Da||(b.$Da=!0,h.ANa&&c.config.nub&&t.vh.c2(this.dm).then(function(){return a.log.trace("Updated NetflixId");})["catch"](function(c){return a.log.error("NetflixId upgrade failed",y.Nn(c));}));};b.$Da=!1;d.hHa=b;d.Pnb=f;},function(g,d,a){var p,c,k,q,n,u,y,A,h,x,I,G,N,T,l,m,D,Q;function b(a,b){var K,G;function n(b){return c.Pnb(a,G,b);}function d(){var a,c,b;c=y.Cf("Eme");a=new u.Eg.Bt(c,void 0,n,{Tg:!1,cK:!1});b=y.W.get(h.dB);return u.Eg.Dt(c,"cenc",void 0,{Tg:!1,cK:!1,vva:q.config.di,oBa:{lxa:q.config.mpb,Ooa:q.config.Daa,mLb:q.config.lpb},FL:a,Jza:q.config.F$,qF:q.config.qF,tA:q.config.m4,FJb:q.config.npb,Tna:b.oI([]),mEa:b.uI([]),CD:q.config.CD});}function g(a,c){var b,k;k=y.W.get(Q.GZ)(0,0,c.movieId,{},c.xid,m.zb(D.Qf()),!1,void 0,function(){return null;});q.config.di&&(K.info("secure stop is enabled"),b=a.X?{success:a.X,persisted:!0,ss_km:a.kxa,ss_sr:a.VL,ss_ka:a.jpa}:{success:a.X,persisted:!0,state:a.state,ErrorCode:a.code,ErrorSubCode:a.Bc,ErrorExternalCode:a.Tf,ErrorEdgeCode:a.py,ErrorDetails:a.cause&&a.cause.Oa},b.browserua=I.tk,c=y.W.get(T.Mj),a=y.W.get(l.On).Nl("securestop",a.X?"info":"error",b,k),c.vc(a));}function x(){function a(a,c){var b;G=p.Lg.qv(c.profileId);if(!G)return K.warn("profile not found in release drm session, this is an orphan drmSession"),f(a,c);if(!c.ic||0===c.ic.length||!c.ic[0].Fv)return K.error("releaseDrmSession exception: missing valid keySessionData"),f(a,c);if(0<c.ic.length){K.info("Sending the deferred playdata and secure stop data");b=d();return b.create(q.config.Md).then(function(){return b.VFb(c);}).then(function(b){K.info("Sent the deferred playdata and secure stop data");g(b,c);return f(a,c);})["catch"](function(b){b&&b.code===A.K.wQa&&f(a,c);b&&b.code===A.K.vQa&&f(a,c);K.error("Unable to send last stop",b);g(b,c);throw b;});}K.info("No key session so just send the playdata");return n(c).then(function(){K.trace("Successfully sent stop command for previous session");return f(a,c);})["catch"](function(a){K.error("Unable to send stop command for previous session",a);throw a;});}t(K).then(function(c){var f;f=c.MR.filter(function(a){return!1===a.active;}).map(function(b){return a(c,b);});Promise.all(f).then(function(){K.info("release drm session completed for "+f.length+" entries");b(k.yc);})["catch"](function(a){a=a||{};a.DrmCacheSize=f.length;K.error("Unable to release one or more DRM session data",a);b(k.yc);});})["catch"](function(a){K.error("Unable to load DRM session data",a);b(k.yc);});}K=y.Cf("PlayDataManager");b=b||k.ee;q.config.kp?b(k.yc):x();}function f(a,c){return a?a.$$(c):Promise.resolve();}function t(a){var c;if(!d.Rqa){c=y.W.get(x.vX);d.Rqa=new Promise(function(b,k){c.Uza().then(function(){b(c);})["catch"](function(c){a.error("Unable to load DRM data for persistent secure stop",c);k(c);});});}return d.Rqa;}Object.defineProperty(d,"__esModule",{value:!0});p=a(106);c=a(179);k=a(8);q=a(12);n=a(54);u=a(32);y=a(4);A=a(2);h=a(113);x=a(241);I=a(9);G=a(145);N=a(15);T=a(38);l=a(58);m=a(3);D=a(25);Q=a(178);g=a(21);d.qPa=function(a){var g,p,A,h,x;function c(){p||(a.Nc("pdsb"),p=y.W.get(G.hO)().then(function(c){h=c;a.Nc("pdsc");return c;})["catch"](function(c){g.error("Unable to initialize the playdata services",c);a.Nc("pdse");throw c;}));return p;}function d(){A=!0;h&&h.close();n.ue.removeListener(n.Uk,d);}g=y.Uf(a,"PlayDataManager");A=!1;if(!u.Eg.Dt||!u.Eg.Bt){x={};u.Eg.Dt=x.Sa;u.Eg.Bt=x.request;}a.Nc("pdctor");a.addEventListener(N.U.se,function(){n.ue.removeListener(n.Uk,d);});a.addEventListener(N.U.pK,function(){var c;if(!q.config.kp&&a.Ce){c=a.vh.Fpa();t(g).then(function(a){return a.Vma(c);})["catch"](function(){g.error("Unable to load/add cached DRM data");});}});a.addEventListener(N.U.se,function(){var b;if(!A){a.$ub();b=[function(){return q.config.kp||!a.Ce?Promise.resolve():new Promise(function(c){var b;g.info("Sending the expedited playdata and secure stop data");b=a.vh.Fpa();a.Ce.uGb(b).then(function(c){g.info("Sent the expedited playdata and secure stop data");q.config.di&&a.iq.TV({success:c.X,persisted:!1,ss_km:c.kxa,ss_sr:c.VL,ss_ka:c.jpa});return t(g);}).then(function(a){return f(a,b);}).then(function(){c();})["catch"](function(b){g.error("Unable to send the expedited playdata and secure stop data",b);q.config.di&&a.iq.TV({success:b.X,state:b.state,ErrorCode:b.code,ErrorSubCode:b.Bc,ErrorExternalCode:b.Tf,ErrorEdgeCode:b.py,ErrorDetails:b.cause&&b.cause.Oa});c();});});}(),function(){return c().then(function(c){return c.yCa(a.ja);}).then(function(){g.info("Sent the playdata");})["catch"](function(a){g.error("Unable to send the playdata",a);});}(),function(){return new Promise(function(a){y.W.get(T.Mj).flush(!1)["catch"](function(){g.error("Unable to send logblob");a();}).then(function(){a();});});}()];Promise.all(b).then(function(){a.HU();})["catch"](function(){a.HU();});}});n.ue.addListener(n.Uk,d);return{Bpb:function(f){a.Nc("pdpb");q.config.VV||c().then(function(c){return c.send(a.M);}).then(function(){q.config.kp?(a.Nc("pdpc"),f(k.yc)):b(a,function(){a.Nc("pdpc");f(k.yc);});})["catch"](function(){a.Nc("pdpe");f(k.yc);});}};};d.rPa=function(){new Promise(function(a){b({},function(c){a(c);});});};y.W.get(g.xe).register(A.K.Jt,function(a){a(k.yc);});},function(g,d,a){var b,f,t,p,c,k,q,n,u,y,A;Object.defineProperty(d,"__esModule",{value:!0});b=a(8);f=a(12);t=a(54);p=a(25);c=a(2);k=a(14);q=a(4);n=a(18);u=a(9);y=a(123);A=a(16);g=a(21);q.W.get(g.xe).register(c.K.ofa,function(a){var K,N,T;function g(){var a;g=b.ee;a=setInterval(h,f.config.ogb);t.ue.addListener(t.Uk,function(c){c&&c.isPopStateEvent?K.trace("popstate event, Lock timers can stay"):(n.Sc(N,function(a,c){localStorage.removeItem(c.kn);}),clearInterval(a));},b.WA);}function h(){var a;a=p.$Q();n.Sc(N,function(c,b){c=localStorage.getItem(b.kn);(c=JSON.parse(c))?c.updated=a:c={updated:a,sessionId:T,count:1};localStorage.setItem(b.kn,JSON.stringify(c));});}k.Ga(y.storage);K=q.Cf("StorageLock");N={};T=Date.now()+"-"+Math.floor(1E6*Math.random());d.ZE={bC:function(a,k){var q,y,t,h,x,I,G;function d(a){localStorage.setItem(y,JSON.stringify(a));a={kn:y};N[y]=a;K.trace("Lock acquired",{Name:a.kn});g();k({X:!0,VT:a});}if(localStorage){q=p.$Q();y="lock-"+a;a={updated:q,sessionId:T,count:1};try{if(y in localStorage){t=localStorage.getItem(y);x=JSON.parse(t);A.zv(x.updated)&&(h=x.updated);I=u.gG(q-h)*b.qk<f.config.ngb;G=T===x.sessionId;I?G?(x.count+=1,K.debug("Incremented lock count for existing playbackSession",{id:T,count:x.count}),x.updated=q,d(x)):k({X:!1}):(K.error("Lock was expired or invalid, ignoring",{Epoch:q,LockEpoch:h}),d(a));}else d(a);}catch(da){K.error("Error acquiring Lock",{errorSubCode:c.H.Dg,errorDetails:n.od(da)});k({X:!0});}}else u.dwa?K.error("Local storage access exception",{errorSubCode:c.H.KQa,errorDetails:n.od(u.dwa)}):K.error("No localstorage",{errorSubCode:c.H.LQa}),k({X:!0});},release:function(a,c){var f,n;k.Ga(N[a.kn]==a);if(localStorage){try{f=localStorage.getItem(a.kn);n=JSON.parse(f);1<n.count?(--n.count,localStorage.setItem(a.kn,JSON.stringify(n)),K.trace("Lock count decremented",{Name:a.kn,count:n.count})):(localStorage.removeItem(a.kn),delete N[a.kn],K.trace("Lock released",{Name:a.kn}));}catch(W){K.error("Unable to release Lock",{Name:a.kn},W);}c&&c(b.yc);}}};f.config.$R?d.ZE.bC("session",function(c){d.ZE.IBa=c;a(b.yc);}):a(b.yc);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.EZ="PlayPredictionDeserializerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.QT=function(a,b,f){var d;if(f.set)throw Error("Property "+b+" has a setter and cannot be made into a lazy property.");d=f.get;f.get=function(){var g,c;g=d.apply(this,arguments);c={enumerable:f.enumerable,value:g};Object.getPrototypeOf(a)===Function.prototype?Object.defineProperty(a,b,c):Object.defineProperty(this,b,c);return g;};};},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.PHa="display";a.zGa="console";a.FBb="remote";a.mDb="writer";d.cga=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hha="PboPlaydataValidatorSymbol";d.Eha="PboPlaydataArrayValidatorSymbol";d.Fha="PboPlaydataCollectionValidatorSymbol";},function(g,d,a){var c,k,q,n,u;function b(a,c,b){this.Ta=a;this.Yta=c;this.Ba=b;}function f(){}function t(){}function p(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);c=a(1);k=a(41);q=a(3);n=a(17);a=a(23);p.prototype.encode=function(a){return{downloadableId:a.Qc,duration:a.duration};};p.prototype.decode=function(a){return{Qc:a.downloadableId,duration:a.duration};};t.prototype.encode=function(a){return{total:a.total,audio:a.audio.map(new p().encode),video:a.video.map(new p().encode),text:a.text.map(new p().encode)};};t.prototype.decode=function(a){return{total:a.total,audio:a.audio.map(new p().decode),video:a.video.map(new p().decode),text:a.text.map(new p().decode)};};f.prototype.encode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,xid:a.oa,movieId:a.M,position:a.position,clientTime:a.iI,sessionStartTime:a.WL,mediaId:a.gz,playTimes:new t().encode(a.bL),trackId:a.fb,sessionId:a.sessionId,appId:a.FH,sessionParams:a.lm,mdxControllerEsn:a.U8};};f.prototype.decode=function(a){return{type:a.type,profileId:a.profileId,href:a.href,oa:a.xid,M:a.movieId,position:a.position,iI:a.clientTime,WL:a.sessionStartTime,gz:a.mediaId,bL:new t().decode(a.playTimes),fb:a.trackId,sessionId:a.sessionId,FH:a.appId,lm:a.sessionParams,U8:a.mdxControllerEsn};};d.AZ=f;b.prototype.create=function(a){return{href:a.Aa&&a.Aa.nf?a.Aa.nf.P5("events").href:"",type:"online",profileId:a.profile.id,oa:a.oa.toString(),M:a.M,position:a.v3||0,iI:this.Ta.Uaa.fa(q.na),WL:a.DD?a.DD.fa(q.na):-1,gz:this.L$a(a),bL:this.obb(a),fb:void 0!==a.Zg?a.Zg.toString():"",sessionId:this.Yta().sessionId||this.Ba.id,FH:this.Yta().FH||this.Ba.id,lm:a.Za.lm||{}};};b.prototype.g4a=function(a,c){return Object.assign({},this.create(a),{U8:c&&c.gR});};b.prototype.load=function(a){return new f().decode(a);};b.prototype.L$a=function(a){var c,b,k;c=a.Ec.value;b=a.gf.value;k=a.wc.value;return c&&b&&k?(a=a.Aa.media.find(function(a){return a.tracks.AUDIO===c.fb&&a.tracks.VIDEO===b.fb&&a.tracks.TEXT===k.fb;}))?a.id:"":"";};b.prototype.V5=function(a){return a.map(function(a){return{Qc:a.downloadableId,duration:a.duration};});};b.prototype.obb=function(a){return(a=a.el)?(a=a.nbb(),{total:a.total,audio:this.V5(a.audio),video:this.V5(a.video),text:this.V5(a.timedtext)}):{total:0,video:[],audio:[],text:[]};};u=b;u=g.__decorate([c.L(),g.__param(0,c.l(k.Kj)),g.__param(1,c.l(n.gd)),g.__param(2,c.l(a.Je))],u);d.jPa=u;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bZ="ManifestProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dO="NetworkMonitorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zfa="LogMessageRulerConfigSymbol";d.$fa="LogMessageRulerSymbol";},function(g,d,a){var b,f,t,p,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(2);t=a(341);p=a(340);c=a(46);d.AEa=function(a,d){var k,q;try{k=t.ovb(a);}catch(y){b.log.error("xml2xmlDoc exception",y);}c.yb(function(){if(k&&k.documentElement)try{q=p.pvb(k);}catch(y){b.log.error("xmlDoc2js exception",y);}c.yb(function(){q?d({X:!0,object:q}):d({X:!1,Y:f.H.Fea});});});};},function(g,d,a){var b,f,t,p,c,k,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(14);f=a(19);t=a(8);p=a(125);c=a(9);k=a(16);q=a(18);d.ukb=function(){var ia,X,ja,Y,da,ea,Sa,oa,O,ra,Aa,Ha;function a(a){if(f.Ry(a)){a=a.toLowerCase();if("#"==a[0]){if(7==a.length)return a;if(4==a.length)return"#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3];}return d.Akb[a];}}function g(a,b,k){b=b[a];0<=b||(b=parseFloat(a));if(0<=b)return c.Bm(b,k);}function y(a,c){var b,k;b=a.length;k=a[b-1];if("t"===k)return parseFloat(a)*c|0;if("s"===k)return"m"===a[b-2]?parseFloat(a)|0:parseFloat(a)*t.qk|0;if((a=a.match(O))&&4<=a.length)return(3600*parseInt(a[1],10)+60*parseInt(a[2],10)+parseFloat(a[3]))*t.qk|0;throw Error("dfxp-badtime");}function A(a,c,b,k,f){var n,d,q,g,u,t,p,y;if(a){d=a.style;b=d?b[d]:void 0;k=(d=a.region)?k[d]:void 0;d=f.length;for(q=0;q<d;q++)if(g=f[q],u=a[g],void 0===u&&b&&(u=b[g]),void 0===u&&k&&(u=k[g]),void 0!==u&&u!==c[g]){if(!n)for(n={},t=0;t<d;t++)p=f[t],y=c[p],void 0!==y&&(n[p]=y);n[g]=u;}}return n||c;}function h(a,c,b,k,n,d,q,g,u){var y,h;function t(a,x,K){var I,G,T,l,S,m;I=a[p.Ui];G=I.style||x.style||"";T=I.region||x.region||"";G||T?(l=G+"/"+T,S=b[l]):S=c;if(!S){S=c;m=f.ZL(k);f.Ya(m,n[G]);S=N(S,m,q,g,u);b[G+"/"]=S;T&&(f.Ya(m,d[T]),f.Ya(m,n[G]),S=N(S,m,q,g,u),b[l]=S);}if(!K)a:{for(K=ea.length;K--;)if(void 0!==I[ea[K]]){K=!0;break a;}K=void 0;}K&&(I=A(I,x,n,d,Sa),S=N(S,I,q,g,u));x=(a=a[p.bX])&&a.length;for(G=0;G<x;G++)T=a[G],f.Se(T)?ra.test(T[p.cX])?h++:t(T,I,K):(y.push({text:T,lineBreaks:h,style:S}),h=0);}y=[];h=0;t(a,k,!1);0<h&&y.push({text:"",lineBreaks:h,style:c});return y;}function x(a,c,b,k,f,n,d,q){var g,u;b&&(b=X[b]||"top",a.verticalAlignment!==b&&(a.verticalAlignment=b));k&&(b=ja[k]||"left",a.horizontalAlignment!==b&&(a.horizontalAlignment=b));f?((u=q[f])?(k=u.marginLeft,b=u.marginTop):(g=f.split(" "),k=m(g[0],d.x)||0,b=m(g[1],d.y)||0,u={Up:0,marginLeft:k,marginTop:b,hZa:k*c.w6+c.IJ,jZa:b*c.Bca+c.UW},30>q.Up&&(q.Up++,q[f]=u)),a.marginLeft=u.hZa,a.marginTop=u.jZa):(b=k=0,(u=q["default"])||(q["default"]=u={Up:0}));n&&(f=u[n],f||(g=n.split(" "),f={iZa:(1-(k+(m(g[0],d.x)||0)))*c.w6+c.IJ,gZa:(1-(b+(m(g[1],d.y)||0)))*c.Bca+c.UW},30>u.Up&&(u.Up++,u[n]=f)),a.marginRight=f.iZa,a.marginBottom=f.gZa);}function I(a,c,b,k,n){var d,q,g;d=a.displayAlign;q=a.textAlign;g=a.origin;a=a.extent;b=f.ZL(b);x(b,c,d,q,g,a,k,n);b.id=ia++;return b;}function G(c,b,k,n){var q,u,t,p,y,A;q=g(k.characterSize||b.characterSize,d.Bkb,2)||1;u=(u=c.fontSize)&&Aa.test(u)?f.gr(f.Od(u),25,200):void 0;q*=u/100||1;u=c.textOutline;if(u&&"none"!=u){p=u.split(" ");Ha.test(p)?(A=0,y=c.color):(A=1,y=a(p[0]));t=l(p[A]);p=l(p[A+1]);}return{characterStyle:k.characterStyle||d.Ckb[c.fontFamily]||b.characterStyle,characterSize:q*n,characterColor:a(k.characterColor||c.color||b.characterColor),characterOpacity:g(f.N2(k.characterOpacity,c.opacity,b.characterOpacity),d.X9,1),characterEdgeAttributes:k.characterEdgeAttributes||u&&("none"===u?d.ykb:p?d.W9:d.Mya)||b.characterEdgeAttributes,characterEdgeColor:a(k.characterEdgeColor||y||b.characterEdgeColor),characterEdgeWidth:t,characterEdgeBlur:p,characterItalic:"italic"===c.fontStyle,characterUnderline:"underline"===c.textDecoration,backgroundColor:a(k.backgroundColor||c.backgroundColor||b.backgroundColor),backgroundOpacity:g(f.N2(k.backgroundOpacity,c.opacity,b.backgroundOpacity),d.X9,1)};}function N(a,b,k,f,n){var d;b=G(b,k,f,n);q.Sc(b,function(b,k){k!==a[b]&&(d||(d=c.oG(a)),d[b]=k);});return d||a;}function T(a,b,k,f,n,d,q,g){var u;u=a[p.Ui];k=A(a[p.Ui],b,k,n,oa);b=k.region;a=u.displayAlign;k=k.textAlign;n=u.origin;u=u.extent;b||a||k||n||u?((f=f[b])?f=c.oG(f):a||n||u?(f=c.oG(da),f.id=ia++):f=c.oG(Y),x(f,d,a,k,n,u,q,g)):f=Y;return f;}function l(a){a=f.Od(a);return k.zv(a,0,100)?a:0;}function m(a,c){var b;b=a[a.length-1];if("%"===b)return f.gr(.01*parseFloat(a),0,1);if("c"===b)return f.gr(f.Od(a)/c,0,1);}function D(a){for(var b=a.length,k=a[--b].endTime;b--;)k=c.Bm(a[b].endTime,k);return k;}function Q(c){q.Sc(c,function(b,k){0<=b.toLowerCase().indexOf("color")&&(c[b]=a(k));});}function r(a,k){var f,n,d,q;f=a.pixelAspectRatio;q={IJ:0,w6:1,UW:0,Bca:1};a=(a.extent||"640px 480px").split(" ");2<=a.length&&(f=(f||"").split(" "),n=parseFloat(a[0])*(parseFloat(f[0])||1),d=parseFloat(a[1])*(parseFloat(f[1])||1));n=0<n&&0<d?n/d:1280/720;k=k||1280/720;f=n/k;.01<c.gG(k-n)&&(k>=n?(q.IJ=(1-f)/2,q.w6=f):b.Ga(!1,"not implemented"));return q;}function ca(a){var c,b,k,n,q;if(c=a.cellResolution)if(c=c.split(" "),2<=c.length){b=f.Od(c[0]);c=f.Od(c[1]);if(0<b&&0<c)return{x:b,y:c};}c=a.extent;if(c&&(c=c.split(" "),2<=c.length)){b=f.Od(c[0]);q=f.Od(c[1]);if(a=a.pixelAspectRatio)c=a.split(" "),k=f.Od(c[0]),n=f.Od(c[1]);if(b&&q&&1.5<b*(k||1)/(q*(n||1)))return d.wkb;}return d.vkb;}ia=1;X={before:"top",center:"center",after:"bottom"};ja={left:"left",start:"left",center:"center",right:"right",end:"right"};Y={id:ia++,verticalAlignment:"bottom",horizontalAlignment:"center",marginTop:.1,marginLeft:.1,marginRight:.1,marginBottom:.1};da={id:ia++,verticalAlignment:"top",horizontalAlignment:"left",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0};ea="fontFamily fontSize fontStyle textDecoration color opacity backgroundColor textOutline".split(" ");Sa=ea.concat(["style","region"]);oa=["region","textAlign","displayAlign","extent","origin"];O=/^([0-9]+):([0-9]+):([0-9.]+)$/;ra=/^br$/i;Aa=/^[0-9]{1,3}%$/;Ha=/^[0-9]/;return function(b,k,n,q,u){var l,S,m,V,O,ja,ra,ea,Y,W,X,Aa,Ha,Ga,sa,Jb,B,F,Nc,Kb,M,P,R,Xb,Z,ba,fa,mf,ga,ha;function x(){try{for(var a;R;)if(Y=R[p.Ui],Xb.push({id:ia++,startTime:y(Y.begin,m),endTime:y(Y.end,m),region:T(R,ba,ja,ea,ra,V,Ga,F),textNodes:h(R,fa,mf,Z,ja,ra,Jb,B,sa)}),R=R[p.zF],a=c.zN(),100<a-ga){ga=Date.now();ha=setTimeout(x,1);return;}}catch(nf){N({Y:f.H.GN,Oa:f.od(nf)});return;}ha=setTimeout(K,1);}function K(){var c,b,k,n,d,q,u;function a(a,k){for(var n,d=[],q={},u,g=b.length;g--;)n=b[g],u=n.region.id,q[u]||(q[u]=1,d.unshift(n));(n=c[c.length-1])&&n.endTime==a&&f.Qu(n.blocks,d)?n.endTime=k:c.push({id:ia++,startTime:a,endTime:k,blocks:d});}try{if(!Xb.length){N({X:!0,entries:[]});return;}f.CZa(Xb);c=[];b=[];k=Xb[0];d=Xb[0].startTime;for(q=1;b.length||k;){for(;!b.length||k&&k.startTime==d;)b.push(k),d=k.startTime,k=Xb[q++];n=D(b);if(!k||n<=k.startTime)for(a(d,n),d=n,u=b.length;u--;)b[u].endTime<=d&&b.splice(u,1);else a(d,k.startTime),d=k.startTime,b.push(k),k=Xb[q++];}for(q=c.length;q--;)c[q].index=q,c[q].previous=c[q-1],c[q].next=c[q+1];}catch(of){N({Y:f.H.GN,Oa:f.od(of)});return;}N({X:!0,entries:c});}function N(a){setTimeout(function(){l.abort=f.ee;u(a);},1);}l={abort:function(){ha&&clearTimeout(ha);}};try{S=b[p.Ui];m=t.qk/(f.Od(S.tickRate)||1);V=r(S,k);O=f.Ya(da,{marginLeft:V.IJ,marginTop:V.UW,marginRight:V.IJ,marginBottom:V.UW});ja={};ra={};ea={};Aa=b.head;Ha=b.body;Ga=ca(S);sa=1/Ga.y*V.Bca;Jb=f.Ya({characterStyle:"PROPORTIONAL_SANS_SERIF",characterColor:"#EBEB64",characterEdgeAttributes:d.W9,characterEdgeColor:"#000000",characterSize:1},n,{uq:!0});B=q||{};F={Up:0};if(Aa){Nc=Aa.styling;if(Nc)for(X=Nc.style;X;)Y=X[p.Ui],Q(Y),ja[Y.id]=Y,X=X[p.zF];Kb=Aa.layout;if(Kb)for(var Fa=Kb.region;Fa;){Y=Fa[p.Ui];M=Y.id;W=f.ZL(ja[Y.style]);W=f.Ya(W,Y);for(X=Fa.style;X;)f.Ya(W,X[p.Ui]),X=X[p.zF];Q(W);ra[M]=W;ea[M]=I(W,V,O,Ga,F);Fa=Fa[p.zF];}}P=Ha.div;R=P.p;Xb=[];Z={};Z=A(Ha[p.Ui],Z,ja,ra,Sa);Z=A(P[p.Ui],Z,ja,ra,Sa);ba={};ba=A(Ha[p.Ui],ba,ja,ra,oa);ba=A(P[p.Ui],ba,ja,ra,oa);fa=G(Z,Jb,B,sa);f.Ya(fa,{windowColor:a(B.windowColor||Jb.windowColor),windowOpacity:g(f.N2(B.windowOpacity,Jb.windowOpacity),d.X9,1),cellResolution:Ga},{uq:!0});mf={};P.p=void 0;P[p.bX]=[];}catch(lf){N({Y:f.H.GN,Oa:f.od(lf)});return;}ga=c.zN();ha=setTimeout(x,1);return l;};}();d.Ckb={"default":"PROPORTIONAL_SANS_SERIF",monospaceSansSerif:"MONOSPACED_SANS_SERIF",monospaceSerif:"MONOSPACED_SERIF",proportionalSansSerif:"PROPORTIONAL_SANS_SERIF",proportionalSerif:"PROPORTIONAL_SERIF",casual:"CASUAL",cursive:"CURSIVE",smallCapitals:"SMALL_CAPITALS",monospace:"MONOSPACED_SANS_SERIF",sansSerif:"PROPORTIONAL_SANS_SERIF",serif:"PROPORTIONAL_SERIF"};d.Bkb={SMALL:.5,MEDIUM:1,LARGE:2};d.X9={NONE:0,SEMI_TRANSPARENT:.5,OPAQUE:1};d.Akb={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",magenta:"#ff00ff",green:"#00ff00",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",cyan:"#00ffff",orange:"#ffa500",pink:"#ffc0cb"};d.ykb="NONE";d.zkb="RAISED";d.xkb="DEPRESED";d.Mya="UNIFORM";d.W9="DROP_SHADOW";d.vkb={x:40,y:19};d.wkb={x:52,y:19};},function(g,d,a){var p;function b(){}function f(a,b){this.Xm=a;void 0!==b?(p(b<=a.xn,"require remain_sec <= chunk.sec but has "+b+" and "+a.xn),this.ci=b):this.ci=a.xn;}function t(a){void 0===a&&(a=[]);this.Oi=[];this.rf=this.Ri=0;for(var c in a)this.add(a[c],void 0);}p=a(13).assert;b.prototype=Error();f.prototype.constructor=f;f.prototype.Rp=function(){return new f(this.Xm,this.ci);};t.prototype.constructor=t;t.prototype.add=function(a,b){a=new f(a,b);this.Oi.push(a);this.rf+=a.ci;this.Ri+=a.Xm.Es()*a.ci;};t.prototype.Rp=function(){var a,b;a=new t(void 0);for(b in this.Oi)a.add(this.Oi[b].Xm,this.Oi[b].ci);return a;};t.prototype.Ao=function(){try{return this.Oi[0];}catch(c){}};t.prototype.bza=function(a){var c;for(p(0<=a,"unexpected play_for_x_sec: x="+a);0<a;){if(void 0===this.Ao())throw new b();if(a<this.Ao().ci){c=this.Ao().Xm.Es()*a;this.Ao().ci-=a;this.rf-=a;this.Ri-=c;a=0;}else c=this.Oi.shift(),this.rf-=c.ci,this.Ri-=c.Xm.Es()*c.ci,a-=c.ci;}};t.prototype.Alb=function(a){var f;p(0<=a,"unexpected play_y_kb: y="+a);for(var c=0;0<a;){if(void 0===this.Ao())throw new b();if(a<this.Ao().ci*this.Ao().Xm.Es()){f=a/this.Ao().Xm.Es();this.Ao().ci-=f;this.rf-=f;this.Ri-=a;c+=f;a=0;}else f=this.Oi.shift(),this.rf-=f.ci,this.Ri-=f.Xm.Es()*f.ci,c+=f.ci,a-=f.Xm.Es()*f.ci;}return c;};g.T={rda:t,fGa:b};},function(g,d,a){var b,f;b=a(194);f={};g.T={zGb:function(a){a=a.map(b.Lo);return a.slice(0,a.length/2);},yGb:function(a,b){var c;c=b/a.length;return a.slice(0,a.length/2).map(function(a,b){return b*c;});},B4:function(a,b){var c;c=a/b*Math.PI*-2;f[b]=f[b]||{};f[b][a]=f[b][a]||[Math.cos(c),Math.sin(c)];return f[b][a];}};},function(g){g.T={add:function(d,a){return[d[0]+a[0],d[1]+a[1]];},sd:function(d,a){return[d[0]-a[0],d[1]-a[1]];},multiply:function(d,a){return[d[0]*a[0]-d[1]*a[1],d[0]*a[1]+d[1]*a[0]];},Lo:function(d){return Math.sqrt(d[0]*d[0]+d[1]*d[1]);}};},function(g,d,a){var b,f,t;b=a(194);f=a(193);t=a(687);g.T={K4:function c(a){var k,n,d,t,h;k=[];n=a.length;if(1==n)return Array.isArray(a[0])?[[a[0][0],a[0][1]]]:[[a[0],0]];d=c(a.filter(function(a,c){return 0==c%2;}));a=c(a.filter(function(a,c){return 1==c%2;}));for(var g=0;g<n/2;g++){t=d[g];h=b.multiply(f.B4(g,n),a[g]);k[g]=b.add(t,h);k[g+n/2]=b.sd(t,h);}return k;},Gra:function(a){var u,g,A;for(var c=a.length,d=t.o2a(c),n=0;n<c;n++){u=t.reverse(n)>>>t.ZKa-d;if(u>n){g=[a[n],0];a[n]=a[u];a[u]=g;}else a[u]=[a[u],0];}for(d=2;d<=c;d+=d)for(n=0;n<d/2;n++)for(u=f.B4(n,d),g=0;g<c/d;g++){A=b.multiply(u,a[g*d+n+d/2]);a[g*d+n+d/2]=b.sd(a[g*d+n],A);a[g*d+n]=b.add(a[g*d+n],A);}}};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(6);f=a(26);g=function(){function a(a){this.N=new b.Console("ASEJS","media|asejs","("+a+")");this.n0=[];}a.prototype.dn=function(a){this.n0[a]||(this.n0[a]=f.TD(b,this.N,"["+a+"]"));return this.n0[a];};return a;}();d.wm=new g(0);},function(g,d,a){var c;function b(a,b,n){this.OC=!1===a;this.FI=a||.01;this.VY=void 0===b?25:b;this.zda=void 0===n?1.1:n;this.mg=new c(f);this.reset();}function f(a,c){return a.Ee>c.Ee?1:a.Ee<c.Ee?-1:0;}function t(a,c){return a.nq-c.nq;}function p(a){this.config=a||{};this.mode=this.config.mode||"auto";b.call(this,"cont"===this.mode?a.FI:!1);this.i6a=this.config.ratio||.9;this.j6a=this.config.VCa||1E3;this.AU=0;}c=a(718).cQa;b.prototype.reset=function(){this.mg.clear();this.V7=this.n=0;};b.prototype.size=function(){return this.mg.size;};b.prototype.kA=function(a){var c;c=[];a?(this.WO(!0),this.mg.Rc(function(a){c.push(a);})):this.mg.Rc(function(a){c.push({Ee:a.Ee,n:a.n});});return c;};b.prototype.summary=function(){return[(this.OC?"exact ":"approximating ")+this.n+" samples using "+this.size()+" centroids","min = "+this.sg(0),"Q1  = "+this.sg(.25),"Q2  = "+this.sg(.5),"Q3  = "+this.sg(.75),"max = "+this.sg(1)].join("\n");};b.prototype.push=function(a,c){c=c||1;a=Array.isArray(a)?a:[a];for(var b=0;b<a.length;b++)this.pka(a[b],c);};b.prototype.J$=function(a){a=Array.isArray(a)?a:[a];for(var c=0;c<a.length;c++)this.pka(a[c].Ee,a[c].n);};b.prototype.WO=function(a){var c;if(!(this.n===this.V7||!a&&this.zda&&this.zda>this.n/this.V7)){c=0;this.mg.Rc(function(a){a.nq=c+a.n/2;c=a.DC=c+a.n;});this.n=this.V7=c;}};b.prototype.k9a=function(a){var c,b;if(0===this.size())return null;c=this.mg.lowerBound({Ee:a});b=null===c.data()?c.Ez():c.data();return b.Ee===a||this.OC?b:(c=c.Ez())&&Math.abs(c.Ee-a)<Math.abs(b.Ee-a)?c:b;};b.prototype.JB=function(a,c,b){a={Ee:a,n:c,DC:b};this.mg.$l(a);this.n+=c;return a;};b.prototype.CO=function(a,c,b){c!==a.Ee&&(a.Ee+=b*(c-a.Ee)/(a.n+b));a.DC+=b;a.nq+=b/2;a.n+=b;this.n+=b;};b.prototype.pka=function(a,c){var b,k,f;b=this.mg.min();k=this.mg.max();f=this.k9a(a);f&&f.Ee===a?this.CO(f,a,c):f===b?this.JB(a,c,0):f===k?this.JB(a,c,this.n):this.OC?this.JB(a,c,f.DC):(b=f.nq/this.n,Math.floor(4*this.n*this.FI*b*(1-b))-f.n>=c?this.CO(f,a,c):this.JB(a,c,f.DC));this.WO(!1);!this.OC&&this.VY&&this.size()>this.VY/this.FI&&this.ls();};b.prototype.P_a=function(a){var c,b;this.mg.Qj=t;c=this.mg.upperBound({nq:a});this.mg.Qj=f;b=c.Ez();a=b&&b.nq===a?b:c.next();return[b,a];};b.prototype.sg=function(a){var c;c=(Array.isArray(a)?a:[a]).map(this.xWa,this);return Array.isArray(a)?c:c[0];};b.prototype.xWa=function(a){var c,b;if(0!==this.size()){this.WO(!0);this.mg.min();this.mg.max();a*=this.n;c=this.P_a(a);b=c[0];c=c[1];return c===b||null===b||null===c?(b||c).Ee:this.OC?a<=b.DC?b.Ee:c.Ee:b.Ee+(a-b.nq)*(c.Ee-b.Ee)/(c.nq-b.nq);}};b.prototype.ls=function(){var a;if(!this.mpa){a=this.kA();this.reset();for(this.mpa=!0;0<a.length;)this.J$(a.splice(Math.floor(Math.random()*a.length),1)[0]);this.WO(!0);this.mpa=!1;}};p.prototype=Object.create(b.prototype);p.prototype.constructor=p;p.prototype.push=function(a){b.prototype.push.call(this,a);this.f1a();};p.prototype.JB=function(a,c,f){this.AU+=1;b.prototype.JB.call(this,a,c,f);};p.prototype.CO=function(a,c,f){1===a.n&&--this.AU;b.prototype.CO.call(this,a,c,f);};p.prototype.f1a=function(){!("auto"!==this.mode||this.size()<this.j6a)&&this.AU/this.size()>this.i6a&&(this.mode="cont",this.OC=!1,this.FI=this.config.FI||.01,this.ls());};g.T={TDigest:b,Digest:p};},function(g,d,a){(function(){var p4U,h,x,I,G,N,T,l,m,D,Q,r,ca,ia,X,ja,Y,da,B4o;p4U=2;function f(a,c,b){var G4U;G4U=2;while(G4U!==5){switch(G4U){case 2:a=D(b.Ji,a*b.a9);return m(a,c);break;}}}function n(a,c,b){var l4U,f,n,d,q,V5o,M5o;l4U=2;while(l4U!==7){V5o="Must";V5o+=" hav";V5o+="e at least one selected s";V5o+="tream";M5o="no_feasi";M5o+="bl";M5o+="e_st";M5o+="re";M5o+="am";switch(l4U){case 5:f.va&&(f=ca(c.slice(0,Math.min(b+(a.qZa?2:1),c.length)).reverse(),k),void 0===f&&(f=c[0],q=M5o,d=f.va));c=new r();c.bp=f;l4U=9;break;case 9:n!==f&&(c.reason=q,c.Is=d);return c;break;case 2:l(!h.P(b),V5o);f=c[b],n=f;l4U=5;break;}}function k(c){var d4U,b,J5o;d4U=2;while(d4U!==8){J5o="b";J5o+="u";J5o+="ff_lt_";J5o+="h";J5o+="ist";switch(d4U){case 1:d4U=!b||(c.O>f.O?a.rub:1)*c.O>b?5:4;break;case 2:b=c.va;d4U=1;break;case 5:return!1;break;case 4:q=J5o;d=b;return!0;break;}}}}function u(a){var K4U,c,b;K4U=2;while(K4U!==3){switch(K4U){case 2:c=new r(),b=this.pla;c.bp=ca(a,function(a){var R4U;R4U=2;while(R4U!==1){switch(R4U){case 2:return a.O>=b;break;case 4:return a.O>b;break;R4U=1;break;}}})||a[a.length-1];c.mI=!0;return c;break;}}}function y(a,c,b,k,f,n){var V4U,oa,ea,X,Aa,t,p,y,A,K,I,G,N,S,m,D,V,Q,O,ja,ra,Y,W,K4o,x5o;V4U=2;function d(a,c,b){var n4U;n4U=2;while(n4U!==1){switch(n4U){case 4:return a.ca?a.ca.f3(c,b):4;break;n4U=1;break;case 2:return a.ca?a.ca.f3(c,b):0;break;}}}function g(c,b){var Q4U;Q4U=2;while(Q4U!==1){switch(Q4U){case 2:return c>a.$y&&(h.P(this.Dv)||this.MT>this.Dv||b-this.Dv>a.UT&&c>a.v8);break;}}}function q(b,k,f,d,q,g){var p6k=p4UU;var g4U,h,x,N,p,D,r,oa,X,ea,Aa,ca,ra,da,ia,Ha,Sa,u,ja,W,r5o,S5o,X5o,g5o,q5o,b5o,c5o,e5o,d5o,N5o;g4U=2;while(g4U!==49){r5o="S";r5o+="eco";r5o+="nd s";r5o+="tream has fa";r5o+="iled";S5o="S";S5o+="econd stream no";S5o+="t in range";X5o="Seco";X5o+="nd st";X5o+="ream u";X5o+="navailable";g5o="Second";g5o+=" stream u";g5o+="nd";g5o+="efined";q5o="F";q5o+="irst s";q5o+="trea";q5o+="m has fa";q5o+="iled";b5o="First st";b5o+="re";b5o+="am not in ran";b5o+="ge";c5o="First";c5o+=" str";c5o+="eam u";c5o+="n";c5o+="available";e5o="Firs";e5o+="t stream und";e5o+="efined";switch(g4U){case 42:oa=[];g4U=41;break;case 4:g||h||(b.Bba=!0);g4U=3;break;case 41:g4U=W?40:50;break;case 1:g4U=Y&&!Y.S8a&&Y.va>=u&&Y.O<=b.O?5:4;break;case 53:g4U=0<ra||0<da?52:51;break;case 37:W=da;g4U=36;break;case 13:f=!a.a3||b===f||b.Qb===f.Qb&&n?0:(f=b.La)&&f.wg&&f.wg.Ha?f.wg.Ha+a.X2*(f.wg.ah?Math.sqrt(f.wg.ah):0):0;h=k,x=S,N=A+f-y,p=Q,D=I-y;p6k.p5o(1);f=p6k.P5o(y,K);r=G;k=S.length;g=V;g4U=18;break;case 6:g4U=u>=b.O*p?14:13;break;case 36:g4U=0<W?54:53;break;case 31:g4U=!d||d<b.O*a.G6||!ea?30:43;break;case 52:a:{d5o=" >= fragmentsLeng";d5o+="th:";d5o+=" ";N5o="S";N5o+="trea";N5o+="mi";N5o+="n";N5o+="gIndex: ";oa=x.concat(oa);X=N;p6k.p5o(0);h=p6k.P5o(ra,k);ea=ca;Aa=a.tU;ca=a.uW;x=oa.ha;ra=Math.min(oa.length,k+ra+da);da=oa.dd;N=oa.sizes;p6k.n5o(1);Sa=p6k.R5o(X,D);D=Infinity;r=W=0;oa=oa.dd[0];p6k.n5o(2);p=p6k.P5o(x,p,oa,1E3);p6k.p5o(3);oa=p6k.R5o(0,d,8,g);p6k.n5o(4);g=p6k.R5o(0,d,8);p6k.p5o(5);d=p6k.R5o(1E3,x);k>=ra&&T.error(N5o+k+d5o+ra);X+=oa;0===f&&(X=0);p6k.n5o(5);X*=p6k.P5o(1E3,x);p6k.p5o(5);f*=p6k.P5o(1E3,x);p6k.n5o(5);Aa*=p6k.R5o(1E3,x);p6k.p5o(5);ea*=p6k.R5o(1E3,x);for(Sa*=x/1E3;k<ra;){ia=N[k];Ha=da[k];if(ja<ia){for(W=Math.max(ia,q);ja<W;){X=p;ja+=N[r];++r;oa=da[r];p+=oa;}if(!ca&&(oa=f-X,oa<Aa)){q={result:!1,w8:oa/(x/1E3),zs:!1};break a;}p6k.n5o(1);oa=p6k.R5o(X,f);}else if(oa=Math.max(f-X,0),oa<ea&&oa<W){q={result:!1,w8:Math.min(oa,D)/(x/1E3),zs:!0};break a;}p6k.p5o(6);X+=p6k.R5o(0,ia,d,g);f+=Ha;for(ja-=ia;p<X&&r<k;){ja+=N[r];++r;p+=da[r];}++k;if(k>=h&&oa>Sa)break;W=oa;D=Math.min(oa,D);}q={result:!0,w8:D/(x/1E3),zs:!0};}g4U=29;break;case 38:ea=Math.min(W,b.ca.length-r),oa.push(b.ca.TE.subarray(r,r+ea)),W-=ea,r+=ea,r>=b.ca.length&&(r=0);g4U=39;break;case 51:q=d>b.fU?{result:!0,Jgb:0,zs:!0}:{result:!1,Jgb:0,zs:!0};g4U=29;break;case 39:g4U=0<W?38:37;break;case 40:W=ra;g4U=39;break;case 3:g4U=!g||!h?9:13;break;case 14:return!0;break;case 2:u=b.va,p=g?a.I4:a.hS,h=b.ca&&b.ca.length;g4U=1;break;case 18:ja=m,ra=d,da=q,ca=O;q=c.H6a;W=c.Igb;g4U=15;break;case 54:ea=Math.min(W,h.ca.length-r),oa.push(h.ca.TE.subarray(r,r+ea)),W-=ea,r+=ea,r>=h.ca.length&&(r=0);g4U=36;break;case 15:d=b.va;oa=x.length,ea=b.ca&&b.ca.length,X=h.ca&&h.ca.length;a.y8&&(ca=Math.min(ca,D-N));l(b,e5o);l(b.df,c5o);g4U=23;break;case 23:l(b.inRange,b5o);l(!b.Rg,q5o);l(h,g5o);l(h.df,X5o);g4U=34;break;case 7:return!0;break;case 9:g4U=h&&!a.uW?8:6;break;case 50:ra=Math.max(0,Math.min(ra,b.ca.length-r)),da=Math.max(0,Math.min(da,h.ca.length-r-ra)),0<ra&&oa.push(b.ca.TE.subarray(r,r+ra)),0<da&&oa.push(h.ca.TE.subarray(r+ra,r+ra+da));g4U=53;break;case 29:q&&q.result&&(t.x8=q.w8);Y={S8a:q&&q.result,va:u,O:b.O};return q&&q.result;break;case 30:q=!1;g4U=29;break;case 8:g4U=u>=Math.max(b.fU,b.O*p)&&!b.eCa?7:13;break;case 34:l(h.inRange,S5o);l(!h.Rg,r5o);p6k.n5o(7);l(p6k.R5o(oa,k));g4U=31;break;case 43:X||(h=b);g4U=42;break;case 5:return!1;break;}}}while(V4U!==21){K4o="player mi";K4o+="s";K4o+="sing streamingIndex";x5o="Must";x5o+=" have at le";x5o+="ast one selected strea";x5o+="m";switch(V4U){case 18:oa=d(f,G,a.J6),ea=d(f,G+oa,a.t8);V4U=17;break;case 23:X=d(f,G,a.I6),Aa=d(f,G+X,a.s8);V4U=22;break;case 22:(f=ca(b.slice(0,k).reverse(),function(a,c){var C4U;C4U=2;while(C4U!==1){switch(C4U){case 2:return q(a,b[Math.max(k-c-2,0)],p,X,Aa,!0);break;}}}))||(f=b[0],ja=!0);V4U=16;break;case 16:t.bp=f||p;t.mI=ja;t.J4a=!ra;V4U=26;break;case 8:V4U=D==x.PN.cSa||!f.va?7:6;break;case 2:l(!h.P(k),x5o);l(h.qa(c.pw),K4o);t=new r(),p=f=b[k],y=c.buffer.V,A=c.buffer.kf,K=c.buffer.ab,I=c.buffer.Ok,G=c.pw,N=I-A,D=this.jP||x.PN.fh,V=c.state===x.Ia.wd||c.state===x.Ia.gi?c.buffer.Zv:0,Q=a.R8,O=a.az?a.az:1E3;V4U=4;break;case 19:V4U=g.call(this,N,K)?18:16;break;case 7:return u.call(this,b);break;case 4:ra=d(f,G,a.H6);p4UU.n5o(0);W=d(f,p4UU.R5o(ra,G),a.r8);this.pla||(this.pla=Math.min(f.O,a.mU));V4U=8;break;case 25:ja=!0;V4U=16;break;case 20:V4U=k+1<b.length?19:25;break;case 26:return t;break;case 6:f.ca&&f.ca.length||(f.Bba=!0);S=da.from(c.buffer.ca);D=c.buffer.Nu;V4U=12;break;case 24:V4U=f.ca&&f.ca.length?23:16;break;case 17:f=ca(b.slice(k+1,a.oba&&N>=a.Fca?b.length:k+2),function(a,c){var w4U;w4U=2;while(w4U!==1){switch(w4U){case 4:return q(a,b[k%c],p,oa,ea,+5);break;w4U=1;break;case 2:return q(a,b[k+c],p,oa,ea,!1);break;}}});V4U=16;break;case 10:V4U=(ra=q(f,b[Math.max(k-1,0)],f,ra,W,!1))?20:24;break;case 12:0<a.Mv&&(D=Math.min(D,a.Mv));m=D-S.ba;V4U=10;break;}}}function A(a,c,b,k){var P4U,F4o;P4U=2;while(P4U!==1){F4o="pl";F4o+="ayi";F4o+="n";F4o+="g";switch(P4U){case 2:return F4o===a.k2?y(a,c,b,k):n(a,b,k);break;}}}function k(a,c,k){var u4U,n,d;u4U=2;while(u4U!==3){switch(u4U){case 4:return n;break;case 14:return n;break;u4U=3;break;case 2:n=new r();d=Math.max(a.Rv,a.mU,c.v7?a.h9:-Infinity);n.bp=ca(k.filter(function(c){var k4U;k4U=2;while(k4U!==1){switch(k4U){case 2:return c.O<=a.dz;break;case 4:return c.O>a.dz;break;k4U=1;break;}}}).reverse(),function(c){var B4U,q,g,k,a4o,T4o,f4o,m4o;B4U=2;while(B4U!==7){a4o="no_h";a4o+="istori";a4o+="cal_lte_";a4o+="minbitra";a4o+="te";T4o="his";T4o+="t_tpu";T4o+="t_lt_m";T4o+="i";T4o+="nbitrate";f4o="lt";f4o+="_hist";f4o+="_lte_minbitrat";f4o+="e";m4o="h";m4o+="i";m4o+="s";m4o+="t_bufftime";switch(B4U){case 5:c=c.O;g=k.va;B4U=3;break;case 2:k={va:c.va,Hk:c.La&&c.La.Hk,qm:c.La&&c.La.qm};B4U=1;break;case 1:B4U=c.O>d?5:8;break;case 9:return k;break;case 3:g?(q=b(a,c),f(c,g,a)<=q?(n.Is=g,k&&(n.Zl=k.Hk?k.Hk:0,n.Vk=k.Hk&&k.qm),n.reason=m4o,k=!0):k=!1):k=!1;B4U=9;break;case 8:q=k.va,c.O<=q?(n.Is=q,k&&(n.Zl=k.Hk?k.Hk:0,n.Vk=k.Hk?k.qm:void 0),n.reason=f4o,k=!0):q?(n.Is=q,k&&(n.Zl=k.Hk?k.Hk:0,n.Vk=k.Hk?k.qm:void 0),n.reason=T4o,k=!1):(n.reason=a4o,k=!0);B4U=9;break;}}})||k[0];u4U=4;break;}}}function q(a,b,f){var i4U,n,h4o,O4o;i4U=2;while(i4U!==7){h4o="hist_";h4o+="b";h4o+="it";h4o+="rate";O4o="v";O4o+="b";switch(i4U){case 1:i4U=void 0===n?5:4;break;case 5:return a.zH?c(a,f):k(a,b,f);break;case 2:n=G.storage.get(O4o);i4U=1;break;case 4:a=new r();a.bp=ca(f.reverse(),function(a){var H4U;H4U=2;while(H4U!==1){switch(H4U){case 4:return a.O<n;break;H4U=1;break;case 2:return a.O<=n;break;}}})||f[0];a.reason=h4o;i4U=8;break;case 8:return a;break;}}}while(p4U!==4){B4o="1SIY";B4o+="bZrN";B4o+="JCp9";switch(p4U){case 2:h=a(7),x=a(11),I=a(44),G=a(6),N=a(365),T=I.console,l=I.assert,m=I.vib,D=I.g0a,Q=I.sC,r=I.up,ca=I.Kna,ia=I.IH,X=a(60).iba,ja=a(357),Y=a(39),da=N.bRa;g.T={STARTING:function(a,b,f){var M4U,Q4o;M4U=2;while(M4U!==1){Q4o="h";Q4o+="isto";Q4o+="r";Q4o+="ical";switch(M4U){case 2:return Q4o===a.h7?q(a,b,f):a.zH?c(a,f):k(a,b,f);break;}}},BUFFERING:A,REBUFFERING:A,PLAYING:y,PAUSED:y};B4o;p4U=4;break;}}function p(a,c){var L4U,b,k,u4o,z4o;L4U=2;while(L4U!==12){u4o="his";u4o+="t_";u4o+="through";u4o+="put";z4o="hist";z4o+="_t";z4o+="d";z4o+="ige";z4o+="st";switch(L4U){case 1:b.bp=a;a=b.bp.La||{};b.Vk=a.Hk&&a.qm;L4U=3;break;case 2:b=new r();L4U=1;break;case 7:L4U=(k=h.qa(c.UV)&&0<=c.UV&&100>=c.UV&&!h.P(a)&&!h.Ra(a))?6:14;break;case 6:a.sg=ja.mbb(a),k=h.Mb(a.sg)?!0:!1;L4U=14;break;case 3:b.Zl=a.Hk?a.Hk:0;a=Y(b.Vk,{});L4U=7;break;case 14:k?(c=a.sg(c.UV/100)||b.bp.va,b.Is=c,b.reason=z4o):b.bp.va&&(c=b.bp.va,b.Is=c,b.reason=u4o);return b;break;}}}function b(a,c){var c4U,b,k;c4U=2;while(c4U!==13){switch(c4U){case 2:c4U=a.pT?1:14;break;case 1:b=a.pT,k=ia(b,function(a){var F4U;F4U=2;while(F4U!==1){switch(F4U){case 2:return c<=a.r;break;case 4:return c>=a.r;break;F4U=1;break;}}});c4U=5;break;case 4:return b[0].d;break;case 5:c4U=0===k?4:3;break;case 3:c4U=-1===k?9:8;break;case 14:return a.lq;break;case 8:p4UU.n5o(1);a=b[p4UU.P5o(1,k)];b=b[k];return Math.floor(a.d+(b.d-a.d)*(c-a.r)/(b.r-a.r));break;case 9:return b[b.length-1].d;break;}}}function d(a,c){var X4U,b,i4o,E4o,j4U;X4U=2;while(X4U!==9){i4o="s";i4o+="i";i4o+="g";i4o+="mo";i4o+="id";E4o="l";E4o+="o";E4o+="g";switch(X4U){case 2:p4UU.p5o(0);j4U=p4UU.R5o(15,99985);a=Q(a,0,j4U)/1E3;X4U=1;break;case 5:b=c.rBa[c.LE];return b&&2==b.length?1E3*(b[0]+b[1]*Math.log(1+a)):c.lq;break;case 1:X4U=0===c.LE.lastIndexOf(E4o,0)?5:3;break;case 3:return 0===c.LE.lastIndexOf(i4o,0)?(b=c.rBa[c.LE])&&2==b.length?1E3*(b[0]+b[1]*X(a)):c.lq:c.lq;break;}}}function c(a,c){var A4U,b,k,n,q,g,u,l4o,t4o,W4o,s4o,G4o;A4U=2;while(A4U!==8){l4o="no_su";l4o+="itable_st";l4o+="ream";t4o="Del";t4o+="ayTarge";t4o+="t";W4o="B";W4o+="itr";W4o+="a";W4o+="te";s4o="V";s4o+="M";s4o+="A";s4o+="F";G4o="n";G4o+="o_val";G4o+="id_";switch(A4U){case 2:b=a.dE&&a.Xwa,b=b&&c.filter(function(a){var h4U;h4U=2;while(h4U!==1){switch(h4U){case 2:return 110>=a.Vb&&0<a.Vb;break;case 4:return 979>a.Vb||7<=a.Vb;break;h4U=1;break;}}}).length==c.length,k=null,n=!1,q=!1,g=!1,u=c.length-1;A4U=1;break;case 1:A4U=0<=u&&(b?c[u].Vb>=a.dE:c[u].O>=a.Rv)&&!(n=c[u],k=p(n,a),q=f(n.O,k.Is,a),g=d(k.Is,a),k.VJ=q,q=q<g,n=b?n.Vb>=a.dE&&n.Vb<=a.Xwa:n.O>=a.Rv&&n.O<=a.dz,g=q&&n)?5:3;break;case 4:u--;A4U=1;break;case 5:g=[G4o],!n&&b&&g.push(s4o),n||b||g.push(W4o),q||g.push(t4o),k.reason=g.join("");A4U=4;break;case 3:h.Ra(k)&&(k=p(c[0],a),k.reason=l4o);return k;break;}}}}());},function(g){g.T={$ta:function(d){var a;if(d&&0!==d.length){a=[];d.forEach(function(b){var f;void 0===b.error.code&&(b.error.code=0);void 0===b.error.description&&(b.error.description="Unknown");a.forEach(function(a){b.error&&b.error.code==a.error.code&&b.error.description===a.error.description&&(f=a);});f?f.HL.push(b.jm):a.push({error:b.error,HL:[b.jm]});});return a;}},Lsa:function(d){var a;a={freeSize:d.Di,dailyBytesRemaining:d.IC,bytesWritten:d.Rh,time:d.time,duration:d.duration};d.items&&(a.items=d.items.map(function(a){return{key:a.key,operation:a.ef,itemBytes:a.GT,error:a.error};}));return a;},yq:function(d){return d["catch"](function(a){setTimeout(function(){throw a;},0);});}};},function(g){g.T={fga:{code:-1,description:"MediaCache is not supported."},HBb:{code:100,description:"Resource was not found"},hMa:{code:101,description:"Resource Metadata was not found"},$A:{code:102,description:"Read failed",vm:function(d,a){return{code:this.code,description:d,cause:a};}},yO:{code:200,description:"Daily write limit exceeded"},AA:{code:201,description:"Capacity has been exceeded"},xO:{code:202,description:"Write failed, cause unknown",vm:function(d,a){return{code:this.code,description:d,cause:a};}},nDb:{code:203,description:"Write failed, cause unknown"},JHa:{code:300,description:"Failed to delete resource",vm:function(d,a){return{code:this.code,description:d,cause:a};}},Kt:{code:900,description:"Invalid partition name"},dLa:{code:700,description:"Invalid parition configuration, commitment exceeds capacity."},Wda:{code:701,description:"Failed to initialize underlying disk cache."},gMa:{code:800,description:'Metadata failed to pass validation. Metadata must be an object with a numeric "lifespan" property.'}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.sna=function(a,b){var f,d,g;f=b.profile;b=b.M;d=a.dpb;g=a.epb;return a.cpb||Array.isArray(d)&&-1!==d.indexOf(f)||"object"===typeof g&&Array.isArray(g[f])&&-1!==g[f].indexOf(""+b);};d.rta=function(a,b){return void 0!==a.cE?a.cE:b&&void 0!==b.cE?b.cE:100;};},function(g,d,a){var b,f,t;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(75);f=a(207);t=a(155);a=function(a){function c(c,b,f,d,g,p){b=a.call(this,c,b,f,d,g,p)||this;t.Ew.call(b,c,d);return b;}b.__extends(c,a);return c;}(f.BF);d.hN=a;g(t.Ew.prototype,a.prototype);},function(g){var a,b;function d(a,b,d){return function(c,k,f,n){var q;f=f||d.BYTES_PER_ELEMENT;if(c+k*f>this.byteLength){q=new d(k);q.set(a.call(this,c,k-1,f,n));q[k-1]=b.call(this,c+(k-1*f),n);return q;}return a.call(this,c,k,f,n);};}a={wD:function(a,b,d,c,k){var f;f=new Uint8Array(d);c=c||1;for(var n=0;n<d;++n,b+=c)f[n]=a.getUint8(b,k);return f;},US:function(a,b,d,c,k){var f;f=new Uint16Array(d);c=c||2;for(var n=0;n<d;++n,b+=c)f[n]=a.getUint16(b,k);return f;},Ey:function(a,b,d,c,k){var f;f=new Uint32Array(d);c=c||4;for(var n=0;n<d;++n,b+=c)f[n]=a.getUint32(b,k);return f;},L5:function(a,b,d,c,k){var f;f=new Int8Array(d);c=c||1;for(var n=0;n<d;++n,b+=c)f[n]=a.getInt8(b,k);return f;},J5:function(a,b,d,c,k){var f;f=new Int16Array(d);c=c||2;for(var n=0;n<d;++n,b+=c)f[n]=a.getInt16(b,k);return f;},K5:function(a,b,d,c,k){var f;f=new Int32Array(d);c=c||4;for(var n=0;n<d;++n,b+=c)f[n]=a.getInt32(b,k);return f;},B8a:function(){var f,g;if(DataView.prototype&&DataView.prototype.Ey&&!b){try{f=new ArrayBuffer(4);g=new DataView(f);g.wD(0,4,1);}catch(p){return;}try{f=new ArrayBuffer(4);g=new DataView(f);g.wD(1,2,2);}catch(p){DataView.prototype.wD=d(DataView.prototype.wD,DataView.prototype.getUint8,Uint8Array);DataView.prototype.US=d(DataView.prototype.US,DataView.prototype.getUint16,Uint16Array);DataView.prototype.Ey=d(DataView.prototype.Ey,DataView.prototype.getUint32,Uint32Array);DataView.prototype.L5=d(DataView.prototype.L5,DataView.prototype.getInt8,Int8Array);DataView.prototype.J5=d(DataView.prototype.J5,DataView.prototype.getInt16,Int16Array);DataView.prototype.K5=d(DataView.prototype.K5,DataView.prototype.getInt32,Int32Array);}a.pcb=function(a,c,b,f,d){return a.wD(c,b,f||1,d);};a.ocb=function(a,c,b,f,d){return a.US(c,b,f||2,d);};a.Vta=function(a,c,b,f,d){return a.Ey(c,b,f||4,d);};a.$Gb=function(a,c,b,f,d){return a.L5(c,b,f||1,d);};a.YGb=function(a,c,b,f,d){return a.J5(c,b,f||2,d);};a.ZGb=function(a,c,b,f,d){return a.K5(c,b,f||4,d);};b=!0;}}};b=!1;a.T$a=function(){return b;};g.T=a;},function(g,d,a){var c,k,q,n,u,y,A,h;function b(a,c,b,k,f,d,n,q,g){this.SSa=a;this.Dp=c;this.ux=b;this.cQ=k;this.Cx=g;this.stream=d;this.adb=u.T$a();n instanceof ArrayBuffer?(this.data=n,this.offset=0,this.y3=n.byteLength):(this.data=n.data,this.offset=n.offset||0,this.y3=n.length||this.data.byteLength);this.level=g?g.level+1:0;this.$H={};this.AM=void 0;f&&(this.zc={});this.config=q||{};this.truncate=this.config.truncate;this.SE=this.config.SE;this.Skb=this.offset;this.WU=this.Skb+this.y3;this.view=new DataView(this.data);this.mz=this.JQ=0;this.bqa=[];this.Yu=[];}function f(a,c){return{type:"done",moovEnd:a,parsedEnd:c};}function t(a,k,f,d,g,u){var t;d=d?[n.jZ,n.hZ]:void 0;t=Object.create(q.zc);g&&((g.Mkb||g.fca)&&c(q.vaa,t),g.gca&&c(q.stb,t),g.fca&&c(q.mtb,t));b.call(this,t,f,d,g&&g.WKb||["moof",n.Kga],!(!g||!g.RKb),a,k,g,u);}function p(a,c,k){b.call(this,q.zc,void 0,void 0,void 0,!0,a,c,void 0,k);}a(13);c=a(39);d=a(24).EventEmitter;k=new(a(6)).Console("MP4","media|asejs");q=a(751);n=a(153);u=a(203);y=a(26).io;u.B8a();A=a(59).QO;h=a(59).aka;a(59);b.prototype=Object.create(d);b.prototype.constructor=b;Object.defineProperties(b.prototype,{R:{get:function(){return this.stream.R;}},url:{get:function(){return this.stream.url;}},profile:{get:function(){return this.stream.profile;}},O:{get:function(){return this.stream.O;}}});b.prototype.dc=function(a){k.trace("MP4"+(void 0!==this.level?"."+this.level:":")+":"+a);};b.prototype.ma=function(a){k.warn("MP4"+(void 0!==this.level?"."+this.level:":")+":"+a);};b.prototype.R3a=function(a,c,b){var k;k=this.SSa[a];if(k)return new k(this,a,c,b);};b.prototype.xAa=function(a){for(var c in a)a.hasOwnProperty(c)&&(this.$H[c]=a[c],this.cQ&&-1!==this.cQ.indexOf(c)&&(void 0===this.AM||a[c].offset<this.AM)&&(this.AM=a[c].offset));};b.prototype.parse=function(a){var b,k,f;function c(a,c,b,k,f){var d;if(a){d=a.indexOf(c);-1!=d&&(f.dc(k+" box "+c+" found at offset: 0x"+b.toString(16)),a.splice(d,1));}}for(this.dj=a||{};;){this.$x=this.offset;if(8>this.WU-this.$x){this.Dp&&0<this.Dp.length&&this.jma();break;}this.e2=this.ub();b=this.ub();a=A(b);if(0===this.e2){this.x0("MP4: invalid zero length box for "+a);break;}if(null===a){this.x0("MP4: invalid box type: "+b);break;}b=this.$x+this.e2;if(b>this.WU){this.dc("more data needed: 0x"+b.toString(16)+" > 0x"+this.WU.toString(16));this.jma(a,b);break;}"uuid"===a&&(a=this.mH());k=!1;if(this.cQ&&-1!==this.cQ.indexOf(a)&&(this.AM=this.$x,k=!0,!this.config.xJb))break;f=this.R3a(a,this.$x,this.e2);if(f){if(!f.parse(this.dj)){this.dc("box parser failed: "+a);break;}this.zc&&(void 0===this.zc[a]&&(this.zc[a]=[]),this.zc[a].push(f));}c(this.ux,a,this.$x,"desired",this);c(this.Dp,a,this.$x,"required",this);if(this.Dp&&0===this.Dp.length&&!(this.ux&&this.ux.length&&this.ux.some(function(a){return this.$H[a];}.bind(this))))return this.dc("done: moov end offset: "+this.LK+", parsing end offset: "+b),this.Mla(this.LK,b),!0;if(k)break;this.offset=b;if(this.AM===this.offset)break;}if(this.mVa)return this.offset=this.$x,!1;this.Mla(this.LK,this.offset);return!0;};b.prototype.Z0=function(a){this.data=this.data.slice(0,a);this.view=new DataView(this.data);};b.prototype.jma=function(a,c){this.mVa=!0;a?(this.Dp&&this.Dp.length&&(1<this.Dp.length||this.Dp[0]!==a)?c=this.RDb||c+4096:this.ux&&this.ux.length&&(c=this.ux.filter(function(a){return this.$H[a];}.bind(this)).reduce(function(a,c){return Math.max(a,this.$H[c].offset+this.$H[c].size||0);}.bind(this),c)),this.config.Aw&&(c+=12),this.Nla(c-this.WU)):this.Nla(4096);};b.prototype.anb=function(a){var c;c=[];if(0===a)return"";a=a||Number.MAX_SAFE_INTEGER;for(var b=this.bd();0!==b&&0<--a;)c.push(b),b=this.bd();return String.fromCharCode.apply(null,c);};b.prototype.x0=function(a){this.ma("ERROR: "+a);a={type:"error",ctxt:this.dj,errormsg:a};this.ka(a.type,a);};b.prototype.Mla=function(a,c){var b;if(this.Gn){b={type:"vmafs",ctxt:this.dj,vmafs:this.Gn};this.ka(b.type,b);}this.ca&&(b={type:"fragments",ctxt:this.dj,fragments:this.ca,truncated:this.ut,movieDataOffsets:this.pq,additionalSAPs:this.kg,timescale:this.ha,defaultSampleDuration:this.my},this.ka(b.type,b));b=f(a,c);this.ka(b.type,b);};b.prototype.Nla=function(a){a={type:"requestdata",ctxt:this.dj,bytes:a};this.ka(a.type,a);};b.prototype.Jx=function(a){if(this.Cx)this.Cx.u.Jx(a);else for(var c in a)this[c]=a[c];};b.prototype.Nf=function(a){for(;this.mz<a;)this.JQ=(this.JQ<<8)+this.bd(),this.mz+=8;this.mz-=a;return this.JQ>>>this.mz&(1<<a)-1;};b.prototype.bd=function(){var a;a=this.view.getUint8(this.offset);this.offset+=1;return a;};b.prototype.yf=function(a){a=this.view.getUint16(this.offset,a);this.offset+=2;return a;};b.prototype.ub=function(a){a=this.view.getUint32(this.offset,a);this.offset+=4;return a;};b.prototype.I0=function(){var a;a=this.view.getInt32(this.offset,void 0);this.offset+=4;return a;};b.prototype.Dl=function(a,c,b){this.view.setUint32(void 0!==b?b:this.offset,a,c);this.offset+=4;};b.prototype.Nma=function(a){this.view.setInt32(this.offset,a,void 0);this.offset+=4;};b.prototype.uWa=function(a,c){var b;b=this.view.getUint32(this.offset+(a?4:0),a);a=this.view.getUint32(this.offset+(a?0:4),a);!c&&b&1&&this.ma("Warning: read unsigned value > 56 bits");return 4294967296*b+a;};b.prototype.Mh=function(a,c){a=this.uWa(a,c);this.offset+=8;return a;};b.prototype.vWa=function(){var a,c;a=this.view.getInt32(this.offset+0,void 0);c=this.view.getUint32(this.offset+4,void 0);(0<a?a:-a)&1&&this.ma("Warning: read signed value > 56 bits");return 4294967296*a+c;};b.prototype.NWa=function(){var a;a=this.vWa();this.offset+=8;return a;};b.prototype.oYa=function(a,c){var b;b=Math.floor(a/4294967296);a&=4294967295;void 0!==c?(this.view.setUint32(c,b,!1),this.view.setUint32(c+4,a,!1)):(this.view.setUint32(this.offset,b,!1),this.offset+=4,this.view.setUint32(this.offset,a,!1),this.offset+=4);};b.prototype.kH=function(){return A(this.ub());};b.prototype.Mma=function(a){this.Dl(h(a));};b.prototype.mH=function(){var c,b,k,f,d,n;function a(a,c){return("000000"+a.toString(16)).slice(2*-c);}c=this.ub(!0);b=this.yf(!0);k=this.yf(!0);f=this.yf();d=this.yf();n=this.ub();return[a(c,4),a(b,2),a(k,2),a(f,2),a(d,2)+a(n,4)].join("-");};b.prototype.iJ=function(a){return q.qda.prototype.iJ.call(this,a);};b.prototype.jJ=function(a){return q.qda.prototype.jJ.call(this,a);};b.prototype.LWa=function(a){var c;c=new DataView(this.data,this.offset,a);this.offset+=a;return c;};b.prototype.IP=function(a){var c;c=(this.config.Aw&&u.pcb||u.wD)(this.view,this.offset,a,void 0);this.offset+=1*a;return c;};b.prototype.KWa=function(a){a=(this.config.Aw&&u.ocb||u.US)(this.view,this.offset,a,10,void 0);this.offset+=2;return a;};b.prototype.HP=function(a,c,b){var k;k=(this.config.Aw&&u.Vta||u.Ey)(this.view,this.offset,a,c,void 0);this.offset=b||!c||4===c?this.offset+a*(c||4):this.offset+4;return k;};b.prototype.dma=function(a){for(var c=this.bd(),b=this.bd(),k=b&127;b&128;)b=this.bd(),k=(k<<7)+(b&127);c=new(q.Vu[c]||q.Vu.base)(this,c,k);c.parse(a);return c;};b.prototype.Sj=function(a,c){this.OB(a,void 0,c);};b.prototype.OB=function(a,c,b){b=void 0!==b?b:this.offset;this.Cx?this.Cx.OB(a,c,b):this.Yu.push({offset:b,remove:a,replace:c});};b.prototype.vP=function(a,c){c=void 0!==c?c:this.offset;this.Cx?this.Cx.u.vP(a,c):this.bqa.push({offset:c,Wa:a});};b.prototype.Lm=function(){var a,c,b,k;if(this.Yu&&0<this.Yu.length){this.bqa.forEach(function(a){var c,b;c=a.Wa+this.view.getUint32(a.offset);b=this.Yu.reduce(function(b,k){return k.offset>a.Wa&&k.offset<c?b+(k.remove-(k.replace?k.replace.byteLength:0)):b;},0);this.view.setUint32(a.offset,c-a.Wa-b);}.bind(this));a=[];this.Yu.sort(function(a,c){return a.offset-c.offset;});this.Yu=this.Yu.reduce(function(a,c){var b,k;if(0===a.length)return a.push(c),a;b=a[a.length-1];k=b.offset+b.remove;c.offset>=k?a.push(c):c.offset+c.remove>k&&(b.remove+=c.offset+c.remove-k,c.replace&&(b.replace=b.replace?y(b.replace,c.replace):c.replace));return a;},[]);c=0;b=this.data.byteLength;k=0;this.Yu.filter(function(a){return a.offset<b;}).forEach(function(b){b.offset>c&&(a.push(this.data.slice(c,b.offset)),k+=b.offset-c);b.replace&&(a.push(b.replace),k+=b.replace.byteLength);c=b.offset+b.remove;}.bind(this));a.push(this.data.slice(c));k+=b-c;return{Jd:a,length:k,kE:this.data.byteLength};}return{Jd:[this.data],length:this.data.byteLength,kE:this.data.byteLength};};t.prototype=Object.create(b.prototype);t.prototype.p3=function(a,c,b,k){a=new t(this.stream,{data:this.data,offset:c,length:b},void 0,!1,this.config,a);k&&(a.zc={});return a;};t.prototype.Ctb=function(a){this.Z0(a);return this.config&&this.config.fca?(a=this.Lm(),y(a.Jd)):this.data;};p.prototype=Object.create(b.prototype);p.prototype.p3=function(a,c,b){return new p(this.stream,{data:this.data,offset:c,length:b},a);};g.T={lNa:t,kNa:p,UGb:f};},function(g,d,a){var t,p,c,k;function b(a,c,b){p.call(this,a,c,b);}function f(a,c){p.call(this,a,c,void 0);}a(13);a(26);t=a(153);p=a(204).kNa;c=a(737);a(59);k=a(59).aka;a(59);b.prototype=Object.create(p.prototype);b.prototype.p3=function(a,c,k){return new b(this.stream,{data:this.data,offset:c,length:k},a);};f.prototype=Object.create(b.prototype);f.prototype.mUa=function(a,b){return"string"===typeof b?c[b]:b?c.reset[a]||c.frb[a]:c.frb[a];};f.prototype.qAa=function(a,c,b,k){return this.Xa(a,c,!1,b,k);};f.prototype.tAa=function(a,c,b,k){return this.Xa(a,c,!0,b,k);};f.prototype.Xa=function(a,c,b,k,f){var n,q,g,u,p,y,A,h,l,m,r,ia,X,ja;function d(a){g=q[a];u=g.hp("traf");if(void 0===u||void 0===u.as)return!1;p=u.hp("tfdt");if(void 0===p)return!1;y=u.hp("trun");return void 0===y?!1:!0;}n=[];if(!this.parse())return!1;q=this.zc.moof;if(!q||0===q.length)return!1;if(void 0!==a)for(A=a,a=0;a<q.length;++a){if(!d(a))return!1;if(y.Rd>A||b&&y.Rd===A)break;A-=y.Rd;}else if(a=b?q.length-1:0,!d(a))return!1;b&&a<q.length-1?(n=q[a+1],this.Sj(this.y3-n.startOffset,n.startOffset)):!b&&0<a&&this.Sj(g.startOffset,0);n=u.hp("tfhd");if(void 0===n)return!1;p=u.hp("tfdt");h=y.Rd;l=u.hp("saiz");m=u.hp("saio");r=u.hp(t.cha);ia=u.hp("sbgp");if(!(!l&&!m||l&&m))return!1;X=u.hp("sdtp");if(this.zc.mdat&&a<this.zc.mdat.length)ja=this.zc.mdat[a];else if(a!==q.length-1)return!1;void 0===A&&(A=b?y.Rd:0);if(y.Xa(u,n,ja||this,c,A,u.as,b))y.Zqa&&(!b&&p&&p.Xa(y.$qb),l&&m&&(l.Xa(y.VE,b),m.Xa(r?0:l.uaa,u.as,b)),r&&r.Xa(y.VE,b),X&&X.Xa(y.VE,h,b),ia&&ia.Xa(y.VE,b));else if(!b){if(a===q.length-1)return!1;this.Sj(q[a+1].startOffset-g.startOffset,g.startOffset);}else if(0===y.VE)return!1;k&&(c=this.mUa(this.profile,f))&&y.eob(u,n,ja,b,k,c);n=this.Lm();y.Zqa&&!ja&&(n.BE=u.as+y.BE,n.$s=y.$s);return n;};g.T={$N:f,Ngb:function(a){var c,b;c=new ArrayBuffer(8);b=new DataView(c);b.setUint32(0,a+8);b.setUint32(4,k("mdat"));return c;}};},function(g){function d(a){this.l0=a;this.fe=[];this.Sm=!1;this.Kx=void 0;this.Ig={};}d.prototype.CH=function(a){this.fe.length===this.l0&&this.fe.shift();Array.isArray(a)?this.fe=this.fe.concat(a):this.fe.push(a);this.Sm=!0;};d.prototype.Dy=function(){return this.fe.length;};d.prototype.SQ=function(){var a;a=this.fe;return 0<a.length?a.reduce(function(a,f){return a+f;},0)/this.fe.length:void 0;};d.prototype.fI=function(){var a,b;a=this.fe;if(0<a.length){b=this.SQ();a=a.reduce(function(a,b){return a+b*b;},0)/a.length;return Math.sqrt(a-b*b);}};d.prototype.Kl=function(a){var b,f,d;if(this.Sm||void 0===this.Kx)this.Kx=this.fe.slice(0).sort(function(a,c){return a-c;}),this.Ig={},this.Sm=!1;if(void 0===this.Ig[a]){b=this.Kx;f=Math.floor(a/100*(b.length-1)+1)-1;d=(a/100*(b.length-1)+1)%1;this.Ig[a]=f===b.length-1?b[f]:b[f]+d*(b[f+1]-b[f]);}return this.Ig[a];};g.T=d;},function(g,d,a){var b,f,t,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(24);f=a(7);t=g.Pw;p=a(6);c=p.sk;g=a(55);k=a(45);q=a(156);n=a(155);a=function(a){function k(b,k,f,d,g,u){k=a.call(this,k,f)||this;q.Dw.call(k,b,d,g,u);n.Ew.call(k,b,d);k.AO=b.url||d.url;k.zO=d.responseType;k.xja=d.eW;void 0===k.zO&&(k.zO=c.Pc&&!c.Pc.EE.jx?0:1);k.Lf=new t();k.Lf.on(k,c.ud.Tga,k.AP);k.Lf.on(k,c.ud.Sga,k.Gla);k.Lf.on(k,c.ud.Uga,k.Ila);k.Lf.on(k,c.ud.nG,k.zP);k.Lf.on(k,c.ud.bx,k.dH);k.hB=!1;k.Jc=!1;k.Kg=!1;return k;}b.__extends(k,a);k.prototype.gc=function(a,c){q.Dw.prototype.gc.call(this,a,c);this.Nb||!a.G.wQ&&this.Tb||(this.Nb=a.ob.Nd,this.active&&(this.Nb.CV(p.time.now(),this.iu()),this.Kg&&(this.Nb.gaa(p.time.now()),this.connect&&0<this.wn.length&&this.Nb.Tr(this.wn[0]))));};k.prototype.My=function(){return 1===this.responseType?3<=this.readyState:5===this.readyState;};k.prototype.fC=function(a){return this.Ph=a.appendBuffer(this.response,this);};k.prototype.cva=function(){return this.El;};k.prototype.Xv=function(){return c.prototype.open.call(this,this.AO,{start:this.offset,end:this.offset+this.ba-1},this.zO,{},void 0,void 0,this.xja);};k.prototype.abort=function(){var a;if(this.El)return!0;a=this.Jc;this.Nb&&a&&this.Nb.EV(p.time.ea(),this.Kg,this.iu());this.hB=!0;this.Kg=this.Jc=!1;c.prototype.abort.call(this);this.uS(this,a);return!0;};k.prototype.Vd=function(){0!==this.readyState&&7!==this.readyState&&5!==this.readyState&&(this.N.warn("AseMediaRequest: in-progress request should be aborted before cleanup",this),this.abort());this.Lf&&this.Lf.clear();c.prototype.Vd.call(this);};k.prototype.dH=function(){var a,c,b,k;this.N.warn("AseMediaRequest._onError:",this.toString());a=this.jc;this.wl=p.time.ea()-this.jc;c=this.status;b=this.oj;k=this.al;this.complete?this.N.warn("Error on a done request "+this.toString()+", failurecode: "+b):this.El?this.N.warn("Error on an aborted request "+this.toString()+", failurecode: "+b):f.qa(b)?(this.Nb&&this.Sa&&this.Sa.G.caa&&this.Te&&void 0===c&&this.Nb.uQ(this.Mi?this.Gd-this.Mi:this.Gd,this.Aj?this.Aj:this.Te,a),this.vS(this)):this.N.warn("ignoring undefined request error (nativecode: "+k+")");};k.prototype.AP=function(){var a;a=this.jc||this.Te;this.Jc||(this.Jc=!0,this.bm=this.track.bm(),this.stream.G.Fwa||this.Nb&&this.Nb.CV(a,this.iu()),this.yy(this),this.Mi=0,this.Aj=this.jc);};k.prototype.Gla=function(){var a,c,b;a=this.jc;c=this.connect;b=this.wn;this.wl=p.time.ea()-this.jc;this.Kg||(this.Kg=!0,this.stream.G.Fwa&&this.Nb&&this.Nb.CV(a,this.iu()),this.Nb&&this.Nb.gaa(),c&&0<b.length&&this.Nb&&this.Nb.Tr(b[0]),this.xy(this),this.Aj=a);};k.prototype.Ila=function(){var a,c,b;a=this;c=this.jc;b=this.Gd-this.Mi;this.wl=p.time.ea()-this.jc;this.Nb&&(this.Nb.uQ(b,this.Aj,c),this.wn&&this.wn.length&&this.wn.forEach(function(c){a.Nb.Rr(c);}));this.jD(this);this.Aj=c;this.Mi=this.Gd;};k.prototype.zP=function(){var a,c,b;a=this;c=this.jc;b=this.Gd-this.Mi;this.wl=p.time.ea()-this.jc;this.Nb&&(0<b&&this.Nb.uQ(b,this.Aj,c),this.wn&&this.wn.length&&this.wn.forEach(function(c){a.Nb.Rr(c);}),this.Nb.EV(c,this.Kg,this.iu()));this.Kg=this.Jc=!1;this.fv(this);this.Aj=c;this.Mi=this.Gd;this.Vd();};k.prototype.iu=function(){var a,c;a=(a=this.stream)?a.toString():this.url;c=this.PQ;c&&(a+=",range "+c.start+"-"+c.end);return a;};Object.defineProperties(k.prototype,{JT:{get:function(){return this.wl;},enumerable:!0,configurable:!0}});return k;}(c);d.BF=a;g.Yj(a.prototype,{active:g.Z({get:function(){return this.Jc;}}),iAa:g.Z({get:function(){return this.Kg;}}),complete:g.Z({get:function(){return!this.hB&&5===this.readyState;}}),El:g.Z({get:function(){return this.hB;}})});k.Ti(q.Dw,a,!1);k.Ti(n.Ew,a,!1);},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(55);b=a(45);a=a(154);f=function(){function a(a,c){this.Qm=a;this.vB=c.eb;this.or=c.nb;}a.prototype.Xaa=function(a){this.or=a;};a.prototype.G2=function(){this.or=void 0;};return a;}();d.CF=f;g.Yj(f.prototype,{eb:g.Z({get:function(){return void 0!==this.vB?this.vB:this.Qm.eb;}}),nb:g.Z({get:function(){return void 0!==this.or?this.or:this.Qm.nb;}}),ha:g.Z({get:function(){return this.Qm.ha;}}),Yo:g.Z({get:function(){return this.Qm.Yo;}})});b.Ti(a.iN,f);},function(g,d,a){var b,f,t,p,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(75);t=a(13);g=a(45);p=a(373);c=a(94);a=function(a){function k(b,k,f,d){f=a.call(this,b,k,f,d)||this;c.pk.call(f,b,k);f.Rb=0;f.Xa||f.Fj();f.Ph=!1;return f;}b.__extends(k,a);Object.defineProperties(k.prototype,{Tb:{get:function(){return!1;},enumerable:!0,configurable:!0}});k.prototype.push=function(c){this.Rb+=c.ba;a.prototype.push.call(this,c);};k.prototype.My=function(){return!this.Ph&&!!this.xa.length&&this.xa.every(function(a){return a.My();});};k.prototype.fC=function(a){t.assert(!this.Ph);return this.Ph=this.xa.every(function(c){return c.My()?c.fC(a,void 0,void 0):!1;});};k.prototype.Qnb=function(){this.xa.forEach(function(a){a.AL();});};k.prototype.Wv=function(a){p.gN.prototype.Wv.call(this,a);};k.prototype.$h=function(a){p.gN.prototype.$h.call(this,a);};k.prototype.ck=function(){return this.xa?this.xa[0].ck()+"-"+this.xa[this.xa.length-1].ck():"empty";};k.prototype.toString=function(){return c.pk.prototype.toString.call(this)+"(aggregate)";};k.prototype.toJSON=function(){var b;b=a.prototype.toJSON.call(this);f(c.pk.prototype.toJSON.call(this),b);return b;};return k;}(p.gN);d.xA=a;g.Ti(c.pk,a);},function(g,d,a){var b,f,t,p,c,k,q,n,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(13);g=a(45);f=a(209);t=a(94);p=a(207);c=a(11);k=a(75);q=a(6).sk;n=a(755);a=a(736);u=function(a){var A4o;A4o=2;function k(c,b,k,f,d,n){var o4o,g,U4o,k4o,y4o;o4o=2;while(o4o!==14){U4o="ed";U4o+="i";U4o+="t";k4o="c";k4o+="a";k4o+="che";y4o="1SIYb";y4o+="ZrNJCp";y4o+="9";switch(o4o){case 9:void 0===k.responseType&&(k.responseType=k.Xa||q.Pc&&!q.Pc.EE.jx?0:1);g=a.call(this,c,b,g,k,f,n)||this;t.pk.call(g,c,k);return g;break;case 1:g=this;y4o;g=[k4o,U4o].filter(function(a,c){var C4o;C4o=2;while(C4o!==1){switch(C4o){case 2:return[d,k.Xa][c];break;case 4:return[d,k.Xa][c];break;C4o=1;break;}}});g=g.length?"("+g.join(",")+")":"";o4o=9;break;case 2:o4o=1;break;}}}while(A4o!==3){switch(A4o){case 2:b.__extends(k,a);k.create=function(a,b,d,g,u,t,y){var v4o,A,h,j4o;v4o=2;while(v4o!==18){j4o="su";j4o+="breque";j4o+="st";switch(v4o){case 10:u.push(new p.BF(a,d,j4o,h,u,y));v4o=14;break;case 4:v4o=g.WD&&g.ba>g.WD?3:19;break;case 6:A=Math.ceil(g.ba/A);v4o=14;break;case 14:v4o=0<t?13:20;break;case 19:return new k(a,d,g,u,t,y);break;case 3:A=Math.ceil(g.ba/g.WD);b=g.offset;t=g.ba;u=new f.xA(a,g,u,y);v4o=6;break;case 13:h={offset:b,ba:Math.min(t,A),responseType:g.responseType};b+=h.ba;t-=h.ba;v4o=10;break;case 1:v4o=!b.om&&g.Xa&&a.R===c.I.VIDEO&&q.Pc&&q.Pc.EE.jx?5:4;break;case 5:return new n.lFa(a,d,g,u,t,y);break;case 20:return u;break;case 2:v4o=1;break;}}};k.prototype.toString=function(){var Y4o;Y4o=2;while(Y4o!==1){switch(Y4o){case 2:return p.BF.prototype.toString.call(this)+":"+t.pk.prototype.toString.call(this);break;}}};return k;break;}}}(p.BF);d.jX=u;k(a["default"],u.prototype);g.Ti(t.pk,u,!1);},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(50);f=a(2);d.D5=function(a){return a===b.ec.bh.AUDIO?f.H.hga:f.H.iga;};d.OZ=50;d.gQa=1E3;},function(g,d,a){var f,t,p,c,k,q,n,u,y,A,h,x,I;function b(a,b,f,d,n,g,u,t,p,y,A,h,K,x,l){this.j=a;this.fb=b;this.Ly=f;this.Qc=d;this.Tp=n;this.c4=g;this.Xj=u;this.displayName=t;this.Si=p;this.Kz=y;this.profile=A;this.Oo=h;this.Tib=K;this.C9a=x;this.eK=l;this.type=c.gg.DW;this.fq=!(!A||A!=q.wk.RA&&A!=q.wk.bO);this.Yf={bcp47:u,trackId:b,downloadableId:d,isImageBased:this.fq};this.log=k.Uf(a,"TimedTextTrack");this.state=I.cO;this.request=this.request.bind(this);}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);t=a(71);p=a(12);c=a(76);k=a(4);q=a(66);n=a(14);u=a(342);y=a(16);A=a(649);h=a(15);x=a(2);(function(a){a[a.cO=0]="NOT_LOADED";a[a.LOADING=1]="LOADING";a[a.LOADED=2]="LOADED";a[a.aG=3]="LOAD_FAILED";}(I||(I={})));b.prototype.getEntries=function(){var a;a=this;return new Promise(function(c,b){function k(){a.j.state.removeListener(k);a.download().then(c)["catch"](b);}a.state=I.LOADING;a.j.state.value!==h.lb.LOADING?a.download().then(c)["catch"](b):a.j.state.addListener(k);});};b.prototype.Re=function(){return this.state;};b.prototype.fK=function(){return this.Tib;};b.prototype.zT=function(){return this.C9a;};b.prototype.rv=function(a,c){var b;b=[];try{this.fq?b=this.mf&&this.mf.rv(a,c)||[]:this.entries&&(b=this.entries.filter(function(b){var k;k=P([b.startTime,b.endTime]);b=k.next().value;k=k.next().value;return b>=a&&b<=c||b<=a&&a<=k;}));}catch(S){this.log.error("error in getSubtitles",S,{start:a,end:c,isImageBased:this.fq});}return b;};b.prototype.Ubb=function(){var a;if(!y.Ob(this.V))try{this.V=this.fq?(a=this.rv(0,b.aMa)[0])&&a.displayTime:(a=this.entries&&this.entries[0])&&a.startTime;}catch(N){this.log.error("exception in getStartPts",N);}return this.V;};b.prototype.cW=function(a){return this.j.state.value===h.lb.CLOSING||this.j.state.value===h.lb.CLOSED?(this.log.info("playback is closing, abort timed text retry",a),!1):this.j.wc.value!==this?(this.log.info("timed text track was changed, abort timed text retry",a),!1):!0;};b.prototype.download=function(){var a;a=this;return new Promise(function(c,b){a.j.state.value==h.lb.$c?a.fq?a.$db(function(k){k.X?(a.log.info("Loaded image subtitle manager"),c(k)):(a.log.error("Unable to load image subtitles manager",k),a.state=I.aG,b(k));}):a.Oqa().then(function(c){return a.Ekb(c);}).then(c)["catch"](b):b({X:!1});});};b.prototype.$db=function(a){var b,f,d,n,q,g,u,t;function c(d){var A;if(y.Ob(d))if(t||b.cW(b.Xp(b.no,"","image"))){t=!1;b.Oo.url=b.Tp[b.no];f.url=b.Oo.url;u[d]=(u[d]||0)+1;A=new k.qRa(n,f);A.on("ready",function(){b.mf=A;a({X:!0,track:b});});A.on("error",function(k){var f;k=Object.assign({X:!1},k);f=b.Xp(b.no,b.Oo.url,"image");f.details={midxoffset:b.Oo.offset,midxsize:b.Oo.length};f.errorstring=k.errorString;u[d]<=p.config.cDa?(b.lS(f,!0,"retry with current cdn"),b.W1(u[d]).then(function(a){b.log.trace("retry timed text download after "+a,b.Xp(b.no,"","image"));c(b.no);})):(b.no=q[g++],b.no?(b.lS(f,!0,"retry with next cdn"),b.W1(u[d]).then(function(a){b.log.trace("retry timed text download after "+a,b.Xp(b.no,"","image"));c(b.no);})):(b.lS(f,!1,"all cdns tried"),a({X:!1,xib:"all cdns failed for image subs",track:b})));});A.start();}else a({X:!1,El:!0});else a({X:!1,xib:"cdnId is not defined for image subs downloadUrl"}),b.lS(b.Xp(0,"","image"),!1,"cdnId is undefined");}b=this;f={n_a:!1,profile:this.profile,FK:this.Oo.offset,lU:this.Oo.length,Cd:this.j.bc.value||0,bufferSize:p.config.Kdb,IKb:{ff:this.j.FS()}};d=k.Uf(this.j,"TimedTextTrack");d.warn=d.trace.bind(d);d.info=d.debug.bind(d);n=A.y4a(this.j,d,this.request);q=(this.c4||[]).filter(function(a){return a.id in b.Tp;}).sort(function(a,c){return a.$d-c.$d;}).map(function(a){return a.id;});g=0;u={};t=!0;this.no=q[g++];c(this.no);};b.prototype.lS=function(a,c,b){a=Object.assign({},a,{CLb:c,status:b});this.j.fireEvent(h.U.bF,a);this.log.warn("subtitleerror event",a);};b.prototype.request=function(a,c){var b;b=this;this.log.trace("Downloading",a);a={url:a.url,offset:a.offset,length:a.size,responseType:t.hT,headers:{},Sb:this.u5(this.no)};this.j.PJ.download(a,function(a){b.log.trace("imgsub: request status "+a.X);a.X?c(null,new Uint8Array(a.content)):c({Y:a.Y,qc:a.qc});});};b.prototype.Xp=function(a,c,b){return{currentCdnId:a,url:c,profile:this.profile,dlid:this.Qc,subtitletype:b,bcp47:this.Xj,trackId:this.fb,cdnCount:Object.keys(this.Tp).length,isImageBased:this.fq};};b.prototype.u5=function(a){return(this.c4||[]).find(function(c){return c.id===a;});};b.prototype.Oqa=function(){var k,d;function a(a){return f.__awaiter(k,void 0,void 0,function(){var f,n,q,g,u;function k(){for(;;)switch(f){case 0:q=b();n=g.Xp(a.Sb.id,a.url,"text");n.errorstring=a.reason;if(!q||!g.cW(n)){f=1;break;}f=-1;return{value:g.W1(d[q.id]).then(c),done:!0};case 1:return f=-1,{value:Promise.reject({X:!1,El:!0}),done:!0};default:return{value:void 0,done:!0};}}f=0;g=this;u={next:function(){return k();},"throw":function(){return k();},"return":function(){throw Error("Not yet implemented");}};m();u[Symbol.iterator]=function(){return this;};return u;});}function c(){return f.__awaiter(k,void 0,void 0,function(){var k,f,n,q,g;function c(){for(;;)switch(k){case 0:f=(n=b())&&q.Tp[n.id];if(!n||!f){k=1;break;}d[n.id]=(d[n.id]||0)+1;k=-1;return{value:q.x6a(f,n)["catch"](a),done:!0};case 1:return k=-1,{value:Promise.reject({}),done:!0};default:return{value:void 0,done:!0};}}k=0;q=this;g={next:function(){return c();},"throw":function(){return c();},"return":function(){throw Error("Not yet implemented");}};m();g[Symbol.iterator]=function(){return this;};return g;});}function b(){return(k.c4||[]).find(function(a){return!!((d[a.id]||0)<p.config.cDa&&k.Tp[a.id]);});}k=this;d={};return c();};b.prototype.W1=function(a){return new Promise(function(c){var b;b=1E3*Math.min(Math.pow(2,a-1),8);setTimeout(function(){return c(b);},b);});};b.prototype.Ekb=function(a){var c,b;c=this;b=this.j.uF;n.Ga(b);return u.Dkb(a,b.width/b.height,p.config.eDa,p.config.Wba).then(function(a){var b;if(p.config.fDa){b=0;c.entries=a.map(function(a){return Object.assign({},a,{startTime:b,endTime:b+=p.config.fDa});});}else c.entries=a;c.log.trace("Entries parsed",{Length:a.length},c.Yf);c.state=I.LOADED;return{X:!0,entries:c.entries,track:c};})["catch"](function(a){c.log.error("Unable to parse timed text track",x.Nn(a),c.Yf,{url:a.url});c.state=I.aG;a.reason="parseerror";a.track=c;throw a;});};b.prototype.x6a=function(a,c){var b;b=this;this.log.trace("Downloading",c&&{Sb:c.id},this.Xp(c.id,a,"text"));return new Promise(function(k,f){var d;d={responseType:t.zua,url:a,track:b,Sb:c,MC:"tt-"+b.Xj};b.j.PJ.download(d,function(a){a.X?k(a.content):(a.reason="downloadfailed",a.url=d.url,a.track=b,a.Sb=c,f(a));});});};b.aMa=72E7;b.zia=I;d.AG=b;},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(9);b.W5=function(){var a;a=f.fr&&f.fr.height;return a?1080<=a?1080:720:720;};d.XZ=b;},function(g){g.T=function(d,a){switch(d){case 0:return function(){return a.apply(this,arguments);};case 1:return function(b){return a.apply(this,arguments);};case 2:return function(b,f){return a.apply(this,arguments);};case 3:return function(b,f,d){return a.apply(this,arguments);};case 4:return function(b,f,d,g){return a.apply(this,arguments);};case 5:return function(b,f,d,g,c){return a.apply(this,arguments);};case 6:return function(b,f,d,g,c,k){return a.apply(this,arguments);};case 7:return function(b,f,d,g,c,k,q){return a.apply(this,arguments);};case 8:return function(b,f,d,g,c,k,q,n){return a.apply(this,arguments);};case 9:return function(b,f,d,g,c,k,q,n,u){return a.apply(this,arguments);};case 10:return function(b,f,d,g,c,k,q,n,u,y){return a.apply(this,arguments);};default:throw Error("First argument to _arity must be a non-negative integer no greater than ten");}};},function(g,d,a){var t,p,c,k;function b(a,c,b){for(var k=b.next();!k.done;){if((c=a["@@transducer/step"](c,k.value))&&c["@@transducer/reduced"]){c=c["@@transducer/value"];break;}k=b.next();}return a["@@transducer/result"](c);}function f(a,b,k,f){return a["@@transducer/result"](k[f](c(a["@@transducer/step"],a),b));}t=a(787);p=a(785);c=a(784);h();h();m();k="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";g.T=function(a,c,d){"function"===typeof a&&(a=p(a));if(t(d)){for(var n=0,q=d.length;n<q;){if((c=a["@@transducer/step"](c,d[n]))&&c["@@transducer/reduced"]){c=c["@@transducer/value"];break;}n+=1;}return a["@@transducer/result"](c);}if("function"===typeof d["fantasy-land/reduce"])return f(a,c,d,"fantasy-land/reduce");if(null!=d[k])return b(a,c,d[k]());if("function"===typeof d.next)return b(a,c,d);if("function"===typeof d.reduce)return f(a,c,d,"reduce");throw new TypeError("reduce: list must be array or iterable");};},function(g){g.T=function(d,a){return Object.prototype.hasOwnProperty.call(a,d);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.XCb=function(){};d.sO="TransportConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tX="BookmarkSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.HF||(d.HF={});g[g.XNa=0]="PAUSE";g[g.eQa=1]="RESUME";g[g.Jwb=2]="CAPTIONS_ON";g[g.Iwb=3]="CAPTIONS_OFF";g[g.Kwb=4]="CAPTION_LANGUAGE_CHANGED";g[g.Cvb=5]="AUDIO_LANGUAGE_CHANGED";g[g.iAb=6]="NEXT_EP";g[g.oBb=7]="PREV_EP";g[g.hx=8]="SEEK";g[g.Aia=9]="STOP";d.Cda="CastInteractionTrackerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Qw||(d.Qw={});g.Unknown="unknown";g.Absent="absent";g.Present="present";g.Error="error";d.Cea="ExternalDisplayLogHelperSymbol";},function(g,d,a){var f,t,p;function b(){this.type=f.Fw.Zw;}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);g=a(97);t=a(136);p=new g.kx();b.h3=function(){return{isTypeSupported:function(a){var c;try{if(-1==a.toLowerCase().indexOf("codec"))return M.MSMediaKeys.isTypeSupported(a);c=a.split("|");return 1===c.length?M.MSMediaKeys.isTypeSupported(t.jb.sp,a):"probably"===b.Gba(c[0],c[1]);}catch(q){return!1;}}};};b.lR=function(a,k,f){k=p.format(b.nF,k);if(0===f.length)return k;f=p.format('features="{0}"',f.join());return p.format("{0}|{1}{2}",a,k,f);};b.Gba=function(a,b){var c;try{c=M.MSMediaKeys.isTypeSupportedWithFeatures?M.MSMediaKeys.isTypeSupportedWithFeatures(a,b):"";}catch(n){c="exception";}return c;};b.nF='video/mp4;codecs="{0},mp4a";';d.$w=b;},function(g,d,a){var f,t,p,c,k,q;function b(a,k,f,d){var n;n=t.xm.call(this,a,k,f)||this;n.cast=d;n.type=p.Oj.wX;a=b.XRa;n.vF[p.ad.tO]=c.ye.QF+"; "+a;n.vF[p.ad.br]=c.ye.br+"; "+a;a=c.ye.NGa.find(function(a){return n.hs(q(b.nF,a));});n.vF[p.ad.mp]=a;return n;}Object.defineProperty(d,"__esModule",{value:!0});f=a(66);t=a(128);p=a(29);g=a(97);c=a(129);k=a(403);q=new g.kx().format;ba(b,t.xm);b.h3=function(a,c){return(c=b.NAa(c))?{isTypeSupported:c}:a;};b.NAa=function(a){return"undefined"!==typeof a&&(a.receiver&&a.receiver.platform&&a.receiver.platform.canDisplayType||a.__platform__&&a.__platform__.canDisplayType)||void 0;};b.prototype.Iq=function(a){var k,f;k=this.cast.__platform__.display&&this.cast.__platform__.display.getHdcpVersion;if(this.config().cEa){f={};if(k)return f[p.Hh.pp]="1.4",f[p.Hh.Tw]="2.2",k().then(function(c){return c===f[a];});k=this.Cwa(a);k=q(b.nF,c.ye.QF)+" hdcp="+k;k=this.hs.bind(this,k);return Promise.resolve(k());}return Promise.resolve(!1);};b.prototype.vJ=function(a){return this.vF[a];};b.prototype.qD=function(){var a;a=this;return this.config().cEa?this.Iq(p.Hh.Tw).then(function(c){return c?Promise.resolve(p.Hh.Tw):a.Iq(p.Hh.pp).then(function(a){return a?Promise.resolve(p.Hh.pp):Promise.resolve(void 0);});}).then(function(c){return a.sI(c);}):Promise.resolve(void 0);};b.prototype.jy=function(){var a,k;a=t.xm.prototype.jy.call(this);k=b.sua;a[f.aa.eY]=["hev1.2.6.L90.B0",k];a[f.aa.fY]=["hev1.2.6.L93.B0",k];a[f.aa.gY]=["hev1.2.6.L120.B0",k];a[f.aa.hY]=["hev1.2.6.L123.B0",k];a[f.aa.iY]=["hev1.2.6.L150.B0","width=3840; height=2160; "+k];a[f.aa.kY]=["hev1.2.6.L153.B0","width=3840; height=2160; "+k];a[f.aa.JN]=["hev1.2.6.L90.B0",k];a[f.aa.KN]=["hev1.2.6.L93.B0",k];a[f.aa.LN]=["hev1.2.6.L120.B0",k];a[f.aa.MN]=["hev1.2.6.L123.B0",k];a[f.aa.jY]=["hev1.2.6.L150.B0","width=3840; height=2160; "+k];a[f.aa.lY]=["hev1.2.6.L153.B0","width=3840; height=2160; "+k];a[f.aa.BY]="hev1.1.6.L90.B0";a[f.aa.CY]="hev1.1.6.L93.B0";a[f.aa.DY]="hev1.1.6.L120.B0";a[f.aa.EY]="hev1.1.6.L123.B0";a[f.aa.FY]=["hev1.1.6.L150.B0","width=3840; height=2160; "];a[f.aa.GY]=["hev1.1.6.L153.B0","width=3840; height=2160; "];a[f.aa.nY]="hev1.2.6.L90.B0";a[f.aa.qY]="hev1.2.6.L93.B0";a[f.aa.tY]="hev1.2.6.L120.B0";a[f.aa.wY]="hev1.2.6.L123.B0";a[f.aa.TF]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[f.aa.UF]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[f.aa.pY]="hev1.2.6.L90.B0";a[f.aa.sY]="hev1.2.6.L93.B0";a[f.aa.vY]="hev1.2.6.L120.B0";a[f.aa.yY]="hev1.2.6.L123.B0";a[f.aa.zY]=["hev1.2.6.L150.B0","width=3840; height=2160; "];a[f.aa.AY]=["hev1.2.6.L153.B0","width=3840; height=2160; "];a[f.aa.KX]=c.ye.xX;a[f.aa.yN]=c.ye.xX;return a;};b.prototype.k7=function(){t.xm.prototype.k7.call(this);!b.NAa(this.cast)&&this.gm.push(k.Xi.br);};b.sua="eotf=smpte2084";b.tHb="video/mp4;codecs={0}; "+b.sua;b.XRa="width=3840; height=2160; ";d.Dda=b;d.yX="CastSDKSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hfa="IsTypeSupportedProviderFactorySymbol";d.Kha="PlatformIsTypeSupportedSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$ia="ThroughputTrackerSymbol";d.a_="ThroughputTrackerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.BZ="PboPlaydataFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.c_="TransitionLoggerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.RZ="SegmentManagerFactorySymbol";},function(g,d,a){var f,t,p;function b(a,b,f,d){this.Ba=a;this.fs=b;this.kk=f;this.Wm=void 0===d?"General":d;this.Q2={};}Object.defineProperty(d,"__esModule",{value:!0});f=a(5);t=a(415);p=a(854);b.prototype.Tma=function(a,b){this.Q2[a]=b;};b.prototype.fatal=function(a,b){for(var c=[],k=1;k<arguments.length;++k)c[k-1]=arguments[k];this.yu(f.Ih.HJa,a,p.nC(this.fs,this.kD(c)));};b.prototype.error=function(a,b){for(var c=[],k=1;k<arguments.length;++k)c[k-1]=arguments[k];this.yu(f.Ih.ERROR,a,p.nC(this.fs,this.kD(c)));};b.prototype.warn=function(a,b){for(var c=[],k=1;k<arguments.length;++k)c[k-1]=arguments[k];this.yu(f.Ih.f_,a,p.nC(this.fs,this.kD(c)));};b.prototype.info=function(a,b){for(var c=[],k=1;k<arguments.length;++k)c[k-1]=arguments[k];this.yu(f.Ih.PY,a,p.nC(this.fs,this.kD(c)));};b.prototype.trace=function(a,b){for(var c=[],k=1;k<arguments.length;++k)c[k-1]=arguments[k];this.yu(f.Ih.Wia,a,p.nC(this.fs,this.kD(c)));};b.prototype.debug=function(a,b){for(var c=1;c<arguments.length;++c);};b.prototype.log=function(a,b){for(var c=1;c<arguments.length;++c);this.debug.apply(this,arguments);};b.prototype.write=function(a,b,f){for(var c=[],k=2;k<arguments.length;++k)c[k-2]=arguments[k];this.yu(a,b,p.nC(this.fs,this.kD(c)));};b.prototype.toString=function(){return JSON.stringify(this);};b.prototype.toJSON=function(){return{category:this.Wm};};b.prototype.n3=function(a){return new b(this.Ba,this.fs,this.kk,a);};b.prototype.yu=function(a,b,f){a=new t.Xfa(a,this.Wm,this.Ba.ac(),b,f);b=P(this.kk.kk);for(f=b.next();!f.done;f=b.next())f=f.value,f(a);};b.prototype.kD=function(a){return 0<Object.keys(this.Q2).length?[].concat([this.Q2],ga(a)):a;};d.dG=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.WZ="StringUtilsSymbol";},function(g){var q,n,u,y,A,h;function d(){throw Error("setTimeout has not been defined");}function a(){throw Error("clearTimeout has not been defined");}function b(a){if(q===setTimeout)return setTimeout(a,0);if((q===d||!q)&&setTimeout)return q=setTimeout,setTimeout(a,0);try{return q(a,0);}catch(I){try{return q.call(null,a,0);}catch(G){return q.call(this,a,0);}}}function f(c){if(n===clearTimeout)clearTimeout(c);else if(n!==a&&n||!clearTimeout)try{n(c);}catch(I){try{n.call(null,c);}catch(G){n.call(this,c);}}else n=clearTimeout,clearTimeout(c);}function t(){y&&A&&(y=!1,A.length?u=A.concat(u):h=-1,u.length&&p());}function p(){var a;if(!y){a=b(t);y=!0;for(var c=u.length;c;){A=u;for(u=[];++h<c;)A&&A[h].GE();h=-1;c=u.length;}A=null;y=!1;f(a);}}function c(a,c){this.S9a=a;this.Jp=c;}function k(){}g=g.T={};try{q="function"===typeof setTimeout?setTimeout:d;}catch(x){q=d;}try{n="function"===typeof clearTimeout?clearTimeout:a;}catch(x){n=a;}u=[];y=!1;h=-1;g.Qxa=function(a){var k;k=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)k[f-1]=arguments[f];u.push(new c(a,k));1!==u.length||y||b(p);};c.prototype.GE=function(){this.S9a.apply(null,this.Jp);};g.title="browser";g.yEb=!0;g.k8a={};g.fEb=[];g.version="";g.wLb={};g.on=k;g.addListener=k;g.once=k;g.zjb=k;g.removeListener=k;g.removeAllListeners=k;g.emit=k;g.zza=k;g.jmb=k;g.listeners=function(){return[];};g.uEb=function(){throw Error("process.binding is not supported");};g.xFb=function(){return"/";};g.REb=function(){throw Error("process.chdir is not supported");};g.lLb=function(){return 0;};},function(g,d,a){var f,t;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);f={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15};b.prototype.decode=function(a){for(var c=new Uint8Array(a.length/2),b=0;b<c.length;b++)c[b]=this.nDa(a.substr(2*b,2));return c;};b.prototype.encode=function(a){for(var c="",b=a.length,f=0;f<b;f++)var d=a[f],c=c+("0123456789ABCDEF"[d>>>4]+"0123456789ABCDEF"[d&15]);return c;};b.prototype.rJ=function(a,c){var b;b="";for(c<<=1;c--;)b=("0123456789ABCDEF"[a&15]||"0")+b,a>>>=4;return b;};b.prototype.nDa=function(a){var c;c=a.length;if(7<c)throw Error("hex to long");for(var b=0,d=0;d<c;d++)b=16*b+f[a[d]];return b;};t=b;t=g.__decorate([a.L()],t);d.pX=t;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pl='video/mp4; codecs="avc1.640028"';d.Vw='audio/mp4; codecs="mp4a.40.5"';d.TIa="DrmTraitsSymbol";},function(g,d,a){var b,f;b=a(437);f=a(980);d.Pv=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.ZD(f.Cdb,null,a);};},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b,c){a.call(this);this.value=b;this.la=c;this.zr=!0;c&&(this.zr=!1);}b(f,a);f.create=function(a,c){return new f(a,c);};f.yb=function(a){var c,b;c=a.value;b=a.qf;a.done?b.complete():(b.next(c),b.closed||(a.done=!0,this.Ib(a)));};f.prototype.Of=function(a){var c,b;c=this.value;b=this.la;if(b)return b.Ib(f.yb,0,{done:!1,value:c,qf:a});a.next(c);a.closed||a.complete();};return f;}(a(10).Ca);d.QZ=g;},function(g,d,a){a(10);g=function(){function a(a,b,d){this.kind=a;this.value=b;this.error=d;this.Bo="N"===a;}a.prototype.observe=function(a){switch(this.kind){case"N":return a.next&&a.next(this.value);case"E":return a.error&&a.error(this.error);case"C":return a.complete&&a.complete();}};a.prototype.MI=function(a,b,d){switch(this.kind){case"N":return a&&a(this.value);case"E":return b&&b(this.error);case"C":return d&&d();}};a.prototype.accept=function(a,b,d){return a&&"function"===typeof a.next?this.observe(a):this.MI(a,b,d);};a.l3=function(b){return"undefined"!==typeof b?new a("N",b):a.Ltb;};a.Hpa=function(b){return new a("E",void 0,b);};a.g3=function(){return a.M1a;};a.M1a=new a("C");a.Ltb=new a("N",void 0);return a;}();d.Notification=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(){a.apply(this,arguments);this.Vj=[];this.active=!1;}b(f,a);f.prototype.flush=function(a){var c,b;c=this.Vj;if(this.active)c.push(a);else{this.active=!0;do if(b=a.Sf(a.state,a.Ad))break;while(a=c.shift());this.active=!1;if(b){for(;a=c.shift();)a.unsubscribe();throw b;}}};return f;}(a(995).PQa);d.mX=g;},function(g,d,a){var b,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var k in b)b.hasOwnProperty(k)&&(a[k]=b[k]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(81);g=function(a){function d(c,b){a.call(this,c,b);this.la=c;this.ZK=!1;this.bN=b;}b(d,a);d.prototype.Ib=function(a,b){var c;void 0===b&&(b=0);if(this.closed)return this;this.state=a;this.ZK=!0;a=this.id;c=this.la;null!=a&&(this.id=this.wV(c,a,b));this.Ad=b;this.id=this.id||this.DV(c,this.id,b);return this;};d.prototype.DV=function(a,b,d){void 0===d&&(d=0);return f.root.setInterval(a.flush.bind(a,this),d);};d.prototype.wV=function(a,b,d){void 0===d&&(d=0);return null!==d&&this.Ad===d&&!1===this.ZK?b:(f.root.clearInterval(b),void 0);};d.prototype.Sf=function(a,b){if(this.closed)return Error("executing a cancelled action");this.ZK=!1;if(a=this.bP(a,b))return a;!1===this.ZK&&null!=this.id&&(this.id=this.wV(this.la,this.id,null));};d.prototype.bP=function(a){var c,b;c=!1;b=void 0;try{this.bN(a);}catch(n){c=!0;b=!!n&&n||Error(n);}if(c)return this.unsubscribe(),b;};d.prototype.Mr=function(){var a,b,f,d;a=this.id;b=this.la;f=b.Vj;d=f.indexOf(this);this.state=this.bN=null;this.ZK=!1;this.la=null;-1!==d&&f.splice(d,1);null!=a&&(this.id=this.wV(b,a,null));this.Ad=null;};return d;}(a(997).$Ea);d.lX=g;},function(g,d,a){function b(a){var b;b=a.Symbol;"function"===typeof b?b.observable?a=b.observable:(a=b("observable"),b.observable=a):a="@@observable";return a;}g=a(81);d.qHb=b;d.observable=b(g.root);d.wvb=d.observable;},function(g,d,a){g=a(81).root.Symbol;d.Vz="function"===typeof g&&"function"===typeof g["for"]?g["for"]("rxSubscriber"):"@@rxSubscriber";d.xvb=d.Vz;},function(g,d){d.empty={closed:!0,next:function(){},error:function(a){throw a;},complete:function(){}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vX="CachedDrmDataSymbol";},function(g,d,a){var t;function b(){}function f(a){a?(this.active=!1,this.k5(a)):this.active=!0;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);f.prototype.k5=function(a){this.profileId=a.profileId;this.ic=a.keySessionData?a.keySessionData.map(function(a){return{id:a.id,Fv:a.licenseContextId,LD:a.licenseId};}):[];this.oa=a.xid;this.M=a.movieId;};f.prototype.Kq=function(){return JSON.parse(JSON.stringify({profileId:this.profileId,keySessionData:this.ic?this.ic.map(function(a){return{id:a.id,licenseContextId:a.Fv,licenseId:a.LD};}):[],xid:this.oa,movieId:this.M}));};d.PX=f;b.prototype.create=function(){return new f();};b.prototype.load=function(a){return new f(a);};t=b;t=g.__decorate([a.L()],t);d.PIa=t;},function(g,d,a){var b,f,t,p,c,k,q,n,u;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(119);f=a(459);t=a(242);p=a(241);c=a(1017);k=a(1016);q=a(118);n=a(135);u=a(1015);d.eme=new g.Wb(function(a){a(f.hea).to(t.PIa).$();a(p.vX).to(c.JGa).$();a(b.BN).EM(k.Fmb);a(q.Yw).lA(function(a){d.SI.parent=a.$b;return d.SI.get(q.Yw);});a(n.iG).Kf(function(){return function(){return new u.SMa();};});});d.SI=new g.IF({lw:!0});},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(65);f=a(1018);d.Oh=new g.Wb(function(a){a(b.Wq).EM(f.Emb);});d.m1=new g.IF({lw:!0});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cfa="Injector";d.Uw=145152E5;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(247);a(462);g=function(){function a(a){this.Db=a;}a.prototype.$M=function(){this.Db.wC=function(a){return null!==a.target&&!a.target.x7()&&!a.target.A7();};return new b.rX(this.Db);};return a;}();d.sX=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(246);g=function(){function a(a){this.Db=a;}a.prototype.tq=function(a){this.Db.tq=a;return new b.sX(this.Db);};return a;}();d.rX=g;},function(g){var d;d=function(){return this;}();try{d=d||Function("return this;")()||(0,eval)("this");}catch(a){"object"===typeof M&&(d=M);}g.T=d;},function(g,d,a){var p;function b(a,b,f,d,g,t,p){this.TM=d;this.BEa=a;this.Rxa=b;this.m9=f;this.Xeb=t;this.iw=p;this.split=g;}function f(){this.J={};this.J["0"]=new b("1","2","1","14","-0.0000100136",0,0);this.J["1"]=new b("3","4","3","20","-0.0000100136",0,0);this.J["3"]=new b("7","8","7","10","1.5",0,0);this.J["7"]=new b("15","16","15","9","4.5",0,0);this.J["15"]=new b("31","32","31","2","5.5",0,0);this.J["31"]=new b("63","64","63","29","-0.0000100136",0,0);this.J["63"]=new b("123","124","123","24","-0.0000100136",0,0);this.J["123"]=new b("123","124","123","0","0",1,.207298);this.J["124"]=new b("123","124","123","0","0",1,.49076);this.J["64"]=new b("125","126","125","4","40.5",0,0);this.J["125"]=new b("125","126","125","0","0",1,-.00157835);this.J["126"]=new b("125","126","125","0","0",1,.934205);this.J["32"]=new b("65","66","65","135","5.5",0,0);this.J["65"]=new b("127","128","128","4","1272.5",0,0);this.J["127"]=new b("127","128","128","0","0",1,-.510333);this.J["128"]=new b("127","128","128","0","0",1,.18363);this.J["66"]=new b("129","130","129","24","-0.0000100136",0,0);this.J["129"]=new b("129","130","129","0","0",1,-.0464542);this.J["130"]=new b("129","130","129","0","0",1,.458833);this.J["16"]=new b("33","34","34","10","2.00001",0,0);this.J["33"]=new b("67","68","67","0","29.5",0,0);this.J["67"]=new b("131","132","131","2","39.5",0,0);this.J["131"]=new b("131","132","131","0","0",1,-.37577);this.J["132"]=new b("131","132","131","0","0",1,.512087);this.J["68"]=new b("133","134","134","140","1.5",0,0);this.J["133"]=new b("133","134","134","0","0",1,.321272);this.J["134"]=new b("133","134","134","0","0",1,-.675396);this.J["34"]=new b("69","70","70","2","24.5",0,0);this.J["69"]=new b("135","136","136","9","28.5",0,0);this.J["135"]=new b("135","136","136","0","0",1,-.0573845);this.J["136"]=new b("135","136","136","0","0",1,-.507455);this.J["70"]=new b("137","138","137","45","-0.0000100136",0,0);this.J["137"]=new b("137","138","137","0","0",1,-.503909);this.J["138"]=new b("137","138","137","0","0",1,.450886);this.J["8"]=new b("17","18","17","4","44189.5",0,0);this.J["17"]=new b("35","36","35","2","21.5",0,0);this.J["35"]=new b("71","72","72","0","19.5",0,0);this.J["71"]=new b("139","140","140","9","2.5",0,0);this.J["139"]=new b("139","140","140","0","0",1,.00403497);this.J["140"]=new b("139","140","140","0","0",1,-.312656);this.J["72"]=new b("141","142","141","135","96",0,0);this.J["141"]=new b("141","142","141","0","0",1,-.465786);this.J["142"]=new b("141","142","141","0","0",1,.159633);this.J["36"]=new b("73","74","73","130","89.5",0,0);this.J["73"]=new b("143","144","144","10","4.5",0,0);this.J["143"]=new b("143","144","144","0","0",1,-.76265);this.J["144"]=new b("143","144","144","0","0",1,-.580804);this.J["74"]=new b("145","146","146","10","16.5",0,0);this.J["145"]=new b("145","146","146","0","0",1,.296357);this.J["146"]=new b("145","146","146","0","0",1,-.691659);this.J["18"]=new b("37","38","38","9","1.5",0,0);this.J["37"]=new b("37","38","38","0","0",1,.993951);this.J["38"]=new b("75","76","75","0","19",0,0);this.J["75"]=new b("147","148","147","39","-0.0000100136",0,0);this.J["147"]=new b("147","148","147","0","0",1,-.346535);this.J["148"]=new b("147","148","147","0","0",1,-.995745);this.J["76"]=new b("147","148","147","0","0",1,-.99978);this.J["4"]=new b("9","10","9","5","4.5",0,0);this.J["9"]=new b("19","20","19","2","4.5",0,0);this.J["19"]=new b("39","40","39","140","7.5",0,0);this.J["39"]=new b("77","78","78","134","6.5",0,0);this.J["77"]=new b("149","150","150","7","11.5",0,0);this.J["149"]=new b("149","150","150","0","0",1,.729843);this.J["150"]=new b("149","150","150","0","0",1,.383857);this.J["78"]=new b("151","152","151","133","4.5",0,0);this.J["151"]=new b("151","152","151","0","0",1,.39017);this.J["152"]=new b("151","152","151","0","0",1,.0434342);this.J["40"]=new b("79","80","79","133","3.5",0,0);this.J["79"]=new b("153","154","154","8","4.5",0,0);this.J["153"]=new b("153","154","154","0","0",1,-.99536);this.J["154"]=new b("153","154","154","0","0",1,-.00943396);this.J["80"]=new b("155","156","155","125","-0.0000100136",0,0);this.J["155"]=new b("155","156","155","0","0",1,.266272);this.J["156"]=new b("155","156","155","0","0",1,.959904);this.J["20"]=new b("41","42","42","10","65.5",0,0);this.J["41"]=new b("81","82","82","7","10.5",0,0);this.J["81"]=new b("157","158","158","2","37.5",0,0);this.J["157"]=new b("157","158","158","0","0",1,-.701873);this.J["158"]=new b("157","158","158","0","0",1,.224649);this.J["82"]=new b("159","160","159","133","9.5",0,0);this.J["159"]=new b("159","160","159","0","0",1,.0955181);this.J["160"]=new b("159","160","159","0","0",1,-.58962);this.J["42"]=new b("83","84","83","39","-0.0000100136",0,0);this.J["83"]=new b("161","162","161","135","31",0,0);this.J["161"]=new b("161","162","161","0","0",1,-.229692);this.J["162"]=new b("161","162","161","0","0",1,.88595);this.J["84"]=new b("163","164","164","1","13.5",0,0);this.J["163"]=new b("163","164","164","0","0",1,-.992157);this.J["164"]=new b("163","164","164","0","0",1,.922159);this.J["10"]=new b("21","22","22","4","486",0,0);this.J["21"]=new b("43","44","44","133","4.5",0,0);this.J["43"]=new b("85","86","86","10","4.5",0,0);this.J["85"]=new b("165","166","166","4","158.5",0,0);this.J["165"]=new b("165","166","166","0","0",1,-.127778);this.J["166"]=new b("165","166","166","0","0",1,.955189);this.J["86"]=new b("165","166","166","0","0",1,-.994012);this.J["44"]=new b("87","88","88","1","3.5",0,0);this.J["87"]=new b("167","168","168","135","7",0,0);this.J["167"]=new b("167","168","168","0","0",1,-.997015);this.J["168"]=new b("167","168","168","0","0",1,.400821);this.J["88"]=new b("169","170","169","130","36",0,0);this.J["169"]=new b("169","170","169","0","0",1,-.898638);this.J["170"]=new b("169","170","169","0","0",1,.56129);this.J["22"]=new b("45","46","45","9","2.5",0,0);this.J["45"]=new b("89","90","90","9","1.5",0,0);this.J["89"]=new b("171","172","171","10","10.5",0,0);this.J["171"]=new b("171","172","171","0","0",1,.573986);this.J["172"]=new b("171","172","171","0","0",1,-.627266);this.J["90"]=new b("173","174","173","31","-0.0000100136",0,0);this.J["173"]=new b("173","174","173","0","0",1,.925273);this.J["174"]=new b("173","174","173","0","0",1,-.994805);this.J["46"]=new b("91","92","91","136","5.5",0,0);this.J["91"]=new b("175","176","175","10","10.5",0,0);this.J["175"]=new b("175","176","175","0","0",1,.548352);this.J["176"]=new b("175","176","175","0","0",1,-.879195);this.J["92"]=new b("177","178","178","8","14.5",0,0);this.J["177"]=new b("177","178","178","0","0",1,.457305);this.J["178"]=new b("177","178","178","0","0",1,-.998992);this.J["2"]=new b("5","6","5","10","2.5",0,0);this.J["5"]=new b("11","12","11","9","4.5",0,0);this.J["11"]=new b("23","24","24","10","4.00001",0,0);this.J["23"]=new b("47","48","48","133","5.5",0,0);this.J["47"]=new b("93","94","93","3","13.5",0,0);this.J["93"]=new b("179","180","179","138","15.5",0,0);this.J["179"]=new b("179","180","179","0","0",1,.658398);this.J["180"]=new b("179","180","179","0","0",1,-.927007);this.J["94"]=new b("181","182","182","3","15.5",0,0);this.J["181"]=new b("181","182","182","0","0",1,-.111351);this.J["182"]=new b("181","182","182","0","0",1,-.99827);this.J["48"]=new b("95","96","95","7","167",0,0);this.J["95"]=new b("183","184","183","132","36.5",0,0);this.J["183"]=new b("183","184","183","0","0",1,.895161);this.J["184"]=new b("183","184","183","0","0",1,-.765217);this.J["96"]=new b("185","186","186","137","6.00001",0,0);this.J["185"]=new b("185","186","186","0","0",1,-.851095);this.J["186"]=new b("185","186","186","0","0",1,.674286);this.J["24"]=new b("49","50","49","137","5.5",0,0);this.J["49"]=new b("97","98","97","5","23.5",0,0);this.J["97"]=new b("187","188","187","3","28.5",0,0);this.J["187"]=new b("187","188","187","0","0",1,.951654);this.J["188"]=new b("187","188","187","0","0",1,-.993808);this.J["98"]=new b("187","188","187","0","0",1,-.99705);this.J["50"]=new b("187","188","187","0","0",1,-.997525);this.J["12"]=new b("25","26","25","8","8.5",0,0);this.J["25"]=new b("51","52","52","10","4.00001",0,0);this.J["51"]=new b("99","100","100","133","5.5",0,0);this.J["99"]=new b("189","190","190","7","40.5",0,0);this.J["189"]=new b("189","190","190","0","0",1,.151839);this.J["190"]=new b("189","190","190","0","0",1,-.855517);this.J["100"]=new b("191","192","192","133","14.5",0,0);this.J["191"]=new b("191","192","192","0","0",1,.86223);this.J["192"]=new b("191","192","192","0","0",1,.544394);this.J["52"]=new b("101","102","101","135","47.5",0,0);this.J["101"]=new b("193","194","194","4","24.5",0,0);this.J["193"]=new b("193","194","194","0","0",1,.946185);this.J["194"]=new b("193","194","194","0","0",1,.811859);this.J["102"]=new b("193","194","194","0","0",1,-.991561);this.J["26"]=new b("53","54","54","132","6.5",0,0);this.J["53"]=new b("103","104","103","131","85",0,0);this.J["103"]=new b("195","196","196","134","16.5",0,0);this.J["195"]=new b("195","196","196","0","0",1,.0473538);this.J["196"]=new b("195","196","196","0","0",1,-.999401);this.J["104"]=new b("197","198","198","8","15.5",0,0);this.J["197"]=new b("197","198","198","0","0",1,.816129);this.J["198"]=new b("197","198","198","0","0",1,-.99322);this.J["54"]=new b("105","106","105","133","3.5",0,0);this.J["105"]=new b("105","106","105","0","0",1,-.998783);this.J["106"]=new b("199","200","199","39","-0.0000100136",0,0);this.J["199"]=new b("199","200","199","0","0",1,.528588);this.J["200"]=new b("199","200","199","0","0",1,-.998599);this.J["6"]=new b("13","14","14","10","7.5",0,0);this.J["13"]=new b("27","28","28","133","7.5",0,0);this.J["27"]=new b("55","56","56","10","4.5",0,0);this.J["55"]=new b("107","108","107","3","3.5",0,0);this.J["107"]=new b("201","202","201","4","17.5",0,0);this.J["201"]=new b("201","202","201","0","0",1,-.379512);this.J["202"]=new b("201","202","201","0","0",1,.15165);this.J["108"]=new b("203","204","203","57","-0.0000100136",0,0);this.J["203"]=new b("203","204","203","0","0",1,-.884606);this.J["204"]=new b("203","204","203","0","0",1,.265406);this.J["56"]=new b("109","110","109","136","6.5",0,0);this.J["109"]=new b("205","206","205","4","157.5",0,0);this.J["205"]=new b("205","206","205","0","0",1,-.0142737);this.J["206"]=new b("205","206","205","0","0",1,.691279);this.J["110"]=new b("205","206","205","0","0",1,-.998086);this.J["28"]=new b("57","58","58","138","11.5",0,0);this.J["57"]=new b("111","112","112","2","6.5",0,0);this.J["111"]=new b("207","208","208","7","67.5",0,0);this.J["207"]=new b("207","208","208","0","0",1,.763925);this.J["208"]=new b("207","208","208","0","0",1,-.309645);this.J["112"]=new b("209","210","209","40","-0.0000100136",0,0);this.J["209"]=new b("209","210","209","0","0",1,-.306635);this.J["210"]=new b("209","210","209","0","0",1,.556696);this.J["58"]=new b("113","114","113","138","50.5",0,0);this.J["113"]=new b("211","212","212","8","25.5",0,0);this.J["211"]=new b("211","212","212","0","0",1,.508234);this.J["212"]=new b("211","212","212","0","0",1,.793551);this.J["114"]=new b("211","212","212","0","0",1,-.998438);this.J["14"]=new b("29","30","29","134","27.5",0,0);this.J["29"]=new b("59","60","60","7","17.5",0,0);this.J["59"]=new b("115","116","115","135","5.5",0,0);this.J["115"]=new b("213","214","214","137","5.5",0,0);this.J["213"]=new b("213","214","214","0","0",1,.401747);this.J["214"]=new b("213","214","214","0","0",1,.0367503);this.J["116"]=new b("215","216","216","8","5.5",0,0);this.J["215"]=new b("215","216","216","0","0",1,-.0241984);this.J["216"]=new b("215","216","216","0","0",1,-.999046);this.J["60"]=new b("117","118","117","0","12.5",0,0);this.J["117"]=new b("217","218","218","132","5.5",0,0);this.J["217"]=new b("217","218","218","0","0",1,-.997294);this.J["218"]=new b("217","218","218","0","0",1,.210398);this.J["118"]=new b("219","220","219","137","1.5",0,0);this.J["219"]=new b("219","220","219","0","0",1,-.55763);this.J["220"]=new b("219","220","219","0","0",1,.074493);this.J["30"]=new b("61","62","62","133","42.5",0,0);this.J["61"]=new b("119","120","119","135","5.5",0,0);this.J["119"]=new b("221","222","222","4","473.5",0,0);this.J["221"]=new b("221","222","222","0","0",1,-.920213);this.J["222"]=new b("221","222","222","0","0",1,-.17615);this.J["120"]=new b("223","224","224","5","144",0,0);this.J["223"]=new b("223","224","224","0","0",1,-.954295);this.J["224"]=new b("223","224","224","0","0",1,-.382538);this.J["62"]=new b("121","122","121","133","50",0,0);this.J["121"]=new b("225","226","226","10","18.5",0,0);this.J["225"]=new b("225","226","226","0","0",1,-.0731343);this.J["226"]=new b("225","226","226","0","0",1,.755454);this.J["122"]=new b("227","228","228","0","30",0,0);this.J["227"]=new b("227","228","228","0","0",1,.25);this.J["228"]=new b("227","228","228","0","0",1,-.997101);}function t(a,b,f,d,g,t){this.KV=g;this.aR=t;}d=a(276);p=a(171);a={};a.ZZa=new function(){this.bUa=p();this.o=0;this.update=function(){this.o=p()-this.bUa;};this.getValue=function(){return this.o;};this.type="num";}();a.Dfb=new function(){this.getValue=function(a,b,f){return this.o="becauseYouAdded"===f.Ea[a].context||null;};this.type="cat";}();a.Efb=new function(){this.getValue=function(a,b,f){return this.o="becauseYouLiked"===f.Ea[a].context||null;};this.type="cat";}();a.Gfb=new function(){this.getValue=function(a,b,f){return this.o="billboard"===f.Ea[a].context||null;};this.type="cat";}();a.Hfb=new function(){this.getValue=function(a,b,f){return this.o="continueWatching"===f.Ea[a].context||null;};this.type="cat";}();a.Ffb=new function(){this.getValue=function(a,b,f){return this.o="bigRow"===f.Ea[a].context||null;};this.type="cat";}();a.Ifb=new function(){this.getValue=function(a,b,f){return this.o="genre"===f.Ea[a].context||null;};this.type="cat";}();a.Jfb=new function(){this.getValue=function(a,b,f){return this.o="netflixOriginals"===f.Ea[a].context||null;};this.type="cat";}();a.Kfb=new function(){this.getValue=function(a,b,f){return this.o="newRelease"===f.Ea[a].context||null;};this.type="cat";}();a.Lfb=new function(){this.getValue=function(a,b,f){return this.o="popularTitles"===f.Ea[a].context||null;};this.type="cat";}();a.Mfb=new function(){this.getValue=function(a,b,f){return this.o="queue"===f.Ea[a].context||null;};this.type="cat";}();a.Nfb=new function(){this.getValue=function(a,b,f){return this.o="recentlyAdded"===f.Ea[a].context||null;};this.type="cat";}();a.Ofb=new function(){this.getValue=function(a,b,f){return this.o="similars"===f.Ea[a].context||null;};this.type="cat";}();a.Qfb=new function(){this.getValue=function(a,b,f){return this.o="trendingNow"===f.Ea[a].context||null;};this.type="cat";}();a.Rfb=new function(){this.getValue=function(a,b,f){return this.o="ultraHD"===f.Ea[a].context||null;};this.type="cat";}();a.Sfb=new function(){this.getValue=function(a,b,f){return this.o="watchAgain"===f.Ea[a].context||null;};this.type="cat";}();a.Pfb=new function(){this.getValue=function(a,b,f){return this.o="topTen"===f.Ea[a].context||null;};this.type="cat";}();a.E_a=new function(){this.update=function(a){for(var c in a.Ea)if("becauseYouAdded"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.F_a=new function(){this.update=function(a){for(var c in a.Ea)if("becauseYouLiked"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.H_a=new function(){this.update=function(a){for(var c in a.Ea)if("billboard"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.c2a=new function(){this.update=function(a){for(var c in a.Ea)if("continueWatching"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.G_a=new function(){this.update=function(a){for(var c in a.Ea)if("bigRow"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Y9a=new function(){this.update=function(a){for(var c in a.Ea)if("genre"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Jib=new function(){this.update=function(a){for(var c in a.Ea)if("netflixOriginals"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Nib=new function(){this.update=function(a){for(var c in a.Ea)if("newRelease"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Plb=new function(){this.update=function(a){for(var c in a.Ea)if("popularTitles"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Oi=new function(){this.update=function(a){for(var c in a.Ea)if("queue"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.nnb=new function(){this.update=function(a){for(var c in a.Ea)if("recentlyAdded"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Xqb=new function(){this.update=function(a){for(var c in a.Ea)if("similars"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.vtb=new function(){this.update=function(a){for(var c in a.Ea)if("trendingNow"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.Jtb=new function(){this.update=function(a){for(var c in a.Ea)if("ultraHD"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.cvb=new function(){this.update=function(a){for(var c in a.Ea)if("watchAgain"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.$sb=new function(){this.update=function(a){for(var c in a.Ea)if("topTen"===a.Ea[c].context){this.o=Math.max(a.Ea[c].list.length,this.o);break;}};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.q2a=new function(){this.getValue=function(a,b,f){return this.o="AR"===f.Fa||null;};this.type="cat";}();a.r2a=new function(){this.getValue=function(a,b,f){return this.o="AT"===f.Fa||null;};this.type="cat";}();a.s2a=new function(){this.getValue=function(a,b,f){return this.o="AU"===f.Fa||null;};this.type="cat";}();a.t2a=new function(){this.getValue=function(a,b,f){return this.o="AZ"===f.Fa||null;};this.type="cat";}();a.u2a=new function(){this.getValue=function(a,b,f){return this.o="BB"===f.Fa||null;};this.type="cat";}();a.v2a=new function(){this.getValue=function(a,b,f){return this.o="BE"===f.Fa||null;};this.type="cat";}();a.w2a=new function(){this.getValue=function(a,b,f){return this.o="BO"===f.Fa||null;};this.type="cat";}();a.x2a=new function(){this.getValue=function(a,b,f){return this.o="BR"===f.Fa||null;};this.type="cat";}();a.y2a=new function(){this.getValue=function(a,b,f){return this.o="BS"===f.Fa||null;};this.type="cat";}();a.z2a=new function(){this.getValue=function(a,b,f){return this.o="CA"===f.Fa||null;};this.type="cat";}();a.A2a=new function(){this.getValue=function(a,b,f){return this.o="CH"===f.Fa||null;};this.type="cat";}();a.B2a=new function(){this.getValue=function(a,b,f){return this.o="CL"===f.Fa||null;};this.type="cat";}();a.C2a=new function(){this.getValue=function(a,b,f){return this.o="CO"===f.Fa||null;};this.type="cat";}();a.D2a=new function(){this.getValue=function(a,b,f){return this.o="CR"===f.Fa||null;};this.type="cat";}();a.E2a=new function(){this.getValue=function(a,b,f){return this.o="CW"===f.Fa||null;};this.type="cat";}();a.F2a=new function(){this.getValue=function(a,b,f){return this.o="DE"===f.Fa||null;};this.type="cat";}();a.G2a=new function(){this.getValue=function(a,b,f){return this.o="DK"===f.Fa||null;};this.type="cat";}();a.H2a=new function(){this.getValue=function(a,b,f){return this.o="DM"===f.Fa||null;};this.type="cat";}();a.I2a=new function(){this.getValue=function(a,b,f){return this.o="DO"===f.Fa||null;};this.type="cat";}();a.J2a=new function(){this.getValue=function(a,b,f){return this.o="EC"===f.Fa||null;};this.type="cat";}();a.K2a=new function(){this.getValue=function(a,b,f){return this.o="EE"===f.Fa||null;};this.type="cat";}();a.L2a=new function(){this.getValue=function(a,b,f){return this.o="EG"===f.Fa||null;};this.type="cat";}();a.M2a=new function(){this.getValue=function(a,b,f){return this.o="ES"===f.Fa||null;};this.type="cat";}();a.N2a=new function(){this.getValue=function(a,b,f){return this.o="FI"===f.Fa||null;};this.type="cat";}();a.O2a=new function(){this.getValue=function(a,b,f){return this.o="FR"===f.Fa||null;};this.type="cat";}();a.P2a=new function(){this.getValue=function(a,b,f){return this.o="GB"===f.Fa||null;};this.type="cat";}();a.Q2a=new function(){this.getValue=function(a,b,f){return this.o="GF"===f.Fa||null;};this.type="cat";}();a.R2a=new function(){this.getValue=function(a,b,f){return this.o="GP"===f.Fa||null;};this.type="cat";}();a.S2a=new function(){this.getValue=function(a,b,f){return this.o="GT"===f.Fa||null;};this.type="cat";}();a.T2a=new function(){this.getValue=function(a,b,f){return this.o="HK"===f.Fa||null;};this.type="cat";}();a.U2a=new function(){this.getValue=function(a,b,f){return this.o="HN"===f.Fa||null;};this.type="cat";}();a.V2a=new function(){this.getValue=function(a,b,f){return this.o="HR"===f.Fa||null;};this.type="cat";}();a.W2a=new function(){this.getValue=function(a,b,f){return this.o="HU"===f.Fa||null;};this.type="cat";}();a.X2a=new function(){this.getValue=function(a,b,f){return this.o="ID"===f.Fa||null;};this.type="cat";}();a.Y2a=new function(){this.getValue=function(a,b,f){return this.o="IE"===f.Fa||null;};this.type="cat";}();a.Z2a=new function(){this.getValue=function(a,b,f){return this.o="IL"===f.Fa||null;};this.type="cat";}();a.$2a=new function(){this.getValue=function(a,b,f){return this.o="IN"===f.Fa||null;};this.type="cat";}();a.a3a=new function(){this.getValue=function(a,b,f){return this.o="IT"===f.Fa||null;};this.type="cat";}();a.b3a=new function(){this.getValue=function(a,b,f){return this.o="JE"===f.Fa||null;};this.type="cat";}();a.c3a=new function(){this.getValue=function(a,b,f){return this.o="JM"===f.Fa||null;};this.type="cat";}();a.d3a=new function(){this.getValue=function(a,b,f){return this.o="JP"===f.Fa||null;};this.type="cat";}();a.e3a=new function(){this.getValue=function(a,b,f){return this.o="KE"===f.Fa||null;};this.type="cat";}();a.f3a=new function(){this.getValue=function(a,b,f){return this.o="KN"===f.Fa||null;};this.type="cat";}();a.g3a=new function(){this.getValue=function(a,b,f){return this.o="KR"===f.Fa||null;};this.type="cat";}();a.h3a=new function(){this.getValue=function(a,b,f){return this.o="LU"===f.Fa||null;};this.type="cat";}();a.i3a=new function(){this.getValue=function(a,b,f){return this.o="MK"===f.Fa||null;};this.type="cat";}();a.j3a=new function(){this.getValue=function(a,b,f){return this.o="MU"===f.Fa||null;};this.type="cat";}();a.k3a=new function(){this.getValue=function(a,b,f){return this.o="MX"===f.Fa||null;};this.type="cat";}();a.l3a=new function(){this.getValue=function(a,b,f){return this.o="MY"===f.Fa||null;};this.type="cat";}();a.m3a=new function(){this.getValue=function(a,b,f){return this.o="NI"===f.Fa||null;};this.type="cat";}();a.n3a=new function(){this.getValue=function(a,b,f){return this.o="NL"===f.Fa||null;};this.type="cat";}();a.o3a=new function(){this.getValue=function(a,b,f){return this.o="NO"===f.Fa||null;};this.type="cat";}();a.p3a=new function(){this.getValue=function(a,b,f){return this.o="NZ"===f.Fa||null;};this.type="cat";}();a.q3a=new function(){this.getValue=function(a,b,f){return this.o="OM"===f.Fa||null;};this.type="cat";}();a.r3a=new function(){this.getValue=function(a,b,f){return this.o="PA"===f.Fa||null;};this.type="cat";}();a.s3a=new function(){this.getValue=function(a,b,f){return this.o="PE"===f.Fa||null;};this.type="cat";}();a.t3a=new function(){this.getValue=function(a,b,f){return this.o="PF"===f.Fa||null;};this.type="cat";}();a.u3a=new function(){this.getValue=function(a,b,f){return this.o="PH"===f.Fa||null;};this.type="cat";}();a.v3a=new function(){this.getValue=function(a,b,f){return this.o="PK"===f.Fa||null;};this.type="cat";}();a.w3a=new function(){this.getValue=function(a,b,f){return this.o="PL"===f.Fa||null;};this.type="cat";}();a.x3a=new function(){this.getValue=function(a,b,f){return this.o="PT"===f.Fa||null;};this.type="cat";}();a.y3a=new function(){this.getValue=function(a,b,f){return this.o="PY"===f.Fa||null;};this.type="cat";}();a.z3a=new function(){this.getValue=function(a,b,f){return this.o="QA"===f.Fa||null;};this.type="cat";}();a.A3a=new function(){this.getValue=function(a,b,f){return this.o="RO"===f.Fa||null;};this.type="cat";}();a.B3a=new function(){this.getValue=function(a,b,f){return this.o="RS"===f.Fa||null;};this.type="cat";}();a.C3a=new function(){this.getValue=function(a,b,f){return this.o="RU"===f.Fa||null;};this.type="cat";}();a.D3a=new function(){this.getValue=function(a,b,f){return this.o="SA"===f.Fa||null;};this.type="cat";}();a.E3a=new function(){this.getValue=function(a,b,f){return this.o="SE"===f.Fa||null;};this.type="cat";}();a.F3a=new function(){this.getValue=function(a,b,f){return this.o="SG"===f.Fa||null;};this.type="cat";}();a.G3a=new function(){this.getValue=function(a,b,f){return this.o="SV"===f.Fa||null;};this.type="cat";}();a.H3a=new function(){this.getValue=function(a,b,f){return this.o="SX"===f.Fa||null;};this.type="cat";}();a.I3a=new function(){this.getValue=function(a,b,f){return this.o="TH"===f.Fa||null;};this.type="cat";}();a.J3a=new function(){this.getValue=function(a,b,f){return this.o="TR"===f.Fa||null;};this.type="cat";}();a.K3a=new function(){this.getValue=function(a,b,f){return this.o="TT"===f.Fa||null;};this.type="cat";}();a.L3a=new function(){this.getValue=function(a,b,f){return this.o="TW"===f.Fa||null;};this.type="cat";}();a.M3a=new function(){this.getValue=function(a,b,f){return this.o="US"===f.Fa||null;};this.type="cat";}();a.N3a=new function(){this.getValue=function(a,b,f){return this.o="UY"===f.Fa||null;};this.type="cat";}();a.O3a=new function(){this.getValue=function(a,b,f){return this.o="VE"===f.Fa||null;};this.type="cat";}();a.P3a=new function(){this.getValue=function(a,b,f){return this.o="ZA"===f.Fa||null;};this.type="cat";}();a.pnb=new function(){this.getValue=function(a,b,f){return this.o=1===f.ag||null;};this.type="cat";}();a.qnb=new function(){this.getValue=function(a,b,f){return this.o=10===f.ag||null;};this.type="cat";}();a.rnb=new function(){this.getValue=function(a,b,f){return this.o=11===f.ag||null;};this.type="cat";}();a.snb=new function(){this.getValue=function(a,b,f){return this.o=12===f.ag||null;};this.type="cat";}();a.tnb=new function(){this.getValue=function(a,b,f){return this.o=13===f.ag||null;};this.type="cat";}();a.unb=new function(){this.getValue=function(a,b,f){return this.o=14===f.ag||null;};this.type="cat";}();a.vnb=new function(){this.getValue=function(a,b,f){return this.o=15===f.ag||null;};this.type="cat";}();a.wnb=new function(){this.getValue=function(a,b,f){return this.o=16===f.ag||null;};this.type="cat";}();a.xnb=new function(){this.getValue=function(a,b,f){return this.o=17===f.ag||null;};this.type="cat";}();a.ynb=new function(){this.getValue=function(a,b,f){return this.o=18===f.ag||null;};this.type="cat";}();a.znb=new function(){this.getValue=function(a,b,f){return this.o=19===f.ag||null;};this.type="cat";}();a.Anb=new function(){this.getValue=function(a,b,f){return this.o=2===f.ag||null;};this.type="cat";}();a.Bnb=new function(){this.getValue=function(a,b,f){return this.o=20===f.ag||null;};this.type="cat";}();a.Cnb=new function(){this.getValue=function(a,b,f){return this.o=21===f.ag||null;};this.type="cat";}();a.Dnb=new function(){this.getValue=function(a,b,f){return this.o=22===f.ag||null;};this.type="cat";}();a.Enb=new function(){this.getValue=function(a,b,f){return this.o=23===f.ag||null;};this.type="cat";}();a.Fnb=new function(){this.getValue=function(a,b,f){return this.o=3===f.ag||null;};this.type="cat";}();a.Gnb=new function(){this.getValue=function(a,b,f){return this.o=4===f.ag||null;};this.type="cat";}();a.Hnb=new function(){this.getValue=function(a,b,f){return this.o=5===f.ag||null;};this.type="cat";}();a.Inb=new function(){this.getValue=function(a,b,f){return this.o=6===f.ag||null;};this.type="cat";}();a.Jnb=new function(){this.getValue=function(a,b,f){return this.o=7===f.ag||null;};this.type="cat";}();a.Knb=new function(){this.getValue=function(a,b,f){return this.o=8===f.ag||null;};this.type="cat";}();a.Lnb=new function(){this.getValue=function(a,b,f){return this.o=9===f.ag||null;};this.type="cat";}();a.$rb=new function(){this.update=function(a){"down"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.csb=new function(){this.update=function(a){"right"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.bsb=new function(){this.update=function(a){"left"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.dsb=new function(){this.update=function(a){"up"===a.direction&&this.o++;};this.getValue=function(){return this.o;};this.type="num";this.o=0;}();a.phb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.rowIndex);};this.getValue=function(){return this.o;};this.type="num";}();a.shb=new function(){this.o=0;this.update=function(a){this.o=Math.max(this.o,a.O2);};this.getValue=function(){return this.o;};this.type="num";}();a.zhb=new function(){this.OG=this.o=0;this.update=function(a){this.OG++;this.o=1*(this.o+a.rowIndex)/this.OG;};this.getValue=function(){return this.o;};this.type="num";}();a.Ahb=new function(){this.OG=this.o=0;this.update=function(a){this.OG++;return this.o=1*(this.o+a.O2)/this.OG;};this.getValue=function(){return this.o;};this.type="num";}();a.lmb=new function(){this.getValue=function(a,b,f){return this.o=f.O2+b;};this.type="num";}();a.mmb=new function(){this.getValue=function(a,b,f){return this.o=f.rowIndex+a;};this.type="num";}();f.prototype.iw=function(a){return this.pma(this.J["0"].iBa(a),a);};f.prototype.pma=function(a,b){return"string"==typeof a?this.pma(this.J[a].iBa(b),b):a;};b.prototype.iBa=function(a){switch(this.Xeb){case 0:switch(a.ed[this.TM].type){case"cat":return null===a.ed[this.TM].value?this.Rxa:"missing"==a.ed[this.TM].value?this.m9:this.BEa;case"num":return null===a.ed[this.TM].value?this.m9:a.ed[this.TM].value<this.split?this.BEa:this.Rxa;default:return this.m9;}case 1:return this.iw;default:return this.iw;}};d.declare({JK:["modelSelector","modelone"],B1a:["colEpisodeList",5],rdb:["holdDuration",15E3],UAa:["rowFirst",2],dpa:["colFirst",5],WAa:["rowScroll",2],epa:["colScroll",6],Kob:["rowScrollHorizontal",6],gpb:["searchTop",3],aqa:["cwFirst",2],NJ:["horizontalItemsFocusedMode",3],Yeb:["itemsPerRank",1],lhb:["maxNumberPayloadsStored",10],Swa:["maxNumberTitlesScheduled",5],gGb:["enableDetailedLogging",!0],rKb:["rowStep",20],XEb:["colStep",15],qJb:["pageRows",100],pJb:["pageColumns",75],H8:["maskParamsList",new function(){var a,b;this.H8=[];this.lza={};this.KV=20;this.aR=15;for(a=0;100>a;a++)for(b=0;75>b;b++)Math.floor(a/this.KV)+"_"+Math.floor(b/this.aR)in this.lza||(this.lza[Math.floor(a/this.KV)+"_"+Math.floor(b/this.aR)]=1,this.H8.push(new t(0,0,0,0,Math.floor(a/this.KV),Math.floor(b/this.aR))));}().H8],J:["nodes",new f().J],mapping:["mapping",{shb:"0",Ahb:"1",phb:"2",zhb:"3",ZZa:"4",dsb:"5",bsb:"6",csb:"7",$rb:"8",mmb:"9",lmb:"10",Dfb:"11",Efb:"12",Gfb:"13",Hfb:"14",Ffb:"15",Ifb:"16",Jfb:"17",Kfb:"18",Lfb:"19",Mfb:"20",Nfb:"21",Ofb:"22",Pfb:"23",Qfb:"24",Rfb:"25",Sfb:"26",pnb:"27",qnb:"28",rnb:"29",snb:"30",tnb:"31",unb:"32",vnb:"33",wnb:"34",xnb:"35",ynb:"36",znb:"37",Anb:"38",Bnb:"39",Cnb:"40",Dnb:"41",Enb:"42",Fnb:"43",Gnb:"44",Hnb:"45",Inb:"46",Jnb:"47",Knb:"48",Lnb:"49",q2a:"50",r2a:"51",s2a:"52",t2a:"53",u2a:"54",v2a:"55",w2a:"56",x2a:"57",y2a:"58",z2a:"59",A2a:"60",B2a:"61",C2a:"62",D2a:"63",E2a:"64",F2a:"65",G2a:"66",H2a:"67",I2a:"68",J2a:"69",K2a:"70",L2a:"71",M2a:"72",N2a:"73",O2a:"74",P2a:"75",Q2a:"76",R2a:"77",S2a:"78",T2a:"79",U2a:"80",V2a:"81",W2a:"82",X2a:"83",Y2a:"84",Z2a:"85",$2a:"86",a3a:"87",b3a:"88",c3a:"89",d3a:"90",e3a:"91",f3a:"92",g3a:"93",h3a:"94",i3a:"95",j3a:"96",k3a:"97",l3a:"98",m3a:"99",n3a:"100",o3a:"101",p3a:"102",q3a:"103",r3a:"104",s3a:"105",t3a:"106",u3a:"107",v3a:"108",w3a:"109",x3a:"110",y3a:"111",z3a:"112",A3a:"113",B3a:"114",C3a:"115",D3a:"116",E3a:"117",F3a:"118",G3a:"119",H3a:"120",I3a:"121",J3a:"122",K3a:"123",L3a:"124",M3a:"125",N3a:"126",O3a:"127",P3a:"128",cvb:"129",nnb:"130",Xqb:"131",Oi:"132",c2a:"133",Y9a:"134",vtb:"135",$sb:"136",H_a:"137",Nib:"138",Jtb:"139",Plb:"140",E_a:"141",G_a:"142",F_a:"143",Jib:"144"}],ed:["features",a],NDb:["_modelName","tree"],FDb:["_format","xgboost"],MDb:["_itemsToKeep",5],LDb:["_itemsThreshold",null],HEb:["cacheLimit",20]});g.T={config:d,BIb:t,yFb:b};},function(g,d,a){var f;function b(a){for(var b="",c=0;c<a.length;c++)b+=a[c].we+"|";return b;}f=a(170);g.T={assert:function(a,b){if(!a)throw Error("PlayPredictionModel assertion failed"+(b?" : "+b:""));},MHb:function(a,b,c){Array.prototype.splice.apply(a,[b,0].concat(c));},G$a:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===f.$F.EGa){b=a[c].list;break;}return b;},s$a:function(a){for(var b=[],c=0;c<a.length;c++)if(a[c].context===f.$F.yFa){b=a[c].list;break;}return b;},b6a:function(a,f){for(var c=0,k,d,n,g=0,t=a.length-1;g<t;g++){k=b(a[g].list||[]);n=!1;for(var p=0,h=f.length;p<h;p++)if(d=b(f[p].list||[]),d==k){n=!0;break;}if(!1===n){c=g;break;}}return c;},yjb:function(a,b,c){for(var f=[],d,n=0;n<Math.min(b,a.length);n++)d=a[n].list||[],f=f.concat(d.slice(0,c));return f;},xjb:function(a,b){for(var c=[],f,d=0;d<a.length&&(f=a[d].list||[],f=f.slice(0,Math.min(f.length,b)),b-=f.length,c=c.concat(f),0!==b);d++);return c;},wjb:function(a,b,c){var f;b<a.length&&0<=b&&(a=a[b].list||[],c<a.length&&(f=a[c]));return f;},Qra:function(a){for(var b={},c=a.length,k,d=0;d<c;d++){k=a[d].list||[];for(var n=0;n<k.length;n++)if(k[n].property===f.LA.pG||k[n].property===f.LA.Sda){b.Dh=d;b.lj=n;break;}}void 0===b.Dh&&void 0===b.lj&&(b.Dh=0,b.lj=0);return b;}};},function(g,d,a){var b,f,t,p,c,k,q,n,u,y,A,h,x;Object.defineProperty(d,"__esModule",{value:!0});b=a(71);f=a(8);t=a(12);p=a(28);c=a(25);k=a(32);q=a(4);n=a(2);u=a(18);y=a(114);A=a(9);h=a(87);x=a(21);d.dtb=function(){var g,K,l,m;function a(a){var b,c,f;b="info";c="";f=q.W.get(y.nx).mta();a.X||(b="error",c+="&errorcode="+(a.errorCode||""),c+="&errorsubcode="+(a.Y||""));c="type=startup&sev="+b+c+"&"+p.SK(u.Ya({},f,{prefix:"m_"}));d("startup",c,g);}function d(a,k,d){d&&K&&t.config.sDa[a]&&(a=l+"&jsoffms="+c.Qf()+"&do="+A.Nj.onLine+"&"+k+"&"+p.SK(u.Ya({},m.Ac,{prefix:"im_"})),b.Uc.download({url:d,s$:a,withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},MC:"track"},f.ee));}l="cat=cadplayback&dev="+encodeURIComponent(k.MHa)+"&ep="+encodeURIComponent(k.Eg.TX)+"&ver="+encodeURIComponent("6.0017.505.011")+"&jssid="+c.Jfa;q.Cf("TrackingLog");m=q.W.get(x.xe);l=l+("&browserua="+A.tk);m.register(n.K.pfa,function(b){var c,d;g=q.W.get(h.xt).host+t.config.dca;if(K=t.config.rDa&&!!t.config.dca){t.config.uv&&(l+="&groupname="+encodeURIComponent(t.config.uv));t.config.pA&&(l+="&uigroupname="+encodeURIComponent(t.config.pA));c=l;d="";k.Pn&&(d=u.Ya({},k.Pn,{prefix:"pi_"}),d="&"+p.SK(d));l=c+d;m.rK(a);}b(f.yc);});return d;}();},function(g,d,a){var p;function b(a,b,d){b=b||0;d=d||a.length;for(var c,k=b,g,q,t,p={};k<b+d;){c=a[k];g=c&7;q=c>>3;t=f(a,k);if(!t.count)throw Error("Parsing error. bytes length is 0 for the tag "+c);k+=t.count+1;2==g&&(k+=t.value);p[q]={AGb:q,DLb:g,value:t.value,count:t.count,start:t.start};}return p;}function f(a,b){var c,f,k,d,g,t,h,I;c=b+1;f=a.length;k=c;d=0;g={};t=[];I=0;if(c>=f)throw Error("Invalid Range for Protobuf - start: "+c+" , len: "+f);for(;k<f;){d++;c=a[k];h=c&127;t.push(h);if(!(c&128))break;k++;}p.Ga(t.length);for(a=t.length-1;0<=a;a--)I<<=7,I|=t[a];g.count=d;g.value=I;g.start=b+d+1;return g;}function t(a,b){if(a&&(a=a[b]))return a.value;}Object.defineProperty(d,"__esModule",{value:!0});p=a(14);d.Ieb=function(a){a=b(a);if(1==t(a,1)&&a[5]&&a[5].value)return!0;};d.fIb=function(a){var c;c=b(a);if(2==t(c,1)&&(a=b(a,c[2].start,c[2].value),t(a,5)))return!0;};d.wGb=b;d.kHb=f;d.lHb=t;},function(g){function d(a){return Object.keys(a).every(function(b){return"function"===typeof a[b];});}g.T=function(a){var p,c,k;function b(a,b,c){throw new TypeError(("undefined"!==typeof c.key?"Types: expected "+c.key:"Types: expected argument "+c.index)+(" to be '"+a+"' but found '"+b+"'"));}function f(a,f,k){var d;d=c[a];"undefined"!==typeof d?d(f)||b(a,f,k):a!==typeof f&&b(a,f,k);}function g(a,b){var c;c=a.filter(function(a){return"object"!==typeof a&&-1===k.indexOf(a);});c=c.concat(a.filter(function(a){return"object"===typeof a;}).reduce(function(a,b){return a.concat(Object.keys(b).map(function(a){return b[a];}).filter(function(a){return-1===k.indexOf(a);}));},[]));if(0<c.length)throw Error(c.join(",")+" are invalid types");return function(){var c;c=Array.prototype.slice.call(arguments);if(c.length!==a.length)throw new TypeError("Types: unexpected number of arguments");a.forEach(function(a,b){var k;k=c[b];if("string"===typeof a)f(a,k,{index:b});else if("object"===typeof a)Object.keys(a).forEach(function(b){f(a[b],k[b],{key:b});});else throw Error("Types: unexpected type in type array");});return b.apply(this,c);};}p="number boolean string object function symbol".split(" ");c={array:function(a){return Array.isArray(a);}};if("undefined"!==typeof a){if("object"!==typeof a||!d(a))throw new TypeError("Types: extensions must be an object of type definitions");Object.keys(a).forEach(function(b){if("undefined"!==typeof c[b]||-1<p.indexOf(b))throw new TypeError("Types: attempting to override a built in type with "+b);c[b]=a[b];});}k=Object.keys(c).concat(p);return g(["array","function"],g);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.RJa=function(a){var d,g,c,k;function b(){if(c)for(var a;a=d.pop();)a(k);}function f(a){c=!0;k=a;b();}d=[];return function(c){d.push(c);g||(g=!0,a(f));b();};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.$ha="PlaylistMapTranslatorSymbol";},function(g,d,a){var f;function b(a,b,c,k,d){var n;n=this;this.fl=k;this.Li=d;this.addEventListener=function(a,b,c){return n.Li.addListener(a,n.lqa(a,b),c);};this.removeEventListener=function(a,b){return n.Li.removeListener(a,n.lqa(a,b));};this.getReady=function(){return n.Li.NS();};this.getXid=function(){return n.hb().r6();};this.getMovieId=function(){return n.hb().$ab();};this.getElement=function(){return n.hb().Cy();};this.isPlaying=function(){return n.hb().Oy();};this.isPaused=function(){return n.hb().Ceb();};this.isMuted=function(){return n.hb().Beb();};this.isReady=function(){return n.hb().isReady();};this.isBackground=function(){return n.hb().leb();};this.setBackground=function(a){return n.hb().JBa(a);};this.startInactivityMonitor=function(){return n.hb().fM();};this.setTransitionTime=function(a){return n.hb().YBa(a);};this.getDiagnostics=function(){return n.hb().S$a();};this.getTextTrackList=function(){return n.hb().Sta();};this.getTextTrack=function(){return n.hb().Rta();};this.setTextTrack=function(a){return n.hb().XBa(a);};this.getVolume=function(){return n.hb().xcb();};this.isEnded=function(){return n.hb().seb();};this.getBusy=function(){return n.hb().pj();};this.getError=function(){return n.hb().getError();};this.getCurrentTime=function(){return n.hb().Wl();};this.getBufferedTime=function(){return n.hb().u$a();};this.getSegmentTime=function(){return n.hb().tD();};this.getDuration=function(){return n.hb().B5();};this.getVideoSize=function(){return n.hb().vcb();};this.getAudioTrackList=function(){return n.hb().h$a();};this.getAudioTrack=function(){return n.hb().g$a();};this.getTimedTextTrackList=function(){return n.hb().Sta();};this.getTimedTextTrack=function(){return n.hb().Rta();};this.getAdditionalLogInfo=function(){return n.hb().b$a();};this.getTrickPlayFrame=function(a){return n.hb().lcb(a);};this.getSessionSummary=function(){return n.hb().Lta();};this.getTimedTextSettings=function(){return n.hb().SS();};this.setMuted=function(a){return n.hb().kqb(a);};this.setVolume=function(a){return n.hb().zqb(a);};this.setPlaybackRate=function(a){return n.hb().oqb(a);};this.setAudioTrack=function(a){return n.hb().Xpb(a);};this.setTimedTextTrack=function(a){return n.hb().XBa(a);};this.setTimedTextSettings=function(a){return n.hb().YL(a);};this.prepare=function(){return n.hb().ew();};this.load=function(){return n.hb().load();};this.close=function(a){return n.Fna(n.Li.close(),a);};this.play=function(){return n.hb().play();};this.pause=function(){return n.hb().pause();};this.seek=function(a){return n.hb().seek(a);};this.engage=function(a,b){return n.Fna(n.hb().YI(a),b);};this.induceError=function(a){return n.hb().Tdb(a);};this.loadCustomTimedTextTrack=function(a,b,c){return n.hb().Wfb(a,b,c);};this.tryRecoverFromStall=function(){return n.hb().JM();};this.addEpisode=function(a){var b;n.log.info("Next episode added",a);b=a.playbackParams;return n.Li.t1({M:a.movieId,V:"startPts"in a?a.startPts:a.nextStartPts,da:"endPts"in a?a.endPts:a.currentEndPts,bb:b&&n.Dwa(b)||void 0,tj:a.manifestData,fl:n.fl});};this.playNextEpisode=function(a){a=void 0===a?{}:a;a=n.Dwa(a);n.log.info("Playing the next episode",a);return n.Li.transition(a);};this.playSegment=function(a){return n.hb().zlb(a);};this.queueSegment=function(a){return n.hb().Wmb(a);};this.updateNextSegmentWeights=function(a,b){return n.hb().Nq(a,b);};this.getCropAspectRatio=function(){return n.hb().I$a();};this.getCurrentSegmentId=function(){return n.Li.Qsa();};this.getPlaylistMap=function(){return n.Li.Bta();};this.setNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return n.Li.aW.apply(n.Li,[].concat(ga(b)));};this.clearNextSegment=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return n.Li.s1a.apply(n.Li,[].concat(ga(b)));};this.updatePlaylistMap=function(a){return n.Li.TDa(a);};this.goToNextSegment=function(a,b){return n.Li.Zta(a,b);};this.getPlaying=function(){return n.isPlaying();};this.getPaused=function(){return n.isPaused();};this.getMuted=function(){return n.isMuted();};this.getEnded=function(){return n.isEnded();};this.getTimedTextVisibility=function(){return n.isTimedTextVisible();};this.isTimedTextVisible=function(){return!!n.hb().SS().visibility;};this.setTimedTextVisibility=function(a){return n.setTimedTextVisible(a);};this.setTimedTextSize=function(a){return n.hb().YL({size:a});};this.setTimedTextBounds=function(a){return n.hb().YL({bounds:a});};this.setTimedTextMargins=function(a){return n.hb().YL({margins:a});};this.setTimedTextVisible=function(a){return n.hb().YL({visibility:a});};this.getCongestionInfo=function(a){a&&a({success:!1,name:null,isCongested:null});};this.w4=new Map();this.log=f.Cf("VideoPlayer");this.addEpisode({movieId:a,playbackParams:b,manifestData:c});Object.defineProperty(this,"diagnostics",{get:this.getDiagnostics});}Object.defineProperty(d,"__esModule",{value:!0});f=a(4);a(85);b.prototype.hb=function(){return this.Li.Xl();};b.prototype.lqa=function(a,b){var c;this.w4.has(a)||this.w4.set(a,new Map());c=this.w4.get(a);c.has(b)||c.set(b,this.x5a(a,b));return c.get(b);};b.prototype.x5a=function(a,b){var c;c=this;return function(f){return b(Object.assign({},f,{type:a,target:c}));};};b.prototype.Fna=function(a,b){return b?a.then(b)["catch"](b):a;};b.prototype.Dwa=function(a){return{Zg:a.trackingId,RH:a.authParams,lm:a.sessionParams,ke:a.uiLabel,Y3:a.disableTrackStickiness,JW:a.uiPlayStartTime,rS:a.forceAudioTrackId,sS:a.forceTimedTextTrackId,Vf:a.isBranching,Eca:a.vuiCommand,playbackState:a.playbackState?{currentTime:a.playbackState.currentTime,volume:a.playbackState.volume,muted:a.playbackState.muted}:void 0,XC:a.enableTrickPlay,F6:a.heartbeatCooldown,y7:a.isPlaylist,ST:a.loadImmediately||!1,ga:a.manifestIndex||0,g$:a.pin,jL:a.preciseSeeking,V:a.startPts,da:a.endPts,qn:a.packageId,zV:a.renderTimedText,yra:a.extraManifestParams};};d.kSa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zha="PlaylistConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aia="PlaylistVideoPlayerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.IZ="PlaylistManagerFactorySymbol";},function(g,d,a){var f,t,p,c,k,q;function b(a,b,c){this.ug=a;this.xb=b;this.j=c;this.lK=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);t=a(1);p=a(16);c=a(19);k=a(4);q=a(15);b.prototype.O4=function(){this.lK.forEach(function(a){return a();});};b.prototype.md=function(a,b,c){this.j.md(this.ug(a,b,c));};b.prototype.XS=function(a){this.j.fireEvent(q.U.s9,{Op:a});};b.prototype.QYa=function(a){-1===this.lK.indexOf(a)&&this.lK.push(a);};b.prototype.Tnb=function(a){a=this.lK.indexOf(a);0<=a&&this.lK.splice(a,1);};b.prototype.Wta=function(a){var b,d;b={};p.Ob(a.code)?b.Y=f.Aea(a.code):b.Y=f.H.Dg;try{d=a.message.match(/\((\d*)\)/)[1];b.qc=k.doa(d,4);}catch(A){}b.Oa=c.od(a);return b;};a=b;a=g.__decorate([t.L()],a);d.lN=a;},function(g,d,a){var b,f,t,p,c,k,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(54);t=a(18);p=a(2);c=a(62);k=a(4);q=a(15);d.DJa=function(a,d,g){function n(f){var d,n;d=f.error||f;n=t.od(d);g.error("uncaught exception",d,n);(d=(d=d&&d.stack)&&b.config.GDa&&b.config.Ntb?0<=d.indexOf(b.config.GDa):void 0)&&(f&&f.stopImmediatePropagation&&f.stopImmediatePropagation(),f=k.W.get(c.uk),a.md(f(p.K.bSa)));}function u(){f.ue.removeListener(f.t6,n);a.removeEventListener(q.U.se,u);a.removeEventListener(q.U.Bh,u);}try{f.ue.addListener(f.t6,n);a.addEventListener(q.U.se,u);b.config.Jdb&&a.addEventListener(q.U.Bh,u);}catch(x){g.error("exception in exception handler ",x);}};},function(g,d,a){var b,f,t,p,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(8);t=a(25);g=a(2);p=a(9);c=a(16);k=a(4);a=a(21);k.W.get(a.xe).register(g.K.jfa,function(a){var g,q,h,K,x;function k(){var a;a=p.Xw(t.Qf()/h);if(a!=x){for(var b=p.Bm(a-x,30);b--;)K.push(0);(b=p.Am(K.length-31,0))&&K.splice(0,b);x=a;}K[K.length-1]++;}g=b.config.Lgb;q=-6/(g-2-2);h=f.qk;K=[];x=p.Xw(t.Qf()/h);c.rva(g)&&(setInterval(k,1E3/g),d.wwa={xab:function(){var c;for(var a=[],b=K.length-1;b--;){c=K[b];a.unshift(0>=c?9:1>=c?8:c>=g-1?0:p.Jh((c-2)*q+7));}return a;}});a(f.yc);});},function(g,d,a){var b,f,t,p,c,k,q,n,u,y,h,K,x,I,G,N,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(50);f=a(104);t=a(262);p=a(57);c=a(54);k=a(19);q=a(105);n=a(4);u=a(113);y=a(176);h=a(18);K=a(9);x=a(16);I=a(15);G=a(107);N=a(3);l=a(96);d.zPa=function(a){var Y,da,ea,Sa,oa,O,ra,Aa,Ha,Ga,B,sa,F,Fa,Va;function d(){if(!oa){Ha=setInterval(S,1E3);a.If.appendChild(da);for(var b=O.length;b--;)O[b].addListener(r);for(b=ra.length;b--;)a.addEventListener(ra[b],r);oa=!0;}m();}function g(){if(oa){clearInterval(Ha);B=Ga=void 0;a.If.removeChild(da);for(var b=O.length;b--;)O[b].removeListener(r);for(b=ra.length;b--;)a.removeEventListener(ra[b],r);Y.Ib();oa=!1;}}function A(){oa?g():d();}function T(){var c,k,d,g,A,I,G,l,T,m,S,D,V,r,O,Q,ja,ra,da,Y,oa,ca,W,ea,X;c=[];c.push({Version:"6.0017.505.011",Esn:f.wh?f.wh.xh:"UNKNOWN",PBCID:a.AC,UserAgent:K.tk});try{d={MovieId:a.M,TrackingId:a.Zg,Xid:a.oa+" ("+p.jr.map(function(a){return a.oa;}).join(", ")+")",Position:q.eh(a.bc.value),Duration:q.eh(a.hy.fa(N.na)),Volume:K.Jh(100*a.volume.value)+"%"+(a.muted.value?" (Muted)":"")};a.Za.Vf&&(d["Segment Position"]=q.eh(a.rD()),d.Segment=a.U5());c.push(d);}catch(gc){}try{g=a.ek?a.ek.tdb():void 0;c.push({"Player state":sa[a.state.value],"Buffering state":F[a.Tm.value]+(x.qa(g)?", ETA:"+q.eh(g):""),"Rendering state":Fa[a.uc.value]});}catch(gc){}try{A=a.Cca()+a.P1();I=a.pf.value;G=I&&I.stream;l=a.Fe.value;T=l&&l.stream;m=T?T.Vb:"";S=a.le.value?a.le.value.Vb:"";D=a.kj.value?a.kj.value.O:"";V=a.le.value?a.le.value.O:"";r=a.Sb[b.ec.I.VIDEO].value;O=a.Sb[b.ec.I.AUDIO].value;c.push({"Playing bitrate (a/v)":G&&T?G.O+" / "+T.O+" ("+T.width+"x"+T.height+")":"?","Playing/Buffering vmaf":m+"/"+S,"Buffering bitrate (a/v)":D+" / "+V,"Buffer size in Bytes (a/v)":a.P1()+" / "+a.Cca(),"Buffer size in Bytes":""+A,"Buffer size in Seconds (a/v)":q.eh(a.MH())+" / "+q.eh(a.WM()),"Current CDN (a/v)":(O?O.name+", Id: "+O.id:"")+" / "+(r?r.name+", Id: "+r.id:"")});}catch(gc){}try{if(a.pf.value&&a.Fe.value){Q=a.pf.value.stream.track;ja=a.Fe.value.stream;ra=a.wi.value;da=a.gf.value?a.gf.value.mc:[];Y=n.W.get(u.dB);oa=Y.uI(da);ca=Y.oI(Q.mc);W=ja.Pe;ea=/hevc/.test(W)?"hevc":/vp9/.test(W)?"vp9":/h264hpl/.test(W)?"avchigh":"avc";/hdr/.test(W)&&(ea+=", hdr");/dv/.test(W)&&(ea+=", dv");/prk/.test(W)&&(ea+=", prk");c.push({"Audio Track":Q.Xj+", Id: "+Q.fb+", Channels: "+Q.Lk+", Codec: "+ca,"Video Track":"Codec: "+oa+" ("+ea+")","Timed Text Track":ra?ra.Xj+", Profile: "+ra.profile+", Id: "+ra.fb:"none"});}}catch(gc){}try{X=a.qg;c.push({Framerate:(a.le.value?a.le.value.xS:0).toFixed(3),"Current Dropped Frames":x.qa(Ga)?Ga:"","Total Frames":X.JS(),"Total Dropped Frames":X.By(),"Total Corrupted Frames":X.wJ(),"Total Frame Delay":X.KS(),"Main Thread stall/sec":t.wwa?t.wwa.xab().join(" "):"DISABLED",VideoDiag:y.xwa(a.VS())});}catch(gc){}try{c.push({Throughput:a.va+" kbps"});}catch(gc){}try{h.Sc(Aa,function(a,b){k=k||{};k[a]=JSON.stringify(b);});k&&c.push(k);}catch(gc){}return c;}function m(){var a;if(ea.selectionStart==ea.selectionEnd){a="";T().forEach(function(b){a=a?a+"\n":"";h.Sc(b,function(c){a+=c+": "+b[c]+"\n";});});ea.style.fontSize=q.gr(K.Xw(da.clientHeight/60),8,18)+"px";ea.value=a;}}function S(){var b;if(a.qg){b=a.qg.By();b&&(Ga=b-B,B=b,r());}}function r(){Y.Ib(m);}function ja(a){a.ctrlKey&&a.altKey&&a.shiftKey&&(a.keyCode==G.Nt.mHa||a.keyCode==G.Nt.Q)&&A();}Y=n.W.get(l.eB)(N.xg(1));da=k.createElement("DIV","position:absolute;left:10px;top:10px;right:10px;bottom:10px",void 0,{"class":"player-info"});ea=k.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;padding:10px;background-color:rgba(0,0,0,0.4);color:#fff;font-size:12px;font-family:Arial;overflow:auto");Sa=k.createElement("DIV","position:absolute;top:2px;right:2px");ra=[I.U.iU,I.U.C_a];Aa={};O=[a.bc,a.Sb[b.ec.I.AUDIO],a.Sb[b.ec.I.VIDEO],a.pf,a.Fe,a.kj,a.le,a.wi,a.state,a.Tm,a.uc,a.volume,a.muted];this.aqb=function(a){Aa.DFR=a;};sa={};sa[I.lb.TA]="Not Loaded";sa[I.lb.LOADING]="Loading";sa[I.lb.$c]="Normal";sa[I.lb.CLOSING]="Closing";sa[I.lb.CLOSED]="Closed";F={};F[I.hf.$c]="Normal";F[I.hf.Ij]="Pre-buffering";F[I.hf.wia]="Network stalled";Fa={};Fa[I.qb.ig]="Waiting for decoder";Fa[I.qb.wd]="Playing";Fa[I.qb.gi]="Paused";Fa[I.qb.$q]="Media ended";ea.setAttribute("readonly","readonly");da.appendChild(ea);da.appendChild(Sa);Va=k.createElement("BUTTON",null,"X");Va.addEventListener("click",g,!1);Sa.appendChild(Va);c.ue.addListener(c.Gy,ja);a.addEventListener(I.U.se,function(){c.ue.removeListener(c.Gy,ja);g();});h.Ya(this,{toggle:A,show:d,zD:g,qab:T});};},function(g,d,a){var f,t,p,c,k,q,n,u,y,h,K,x,I,G,N,l,m,V,D,r,W,ca,ia,X;function b(a){var b;b=this;this.j=a;this.xb=this.j.xb;this.cb=K.Uf(this.j,"MediaPresenterASE");this.wla=this.nka=this.yl=0;this.ld=this.xb.Ma;this.Sla=this.Pla=this.V0=this.A0=this.nQ=this.GO=this.D0=!1;this.sl={type:y.gg.audio,KC:[],No:[]};this.$n={type:y.gg.video,KC:[],No:[]};this.Px={};this.qla=k.config.gib;this.Kla=k.R1a(!!this.j.Za.Vf).S9;this.k0=k.config.$T;this.NXa=K.W.get(ia.eB)(ca.zb(r.OZ));this.$e={};this.nla={};this.RG={};this.j.Gl=!1;this.Px[f.ec.bh.AUDIO]=this.sl;this.Px[f.ec.bh.VIDEO]=this.$n;G.Ga(this.k0>this.qla,"bad config");G.Ga(this.k0>this.Kla,"bad config");this.xb.addEventListener(W.Kh.nCa,function(){b.cb.trace("sourceBuffers have been created. Initialize MediaPresenter.");try{b.AUa();}catch(da){b.cb.error("Exception while initializing",da);b.vl(x.K.qOa);}});}Object.defineProperty(d,"__esModule",{value:!0});f=a(50);t=a(139);p=a(62);c=a(8);k=a(12);q=a(57);n=a(54);u=a(28);y=a(76);h=a(25);K=a(4);a(85);x=a(2);I=a(423);G=a(14);N=a(105);l=a(19);m=a(46);V=a(15);D=a(16);r=a(211);W=a(175);ca=a(3);ia=a(96);X=a(130);b.prototype.Zsa=function(){return this.xb.Wl(!1);};b.prototype.JS=function(){return this.xb.JS();};b.prototype.By=function(){return this.xb.By();};b.prototype.wJ=function(){return this.xb.wJ();};b.prototype.KS=function(){return this.xb.KS();};b.prototype.AUa=function(){var a;a=this;this.cb.trace("Video element initializing");this.xb.sourceBuffers.forEach(function(b){return a.rXa(b);});a.BUa(a.j.Av);};b.prototype.BUa=function(a){var d;function b(){function a(){var a,b;b=d.j.wb&&d.j.wb.KJ();d.j.uc.value==V.qb.ig&&d.j.state.value==V.lb.$c&&d.j.Tm.value==V.hf.$c&&d.j.Gj.value==V.hf.$c&&b?(d.E_.ws(),a="ensureTimer"):(d.E_.Xg(),a="stopTimer");d.cb.trace("Timer update: "+a,{presentingState:d.j.uc.value,playbackState:d.j.state.value,avBufferingState:d.j.Tm.value,textBufferingState:d.j.Gj.value,hasLicense:b});}k.config.kqa&&(G.Ga(!d.E_),d.E_=K.W.get(X.fB)(k.config.kqa,function(){var a;a=K.W.get(I.bea).g6a(d.j);d.vl(a.code,a);}),d.j.uc.addListener(a),d.j.Tm.addListener(a),d.j.Gj.addListener(a),d.j.state.addListener(a),d.j.addEventListener(V.U.Rva,a),a());}function f(){d.PO||(f=G.xFa,d.xb.addEventListener(W.Kh.NL,d.$e[W.Kh.NL]=function(){return d.v0();}),d.xb.addEventListener(W.Kh.Zm,d.$e[W.Kh.Zm]=function(){return d.fWa();}),d.ld.addEventListener("ended",d.$e.ended=function(){return d.gWa();}),d.ld.addEventListener("play",d.$e.play=function(){return d.jWa();}),d.ld.addEventListener("pause",d.$e.pause=function(){return d.iWa();}),d.ld.addEventListener("playing",d.$e.playing=function(){return d.kWa();}),d.WG=!0,0===d.j.ga&&(d.hQ(),d.cb.trace("Video element initialization complete"),d.j.Nc("vi"),k.config.uqa?setTimeout(function(){d.u0=!0;d.ij();},k.config.uqa):d.u0=!0,b(),m.yb(function(){return d.ij();})));}d=this;a?this.cb.trace("Waiting for needkey"):this.cb.warn("Movie is not DRM protected",{MovieId:this.j.M});this.cb.trace("Waiting for loadedmetadata");a?this.xb.addEventListener(W.Kh.Wva,function(){d.j.Nc("ld");d.j.wb.NR(""+d.j.M);d.j.fireEvent(V.U.Rva);}):this.j.wb.NR(""+this.j.M);u.$Ya(this.ld,function(){d.cb.trace("Video element event: loadedmetadata");d.j.Nc("md");});n.ue.addListener(n.Uk,this.RG[n.Uk]=function(){return d.Xja();},c.WA);this.j.addEventListener(V.U.se,function(){return d.Xja();},c.WA);this.j.addEventListener(V.U.ZAa,function(){return d.N0();});this.j.paused.addListener(function(){return d.ij();});this.j.muted.addListener(function(){return d.e1();});this.j.volume.addListener(function(){return d.e1();});this.j.playbackRate.addListener(function(){return d.dYa();});this.j.Tm.addListener(function(){return d.ij();});this.j.Gj.addListener(function(){return d.ij();});this.e1();this.sl.lk.KBa(function(){return d.xP();});this.$n.lk.KBa(function(){return d.xP();});this.xP();m.yb(function(){f();});};b.prototype.AQ=function(a){var b,c;b=this;c=this.Px[a.R];c?c.No.push(a):G.Ga(!1);this.mTa(a).then(function(){b.xP();b.j.fireEvent(V.U.iU);})["catch"](function(a){b.vl(x.K.vOa,{Oa:l.od(a)});});};b.prototype.F1=function(a,b,c){c=void 0===c?{}:c;b={R:a.type,Ny:!1,response:b,ck:function(){return"header";},get Tb(){return!this.Ny;},profile:c.profile};(c=this.Px[a.type])?c.No.push(b):G.Ga(!1);this.Pla||a.type!==f.ec.bh.VIDEO||(this.seek(this.j.V,V.Fg.YF),this.Pla=!0);};b.prototype.rXa=function(a){var b;b=this.Px[a.type];if(b)try{b.lk=a;}catch(da){this.vl(x.K.xZ,{Y:r.D5(a.type),Oa:l.od(da)});}};b.prototype.xP=function(){this.WG?this.ij():k.config.vZa&&this.hQ();};b.prototype.hjb=function(){var a;a=this.j.rD()||0;this.j.Za.Vf?k.config.R_a&&(a=Math.max(a-(this.xb.Faa+1)-k.config.Eaa,this.j.wb.X5().Mc)):a=Math.max(a-k.config.opb,this.MUa);this.seek(a,V.Fg.ZZ);};b.prototype.QK=function(a){var b;b=this;a.mediaType===f.ec.bh.AUDIO?this.GO=!0:a.mediaType===f.ec.bh.VIDEO&&(this.nQ=!0);m.yb(function(){return b.ij();});};b.prototype.Fab=function(){return{w5a:this.nka,Lib:this.wla};};b.prototype.K3=function(){return this.qka(this.sl,this.J3())&&this.qka(this.$n,this.J3());};b.prototype.mTa=function(a){var b;b=this.xb&&this.xb.ota();return void 0===this.z0&&b&&a.$f&&a.$f.cd&&a.$f.cd.ya&&Infinity!=a.$f.cd.ya.da&&(a=a.$f.cd.ya.da+a.hm,b.v$(ca.na)<a)?(this.z0=b.scale(2),this.IWa()):Promise.resolve();};b.prototype.IWa=function(){var a;a=this;return new Promise(function(b,c){function f(){return k().then(function(a){if(!1===a)return f();});}function k(){return new Promise(function(b){setTimeout(function(){if(!a.sl.lk.pj()&&!a.$n.lk.pj())try{a.xb.jqb(a.z0);a.V0=!1;a.z0=void 0;b(!0);}catch(O){b(!1);}b(!1);},0);});}a.V0=!0;f().then(function(){b();})["catch"](function(b){a.cb.error("Unable to change the duration",b);c(b);});});};b.prototype.glb=function(){var a;a=this;return this.Rj&&this.l2()&&this.K3()?(this.xb.seek(this.yl),this.Rj=!1,t.YN||this.K0(),m.yb(function(){return a.ij();}),!0):!1;};b.prototype.Ztb=function(a){var b;if(a<this.yl){b=this.yl-a;k.config.hlb&&a&&b>r.OZ&&(a={ElementTime:N.eh(a),MediaTime:N.eh(this.yl)},b>r.gQa?(this.cb.error("VIDEO.currentTime became much smaller",a),this.vl(x.K.GOa)):this.cb.warn("VIDEO.currentTime became smaller",a));}else this.yl=l.gr(a,0,this.j.l$.fa(ca.na));};b.prototype.J3=function(){return this.j.uc.value===V.qb.ig?this.Kla:this.qla;};b.prototype.l2=function(){return this.j.Tm.value===V.hf.$c&&this.j.Gj.value===V.hf.$c;};b.prototype.ij=function(){var a,b,c,f,k;a=this;this.j.uM=h.Qf();if(!this.ze()&&this.WG){b=this.xb.Jbb();b||this.hQ();t.YN||this.hQ();c=this.j.uc.value;f=c;this.j.paused.value||!this.K3()||!this.l2()||b||this.Rj?this.M0():this.D0||this.N0();if(!(b||this.Rj&&this.glb())){k=this.xb.Wl(!0);this.ze()||(this.Rj||b?f=V.qb.ig:this.ld&&this.ld.ended?c===V.qb.wd&&(this.yl=this.j.l$.fa(ca.na),f=V.qb.$q,this.M0()):this.l2()&&this.K3()?this.xb.h6a()?f=this.ld&&this.ld.paused?V.qb.gi:V.qb.wd:this.NXa.Ib(function(){return a.MXa();}):f=V.qb.ig,f!==V.qb.ig&&f!==V.qb.$q&&this.Ztb(k),this.Ima(),this.MO(),this.j.uc.set(f),f!==V.qb.ig||c!==V.qb.wd&&c!==V.qb.gi||this.Ujb());}}};b.prototype.Ujb=function(){var a;if(this.j.uc.value===V.qb.ig){a=this.SXa()>this.J3();this.j.Gj.value!==V.hf.$c?this.j.wi.value?(this.j.fireEvent(V.U.fo,{cause:q.uPa}),this.cb.warn("rebuffer due to timed text",this.j.wi.value.Yf)):this.j.fireEvent(V.U.gF):a?(this.nka++,this.j.fireEvent(V.U.fo,{cause:q.Mha})):(this.wla++,this.j.fireEvent(V.U.fo,{cause:q.Nha}));}};b.prototype.SXa=function(){var a,b;a=this.$n.No.filter(function(a){return!a.Tb;}).reduce(function(a,b){return a+b.us;},0);b=this.sl.No.filter(function(a){return!a.Tb;}).reduce(function(a,b){return a+b.us;},0);return Math.min(a,b);};b.prototype.MXa=function(){this.ze()||(k.config.ijb&&(this.sl.lk.pj()||this.sl.lk.Cna(new Uint8Array([0,0,0,8,102,114,101,101]))),this.ij());};b.prototype.qka=function(a,b){var c;c=a.sR;c=c&&c.CK;return 0===a.No.length&&(a.type===y.gg.audio&&this.GO||a.type===y.gg.video&&this.nQ)?!0:c&&c.yE-this.yl>=b||!1;};b.prototype.v0=function(){this.ij();};b.prototype.fWa=function(){this.ij();this.j.fireEvent(V.U.Zm);};b.prototype.gWa=function(){this.cb.trace("Video element event: ended");this.ij();};b.prototype.jWa=function(){this.cb.trace("Video element event: play");this.ij();};b.prototype.iWa=function(){this.cb.trace("Video element event: pause");this.ij();};b.prototype.kWa=function(){this.cb.trace("Video element event: playing");this.ij();};b.prototype.e1=function(){this.ze()||(this.ld&&this.ld.volume!==this.j.volume.value&&(this.ld.volume=this.j.volume.value),this.ld&&this.ld.muted!==this.j.muted.value&&(this.ld.muted=this.j.muted.value));};b.prototype.dYa=function(){!this.ze()&&this.ld&&(this.ld.playbackRate=this.j.playbackRate.value);};b.prototype.hQ=function(){this.V0||(this.Fma(this.sl),this.Fma(this.$n));this.ze()||!this.GO&&!this.nQ||this.sl.lk.pj()||this.$n.lk.pj()||this.M_||(this.M_=!0,this.xb.endOfStream());};b.prototype.Fma=function(a){var b,c;if(!this.ze()&&a.lk){b=a.lk;c=a.KC;!b.pj()&&0<c.length&&(a.sR=c[c.length-1]);if(a.eba){if(b.pj())return;a.eba=!1;b.remove(0,this.xb.ota().v$(ca.Em));}for(var f=a.No[0];f&&f.response&&(f.Tb||f.Zs-this.yl<=this.k0);)if(this.M_=!1,this.XXa(f))a.No.shift(),f=a.No[0];else break;!b.pj()&&0<c.length&&(a.sR=c[c.length-1]);}};b.prototype.XXa=function(a){var b,c,f;G.Ga(a&&a.response);b=a.response;c=a.R;f=this.Px[c];if(!this.ze()&&f.lk&&!f.lk.pj()){try{a.Tb&&a.profile&&f.lk.X0a(a.profile);this.cb.trace("Feeding media segment to decoder",{Bytes:b.byteLength});f.lk.Cna(b,a);a.Tb||f.KC.push(this.uTa(a));k.config.o6a&&!a.Tb&&(this.Rj&&!t.YN||a.Toa());}catch(Sa){"QuotaExceededError"!=Sa.name?(this.cb.error("Exception while appending media",a,Sa),this.vl(x.K.EOa,r.D5(c))):this.j.tR=this.j.tR?this.j.tR+1:1;return;}return!0;}};b.prototype.tTa=function(a){var b;b=this.j.Wcb(a.Xc);b||(this.cb.error("Could not find CDN",{cdnId:a.Xc}),b={id:a.Xc,c8:a.location});return b;};b.prototype.yTa=function(a){var b,c;c=a.Ua;a.R===f.ec.bh.AUDIO?b=this.j.gua(c):a.R===f.ec.bh.VIDEO&&(b=this.j.nua(c));b||this.cb.error("Could not find stream",{stream:c});return b;};b.prototype.uTa=function(a){var b;b=this.yTa(a);return{CK:a,stream:b,Xm:{startTime:Math.floor(a.Zs),endTime:Math.floor(a.yE)},Sb:this.tTa(a)};};b.prototype.N0=function(){var a;a=this;this.ze()||!D.Ob(this.ld)||this.ld.ended||!this.u0||!this.YB&&void 0!==this.YB||(this.cb.trace("Calling play on element"),Promise.resolve(this.ld.play()).then(function(){a.YB=!1;a.D0=!1;a.ld.style.display=null;a.j.Gl=!1;a.j.fireEvent(V.U.aoa,{j:a.j});})["catch"](function(b){"NotAllowedError"===b.name?(a.cb.warn("Playback is blocked by the browser settings",b),a.j.Gl=!0,a.D0=!0,a.ld.style.display="none",a.j.fireEvent(V.U.Gl,{player:{play:function(){return a.N0();}}})):(a.YB=!1,a.Sla||(a.Sla=!0,a.cb.error("Play promise rejected",b)));}));};b.prototype.M0=function(){this.ze()||!D.Ob(this.ld)||this.ld.ended||!this.u0||this.YB&&void 0!==this.YB||(this.cb.trace("Calling pause on element"),this.ld.pause(),this.YB=!0);};b.prototype.MO=function(a){if(D.Ob(a)){for(var b=this.Px[a],c=b.KC,k,d=!1;(k=c[0])&&k.CK.Zs<=this.yl;)if(this.yl<k.CK.yE){a=a===f.ec.bh.AUDIO?this.j.pf:this.j.Fe;u.hpa(k,a.value)||(d=!0,a.set(k));break;}else c.shift();!d&&!this.A0||this.M_||(k=k&&k.CK.Zs-k.CK.us-1,0<k&&((b=b.lk)&&!b.pj()?(b.remove(0,k/l.qk),this.A0=!1):this.A0=!0));}else this.MO(f.ec.bh.AUDIO),this.MO(f.ec.bh.VIDEO);};b.prototype.Ima=function(a){this.j.bc.set(this.yl);a&&this.j.u9a();};b.prototype.pC=function(a,b){return b===V.Fg.aB||this.j.Za.Vf&&this.Rj?!1:(b=this.j.wb)&&b.pC(a)||!1;};b.prototype.seek=function(a,b,c){var f,d,n,g,q;b=void 0===b?V.Fg.hx:b;c=void 0===c?this.j.ga:c;if(!this.ze()&&this.j.wb){b===V.Fg.aB?f=a:(f=this.j.Yp(c).hy.fa(ca.na)-k.config.mvb,f=l.gr(a,0,f));f=this.JUa()?Math.round(f):this.nUa(f,c);k.config.Eaa&&(f+=k.config.Eaa);b===V.Fg.YF&&(this.j.moa=f);d=this.j.wb.Bpa(c,f);n=this.pC(d,b);g=b===V.Fg.hx&&0<c;d=n||g?d:f;this.MO();g=this.yl;this.cb.info("Seeking",{Requested:N.eh(a),Actual:N.eh(f),Cause:b,Skip:n});this.j.fireEvent(V.U.Pz,{JU:g,x9:d,cause:b,skip:n});this.j.uc.set(V.qb.ig);b!==V.Fg.YF&&(this.K0(),this.sl.eba=!0,this.$n.eba=!0);this.MUa=this.yl=d;a=this.j.pf.value;q=this.j.Fe.value;this.j.pf.set(null);this.j.Fe.set(null);this.Ima(!0);this.j.fireEvent(V.U.un,{JU:g,x9:d,ko:f,cause:b,skip:n,pf:a,Fe:q,ga:c});this.Rj=!0;this.ij();}};b.prototype.JUa=function(){return"boolean"===typeof this.j.Za.jL?this.j.Za.jL:navigator.hardwareConcurrency&&2>=navigator.hardwareConcurrency?k.config.jL&&k.config.Ylb:k.config.jL;};b.prototype.K0=function(){this.sl.KC=[];this.sl.sR=void 0;this.sl.No=[];this.$n.KC=[];this.$n.sR=void 0;this.$n.No=[];this.nQ=this.GO=!1;this.j.fireEvent(V.U.iU);};b.prototype.nUa=function(a,b){var c;c=this.j.wb.yi.Lb[f.ec.bh.VIDEO].ca.da;return this.j.Za.Vf&&a<c?a:this.j.wb.D0a(a,b,this.j.Za.Vf?k.config.Yqa:k.config.vs);};b.prototype.vl=function(a,b,c){var f;if(!this.PO){f=K.W.get(p.uk);this.j.md(f(a,b,c));}};b.prototype.Xja=function(){if(!this.PO){this.cb.info("Closing.");this.xb.removeEventListener(W.Kh.NL,this.nla[W.Kh.NL]);this.xb.removeEventListener(W.Kh.Zm,this.nla[W.Kh.Zm]);this.ld.removeEventListener("ended",this.$e.ended);this.ld.removeEventListener("play",this.$e.play);this.ld.removeEventListener("pause",this.$e.pause);this.ld.removeEventListener("playing",this.$e.playing);n.ue.removeListener(n.Uk,this.RG[n.Uk]);this.PO=!0;try{k.config.Cib&&(this.ld.volume=0,this.ld.muted=!0);this.M0();this.xb.close();}catch(ja){}this.ld=void 0;this.K0();}};b.prototype.ze=function(){return this.PO?!0:D.Ob(this.ld)?!1:(this.cb.error("MediaPresenter not closed and _videoElement is not defined"),!0);};d.TMa=b;},function(g,d,a){var b,f,t,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(8);f=a(12);t=a(25);p=a(105);c=a(9);k=a(46);q=a(16);n=a(15);d.wPa=function(a){var h,I,G,N,l,m;function d(){return a.state.value===n.lb.LOADING||a.state.value===n.lb.$c&&a.uc.value===n.qb.ig;}function g(){d()?m||(m=setInterval(u,100)):m&&(clearInterval(m),m=void 0,k.yb(u));}function u(){var b,k,g,u,y,A,K,x;b=t.Qf();k=h.value;g=k?k.Ni:0;y=a.state.value==n.lb.LOADING||d()&&b-I>f.config.f0a;y&&a.state.value==n.lb.$c?(a.NQ.value===n.hf.wia?(K=g,A=!0):(u=b+(a.ek&&a.ek.tdb()||0),G=G||b,N=N||G+f.config.bib+1,q.qa(u)&&(u=c.Am(u,N),K=a.ek?a.ek.cHb():.99,K=c.Jh(1E3*p.gr((b-G)/(u-G),0,K))/1E3)),K<g&&(g-K<f.config.Bmb/100?(K=g,l=void 0):l?b-l>f.config.Amb?(x=!0,l=void 0):K=g:(l=b,K=g))):l=N=G=void 0;b=y?{lW:A,Ni:K,Cmb:x}:null;(!b||!h||!k||q.qa(b.Ni)&&!q.qa(k.Ni)||q.qa(b.Ni)&&q.qa(k.Ni)&&.01<c.gG(b.Ni-k.Ni)||b.lW!==k.lW)&&h.set(b);}h=a.n2;I=0;a.state.addListener(function(){g();u();},b.qZ);a.uc.addListener(function(a){if(a.oldValue!==n.qb.ig||a.newValue!==n.qb.ig)I=t.Qf();g();});a.NQ.addListener(function(){g();});a.Tm.addListener(function(){g();});a.Gj.addListener(function(){g();});m||(m=setInterval(u,100));};},function(g,d,a){var k,q,n,u;function b(a,b,c,f,k){var d;d={};"right"==a.horizontalAlignment?d.right=100*(c-b.left-b.width-k)/c+"%":d.left=100*(b.left-k)/c+"%";"bottom"==a.verticalAlignment?d.bottom=100*(f-b.top-b.height-k)/f+"%":d.top=100*(b.top-k)/f+"%";return d;}function f(a,b){var c;if(a&&b){40===b.x&&19===b.y?c=4/3/(40/19):52===b.x&&19===b.y&&(c=16/9/(52/19));if(c)return a.width/a.fontSize/c;}}function t(a,b,c,f,k){var d,g;d=a.style;g=n.Q6(a.text);for(a=a.lineBreaks;a--;)g="<br />"+g;return p(g,d,b,c,f,k);}function p(a,b,d,n,g,t){var p;p=b.characterStyle;g=g[p];n=b.characterSize*n.height/((0<=p.indexOf("MONOSPACE")?f(g,b.cellResolution)||g.lineHeight:g.lineHeight)||1);n=0<t?u.Xw(n*t):u.Jh(n);t={"font-size":n+"px","line-height":"normal","font-weight":"normal"};b.characterItalic&&(t["font-style"]="italic");b.characterUnderline&&(t["text-decoration"]="underline");b.characterColor&&(t.color=b.characterColor);b.backgroundColor&&0!==b.backgroundOpacity&&(t["background-color"]=c(b.backgroundColor,b.backgroundOpacity));n=b.characterEdgeColor||"#000000";switch(b.characterEdgeAttributes){case q.W9:t["text-shadow"]=n+" 0px 0px 7px";break;case q.Mya:t["text-shadow"]="-1px 0px "+n+",0px 1px "+n+",1px 0px "+n+",0px -1px "+n;break;case q.zkb:t["text-shadow"]="-1px -1px white, 0px -1px white, -1px 0px white, 1px 1px black, 0px 1px black, 1px 0px black";break;case q.xkb:t["text-shadow"]="1px 1px white, 0px 1px white, 1px 0px white, -1px -1px black, 0px -1px black, -1px 0px black";}t=k.pI(t);(d=d[b.characterStyle||"PROPORTIONAL_SANS_SERIF"])&&(t+=";"+d);b=b.characterOpacity;0<b&&1>b&&(a='<span style="opacity:'+b+'">'+a+"</span>");return'<span style="'+t+'">'+a+"</span>";}function c(a,b){a=a.substring(1);a=parseInt(a,16);return"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+(void 0!==b?b:1)+")";}Object.defineProperty(d,"__esModule",{value:!0});k=a(28);q=a(191);n=a(18);u=a(9);d.rra=function(a,b,c,f,k){var d;d="";a.textNodes.forEach(function(a){d+=t(a,c,b,f,k);});return d;};d.j8a=function(a,c,f,k,d){var g,q,p,h,y;g="";q=d.width;d=d.height;for(var t=c.length;t--;){p=c[t];h=a[t];h=h&&h.region;y="position:absolute;background:"+k+";width:"+u.Jh(p.width+2*f)+"px;height:"+u.Jh(p.height+2*f)+"px;";n.Sc(b(h,p,q,d,f),function(a,b){y+=a+":"+b+";";});g+='<div style="'+y+'"></div>';}return g;};d.i8a=b;d.kGb=f;d.mGb=t;d.jGb=p;d.lGb=c;d.h8a=function(a){var b;b={display:"block","white-space":"nowrap"};switch(a.region.horizontalAlignment){case"left":b["text-align"]="left";break;case"right":b["text-align"]="right";break;default:b["text-align"]="center";}return k.pI(b);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(9);d.Ktb=function(a,d){function f(a,f,k){var t,p,h,l;if(a&&1<a.length){for(var d=[],n=[],g=0;g<a.length;g++)d[g]=0,n[g]=0;for(var q=!1,g=0;g<a.length;g++)for(var u=g+1;u<a.length;u++){p=a[g];h=a[u];if(0>p.width||0>h.width||h.left>p.left+p.width||h.left+h.width<p.left||h.top>p.top+p.height?0:h.top+h.height>=p.top){t=b.Am(p.left,h.left);l=b.Am(p.top,h.top);t={width:b.Am(b.Bm(p.left+p.width,h.left+h.width)-t,0),height:b.Am(b.Bm(p.top+p.height,h.top+h.height)-l,0),x:t,y:l};}else t=void 0;if(t&&1<t.width&&1<t.height)if(l=t.width<=t.height,p=c(a[g]),h=c(a[u]),l&&f||!l&&!f)t=b.Am(t.width/2,.25),p.x<=h.x?(n[g]-=t,n[u]+=t):(n[u]-=t,n[g]+=t);else if(l&&!f||!l&&f)p=b.Am(t.height/2,.25),d[g]-=p,d[u]+=p;}for(g=0;g<a.length;g++){if(-.25>n[g]&&0<=a[g].left+n[g]||.25<n[g]&&a[g].left+a[g].width+n[g]<=k.width)a[g].left+=n[g],q=!0;if(-.25>d[g]&&0<=a[g].top+d[g]||.25<d[g]&&a[g].top+a[g].height+d[g]<=k.height)a[g].top+=d[g],q=!0;}return q;}}function c(a){return{x:a.left+a.width/2,y:a.top+a.height/2};}a=a.map(function(a){return{top:a.top,left:a.left,width:a.width,height:a.height};});(function(a,c){a.forEach(function(a){0>a.left&&a.left+a.width<c.width?a.left+=b.Bm(-a.left,c.width-(a.left+a.width)):a.left+a.width>c.width&&0<a.left&&(a.left-=b.Bm(a.left+a.width-c.width,a.left));0>a.top&&a.top+a.height<c.height?a.top+=b.Bm(-a.top,c.height-(a.top+a.height)):a.top+a.height>c.height&&0<a.top&&(a.top-=b.Bm(a.top+a.height-c.height,a.top));});}(a,d));for(var k=0;50>k&&f(a,!0,d);k++);for(k=0;50>k&&f(a,!1,d);k++);return a;};},function(g,d,a){var f,t,p,c,k;function b(a,b){this.X4=a;this.qy={position:"absolute",left:"0",top:"0",right:"0",bottom:"0",display:"block"};this.element=f.createElement("DIV",void 0,void 0,{"class":"player-timedtext"});this.element.onselectstart=function(){return!1;};this.NBa(b);this.bsa=this.nab(this.X4);}Object.defineProperty(d,"__esModule",{value:!0});f=a(19);t=a(267);p=a(266);c=a(9);k=a(18);b.prototype.Cy=function(){return this.element;};b.prototype.Wpb=function(a){this.O1=a;};b.prototype.cqb=function(a){this.Yd=a;this.BL();};b.prototype.fqb=function(a){this.NBa(a);this.BL();};b.prototype.BL=function(){var a,c,k,d,g,h,x,I,G,N,l,V,D,r;a=this;c=this.Cy();k=c.parentElement;d=k&&k.clientWidth||0;g=k&&k.clientHeight||0;h=k=0;x={width:d,height:g};if(0<d&&0<g&&this.Yd){this.O1&&(x=f.pS(d,g,this.O1),k=Math.round((d-x.width)/2),h=Math.round((g-x.height)/2));I=this.B0a(x);N=f.pS(I.width,I.height,this.O1);I=(G=this.Yd.blocks)&&G.map(function(c){var k;k=p.rra(c,N,a.X4,a.bsa);c=p.h8a(c)+";position:absolute";return f.createElement("div",c,k,b.CX);});}Object.assign(this.qy,{left:k+"px",right:k+"px",top:h+"px",bottom:h+"px"});c.style.display="none";c.style.direction=this.qy.direction;c.innerHTML="";if(I&&I.length){d=x.width;k=x.height;l=x;this.ZH&&(l=this.zYa(x,this.ZH,g,h));this.qy.margin=this.nn?this.RQ(x,"top")+"px "+this.RQ(x,"right")+"px "+this.RQ(x,"bottom")+"px "+this.RQ(x,"left")+"px ":void 0;I.forEach(function(a){return c.appendChild(a);});g=f.pI(this.qy);c.style.cssText=g+";visibility:hidden;z-index:-1";for(var h=[],m=I.length-1;0<=m;m--){V=I[m];D=G[m];r=this.Txa(V,D,d,k);r.width>d&&(V.innerHTML=p.rra(D,x,this.X4,this.bsa,d/r.width),r=this.Txa(V,D,d,k));h[m]=r;}h=t.Ktb(h,l);if(m=G&&G[0]&&G[0].textNodes&&G[0].textNodes[0]&&G[0].textNodes[0].style)l=m.windowColor,m=m.windowOpacity,l&&0<m&&(x=p.j8a(G,h,Math.round(k/50),l,x),x=f.createElement("div","position:absolute;left:0;top:0;right:0;bottom:0;opacity:"+m,x,b.CX),c.insertBefore(x,c.firstChild));c.style.display="none";for(x=h.length-1;0<=x;x--)l=I[x].style,m=p.i8a(G[x].region,h[x],d,k,0),Object.assign(l,m);c.style.cssText=g;}};b.prototype.aba=function(a){this.ZH=a;this.BL();};b.prototype.m6=function(){return this.ZH;};b.prototype.bba=function(a){this.nn=a;this.BL();};b.prototype.n6=function(){return this.nn;};b.prototype.o6=function(){return"block"===this.qy.display;};b.prototype.cba=function(a){a=a?"block":"none";this.element.style.display=a;this.qy.display=a;};b.prototype.nab=function(a){var b,c;b=this;c={};k.Sc(a,function(a,f){c[a]=b.Bhb(f);});return c;};b.prototype.NBa=function(a){this.qy.direction="boolean"===typeof a?a?"ltr":"rtl":"inherit";};b.prototype.RQ=function(a,b){if(this.nn){if("left"===b||"right"===b)return a.width*(this.nn[b]||0);if("top"===b||"bottom"===b)return a.height*(this.nn[b]||0);}return 0;};b.prototype.B0a=function(a){return this.nn?{height:a.height*(1-(this.nn.top||0)-(this.nn.bottom||0)),width:a.width*(1-(this.nn.left||0)-(this.nn.right||0))}:a;};b.prototype.Bhb=function(a){var k;a=f.createElement("DIV","display:block;position:fixed;z-index:-1;visibility:hidden;font-size:1000px;"+a+";","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",b.CX);c.Ed.body.appendChild(a);k={fontSize:1E3,height:a.clientHeight,width:a.clientWidth/52,lineHeight:a.clientHeight/1E3};c.Ed.body.removeChild(a);return k;};b.prototype.Txa=function(a,b,c,f){var k,d,n,g,q;k=b.region;d=(k.marginTop||0)*f;n=(k.marginBottom||0)*f;g=(k.marginLeft||0)*c;q=(k.marginRight||0)*c;b=a.clientWidth||1;a=a.clientHeight||1;switch(k.verticalAlignment){case"top":f=d;break;case"center":f=(d+f-n-a)/2;break;default:f=f-n-a;}switch(k.horizontalAlignment){case"left":c=g;break;case"right":c=c-q-b;break;default:c=(g+c-q-b)/2;}return{top:f,left:c,width:b,height:a};};b.prototype.zYa=function(a,b,c,f){return{height:c-Math.max(f,b.bottom|0)-Math.max(f,b.top|0),width:a.width};};b.CX={"class":"player-timedtext-text-container"};d.FRa=b;},function(g,d,a){var b,f,t,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(50);f=a(54);t=a(19);p=a(18);c=a(4);k=a(52);q=a(107);n=a(15);d.DPa=function(a){var D,r,W,ca,ia,X,ja,Y,da,ea;function d(){ja||(G(),a.If.appendChild(D),ja=!0);}function g(){ja&&(a.If.removeChild(D),ja=!1);}function u(){ja?g():d();}function h(){var f,k,d;function b(a,b,c){var f,k,d;d=[];b.filter(function(b){return b.Pe===a;}).forEach(function(a){0<=c.indexOf(a)?(void 0===f?f=a.O:k=a.O,void 0===k&&(k=a.O)):void 0!==f&&void 0!==k&&(d.push({min:f,max:k}),f=k=void 0);});void 0!==f&&void 0!==k&&(d.push({min:f,max:k}),f=k=void 0);return d;}function c(a,b,c){var f;f=[];b.filter(function(b){return b.Pe===a;}).forEach(function(a){-1===c.indexOf(a)&&f.push({stream:{bitrate:a.O},disallowedBy:["manual"]});});return f;}f=a.mo();k=a.Fy().sort(function(a,b){return a.O-b.O;});d=k.reduce(function(a,b){0>a.indexOf(b.Pe)&&a.push(b.Pe);return a;},[]).map(function(a){return{profile:a,ranges:b(a,k,f),disallowed:c(a,k,f)};});a.wb.bW(d);}function I(){return a.Fy().filter(function(a){return Y[a.O];});}function G(){var c,f,k;c=a.Ec.value;f=a.gf.value;k=a.xi;c&&(k=k.slice(),k.sort(function(a,b){return a.$d-b.$d;}),m(ca,c.mc.map(function(b){return{value:b.O,caption:b.O,selected:b==a.kj.value};})));f&&(m(ia,f.mc.map(function(b){var c,f;c=a.c9.ht(b);b=b.O;f=""+b;c&&(f+=" ("+c.join("|")+")");return{value:b,caption:f,selected:a.mo!=I?!c:Y[b]};})),ia.removeAttribute("disabled"));k&&(m(X,k.map(function(c){return{value:c.id,caption:"["+c.id+"] "+c.name,selected:c==a.Sb[b.ec.I.VIDEO].value};})),X.removeAttribute("disabled"));}function N(){ja&&G();}function l(a){var b,c;b=t.createElement("DIV","display:inline-block;vertical-align:top;margin:5px;");a=t.createElement("DIV",void 0,a);c=t.createElement("select","width:120px;height:180px",void 0,{disabled:"disabled",multiple:"multiple"});b.appendChild(a);b.appendChild(c);r.appendChild(b);return c;}function m(a,b){a.innerHTML="";b.forEach(function(b){var c;c={title:b.caption};b.selected&&(c.selected="selected");c=t.createElement("option",void 0,b.caption,c);c.value=b.value;a.appendChild(c);});}function V(a){a.ctrlKey&&a.altKey&&a.shiftKey&&a.keyCode==q.Nt.rQa&&da.B7&&u();}D=t.createElement("DIV","position:absolute;left:0;top:50%;right:0;bottom:0;text-align:center;color:#040;font-size:11px;font-family:monospace",void 0,{"class":"player-streams"});r=t.createElement("DIV","display:inline-block;background-color:rgba(255,255,255,0.86);border:3px solid #fff;padding:5px;margin-top:-90px");W=t.createElement("DIV","width:100%;text-align:center");ca=l("Audio Bitrate");ia=l("Video Bitrate");X=l("CDN");Y={};da=c.W.get(k.ym);D.appendChild(r);r.appendChild(W);ea=t.createElement("BUTTON",void 0,"Override");ea.addEventListener("click",function(){var k,d,c,f;Y={};for(var c=ia.options,f=c.length;f--;){k=c[f];k.selected&&(Y[k.value]=1);}a.mo=I;h();if(c=a.xi){d=X.value;c=c.filter(function(a){return a.id==d;})[0];f=a.Sb[b.ec.I.VIDEO].value;c&&c!=f&&(c.NEb={testreason:"streammanager",selreason:"userselection"},a.Sb[b.ec.I.VIDEO].set(c));}g();},!1);W.appendChild(ea);ea=t.createElement("BUTTON",void 0,"Reset");ea.addEventListener("click",function(){delete a.mo;h();g();},!1);W.appendChild(ea);f.ue.addListener(f.Gy,V);a.addEventListener(n.U.se,function(){f.ue.removeListener(f.Gy,V);});a.Sb.forEach(function(a){a.addListener(N);});a.Ec.addListener(N);a.gf.addListener(N);p.Ya(this,{toggle:u,show:d,zD:g});};},function(g,d,a){var b,f,t,p,c,k,q,n,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(25);t=a(2);p=a(174);c=a(9);k=a(16);q=a(15);n=a(4);u=a(130);d.lLa=function(a){var g,h,y,G;function d(){a.state.value!==q.lb.$c||a.uc.value!==q.qb.gi&&a.uc.value!==q.qb.$q?h.Xg():h.ws();}g=b.config.Wkb;if(!a.GD()&&g){h=n.W.get(u.fB)(g,function(){a.fireEvent(q.U.BD,t.K.fO);});a.uc.addListener(d);a.state.addListener(d);if(b.config.a7){G=f.Qf();y=new p.oia(b.config.a7,function(){var k,d;k=f.Qf();d=k-G;d>g&&(a.fireEvent(q.U.BD,t.K.SN),y.I2());d>2*b.config.a7&&(a.b7=c.Am(d,a.b7||0));G=k;});y.dba();}a.addEventListener(q.U.se,function(){h.Xg();k.Ob(y)&&y.I2();});}};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(15);f=a(71);d.mKa=function(a){function d(c){a.fireEvent(b.U.Xu,{response:c});}return{download:function(b,k){b.j=a;b=f.Uc.download(b,k);b.Rma(d);return b;}};};},function(g,d,a){var f;function b(a,b){var c;c=this;this.pta=a;this.nya=b;this.Xba=!1;this.Ss=function(){c.ml=void 0;c.update();};}Object.defineProperty(d,"__esModule",{value:!0});f=a(19);b.prototype.update=function(a){var b,c,k;b=this.pta();if(this.XDa!==b){f.Ob(b)&&f.Ob(this.duration)&&b<this.duration&&this.entries&&(k=this.Pxa||this.entries[Math.floor(b*this.Msb)]||this.entries[0]);if(k){for(;k&&k.endTime<b;)k=k.next;for(;k&&k.previous&&k.previous.endTime>=b;)k=k.previous;}k&&(k.startTime<=b&&b<=k.endTime?(c=k,this.RDa(k.endTime-b)):this.RDa(k.startTime-b));this.Pxa=k;this.XDa=b;this.p1!==c&&(this.p1=c,!a&&this.nya&&this.nya());}};b.prototype.start=function(){this.Xba=!0;this.update();};b.prototype.OBa=function(a){this.Pxa=this.p1=this.XDa=void 0;this.duration=(this.entries=a)&&Math.max.apply(Math,[].concat(ga(a.map(function(a){return a.endTime;}))))||0;this.Msb=a&&a.length/this.duration||0;this.update();};b.prototype.stop=function(){this.Xba=!1;this.Xg();};b.prototype.$9a=function(){this.update(!0);return this.p1;};b.prototype.RDa=function(a){this.Xg();this.Xba&&0<a&&(this.ml=setTimeout(this.Ss,a+b.tNa));};b.prototype.Xg=function(){this.ml&&(clearTimeout(this.ml),this.ml=void 0);};b.tNa=10;d.KRa=b;},function(g,d,a){var b,f,t;Object.defineProperty(d,"__esModule",{value:!0});a(71);b=a(70);a(25);f=a(14);t=a(46);a(16);a(15);d.GPa=function(){var k,d,n,g,h;function a(){h=!1;for(var a=k.length,b;a--;)b=k[a],g[b]&&(g[b]=!1,n.Hb(b+"changed",{getModel:d[b]}));}function c(b){g[b]=!0;h||(h=!0,t.yb(a));}k=[];d={};n=new b.Lj();g={};h=!1;return{register:function(a,b){f.Ga(!(0<=k.indexOf(a)),"panel already registered");d[a]=b;k.push(a);},dJb:c,fHb:function(a){return(a=d[a])?a():void 0;},addEventListener:function(a,b){n.addListener(a,b);d[a]&&c(a);},removeEventListener:function(a,b){n.removeListener(a,b);}};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rfa="LicenseBrokerFactorySymbol";},function(g,d,a){var b,f,t,h,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(8);f=a(12);g=a(2);t=a(4);h=a(19);c=a(9);a=a(21);t.W.get(a.xe).register(g.K.efa,function(a){var n,g,p;function k(){p&&clearTimeout(p);a(b.yc);k=h.ee;}n=t.Cf("BatteryManager");d.ds={nGa:"chargingchange",jta:function(){return g?g.level:null;},w5:function(){return g?g.charging:null;},addEventListener:function(a,b){g&&g.addEventListener(a,b);},removeEventListener:function(a,b){g&&g.removeEventListener(a,b);}};if(f.config.hI){p=setTimeout(k,f.config.q$a);try{c.Nj.getBattery().then(function(a){g=a;k();})["catch"](function(a){n.error("getBattery promise rejected",a);k();});}catch(A){n.error("exception on getBattery api call",A);k();}}else k();});},function(g,d,a){var q,n,u,y,A,K,x,I;function b(a){return a.split(",").reduce(function(a,b){var c;c=b.split("=");b=c[0];c=c.slice(1).join("=");b&&b.length&&(a[b]=c||!0);return a;},{});}function f(a){return a&&"object"===typeof a?JSON.stringify(a):"string"===typeof a?'"'+a+'"':""+a;}function t(a,c,k){var d;if("string"===typeof a)return t.call(this,b(a),c,k);d=0;Object.keys(a).forEach(function(b){var n,g,u;n=A[b];g=a[b];if(n){if(u=K[b]||I[typeof q[n]])try{g=u(g);}catch(ca){k&&k.error("Failed to convert value '"+g+"' for config '"+b+"' : "+ca.toString());return;}u=y[n];this[n]=g;y[n]!==u&&(k&&k.debug("Config changed for '"+b+"' from "+f(u)+" ("+typeof u+") to "+f(g)+" ("+typeof g+")"),++d);}else c?(n=(n=x[b])?n.filter(function(a){return a[0]!==this;},this):[],n.push([this,g]),x[b]=n):k&&k.error("Attempt to change undeclared config option '"+b+"'");},this);d&&y.emit("changed");return d;}function h(){return Object.keys(A).reduce(function(a,b){var c,f;c=A[b];f=a[c];f?(f.push(b),a[c]=f.sort(function(a,b){return b.length-a.length;})):a[c]=[b];return a;},{});}function c(a,b){return a.hasOwnProperty(b)?f(a[b]):void 0;}function k(a,b){return"undefined"===typeof a?b:a;}d=a(39);a=a(24).EventEmitter;q={};n=Object.create(q);u=Object.create(n);y=Object.create(u);A={};K={};x={};y.declare=function(a){Object.keys(a).forEach(function(b){var c,f,k,d;c=a[b];f=c[0];k=c[1];d=c[2];if(q.hasOwnProperty(b))throw Error("The local configuraion key '"+b+"' is already in use");"string"===typeof f&&(f=[f]);f.forEach(function(a){var c;if(A.hasOwnProperty(a))throw Error("The configuration value '"+a+"' has been declared more than once");q.hasOwnProperty(b)||("function"===typeof k&&(k=k()),q[b]=k);A[a]=b;"function"===typeof d&&(K[a]=d);if(c=x[a])c.forEach(function(b){var c,f;c=b[0];f={};f[a]=b[1];t.call(c,f,!1);}),delete x[a];});});return y;};I={object:function(a){return"object"==typeof a?a:JSON.parse(""+a);},"boolean":function(a){return"boolean"==typeof a?a:!("0"===""+a||"false"===(""+a).toLowerCase());},number:function(a){if("number"==typeof a)return a;a=parseFloat(""+a);if(isNaN(a))throw Error("parseFloat returned NaN");return a;}};y.set=t.bind(n);y.lE=t.bind(u);y.dump=function(a,b){var g,t,p,K;function d(){K&&a&&a.log("===========================================");}g=Object.keys(x).sort();t={};p=h();b=k(b,!0);Object.keys(A).sort().forEach(function(g){var h,x,I;g=A[g];!t[g]&&(t[g]=!0,x=c(n,g),I=c(u,g),b||"undefined"!==typeof x||"undefined"!==typeof I)&&(h=p[g].join(","),h+=" = "+f(y[g])+" ("+typeof y[g]+") [",h+=k(I,"<unset>")+",",h+=k(x,"<unset>")+",",h+=c(q,g)+"]",K||(K=!0,a&&a.log("Current config values"),d()),a&&a.log(h));});(b||g.length)&&a&&a.log("<undeclared> :",g);d();};y.Rp=function(a){var b,c;b={};c={};Object.keys(A).forEach(function(a){a=A[a];c[a]||(c[a]=!0,b[a]=y[a]);});a&&t.call(b,a);return b;};y.Uya=function(){var a;a=h();return Object.getOwnPropertyNames(n).reduce(function(b,c){b[a[c][0]]=n[c];return b;},{});};y.reset=function(){Object.keys(n).forEach(function(a){delete n[a];});};y.xl={};d(a,y);g.T=Object.freeze(y);},function(g,d,a){var f,t,h,c,k;function b(a){var b,d;b=c.platform;f.Cf("MediaSourceASE").trace("Inside MediaSourceASE");d=a.Wab();this.readyState=k.Xb.CLOSED;this.sourceBuffers=d.sourceBuffers;this.addSourceBuffer=function(a){return d.addSourceBuffer(a);};this.u1=function(a){return d.u1(a);};this.removeSourceBuffer=function(a){return d.removeSourceBuffer(a);};this.oo=function(a){return d.oo(a);};this.sourceId=b.BJ();b.UJ();this.duration=void 0;d.Vpb(this.sourceId);this.readyState=k.Xb.OPEN;this.Pc=t.W.get(h.Ye).$k(k.Pc,{});}Object.defineProperty(d,"__esModule",{value:!0});f=a(4);t=a(4);h=a(22);c=a(50);Object.defineProperty(b.prototype,"duration",{get:function(){return this.Jm;},set:function(a){var b;this.Jm=a||Infinity;b=Math.floor(1E3*a)||Infinity;this.sourceBuffers.forEach(function(a){a.Jm=b;});}});k={Xb:{CLOSED:0,OPEN:1,$q:2,name:["CLOSED","OPEN","ENDED"]},Pc:{apa:!0}};d.WMa=Object.assign(b,k);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dha="PboPairCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tha="PboBindCommandSymbol";},function(g,d,a){var b,f,t,h,c,k,q,n,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(25);f=a(4);t=a(337);h=a(20);c=a(19);k=a(279);q=a(278);n=a(92);u=a(2);d.gHa=function(a){var m,V,D,r,W;function d(a,b,c){return new Promise(function(f,k){m.send(a,b,!1,void 0).then(function(a){c?f(c(a)):f({X:!0});})["catch"](function(c){var f,d;try{f=JSON.stringify(c.so);}catch(oa){}d={method:a.method,success:c.X};V.Ol(f)&&(d.errorData=f);V.Ol(c.Y)&&(d.errorSubCode=c.Y);V.Ol(c.qc)&&(d.errorExternalCode=c.qc);V.Ol(c.Oa)&&(d.errorDetails=c.Oa);V.Ol(c.Sk)&&(d.errorDisplayMessage=c.Sk);b.log.error("Processing EDGE response failed",d);c.__logs&&b.log.error(c.__logs);k(c);});});}function g(a){return d({method:"ping"},a);}function p(b){return W.axa?D.Sf(a,b.profile,{},b).then(function(a){return{K4a:a.customerGUID,X:!0};}):d({method:"bind",isExclusive:!0},b,function(a){return{K4a:a.customerGUID,X:!0};});}function y(b,c){var f;f={method:"pair",targetuuid:b.QCa,cticket:b.H4a,nonce:b.Sib,controlleruuid:b.ypa,pairdatahmac:b.rJb};return W.V8?r.Sf(a,c.profile,f).then(function(a){return{X:!0,Acb:{nonce:a.nonce,controlleruuid:b.ypa,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.QCa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},Bcb:a.grantDataHmac};})["catch"](function(a){var b;switch(a&&a.py){case"MDX_CONTROLLER_CTICKET_INVALID":b=u.dZ.VNa;break;default:b=u.dZ.WNa;}return{X:!1,bJ:b,Sk:a.data};}):d(f,c,function(a){return{X:!0,Acb:{nonce:a.nonce,controlleruuid:b.ypa,controlleruserid:a.controllerUserId,controllersharedsecret:a.controllerSharedSecret,targetuuid:b.QCa,targetuserid:a.targetUserId,targetsharedsecret:a.targetSharedSecret},Bcb:a.grantDataHmac};});}function G(a,b){p(a).then(function(a){b(a);})["catch"](function(a){b(a);});}function N(b,f,k){y(b,f).then(function(a){k(a);})["catch"](function(b){var f,d;if(!W.V8){d="";if(b.so)try{f=JSON.parse(b.so);f.error_message?d=f.error_message.replace("com.netflix.streaming.nccp.handlers.mdx.MdxException: ",""):f.implementingClass&&(d=f.implementingClass);}catch(ea){a.error("Failed to parse Pairing errorData",{so:f});}c.Ya(b,l(d));}k(b);});}function l(a){switch(a){case"MDX_ERROR_CONTROLLER_CTICKET_EXPIRED":return{bS:5,bJ:21,dS:void 0,Sk:void 0,cS:void 0};case"MDX_ERROR_CONTROLLER_REQUEST_HMAC_FAILURE":return{bS:2,bJ:20,dS:void 0,Sk:void 0,cS:void 0};case"MDX_ERROR_INVALID_CONTROLLER_REQUEST":return{bS:2,bJ:10,dS:void 0,Sk:void 0,cS:void 0};case"com.netflix.api.service.mdx.MdxPairDependencyCommand":return{bS:2,bJ:13,dS:void 0,Sk:void 0,cS:void 0};default:return{bS:4,bJ:30,dS:void 0,Sk:void 0,cS:void 0};}}m=f.W.get(t.Hga);V=f.W.get(h.de);D=f.W.get(k.tha);r=f.W.get(q.Dha);W=f.W.get(n.cx);c.Ya(this,{Yy:function(a){return d({method:"login"},a,function(a){return{X:a.success,zu:a.accountGuid,Ch:a.profileGuid,Gi:a.isNonMember};});},c2:p,Jqa:g,ping:function(a,b){g(a).then(function(a){b(a);})["catch"](function(a){b(a);});},ZFb:function(a,b){a=Object.assign({},a);a.profile=void 0;G(a,b);},pz:G,hKb:function(a,b,c,f){G(Object.assign({pz:b,SV:c},a),f);},gKb:function(a,b,c,f){G(Object.assign({ry:b,password:c},a),f);},DIb:N,EIb:function(a,b,c){var n;function k(f){N(a,b,function(a){a.X?(a.pz=f.pz,a.SV=f.SV,a.Hib=f.Hib,a.ipb=f.ipb,c(a)):c(f);});}function d(a){p(n).then(function(a){a&&a.X?k(a):c(a);})["catch"](function(b){a?d(!1):c(b);});}n=Object.assign({bxa:a.H4a,xhb:a.g$,whb:a.Sib,vhb:a.sFb,yhb:f.Jk(a.iKb)},b);d(!0);},QKb:function(a,b,f,k){V.xH(f)&&!c.Ob(k)&&(k=f,f=void 0);nrdp&&nrdp.registration&&nrdp.registration.deactivateAll(function(){G(Object.assign({Chb:"GOOGLE_JWT",oDa:b,Ch:f},a),k);});},Obb:function(){return b.K2()+0;},uFb:function(a){return a+0;},jHb:function(a,b){return d({method:"secret",dates:a},b,function(a){return{X:!0,PJb:a.prefetchKeys};});}});};},function(g,d,a){var b,f,t,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(282);f=a(4);t=a(395);h=a(22);d.Drb=function(a){a({X:!0,storage:new b.Qfa(f.W.get(t.Sfa),f.W.get(h.Ye))});};},function(g,d){function a(a,f){this.Ip=a;this.Sd=f;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.load=function(b,f){var d;d=this;this.Ip.load(b).then(function(b){f&&f(a.HCa(b));})["catch"](function(a){f&&f(d.cD(b,a));});};a.prototype.save=function(b,f,d,g){var c;c=this;this.Ip.save(b,f,d).then(function(){g&&g(a.HCa({key:b,value:f}));})["catch"](function(a){g&&g(c.cD(b,a));});};a.prototype.remove=function(a,f){var b;b=this;this.Ip.remove(a).then(function(){f&&f({X:!0,rW:a});})["catch"](function(d){f&&f(b.cD(a,d));});};a.HCa=function(a){return{X:!0,data:a.value,rW:a.key};};a.prototype.cD=function(a,f){return{X:!1,rW:a,Y:f.Y,Oa:f.cause?this.Sd.od(f.cause):void 0};};d.Qfa=a;},function(g,d,a){var b,f,t,h,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(56);t=a(22);h=a(282);c=a(393);d.Crb=function(a){b.W.get(f.Hn).create().then(function(f){a({X:!0,storage:new h.Qfa(f,b.W.get(t.Ye)),ss:b.W.get(c.eea)});})["catch"](function(b){a(b);});};},function(g,d,a){var b,f,t;Object.defineProperty(d,"__esModule",{value:!0});b=a(8);f=a(4);t=a(2);a(18);d.Erb=function(a){var c;f.Cf("Storage");c={};a({X:!0,storage:{load:function(a,b){c.hasOwnProperty(a)?b({X:!0,data:c[a],rW:a}):b({Y:t.H.Sn});},save:function(a,b,f,d){f&&c.hasOwnProperty(a)?d({X:!1}):(c[a]=b,d&&d({X:!0,rW:a}));},remove:function(a,f){delete c[a];f&&f(b.yc);}}});};},function(g,d,a){var f,t,h,c,k,q,n,u,y,A,K,x,I,G,N,l,m,V,D,r,W,ca,ia,X,ja,Y,da,ea,Sa,oa,O,ra,Aa,Ha,Ga,B,sa,F,Fa,Va,P,R,Xa,fc,ta,Z,ba,fa,ga,ha,ka,la,ma,ab,Bb,sc,Ya,qa,pa,ua;function b(a,b,c,k){var q,t,p,y;function d(a){a.newValue!==ta.qb.ig&&a.newValue!==ta.qb.gi&&(q.uc.removeListener(d),q.DD=q.Ta.Uaa,q.Gb.Hb(ta.U.Bh));}function g(a){a.newValue!==ta.qb.ig&&(q.uc.removeListener(g),q.fza=q.Ta.Qe.fa(ja.na));}q=this;this.wv=k;this.cw=[];this.FC=0;this.Ec=new x.Ic(null);this.gf=new x.Ic(null);this.wc=new x.Ic(null);this.wi=new x.Ic(null);this.Jq=new x.Ic(void 0);this.le=new x.Ic(null);this.kj=new x.Ic(null);this.bc=new x.Ic(void 0);this.pca=function(a){return q.Ec.set(a.newValue);};this.kub=function(a){return q.gf.set(a.newValue);};this.hub=function(a){return q.wc.set(a.newValue);};this.Stb=function(a){return q.wi.set(a.newValue);};this.gub=function(a){return q.Jq.set(a.newValue);};this.jub=function(a){return q.le.set(a.newValue);};this.Ttb=function(a){return q.kj.set(a.newValue);};this.cub=function(a){return q.Fe.set(a.newValue);};this.bub=function(a){return q.pf.set(a.newValue);};this.Ytb=function(a){return q.bc.set(a.newValue);};this.OD={};this.oaa=this.bca=0;this.Gb=new G.Lj();this.XM={};this.ola=0;this.CQ=void 0;this.Ugb=ia.W.get(qa.qga);this.owa=ia.W.get(F.aga);this.Hc=ia.W.get(ua.gB);this.oW=!1;this.state=new x.Ic(ta.lb.TA);this.Bz=new x.Ic(!1);this.paused=new x.Ic(!1);this.muted=new x.Ic(!1);this.volume=new x.Ic(I.config.D5a/100);this.playbackRate=new x.Ic(1);this.uc=new x.Ic(ta.qb.ig);this.NQ=new x.Ic(ta.hf.Ij);this.Tm=new x.Ic(ta.hf.Ij);this.Gj=new x.Ic(ta.hf.Ij);this.pf=new x.Ic(null);this.Fe=new x.Ic(null);this.n2=new x.Ic(null);this.PJ=A.mKa(this);this.hU=[];this.Sb=[];this.a2={};this.eo=new x.Ic(null);this.UQ=0<=Aa.Vda.indexOf("cast")?ia.W.get(X.Cda):void 0;this.Pl=this.dra=!1;this.Lrb=this.va=this.wg=-1;this.tD=function(a,b){a=void 0===a?null:a;return Ga.qa(a)?q.wb?q.wb.zC(b,a):a:null;};this.oya=function(){q.sba();};this.Rmb=this.wv.BC();this.addEventListener=this.Gb.addListener;this.removeEventListener=this.Gb.removeListener;this.fireEvent=this.Gb.Hb;k=I.config.tn&&this.Hc()?this.Hc().r6(a):void 0;this.ena(a,c||{},k,b);this.FQ=ia.W.get(pa.xe);this.log=ia.Uf(this);this.Ba=ia.W.get(la.Je);this.Ta=ia.W.get(Xa.Kj);this.B_a=ia.W.get(ca.lda)(this);this.If=P.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,{id:this.M});this.Xdb();t=ia.W.get(ab.eB)(ja.xg(1));this.$Ua=ia.W.get(Z.pga);this.Kd=this.log.n3("Playback");this.c9=new V.ZMa(this);this.wlb=h.qPa(this);this.U3=n.GPa();m.uG.uib=this;m.uG.U4||(m.uG.U4=this);this.Kd.info("Playback created",this.Yf);this.k8?this.Kd.info("Playback selected for trace playback info logging"):this.Kd.trace("Playback not selected for trace playback info logging");I.config.tn&&this.Hc()&&(this.Hc().Pcb(this.M),this.addEventListener(ta.U.Bh,function(){q.Hc().Qcb(q.M);q.wc.addListener(function(){q.Hc().cua();});q.Ec.addListener(function(){q.Hc().cua();});}),this.addEventListener(ta.U.se,function(){q.Hc().Ocb(q.M);}));this.state.addListener(function(a){q.Kd.info("Playback state changed",{From:a.oldValue,To:a.newValue});oa.Ga(a.newValue>a.oldValue);});l.ue.addListener(l.Uk,this.oya,K.qZ);this.bc.addListener(function(){t.Ib(function(){return q.Ura();});});y=!1;this.paused.addListener(function(a){var b;b=q.wb;!a.E9&&b&&(!0===a.newValue?b.paused&&b.paused():b.HDa&&b.HDa());a.newValue||(y=!1);q.Kd.info("Paused changed",{From:a.oldValue,To:a.newValue,MediaTime:O.eh(q.bc.value)});});this.addEventListener(ta.U.Pz,function(a){q.ja.el.fjb(a.JU,a.x9);});this.uc.addListener(function(a){q.Kd.info("PresentingState changed",{From:a.oldValue,To:a.newValue,MediaTime:O.eh(q.bc.value)},q.XD());});this.uc.addListener(function(){q.Bz.set(q.uc.value===ta.qb.wd);});this.NQ.addListener(function(a){q.Kd.info("BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:O.eh(q.bc.value)},q.XD());});this.Tm.addListener(function(a){q.Kd.info("AV BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:O.eh(q.bc.value)},q.XD());});this.Gj.addListener(function(a){q.Kd.info("Text BufferingState changed",{From:a.oldValue,To:a.newValue,MediaTime:O.eh(q.bc.value)},q.XD());});this.Ec.addListener(function(a){oa.Ga(a.newValue);q.Kd.info("AudioTrack changed",a.newValue&&{ToBcp47:a.newValue.Xj,To:a.newValue.fb},a.oldValue&&{FromBcp47:a.oldValue.Xj,From:a.oldValue.fb},{MediaTime:O.eh(q.bc.value)});});this.gf.addListener(function(){for(var a=q.Fy(),b=a.length,c=0;c<b;c++)a[c].lower=a[c-1],a[c].ldb=a[c+1];});this.wc.addListener(function(a){q.Kd.info("TimedTextTrack changed",a.newValue?{ToBcp47:a.newValue.Xj,To:a.newValue.fb}:{To:"none"},a.oldValue?{FromBcp47:a.oldValue.Xj,From:a.oldValue.fb}:{From:"none"},{MediaTime:O.eh(q.bc.value)});});this.Sb[f.ec.I.AUDIO]=new x.Ic(null);this.Sb[f.ec.I.VIDEO]=new x.Ic(null);this.uc.addListener(g,K.WA);this.uc.addListener(d);this.addEventListener(ta.U.Bh,function(){var a,b,c,f;q.oW=!0;q.Nc("start");a=q.Fe.value;b=M._cad_global.prefetchEvents;if(b){c=ja.zb(q.Yl?q.Yl.audio:0);f=ja.zb(q.Yl?q.Yl.video:0);b.gk(q.M,q.oa,"notcached"!==q.Lu,"notcached"!==q.cy,!!q.Yl,c,f);}q.sT=a.stream.O;});W.wPa(this);m.jr.push(this);I.config.CL&&(this.cV=new R.zPa(this),this.Hlb=new D.DPa(this));m.Rha.forEach(function(a){a(q);});this.ZYa=function(a){var b,c;q.addEventListener(ta.U.Pz,function(b){b=b.cause;b!==ta.Fg.YF&&b!==ta.Fg.aB&&a.stop();});q.addEventListener(ta.U.un,function(b){var c,f,k,d,n;c=b.cause;f=b.skip;k=b.x9;d=b.JU;n=b.ga;b=b.ko;c!==ta.Fg.aB&&(I.config.s9a&&c===ta.Fg.ZZ&&q.ll.p2(),c!==ta.Fg.YF&&(f?a.pC(k)?(q.Kd.trace("Repositioned. Skipping from "+d+" to "+k),a.Pi(k),a.play()):q.log.error("can skip returned false"):(q.Kd.trace("Repositioned. Seeking from "+d+" to "+k),a.KE(b,n))));});a.addEventListener("segmentStarting",function(a){q.fireEvent(ta.U.upb,a);});a.addEventListener("lastSegmentPts",function(a){q.fireEvent(ta.U.rpb,a);});a.addEventListener("segmentPresenting",function(a){q.fireEvent(ta.U.QL,a);});a.addEventListener("segmentAborted",function(a){q.fireEvent(ta.U.ppb,a);});b="boolean"===typeof q.Za.XC?q.Za.XC:I.config.XC;c=ia.W.get(ka.eja);a.addEventListener("manifestPresenting",function(a){var f;f=a.index;0<f&&(q.fireEvent(ta.U.YT,{index:q.FC}),q.FC=f,q.TAa(),q.DD=q.Ta.Uaa);b&&c.XC(q);q.fireEvent(ta.U.Ls,a);});a.addEventListener("skip",function(a){q.fireEvent(ta.U.Pi,a);});a.addEventListener("error",function(a){"NFErr_MC_StreamingFailure"===a.error&&(q.Kd.trace("receiving an unrecoverable streaming error: "+JSON.stringify(a)),q.Kd.trace("StreamingFailure, buffer status:"+JSON.stringify(q.XD())),I.config.O8a&&!q.oW&&Ha.yb(function(){var b;b=ia.W.get(u.uk);q.md(b(Y.K.KEa,{Y:a.nativeCode,Oa:a.errormsg,Uh:a.httpCode,CU:a.networkErrorCode}));}));});a.addEventListener("maxvideobitratechanged",function(a){q.hU.push(a);});a.addEventListener("bufferingStarted",function(){q.Tm.set(ta.hf.Ij);});a.addEventListener("locationSelected",function(a){q.fireEvent(ta.U.hq,a);});a.addEventListener("serverSwitch",function(a){var b;q.fireEvent(ta.U.QE,a);"video"===a.mediatype?b=f.ec.I.VIDEO:"audio"===a.mediatype&&(b=f.ec.I.AUDIO);Ga.Ob(b)&&q.Zpb(a.server,b);});a.addEventListener("bufferingComplete",function(b){q.Kd.trace("Buffering complete",{Cause:"ASE Buffering complete",evt:b},q.XD());q.Vm=b;q.Tm.set(ta.hf.$c);p||(p=!0,q.Nc("pb"));a.play();});a.addEventListener("audioTrackSwitchStarted",function(){a.Ejb();q.paused.value||(y=!0,q.paused.set(!0,{E9:!0}));});a.addEventListener("audioTrackSwitchComplete",function(){q.paused.value&&y&&(y=!1,q.paused.set(!1,{E9:!0}));q.qg.hjb();});a.addEventListener("endOfStream",function(a){q.qg.QK(a);});a.addEventListener("asereportenabled",function(){q.Pl=!0;});a.addEventListener("asereport",function(a){q.fireEvent(ta.U.hC,a);});a.addEventListener("aseexception",function(a){q.fireEvent(ta.U.gC,a);});a.addEventListener("hindsightreport",function(a){var b,c;b=Ga.qa(q.Te)?0:q.Te;c=a.report;c&&c.length&&c.forEach(function(a){a.bst-=b;a.pst-=b;void 0===a.nd&&a.tput&&(a.tput.ts-=b);});q.L6={kob:c,udb:a.hptwbr,Dua:a.htwbr,YU:a.pbtwbr};a.rr&&(q.L6.XAa=a.rr);a.ra&&(q.L6.Zmb=a.ra);});a.addEventListener("streamingstat",function(a){var b;b=a.bt;q.va=a.location.bandwidth;q.wg=a.location.httpResponseTime;q.Lrb=a.stat.streamingBitrate;b&&(void 0===q.ay&&(q.ay={interval:I.config.mC,startTime:b.startTime,Xr:[],vt:[]}),q.ay.Xr=q.ay.Xr.concat(b.Xr),q.ay.vt=q.ay.vt.concat(b.vt));a.psdConservCount&&(q.Lza=a.psdConservCount);});a.addEventListener("headerCacheDataHit",function(a){a.movieId===""+q.M&&(q.Yl=a);});a.addEventListener("startEvent",function(a){M._cad_global.prefetchEvents&&"adoptHcdEnd"===a.event&&M._cad_global.prefetchEvents.eI(da.ne.Vi.MEDIA,q.M);});a.addEventListener("requestComplete",function(a){(a=(a=a&&a.mediaRequest)&&a.vC&&a.vC.cadmiumResponse)&&q.fireEvent(ta.U.Xu,{response:a});});a.addEventListener("streamSelected",function(a){var b,c;a.mediaType===f.ec.I.VIDEO?(c=q.nua(a.streamId),b=q.le):a.mediaType===f.ec.I.AUDIO&&(c=q.gua(a.streamId),b=q.kj);c&&b?b.set(c,{Soa:a.movieTime,x_a:a.bandwidth}):q.Kd.error("not matching stream for streamSelected event",{streamId:a.streamId});});a.addEventListener("logdata",function(a){var b,c;if("string"===typeof a.target&&"object"===typeof a.fields){b=q.OD[a.target];c=Ga.qa(q.Te)?q.Te:0;b||(b=q.OD[a.target]={});Object.keys(a.fields).forEach(function(f){var k,d,n,g;k=a.fields[f];if("object"!==typeof k||null===k)b[f]=k;else{d=k.type;if("count"===d)void 0===b[f]&&(b[f]=0),++b[f];else if(void 0!==k.value)if("array"===d){d=b[f];n=k.adjust;g=k.value;d||(d=b[f]=[]);n&&0<n.length&&n.forEach(function(a){g[a]-=c||0;});d.push(g);}else"sum"===d?(void 0===b[f]&&(b[f]=0),b[f]+=k.value):b[f]=k.value;else b[f]=k;}});}});};this.Ec.addListener(function(a){var b;if(q.wb)if(a.Tu&&a.Tu.reset)q.Kd.trace("ASE previously rejected the audio track switch, resetted!");else{b=a.newValue;q.wb.osb({jC:b.Ly,toJSON:function(){return b.Yf;}})?q.Kd.trace("ASE accepted the audio track switch"):(q.Kd.trace("ASE rejected the audio track switch"),a.oldValue.Ly!==b.Ly&&q.Ec.set(a.oldValue,{reset:!0}));}});this.addEventListener(ta.U.fo,function(a){a.cause==m.Nha&&(q.NQ.set(ta.hf.Ij),q.wb.Mtb(q.qg.Zsa()));});}Object.defineProperty(d,"__esModule",{value:!0});f=a(50);t=a(181);h=a(180);c=a(122);k=a(275);q=a(555);n=a(273);u=a(62);y=a(554);A=a(271);K=a(8);x=a(177);I=a(12);G=a(70);N=a(270);l=a(54);m=a(57);V=a(91);D=a(269);r=a(551);W=a(265);ca=a(286);ia=a(4);X=a(219);ja=a(3);Y=a(2);da=a(112);ea=a(22);Sa=a(218);oa=a(14);O=a(105);ra=a(18);Aa=a(32);Ha=a(46);Ga=a(16);B=a(104);sa=a(264);F=a(323);Fa=a(127);Va=a(175);P=a(19);R=a(263);Xa=a(41);fc=a(38);ta=a(15);Z=a(389);ba=a(178);fa=a(187);ga=a(61);ha=a(124);ka=a(288);la=a(23);ma=a(42);ab=a(96);Bb=a(106);sc=a(179);Ya=a(261);a(85);qa=a(375);pa=a(21);ua=a(108);b.prototype.Nc=function(a){this.ja.Nc(a);};b.prototype.xv=function(a){this.ja.xv(a);};b.prototype.Xdb=function(){var a;a=this;this.Ec.addListener(function(b){return a.ja.Ec.set(b.newValue);});this.gf.addListener(function(b){return a.ja.gf.set(b.newValue);});this.wc.addListener(function(b){return a.ja.wc.set(b.newValue);});this.wi.addListener(function(b){return a.ja.wi.set(b.newValue);});this.Jq.addListener(function(b){return a.ja.Jq.set(b.newValue);});this.le.addListener(function(b){return a.ja.le.set(b.newValue);});this.kj.addListener(function(b){return a.ja.kj.set(b.newValue);});this.Fe.addListener(function(b){return a.ja.Fe.set(b.newValue);});this.pf.addListener(function(b){return a.ja.pf.set(b.newValue);});this.bc.addListener(function(b){return a.ja.bc.set(b.newValue);});this.TAa();};b.prototype.TAa=function(){this.ja!==this.Jaa&&(this.ja.bc.set(this.bc.value),this.Qq(function(a){return a.Ec;},this.pca),this.Qq(function(a){return a.gf;},this.kub),this.Qq(function(a){return a.Jq;},this.gub),this.Qq(function(a){return a.wc;},this.hub),this.Qq(function(a){return a.wi;},this.Stb),this.Qq(function(a){return a.le;},this.jub),this.Qq(function(a){return a.kj;},this.Ttb),this.Qq(function(a){return a.pf;},this.bub),this.Qq(function(a){return a.Fe;},this.cub),this.Qq(function(a){return a.bc;},this.Ytb),this.wc.set(this.ja.wc.value),this.Ec.set(this.ja.Ec.value),this.gf.set(this.ja.gf.value),this.wi.set(this.ja.wi.value),this.Jq.set(this.ja.Jq.value),this.le.set(this.ja.le.value),this.kj.set(this.ja.kj.value),this.Jaa=this.ja);};b.prototype.Qq=function(a,b){this.Jaa&&a(this.Jaa).removeListener(b);a(this.ja).addListener(b);};b.prototype.load=function(a){var b,c;b=this;this.load=function(){};this.mza=a;if(this.state.value==ta.lb.TA){this.Kd.info("Playback loading",this);this.bjb();this.Nc("asl_load_start");a=this.FQ;c=a.endTime;Ga.Ob(a.startTime)?Ga.Ob(c)?this.Nc("asl_ended"):this.Nc("asl_in_progress"):this.Nc("asl_not_started");this.FQ.rK(function(a){b.Nc("asl_load_complete");a.X?b.Z3a():b.Wo(a.errorCode||Y.K.cfa,a);});}};b.prototype.Qlb=function(){var a;try{if(this.state.value===ta.lb.LOADING){this.l$=ja.zb(this.Aa.duration);a={width:1,height:1};this.Fy().forEach(function(b){a.width*a.height<b.width*b.height&&(a.width=b.width,a.height=b.height);});this.uF=a;this.Zx=ia.W.get(Sa.tX).ona({rA:ja.zb(this.V),M:this.M,cL:this.hy,Za:this.Za}).fa(ja.na);this.Ina();this.E4a();}}catch(pf){this.Wo(Y.K.SKa,{Y:Y.H.Dg,Oa:ra.od(pf)});}};b.prototype.ena=function(a,b,c,f){var k,d;c=void 0===c?this.wv.BC():c;f=void 0===f?this.Ba.ac():f;k=!!I.config.kEa&&!(c%I.config.kEa);d=this.cw.length;a=ia.W.get(ba.GZ)(m.uG.index++,d,a,b,c,f,k,this.ja,this.tD);this.cw.push(a);0!==a.ga&&(a.iq=this.owa.create(this,a,!1));return d;};b.prototype.Yp=function(a){return this.cw[a];};b.prototype.qbb=function(a){return this.cw.find(function(b){b=b.Ce;return!!b&&!!b.Iva&&b.Iva.sessionId===a;})||this;};b.prototype.Umb=function(a,b){var c,f;b=void 0===b?!0:b;c=this;f=this.Yp(a);return this.wBa(f).then(function(a){if(!c.wb)throw Error("No streaming session");c.Gza(a,f);c.wb.AH(f.Aa,{btb:[f.Ub.mqa,f.Ub.rqa],replace:!1,V:f.Za.V,da:f.Za.da,p$:!0,tC:!f.Av,Wx:b});return c.xb.sj.PBa("cenc",f).then(function(){return c.wb.NR(""+f.M);});})["catch"](function(a){return c.log.error("send manifest request failed",a);});};b.prototype.j$a=function(){if(Ga.qa(this.Ac.ats)&&Ga.qa(this.Ac.at))return this.Ac.at-this.Ac.ats;};b.prototype.Gsa=function(){var a,b;a=this.WM();b=this.MH();return Math.min(a,b);};b.prototype.Eab=function(){if(Ga.qa(this.Ac.shs)&&Ga.qa(this.Ac.sh))return this.Ac.sh-this.Ac.shs;};b.prototype.fM=function(){this.background||(this.Kd.info("Starting inactivity monitor for movie "+this.M),new N.lLa(this));};b.prototype.close=function(a){a&&(this.state.value==ta.lb.CLOSED?a():this.addEventListener(ta.U.closed,function(){a();}));this.sba();};b.prototype.md=function(a,b){var c,f,k;c=this;if(this.state.value==ta.lb.TA)this.Wh||(this.Wh=a,this.load());else{b&&(this.state.value==ta.lb.CLOSED?b():this.addEventListener(ta.U.closed,function(){b();}));f=function(){c.sba(a);};k=I.config.tqa&&a&&I.config.tqa[a.errorCode];Ga.Ry(k)&&(k=ra.Od(k));this.Kd.error("Fatal playback error",{Error:""+a,HandleDelay:""+k});0<=k?setTimeout(f,k):f();}};b.prototype.JM=function(){this.Gb.Hb(ta.U.JM);};b.prototype.u9a=function(){this.Ura();};b.prototype.U5=function(){var a;a=this.wb;return a&&(a=a.wa.zj.ya.id,void 0!==a)?a:null;};b.prototype.rD=function(){return void 0!==this.ja.fR&&void 0===this.wb?this.ja.fR:this.tD(this.bc.value);};b.prototype.T5=function(){var a;a=this.tD(this.qg.Zsa());return null===a||0>a||a>this.hy.fa(ja.na)?null:a;};b.prototype.FS=function(){var a;a=this.Aa.choiceMap;if(a)return a.segments;};b.prototype.aub=function(a){this.Za=Fa.Mhb(function(a,b){return void 0!==b?b:a;},this.Za,a);this.Ina();};b.prototype.Fy=function(){return this.gf.value?this.gf.value.mc:[];};b.prototype.Wcb=function(a){var c;for(var b=0;b<this.cw.length;b++){c=this.Yp(b).xi;if(c=c&&c.find(function(b){return b.id===a;}))return c;}};b.prototype.gua=function(a){var c;for(var b=0;b<this.cw.length;b++){c=this.Yp(b).Ec.value;if(c=c&&c.mc.find(function(b){return b.Qc===a;}))return c;}};b.prototype.nua=function(a){var c;for(var b=0;b<this.cw.length;b++){c=this.Yp(b).gf.value;if(c=c&&c.mc.find(function(b){return b.Qc===a;}))return c;}};b.prototype.mo=function(){var a,b,c,k,d,n,g;a=this;b=void 0;c=a.Fy().filter(function(c){var f;f=a.c9.ht(c);f&&(b=b||[],b.push({stream:c,NC:f}));return!f;});0===c.length&&this.log.error("FilteredVideoStreamList is empty. Media stream filters are not setup correctly.");for(var f=0;f<c.length;f++)c[f].lower=c[f-1],c[f].ldb=c[f+1];if(a&&a.wb){k=[];a.Fy().forEach(function(a){-1==k.indexOf(a.Pe)&&k.push(a.Pe);});d=null;n=null;c.forEach(function(a){null===d?n=d=a.O:n<a.O?n=a.O:d>a.O&&(d=a.O);});g=[];k.forEach(function(a){var c;c={ranges:[]};c.profile||(c.profile=a);d&&n&&(c.ranges.push({min:d,max:n}),b&&(c.disallowed=b.filter(function(b){return b.stream.Pe===a;})),g.push(c));});a.wb.bW(g);}return c;};b.prototype.Peb=function(){return"trailer"===this.ke;};b.prototype.eva=function(){return!!this.ke&&0<=this.ke.indexOf("billboard");};b.prototype.Veb=function(){return!!this.ke&&0<=this.ke.indexOf("video-merch");};b.prototype.GD=function(){return this.Peb()||this.eva()||this.Veb();};b.prototype.Gbb=function(){return{tr:this.bca,rt:this.oaa};};b.prototype.Ds=function(a){return this.OD[a];};b.prototype.t0a=function(){return this.gp?this.Ba.ac().fa(ja.na)-this.gp:this.Ta.Qe.fa(ja.na)-this.BS();};b.prototype.Eoa=function(){var a;if(this.gp)return this.Ba.ac().fa(ja.na)-this.gp;a=ia.W.get(la.Je).Vy;return this.fza-(this.fl.fa(ja.na)+a.fa(ja.na));};b.prototype.z0a=function(){return this.gp?this.Ba.ac().fa(ja.na)-this.gp:this.fza-this.BS();};b.prototype.Wib=function(a){var b,c;b=this.Te;c={};ra.Sc(a,function(a,f){c[a]=f.map(function(a){return a-b;});});return c;};b.prototype.r$a=function(){var a,b;a=this.Te;b={};ra.Sc(this.a2,function(c,f){b[c]=f.map(function(b){return b-a;});});return k.ds?{level:k.ds.jta(),charging:k.ds.w5(),statuses:b}:null;};b.prototype.VS=function(){this.Tra();return this.XM;};b.prototype.BS=function(){var a;a=this.Za.JW;a=Ga.qa(a)?a:this.fl.fa(ja.na)+this.Ba.Vy.fa(ja.na);oa.Ga(Ga.zv(a));return a;};b.prototype.a6=function(){return this.Ba.ac().fa(ja.na)-this.fl.fa(ja.na);};b.prototype.wqb=function(){this.XM.HasRA=!0;};b.prototype.$ub=function(){this.Sqb=!0;};b.prototype.HU=function(){this.mAa();};b.prototype.WM=function(){var a;a=this.EQ();return a&&a.vbuflmsec||0;};b.prototype.MH=function(){var a;a=this.EQ();return a&&a.abuflmsec||0;};b.prototype.Cca=function(){var a;a=this.EQ();return a&&a.vbuflbytes||0;};b.prototype.P1=function(){var a;a=this.EQ();return a&&a.abuflbytes||0;};b.prototype.wBa=function(a){var b,c;a=void 0===a?this:a;b=ia.W.get(fa.bZ);c=I.config.qV.enabled?ga.Zc.Qn.iia:this.GD()?ga.Zc.Qn.Fia:ga.Zc.Qn.Dm;a={oa:a.oa,Za:a.Za,we:a.M,lJ:c};c=ia.W.get(ha.sG)();return b.oD(a,c);};b.prototype.Gza=function(a,b){b=void 0===b?this:b;b.Aa=a;a=this.$Ua.create(this).Z9(a);b.Ub=a;b.gf.set(a.Q3);b.Ec.set(a.L3);b.wc.set(a.P3);};b.prototype.Z3a=function(){try{this.profile=Bb.Lg.profile;this.vh=new sc.hHa(this);this.iq=this.owa.create(this,this.ja,!0);I.config.M0a&&new Ya.DJa(this,ia.W.get(fc.Mj),this.log);I.config.hI&&this.hI(this);this.Jub();}catch(Nc){this.Wo(Y.K.RKa,{Y:Y.H.Dg,Oa:ra.od(Nc)});}};b.prototype.Jub=function(){this.Wh?this.md(this.Wh):Ga.rva(this.M)?this.e1a():this.Wo(Y.K.HKa,{Oa:""+this.M});};b.prototype.e1a=function(){var a;a=t.ZE.IBa;a?a.X?this.M2():this.Wo(Y.K.xfa,a):(oa.Ga(!I.config.$R),this.n1());};b.prototype.M2=function(){var a;a=this;!this.background&&I.config.M2?m.Qha(function(){a.n1();},this):this.n1();};b.prototype.n1=function(){var a;a=this;this.state.value==ta.lb.LOADING&&(I.config.t4&&!this.GD()?t.ZE.bC(m.vPa,function(b){b.X?(a.VT=b.VT,I.config.VV?a.TH():a.Paa()):a.Wo(Y.K.wfa);}):I.config.VV?this.TH():this.Paa());};b.prototype.Paa=function(){var a;a=this;this.state.value==ta.lb.LOADING&&(this.Nc("ic"),this.wlb.Bpb(function(b){b.error&&a.log.error("Error sending persisted playdata",Y.Nn(b));try{a.TH();}catch(Oc){a.log.error("playback.authorize threw an exception",Oc);a.Wo(Y.K.VEa,{Y:Y.H.Dg,Oa:ra.od(Oc)});}}));};b.prototype.TH=function(){var a,b;a=this;if(this.state.value==ta.lb.LOADING){this.log.info("Authorizing",this);b=this.Ba.ac().fa(ja.na);this.Nc("ats");this.vh.TH(function(c){var f;if(a.state.value==ta.lb.LOADING){a.Nc("at");f=a.Aa;a.xv({pr_ats:f&&Ga.Ob(f.Rz)?f.Rz:b,pr_at:f&&Ga.Ob(f.CE)?f.CE:a.Ba.ac().fa(ja.na)});c.X?0<a.Ub.xi.length&&a.Ub.L3&&a.Ub.Q3&&a.Ub.P3?a.xmb():a.Wo(Y.K.$La,a.Ugb(a.Ub)):a.Wo(Y.K.MANIFEST,c);}});}};b.prototype.xmb=function(){var a;a=this;this.mza?(this.log.info("Processing post-authorize",this),this.mza(this,function(b){b.X?a.MDa():a.Wo(Y.K.WKa,b);})):this.MDa();};b.prototype.MDa=function(){var b,k,d,n;b=this;if(this.state.value==ta.lb.LOADING){k={};this.ll=c.Ik;I.config.r9a&&this.ll.p2();c.Wj.set(a(149)(I.config),!0,ia.Cf("ASE"));c.Wj.set({maxNumberTitlesScheduled:I.config.qza?I.config.qza.maxNumberTitlesScheduled:1},!0,this.Kd);I.config.n2a&&3E5>this.Aa.duration?c.Wj.lE({expandDownloadTime:!1},!0,this.Kd):c.Wj.lE({expandDownloadTime:c.Wj.Uya().expandDownloadTime},!0,this.Kd);this.background||I.config.Rlb&&"postplay"===this.ke?c.Wj.lE({initBitrateSelectorAlgorithm:"historical"},!0,this.Kd):c.Wj.lE({initBitrateSelectorAlgorithm:c.Wj.Uya().initBitrateSelectorAlgorithm},!0,this.Kd);n=this.gf&&this.gf.value&&this.gf.value.mc;n&&n.length&&(d=n[0].Pe);c.Wj.lE(I.qpa(this.Za.Vf,this.Za.y7,d),!0,this.Kd);k=ia.W.get(ea.Ye).$k(k,I.rpa(this.ke));this.Mrb=c.Wj.Rp(k);f.platform.events.emit("networkchange",this.Ub.Upb);this.ll.SDa({mo:function(){return b.mo();},BJ:function(){return b.BJ();},UJ:function(){return b.UJ();}});this.Qlb();}};b.prototype.E4a=function(){var a,b,c,f;a=this;try{this.xb=new q.PMa(this);this.xb.open();b=new Promise(function(b){a.xb.addEventListener(Va.Kh.oCa,b);});this.qg=new sa.TMa(this);c={Vh:!1,rF:I.config.rF,OW:I.config.TR,p8:!1,tC:!this.Av,p$:!!this.Za.y7,da:this.Za.da};f={zz:this.log,ek:this.ek,sessionId:this.M+"-"+this.oa,oa:this.oa,XU:this.AC,xh:B.wh?B.wh.xh:void 0,JR:0===I.config.NI||0!==this.oa%I.config.NI?!1:!0};this.dra=f.JR;this.wb=this.ll.ms(this.Aa,[this.Ub.mqa,this.Ub.rqa],this.V,c,f,void 0,{cf:function(){return a.bc.value;},Wab:function(){return a.xb;}},this.Mrb);this.ZYa(this.wb);b.then(function(){a.state.value!==ta.lb.CLOSING&&a.state.value!==ta.lb.CLOSED&&a.wb.open();});this.bc.set(this.V);this.En=new y.GRa(this);if("boolean"===typeof this.Za.zV?this.Za.zV:I.config.zV)this.CM=new r.HRa(this);this.fM();m.Sha.forEach(function(b){b(a);});this.ajb();}catch(qf){this.Wo(Y.K.TKa,{Y:Y.H.Dg,Oa:ra.od(qf)});}};b.prototype.bjb=function(){oa.Ga(this.state.value==ta.lb.TA);this.Te=this.Ba.ac().fa(ja.na);this.state.set(ta.lb.LOADING);M._cad_global.prefetchEvents&&M._cad_global.prefetchEvents.Elb(this.M);};b.prototype.Wo=function(a,b){var c;if(!this.done){this.done=!0;c=ia.W.get(u.uk);b instanceof ma.cc?this.md(c(b.code,b)):this.md(c(a,b));}};b.prototype.hI=function(a){var c,f;function b(){var b,f;b=k.ds.w5()+"";f=a.a2[b];f||(f=a.a2[b]=[]);f.push(c.Ba.ac().fa(ja.na));c.log.trace("charging change event",{level:k.ds.jta(),charging:k.ds.w5()});}c=this;f=k.ds.nGa;k.ds.addEventListener(f,b);a.addEventListener(ta.U.se,function(){k.ds.removeEventListener(f,b);});};b.prototype.sba=function(a){var b;b=this;if(this.state.value==ta.lb.TA||this.state.value==ta.lb.LOADING||this.state.value==ta.lb.$c){this.Kd.info("Playback closing",this,a?{ErrorCode:a.FR}:void 0);l.ue.removeListener(l.Uk,this.oya);this.Wh=a;this.Tra();this.wb&&this.wb.flush();try{this.Gb.Hb(ta.U.se,{manifestIndex:this.FC});}catch(Oc){this.Kd.error("Unable to fire playback closing event",Oc);}this.state.set(ta.lb.CLOSING);this.ja.fR=this.rD();this.HEa();this.Sqb||Ha.yb(function(){return b.mAa();});}};b.prototype.Ura=function(){var a;a=this.bc.value;this.tfb!=a&&(this.tfb=a,this.Gb.Hb(ta.U.Pba));};b.prototype.mAa=function(){var a,b;a=this;oa.Ga(this.state.value==ta.lb.CLOSING);b=this.VT;this.VT=void 0;b?t.ZE.release(b,function(b){oa.Ga(b.X);a.S2();}):this.S2();};b.prototype.HEa=function(){this.wb&&(this.wb.close(),this.wb.Vd());this.ll&&this.Wh&&this.ll.p2();delete this.wb;delete this.ll;};b.prototype.S2=function(){var a;this.S2=K.ee;oa.Ga(this.state.value==ta.lb.CLOSING);a=m.jr.indexOf(this);oa.Ga(0<=a);m.jr.splice(a,1);this.state.set(ta.lb.CLOSED);this.Gb.Hb(ta.U.closed,void 0,!0);this.Gb.PC();delete this.Ce;this.ja.HU();};b.prototype.Ina=function(){this.Za.playbackState&&("number"===typeof this.Za.playbackState.volume&&this.volume.set(this.Za.playbackState.volume),"boolean"===typeof this.Za.playbackState.muted&&this.muted.set(this.Za.playbackState.muted));};b.prototype.Tra=function(){this.Gb.Hb(ta.U.cCa,{XM:this.XM});};b.prototype.Zpb=function(a,b){var c;c=this.xi.filter(function(b){return b.id===a;})[0];c&&this.Sb[b].set(c);};b.prototype.XD=function(){return{AudioBufferLength:this.MH(),VideoBufferLength:this.WM()};};b.prototype.EQ=function(){if(this.wb)return this.wb.o7(!1);};b.prototype.BJ=function(){return this.ola;};b.prototype.UJ=function(){this.ola++;};b.prototype.ajb=function(){this.state.value==ta.lb.LOADING&&this.state.set(ta.lb.$c);};na.Object.defineProperties(b.prototype,{ja:{configurable:!0,enumerable:!0,get:function(){return this.cw[this.FC];}},V:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.Zx?this.Zx:this.Yp(0).Za.V||0;}},Ub:{configurable:!0,enumerable:!0,get:function(){return this.ja.Ub;},set:function(a){this.ja.Ub=a;}},profile:{configurable:!0,enumerable:!0,get:function(){return this.ja.profile;},set:function(a){this.ja.profile=a;}},rS:{configurable:!0,enumerable:!0,get:function(){return this.ja.Za.rS;}},sS:{configurable:!0,enumerable:!0,get:function(){return this.ja.Za.sS;}},index:{configurable:!0,enumerable:!0,get:function(){return this.ja.index;}},Ce:{configurable:!0,enumerable:!0,get:function(){return this.ja.Ce;},set:function(a){this.ja.Ce=a;}},gp:{configurable:!0,enumerable:!0,get:function(){return this.ja.gp;},set:function(a){this.ja.gp=a;}},Lu:{configurable:!0,enumerable:!0,get:function(){return this.ja.Lu;},set:function(a){this.ja.Lu=a;}},cy:{configurable:!0,enumerable:!0,get:function(){return this.ja.cy;},set:function(a){this.ja.cy=a;}},sT:{configurable:!0,enumerable:!0,get:function(){return this.ja.sT;},set:function(a){this.ja.sT=a;}},Aa:{configurable:!0,enumerable:!0,get:function(){return this.ja.Aa;},set:function(a){this.ja.Aa=a;}},Zx:{configurable:!0,enumerable:!0,get:function(){return this.ja.Zx;},set:function(a){this.ja.Zx=a;}},uM:{configurable:!0,enumerable:!0,get:function(){return this.ja.uM;},set:function(a){this.ja.uM=a;}},Za:{configurable:!0,enumerable:!0,get:function(){return this.ja.Za;},set:function(a){this.ja.Za=a;}},ga:{configurable:!0,enumerable:!0,get:function(){return this.ja.ga;}},iq:{configurable:!0,enumerable:!0,get:function(){return this.ja.iq;},set:function(a){this.ja.iq=a;}},el:{configurable:!0,enumerable:!0,get:function(){return this.ja.el;}},M:{configurable:!0,enumerable:!0,get:function(){return this.ja.M;}},ke:{configurable:!0,enumerable:!0,get:function(){return this.ja.ke;}},bo:{configurable:!0,enumerable:!0,get:function(){return this.ja.bo;}},Pq:{configurable:!0,enumerable:!0,get:function(){return this.ja.Pq;}},tt:{configurable:!0,enumerable:!0,get:function(){return this.ja.tt;}},Hj:{configurable:!0,enumerable:!0,get:function(){return this.ja.Hj;}},Gf:{configurable:!0,enumerable:!0,get:function(){return this.ja.Gf;}},Av:{configurable:!0,enumerable:!0,get:function(){return this.ja.Av;}},Xo:{configurable:!0,enumerable:!0,get:function(){return this.ja.Xo;}},$j:{configurable:!0,enumerable:!0,get:function(){return this.ja.$j;}},xi:{configurable:!0,enumerable:!0,get:function(){return this.ja.xi;}},hV:{configurable:!0,enumerable:!0,get:function(){return this.ja.hV;}},hy:{configurable:!0,enumerable:!0,get:function(){return this.ja.hy;}},oa:{configurable:!0,enumerable:!0,get:function(){return this.ja.oa;}},Zg:{configurable:!0,enumerable:!0,get:function(){return this.ja.Zg;}},fl:{configurable:!0,enumerable:!0,get:function(){return this.ja.fl;}},DD:{configurable:!0,enumerable:!0,get:function(){return this.ja.DD;},set:function(a){this.ja.DD=a;}},AC:{configurable:!0,enumerable:!0,get:function(){return this.ja.AC;}},Yz:{configurable:!0,enumerable:!0,get:function(){return this.ja.Yz;}},background:{configurable:!0,enumerable:!0,get:function(){return this.ja.background;},set:function(a){this.ja.background=a;}},v3:{configurable:!0,enumerable:!0,get:function(){return this.ja.v3;}},Ac:{configurable:!0,enumerable:!0,get:function(){return this.ja.Ac;}},Yf:{configurable:!0,enumerable:!0,get:function(){return{MovieId:this.M,TrackingId:this.Zg,Xid:this.oa};}}});d.yPa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lda="BandwidthMeterFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Gm||(d.Gm={});g[g.cO=0]="NOT_LOADED";g[g.LOADING=1]="LOADING";g[g.LOADED=2]="LOADED";g[g.aG=3]="LOAD_FAILED";g[g.$ga=4]="PARSE_FAILED";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.eja="TrickPlayManagerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.FZ="PlaybackMilestoneStoreSymbol";},function(g,d,a){var n,u;function b(a){return!(!a||!a.xz&&!a.pboc||!a.code&&!a.code);}function f(a){return!(!a||!a.Bc);}function t(a){return!!(a instanceof Error);}function h(a){switch(a){case"ACCOUNT_ON_HOLD":return u.H.YNa;case"STREAM_QUOTA_EXCEEDED":return u.H.bOa;case"INSUFFICICENT_MATURITY":return u.H.dOa;case"TITLE_OUT_OF_WINDOW":return u.H.jOa;case"CHOICE_MAP_ERROR":return u.H.aOa;case"BadRequest":return u.H.fOa;case"Invalid_SemVer_Format":return u.H.eOa;case"RESTRICTED_TO_TESTERS":return u.H.iOa;case"AGE_VERIFICATION_REQUIRED":return u.H.ZNa;case"BLACKLISTED_IP":return u.H.$Na;case"DEVICE_EOL_WARNING":return u.H.tZ;case"DEVICE_EOL_FINAL":return u.H.aha;case"INCORRECT_PIN":return u.H.bha;case"MOBILE_ONLY":return u.H.hOa;case"MDX_CONTROLLER_CTICKET_INVALID":return u.H.gOa;default:return u.H.Nea;}}function c(a,b){return new n.cc(a,h(b.code),"BadRequest"===b.code?u.OY.OFa:void 0,b.code,void 0,b.display,void 0,b.detail,b.display,b.bladeRunnerCode?Number(b.bladeRunnerCode):void 0,b.alert);}function k(a,b){return new n.cc(a,b.Bc,b.Tf,void 0,b.qq,b.message,b.LC,b.data);}function q(a,b){return new n.cc(a,u.H.Dg,void 0,void 0,void 0,void 0,b.message,b.stack);}Object.defineProperty(d,"__esModule",{value:!0});n=a(42);u=a(2);d.Deb=b;d.WHb=f;d.t7=t;d.RGb=h;d.xo=function(a,d){return f(d)?k(a,d):b(d)?c(a,d):t(d)?q(a,d):new n.cc(a,void 0,void 0,void 0,void 0,"Recieved an unexpected error type",void 0,d);};d.SGb=c;d.PGb=k;d.QGb=q;d.d0a=function(a,b,c){var f,k,d;a=a.nra;f=b.GBa[c];if(void 0===f)throw{xz:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no configuration information",detail:b};k=f.version;if(void 0===k)throw{xz:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no version information",detail:b};d=b.Gi&&f.serviceNonMember?f.serviceNonMember:f.service;if(void 0===d)throw{xz:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no service information",detail:b};f=f.orgOverride;if(void 0===f&&(f=b.Cya,void 0===f))throw{xz:!0,code:"FAIL",display:"Unable to build the URL for "+c+" because there was no organization information",detail:b};return a+"/"+f+"/"+d+"/"+k+"/router";};d.EEb=function(){return{"Content-Type":"text/plain"};};d.c0a=function(a,b,c,f,k){return{version:c.version,url:b,id:a,languages:c.languages,params:f,echo:k};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cja="TransportFactorySymbol";d.Iga="MslTransportSymbol";d.Jia="SslTransportSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wha="PboDispatcherSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xga="MediaRequestConstructorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yga="OpenConnectSideChannelSymbol";d.yga="MediaRequestDownloaderSymbol";},function(g,d,a){var A,K,x;function b(a,b,c){this.type=a;this.size=b;this.Su=c;}function f(a){var c,f,k,d,n;a:{c=a.position;if(8<=a.qj()){f=a.Pa();k=a.Aq(4);if(!K.test(k))throw a.seek(c),Error("mp4-badtype");if(1==f){if(8>a.qj()){a.seek(c);c=void 0;break a;}f=a.Hf();}if(!(8<=f))throw a.seek(c),Error("mp4-badsize");if("uuid"==k){if(16>a.qj()){a.seek(c);c=void 0;break a;}k=a.gw();}c={type:k,offset:c,size:f,Su:c+f-a.position};}else c=void 0;}if(c&&c.Su<=a.qj()){d=c.type;f=c.size;n=c.Su;k=new b(d,f,n);d=x[d];if(a.qj()<n)throw Error("mp4-shortcontent");d?(n=new A(a.je(n)),d(k,n)):a.skip(n);a.seek(c.offset);k.raw=a.je(f);return k;}}function h(a,b){for(var c=[],k={},d,n;0<b.qj();){d=f(b);if(!d)throw Error("mp4-badchildren");n=d.type;c.push(d);k[n]||(k[n]=d);}a.children=c;a.R4=k;}function p(a,b){a.version=b.kc(1);a.De=b.kc(3);}function c(a,b){b.skip(6);a.M4a=b.Ab();b.skip(8);a.channelCount=b.Ab();a.IE=b.Ab();b.skip(4);a.sampleRate=b.Ab();b.skip(2);h(a,b);}function k(a,b){var c;b.skip(6);a.M4a=b.Ab();b.skip(16);a.width=b.Ab();a.height=b.Ab();a.vHb=b.Pa();a.xLb=b.Pa();b.skip(4);a.G9a=b.Ab();c=b.ae();a.P1a=b.Aq(c);b.skip(31-c);a.depth=b.Ab();b.skip(2);h(a,b);}function q(a,b){p(a,b);a.SFb=b.kc(3);a.TFb=b.ae();a.hK=b.je(16);}function n(a,b){for(var c=[],f;b--;)f=a.Ab(),c.push(a.je(f));return c;}function u(a){var b;b=a.je(2);a={CKb:b[1]>>1&7,BKb:!!(b[1]&1),vKb:a.Ab()};y(a,(b[0]<<8|b[1])>>4);return a;}function y(a,b){a.wKb=b>>4&3;a.AKb=b>>2&3;a.yKb=b&3;return a;}A=a(574);K=/^[a-zA-Z0-9-]{4,4}$/;b.prototype.kv=function(a){var b,c,f,k,d;b=this;a=a.split("/");for(k=0;k<a.length&&b;k++){f=a[k].split("|");c=void 0;for(d=0;d<f.length&&!c;d++)c=f[d],c=b.R4&&b.R4[c];b=c;}return b;};b.prototype.toString=function(){return"["+this.type+"]";};x={ftyp:function(a,b){a.wIb=b.Aq(4);a.PIb=b.Pa();for(a.I1a=[];4<=b.qj();)a.I1a.push(b.Aq(4));},moov:h,sidx:function(a,b){p(a,b);a.eKb=b.Pa();a.Tba=b.Pa();a.i4=1<=a.version?b.Hf():b.Pa();a.T4=1<=a.version?b.Hf():b.Pa();b.skip(2);for(var c=b.Ab(),f=[],k,d;c--;){k=b.Pa();d=k>>31;if(0!==d)throw Error("mp4-badsdix");k&=2147483647;d=b.Pa();b.skip(4);f.push({size:k,duration:d});}a.fKb=f;},moof:h,mvhd:function(a,b){var c;p(a,b);c=1<=a.version?8:4;a.Mg=b.kc(c);a.modificationTime=b.kc(c);a.Tba=b.Pa();a.duration=b.kc(c);a.aKb=b.wL();a.volume=b.tV();b.skip(70);a.$Ib=b.Pa();},pssh:function(a,b){var c;p(a,b);a.M6a=b.gw();c=b.Pa();a.data=b.je(c);},trak:h,mdia:h,minf:h,stbl:h,stsd:function(a,b){p(a,b);b.Pa();h(a,b);},encv:k,avc1:k,hvcC:k,hev1:k,mp4a:c,enca:c,"ec-3":c,avcC:function(a,b){a.version=b.ae();a.mEb=b.ae();a.XJb=b.ae();a.lEb=b.ae();a.oIb=(b.ae()&3)+1;a.KKb=n(b,b.ae()&31);a.GJb=n(b,b.ae());},pasp:function(a,b){a.sHb=b.Pa();a.vLb=b.Pa();},sinf:h,frma:function(a,b){a.BFb=b.Aq(4);},schm:function(a,b){p(a,b);a.$ob=b.Aq(4);a.FKb=b.Pa();a.De&1&&(a.EKb=b.Q$());},schi:h,tenc:q,mvex:h,trex:function(a,b){p(a,b);a.fb=b.Pa();a.B5a=b.Pa();a.O3=b.Pa();a.pqa=b.Pa();a.oqa=u(b);},traf:h,tfhd:function(a,b){var c;p(a,b);a.fb=b.Pa();c=a.De;c&1&&(a.rEb=b.Hf());c&2&&(a.xKb=b.Pa());c&8&&(a.O3=b.Pa());c&16&&(a.pqa=b.Pa());c&32&&(a.oqa=u(b));},saio:function(a,b){p(a,b);a.De&1&&(a.p_a=b.Pa(),a.q_a=b.Pa());for(var c=1<=a.version?8:4,f=b.Pa(),k=[];f--;)k.push(b.kc(c));a.$Aa=k;},mdat:function(a,b){a.data=b.je(b.qj());},tkhd:function(a,b){var c;p(a,b);c=1<=a.version?8:4;a.Mg=b.kc(c);a.modificationTime=b.kc(c);a.fb=b.Pa();b.skip(4);a.duration=b.kc(c);b.skip(8);a.wfb=b.Ab();a.rZa=b.Ab();a.volume=b.tV();b.skip(2);b.skip(36);a.width=b.wL();a.height=b.wL();},mdhd:function(a,b){var c;p(a,b);c=1<=a.version?8:4;a.Mg=b.kc(c);a.modificationTime=b.kc(c);a.Tba=b.Pa();a.duration=b.kc(c);c=b.Ab();a.language=String.fromCharCode((c>>10&31)+96)+String.fromCharCode((c>>5&31)+96)+String.fromCharCode((c&31)+96);b.skip(2);},mfhd:function(a,b){p(a,b);a.JKb=b.Pa();},tfdt:function(a,b){p(a,b);a.WH=b.kc(1<=a.version?8:4);8==b.qj()&&b.skip(8);},saiz:function(a,b){p(a,b);a.De&1&&(a.p_a=b.Pa(),a.q_a=b.Pa());for(var c=b.ae(),f=b.Pa(),k=[];f--;)k.push(c||b.ae());a.zKb=k;},trun:function(a,b){var c,f;p(a,b);c=b.Pa();f=a.De;f&1&&(a.CFb=b.Pa());f&4&&(a.CGb=u(b));for(var k=[],d;c--;)d={},f&256&&(d.duration=b.Pa()),f&512&&(d.size=b.Pa()),f&1024&&(d.De=b.Pa()),f&2048&&(d.bFb=b.Pa()),k.push(d);a.km=k;},sdtp:function(a,b){p(a,b);for(var c=[];0<b.qj();)c.push(y({},b.ae()));a.km=c;},"4E657466-6C69-7850-6966-665374726D21":function(a,b){p(a,b);a.fileSize=b.Hf();a.Tba=b.Hf();a.duration=b.Hf();a.lya=b.Hf();a.NKb=b.Hf();1<=a.version&&(a.UIb=b.Hf(),a.VIb=b.Pa(),a.mya=b.Hf(),a.Wra=b.Pa(),a.Hra=b.gw());},"A2394F52-5A9B-4F14-A244-6C427C648DF4":function(a,b){p(a,b);a.De&1&&(a.bEb=b.kc(3),a.hIb=b.ae(),a.ffb=b.gw());a.uKb=b.Pa();a.o_a=b.je(b.qj());},"4E657466-6C69-7846-7261-6D6552617465":function(a,b){p(a,b);a.IU=b.Pa();a.GI=b.Ab();},"8974DBCE-7BE7-4C51-84F9-7148F9882554":q,"636F6D2E-6E65-7466-6C69-782E6974726B":h,"636F6D2E-6E65-7466-6C69-782E68696E66":function(a,b){p(a,b);a.Ona=b.gw();a.Mg=b.Hf();a.M=b.Hf();a.qn=b.Hf();a.IV=b.Ab();a.JV=b.Ab();a.hfb=b.je(16);a.Yrb=b.je(16);},"636F6D2E-6E65-7466-6C69-782E76696E66":function(a,b){p(a,b);a.FEb=b.je(b.qj());},"636F6D2E-6E65-7466-6C69-782E6D696478":function(a,b){var c;p(a,b);a.tpb=b.Hf();c=b.Pa();a.ff=[];for(var f=0;f<c;f++)a.ff.push({duration:b.Pa(),size:b.Ab()});},"636F6D2E-6E65-7466-6C69-782E69736567":h,"636F6D2E-6E65-7466-6C69-782E73696478":function(a,b){var c;p(a,b);a.Ona=b.gw();a.duration=b.Pa();c=b.Pa();a.km=[];for(var f=0;f<c;f++)a.km.push({Ai:b.Pa(),duration:b.Pa(),PU:b.Ab(),QU:b.Ab(),iW:b.Ab(),jW:b.Ab(),bq:b.Hf(),AD:b.Pa()});},"636F6D2E-6E65-7466-6C69-782E73656E63":function(a,b){var c,f,d,n;p(a,b);c=b.Pa();f=b.ae();a.km=[];for(var k=0;k<c;k++){d=b.ae();n=d>>6;d=d&63;0!=n&&0===d&&(d=f);a.km.push({kra:n,Cv:b.je(d)});}}};g.T={cKb:function(a,b){a=new A(a);b&&a.seek(b);return f(a);},O$:function(a,b){var c;if(!a)throw Error("mp4-badinput");a=new A(a);c=[];for(b&&a.seek(b);b=f(a);)c.push(b);return c;}};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Fda="ChunkMediaSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wga="MediaHttpSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bia="PrefetchEventsConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vja="WindowUtilsSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pga="NfCryptoSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Wfa="LogDisplayConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nea="DxManagerSymbol";d.mea="DxManagerProviderSymbol";},function(g,d,a){var f,h,p,c,k;function b(a,b,f){this.xc=a;this.is=b;this.prefix=f;this.mL=this.cm=!1;this.voa=new c.SRa(b);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);p=a(20);c=a(597);k=a(9);d.GGa="position:fixed;left:0px;top:0px;right:0px;bottom:100px;z-index:1;background-color:rgba(255,255,255,.65)";d.HGa="position:fixed;left:100px;top:30px;right:100px;bottom:210px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.IGa="position:fixed;left:100px;right:100px;height=30px;bottom:130px;z-index:9999;color:#000;overflow:auto;box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);background-color:rgba(255,255,255,.65);";d.GF="";b.prototype.show=function(){this.cm||(this.X1a(),this.yC&&k.Ed.body.appendChild(this.yC),this.If&&k.Ed.body.appendChild(this.If),this.YH&&k.Ed.body.appendChild(this.YH),this.bA&&k.Ed.getElementsByTagName("head")[0].appendChild(this.bA),this.cm=!0,this.refresh());};b.prototype.zD=function(){this.cm&&(this.If&&k.Ed.body.removeChild(this.If),this.YH&&k.Ed.body.removeChild(this.YH),this.yC&&k.Ed.body.removeChild(this.yC),this.bA&&k.Ed.getElementsByTagName("head")[0].removeChild(this.bA),this.bA=this.wM=this.yC=this.YH=this.If=void 0,this.cm=!1);};b.prototype.toggle=function(){this.cm?this.zD():this.show();};b.prototype.Xsb=function(){(this.mL=!this.mL)||this.refresh();};b.prototype.x$a=function(a){return"table."+a+'-display-table {border-collapse:collapse;font-family:"Lucida Console", Monaco, monospace;font-size:small}'+("table."+a+"-display-table tr:nth-child(2n+2) {background-color: #EAF3FF;}")+("table."+a+"-display-table tr:nth-child(2n+3) {background-color: #fff;}")+("table."+a+"-display-table tr:nth-child(0n+1) {background-color: lightgray;}")+("table."+a+"-display-table, th, td {padding: 2px;text-align: left;vertical-align: top;border-right:solid 1px gray;border-left:solid 1px gray;}")+("table."+a+"-display-table, th {border-top:solid 1px gray;border-bottom:solid 1px gray}")+("span."+a+"-display-indexheader {margin-left:5px;}")+("span."+a+"-display-indexvalue {margin-left:5px;}")+("span."+a+"-display-keyheader {margin-left:5px;}")+("span."+a+"-display-keyvalue {margin-left:5px;}")+("span."+a+"-display-valueheader {margin-left:5px;}")+("ul."+a+"-display-tree {margin-top: 0px;margin-bottom: 0px;margin-right: 5px;margin-left: -20px;}")+("ul."+a+"-display-tree li {list-style-type: none; position: relative;}")+("ul."+a+"-display-tree li ul {display: none;}")+("ul."+a+"-display-tree li.open > ul {display: block;}")+("ul."+a+"-display-tree li a {color: black;text-decoration: none;}")+("ul."+a+"-display-tree li a:before {height: 1em;padding: 0 .1em;font-size: .8em;display: block;position: absolute;left: -1.3em;top: .2em;}")+("ul."+a+"-display-tree li > a:not(:last-child):before {content: '+';}")+("ul."+a+"-display-tree li.open > a:not(:last-child):before {content: '-';}")+("div."+a+"-display-div {float:right;display:flex;align-items:center;height:30px;width:130px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("button."+a+"-display-btn {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("select."+a+"-display-select {float:right;display:inline-block;height:30px;width:100px;padding:3px;margin:10px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:16px;border-style:none;}")+("ul."+a+"-display-item-inline {margin:0;padding:0}")+("."+a+"-display-btn:hover, ."+a+"-display-btn:focus, ."+a+"-display-btn:active {background: none repeat scroll 0 0 #B8BFC7 !important; }")+("button."+a+"-display-btn-inline {float:right;display:inline-block;height:20px;width:40px;background-color:#C6CCD2;transition: all 200ms ease-in-out 0s;border-radius:6px;font-weight:300;font-size:12px;border-style:none;padding:0;color:palevioletred;background:rgba(0,0,0,0)}")+("."+a+"-display-btn-inline:hover, ."+a+"-display-btn-inline:focus, ."+a+"-display-btn-inline:active {background: none repeat scroll 0 0 #B8BFC7 !important; }");};b.prototype.X1a=function(){var a;a=this;this.bA=k.Ed.createElement("style");this.bA.type="text/css";this.bA.innerHTML=this.x$a(this.prefix);this.YH=this.xc.createElement("div",d.GGa,void 0,{"class":this.prefix+"-display-blur"});this.If=this.xc.createElement("div",d.HGa,void 0,{"class":this.prefix+"-display"});this.yC=this.xc.createElement("div",d.IGa,void 0,{"class":this.prefix+"-display"});this.Osa().forEach(function(b){return a.yC.appendChild(b);});};b.prototype.Y1a=function(a){a=this.xc.createElement("div","",a,{"class":this.prefix+"-display-tree1"});for(var b=a.querySelectorAll("ul."+this.prefix+"-display-tree a:not(:last-child)"),c=0;c<b.length;c++)b[c].addEventListener("click",function(a){var b,c;if(a=a.target.parentElement){b=a.classList;if(b.contains("open")){b.remove("open");try{c=a.querySelectorAll(":scope .open");for(a=0;a<c.length;a++)c[a].classList.remove("open");}catch(x){}}else b.add("open");}});return a;};b.prototype.refresh=function(){var a;a=this;return!this.cm||this.mL?Promise.resolve():this.kAa().then(function(b){if(b&&(b=a.Y1a(b),a.If)){a.wM&&(a.If.removeChild(a.wM),a.wM=void 0);a.wM=b;a.If.appendChild(a.wM);b=a.If.querySelectorAll("button."+a.prefix+"-display-btn-inline");for(var c=0;c<b.length;++c)b[c].addEventListener("click",a.VAa);(b=a.If.querySelector("#"+a.prefix+"-display-close-btn"))&&b.addEventListener("click",function(){a.toggle();});}});};b.prototype.Cpa=function(a){var b;if(k.Ed.queryCommandSupported&&k.Ed.queryCommandSupported("copy")){b=k.Ed.createElement("textarea");b.textContent=a;b.style.position="fixed";k.Ed.body.appendChild(b);b.select();try{k.Ed.execCommand("copy");}catch(u){console.warn("Copy to clipboard failed.",u);}finally{k.Ed.body.removeChild(b);}}};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(h.Ye)),g.__param(1,f.l(p.de)),g.__param(2,f.$g())],a);d.oO=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.lea="DxDisplaySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zZ={gK:"keepAlive",splice:"splice"};d.xha="PboEventSenderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Wha="PlaydataConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vha="PboCachedPlaydataSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.zha="PboLicenseResponseTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.yha="PboLicenseRequestTransformerSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Iha="PboReleaseLicenseCommandSymbol";},function(g,d,a){var c,k,q,n,u,y;function b(a){var b;a=new q.CA(a);if(1481462272!=a.Pa())throw Error("Invalid header");b={XMR:{Version:a.Pa(),RightsID:a.We(16)}};f(a,b.XMR,a.buffer.length);return b;}function f(a,b,c){var k,d,n,g,q;for(;a.position<c;){k=a.Ab();d=a.Pa();d=d-8;switch(k){case 1:n="OuterContainer";break;case 2:n="GlobalPolicy";break;case 3:n="MinimumEnvironment";break;case 4:n="PlaybackPolicy";break;case 5:n="OutputProtection";break;case 6:n="UplinkKID";break;case 7:n="ExplicitAnalogVideoOutputProtectionContainer";break;case 8:n="AnalogVideoOutputConfiguration";break;case 9:n="KeyMaterial";break;case 10:n="ContentKey";break;case 11:n="Signature";break;case 12:n="DeviceIdentification";break;case 13:n="Settings";break;case 18:n="ExpirationRestriction";break;case 42:n="ECCKey";break;case 48:n="ExpirationAfterFirstPlayRestriction";break;case 50:n="PlayReadyRevocationInformationVersion";break;case 51:n="EmbeddedLicenseSettings";break;case 52:n="SecurityLevel";break;case 54:n="PlayEnabler";break;case 57:n="PlayEnablerType";break;case 85:n="RealTimeExpirationRestriction";break;default:n="Other";}g={Type:h(k)};q=b[n];q?y.isArray(q)?q.push(g):(b[n]=[],b[n].push(q),b[n].push(g)):b[n]=g;switch(k){case 1:case 2:case 4:case 7:case 9:case 54:f(a,g,a.position+d);break;case 5:g.Reserved1=a.Ab();g.MinimumUncompressedDigitalVideoOutputProtectionLevel=a.Ab();g.MinimumAnalogVideoOutputProtectionLevel=a.Ab();g.Reserved2=a.Ab();g.MinimumUncompressedDigitalAudioOutputProtectionLevel=a.Ab();break;case 10:g.Reserved=a.We(16);g.SymmetricCipherType=a.Ab();g.AsymmetricCipherType=a.Ab();d=a.Ab();g.EncryptedKeyLength=d;k=a.We(d);g.EncryptedKeyData=10>=d?k:k.substring(0,4)+"..."+k.substring(k.length-4,k.length);break;case 11:g.SignatureType=a.We(2);d=a.Ab();k=a.We(d);g.SignatureData=10>=d?k:k.substring(0,4)+"..."+k.substring(k.length-4,k.length);break;case 13:g.Reserved=a.Ab();break;case 18:g.BeginDate=a.Pa();g.EndDate=a.Pa();break;case 42:g.CurveType=a.We(2);d=a.Ab();k=a.We(d);g.Key=10>=d?k:k.substring(0,4)+"..."+k.substring(k.length-4,k.length);break;case 48:g.ExpireAfterFirstPlay=a.Pa();break;case 50:g.Sequence=a.Pa();break;case 51:g.LicenseProcessingIndicator=a.Ab();break;case 52:g.MinimumSecurityLevel=a.Ab();break;case 57:g.PlayEnablerType=p(a.We(16));break;case 85:break;default:g.OtherData=a.We(d);}}}function h(a){return"0x"+a.toString(16);}function p(a){return a.substring(6,8)+a.substring(4,6)+a.substring(2,4)+a.substring(0,2)+"-"+a.substring(10,12)+a.substring(8,10)+"-"+a.substring(14,16)+a.substring(12,14)+"-"+a.substring(16,20)+"-"+a.substring(20,32);}Object.defineProperty(d,"__esModule",{value:!0});c=a(8);k=a(4);q=a(131);n=a(125);u=a(190);y=a(16);d.NFb=function(a,f,d){switch(f){case c.QX:a&&(a=k.D_a(a),u.AEa(a,function(a){a.X&&(a=a.object)&&(a=n.R$a(a,"Body","AcquireLicenseResponse","AcquireLicenseResult","Response","LicenseResponse","Licenses","License"))&&(a=n.Nkb(a))&&(a=k.Jk(a))&&(a=b(a))&&d(a);}));}};d.OFb=b;d.PFb=f;d.RFb=h;d.QFb=p;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.sha="PboAcquireLicenseCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Cha="PboManifestCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nda="ControlProtocolSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yea="HttpRequesterSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Jea="FtlDataParserSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Oga="NetworkMonitorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.wja="XhrFactorySymbol";},function(g,d,a){var f,h,p,c,k,q,n,u,y;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(147);h=a(76);p=a(18);c=a(2);k=a(14);q=a(9);n=a(16);u=a(1);a=a(17);b.prototype.construct=function(a,b){var c,f,k;c=this;f={};a.forEach(function(a){var b;b=a.url;f[b]||(f[b]=[]);f[b].push(a);});k=[];p.Sc(f,function(a,f){k.push(c.scb(f,b));});return{urls:k};};b.prototype.scb=function(a,b){var c,f,k,d;c=this;f=a[0];k={url:f.url,bitrate:f.O,cdnid:n.Se(f.Sb)?f.Sb.id:f.Sb,dltype:f.t6a,id:f.Qc};d={};a.forEach(function(a){var b;b=c.teb(a)?"fail":"success";d[b]||(d[b]=[]);d[b].push(a);});p.Sc(d,function(a,f){"fail"===a?k.failures=c.kab(f,b):"success"===a&&(k.downloads=c.aab(f,b));});return k;};b.prototype.aab=function(a,b){var c,f,k;c=this;f={};a.forEach(function(a){var b;b=a.v1a;f[b]||(f[b]=[]);f[b].push(a);});k=[];p.Sc(f,function(a,f){var d;d=[];f.forEach(function(f){d.push(f);c.keb(f)&&(k.push(c.Usa(d,b,a)),d=[]);});0<d.length&&k.push(c.Usa(d,b,a));});return k;};b.prototype.Usa=function(a,b,c){var q;for(var f=a.sort(function(a,b){return a.uj.bg<b.uj.bg?-1:a.uj.bg>b.uj.bg?1:0;}),k=f[0].uj,d=k.requestTime,n=k.bg,k=k.jl,g=1;g<a.length;g++){q=a[g].uj;q.requestTime<d&&(d=q.requestTime);q.bg<n&&(n=q.bg);q.jl>k&&(k=q.jl);}g=this.xbb(f);q=f[f.length-1];b={time:d-b,tcpid:c?parseInt(c):-1,tresp:n-d,first:g,ranges:this.ybb(f,g),dur:k-n,trace:this.kcb(a),status:this.OS(q)};this.config().OI&&this.config().OI.length&&(b.servertcp=this.Pbb(a));return b;};b.prototype.Pbb=function(a){var b;b=this.config().OI||[];return a.reduce(function(a,c){var f,k;f=[];if(c.RCa){k={};c.RCa.split(";").forEach(function(a){a=a.split("=");2==a.length&&(k[a[0]]=a[1]);});b.forEach(function(a){f.push(k[a]);});}a.push(f);return a;},[]);};b.prototype.xbb=function(a){var b;b=0;a.forEach(function(a){a.zq&&(b=q.Bm(b,a.zq[0]));});return b;};b.prototype.ybb=function(a,b){var c;c=[];a.forEach(function(a){a.zq?c.push([a.zq[0]-b,a.zq[1]-b]):c.push([0,-1]);});return c;};b.prototype.kcb=function(a){var b,c;b=[];a.forEach(function(a){var f;a=a.uj;if(c){f=a.requestTime-c.jl;0<f&&b.push([f,-2]);f=q.Am(c.jl,a.requestTime);f=a.bg-f;0<f&&b.push([f,-3]);}b.push([a.jl-a.bg,a.Su||0]);c=a;});return b;};b.prototype.keb=function(a){if(a.Y===c.H.Ht||a.Y===c.H.Rw)return!0;};b.prototype.OS=function(a){if(a.X)return"complete";if(a.Y===c.H.Ht)return"abort";if(a.Y===c.H.Rw)return"stall";k.Ga(!1,"download status should never be: other");return"other";};b.prototype.kab=function(a,b){var c,k;c=this;k=[];a.forEach(function(a){var d;d=a.uj;a={time:d.bg-b,tresp:d.bg-d.requestTime,dur:d.jl-d.bg,range:a.zq,reason:c.zbb(a),httpcode:a.Uh,nwerr:f.vta(a.Y)};k.push(a);});return k;};b.prototype.zbb=function(a){return a.Uh||a.Y===c.H.WF?"http":a.Y===c.H.XF?"timeout":"network";};b.prototype.teb=function(a){return a.X||void 0===a.X||a.Y===c.H.Ht||a.Y===c.H.Rw?!1:!0;};b.prototype.i2a=function(a){var b,c,f,k,d,n;b=a.request;c=b.stream;f=b.track;k=b.url;d=this.Y$a(f,k);switch(d){case h.gg.audio:case h.gg.video:n=b.stream.Qc;break;case h.gg.DW:case h.gg.jca:n=f.Qc;}a={O:c&&c.O,t6a:d,Qc:n,uj:a.uj,Sb:b.Sb,url:k,qc:a.qc,Uh:a.Uh,Y:a.Y,X:a.X,RCa:a.headers&&(a.headers["X-TCP-Info"]||a.headers["x-tcp-info"]),v1a:this.G8a(a)};void 0!==b.offset&&void 0!=b.length&&(a.zq=[b.offset,b.offset+b.length-1]);return a;};b.prototype.Y$a=function(a,b){if(a)return a.type;if(0<=b.indexOf("netflix.com")){if(0<=b.indexOf("nccp"))return"nccp";if(0<=b.indexOf("api"))return"api";}return"other";};b.prototype.G8a=function(a){if(a.headers&&(a=a.headers["X-Session-Info"]||a.headers["x-session-info"]))return a=(a?a.split(";"):[]).filter(function(a){return 0==a.indexOf("port=");}).map(function(a){return a.split("=")[1];})[0],p.Od(a);};y=b;y=g.__decorate([u.L(),g.__param(0,u.l(a.gd))],y);d.KIa=y;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fea="DownloadReportBuilderSymbol";},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(34);d.OX=function(a,d){this.A6a=a;this.size=d.mva()?b.sf:d;};},function(g,d,a){var f,h,p,c,k,q,n,u,y,A,K,x,I,G,l,m,S,r,D,Q,W,ca,ia,X;function b(a,b,c,f,d,g,t,A,N,T,V,Q,W,B,F,Va,P,R){var O;O=this;this.j=a;this.qBa=b;this.ZCa=f;this.VQ=d;this.Ah=g;this.Y8=t;this.E4=A;this.dl=N;this.Sd=T;this.KR=V;this.Uc=Q;this.config=W;this.Hc=B;this.Ta=F;this.Ba=Va;this.platform=P;this.tK=R;this.BM=[];this.Yhb=this.wT=this.zAa=0;this.RC=[];this.Ls=function(a){a.index===O.ga&&(O.sCa(),void 0!==a.previousIndex&&O.Bh());};this.YT=function(a){a.index===O.ga&&O.z1a();};this.Z7=function(a){return function(b){var c;c=b.manifestIndex;if("number"!==typeof c)throw"Event "+JSON.stringify(b)+" does not have manifestIndex property";c===O.ga&&a(b);};};this.gF=function(){O.vc(ca.Ke.IRa,!1,X.dh|X.fg,{track:O.j.wc.value.Yf});};this.gDa=function(a){a.newValue&&O.gk&&(a={track:a.newValue.Yf},O.Hy(a,O.j.Fe.value&&O.j.Fe.value.stream,O.j.pf.value&&O.j.pf.value.stream),O.vc(ca.Ke.JRa,!1,X.dh|X.fg,a));};this.eo=function(a){O.vc(ca.Ke.UFa,!1,X.dh|X.fg,a.newValue);};this.Cqa=function(){var a,b,c;if(O.j.xi)try{a=!1;O.oa%O.config().NI&&!O.j.Pl&&(a=!0,O.RC=O.RC.filter(function(a){return!a.X;}));if(0<O.RC.length){b=O.KR.construct(O.RC,O.j.fl.fa(y.na));O.RC=[];b.erroronly=a;O.config().OI.length&&(b.tcpinfo=O.config().OI.join(","));c={};u.Sc(b,function(a,b){c[a]=JSON.stringify(b);});O.vc(ca.Ke.IIa,!1,X.fg,c);}}catch(gf){O.log.error("Exception in dlreport.",gf);}};this.oxa=function(){var a,b;if(O.j.state.value==D.lb.$c){a=O.eza();O.config().daa&&(a.avtp=O.hA.zo().gA,O.j.ll&&O.lT(a));a.midplayseq=O.Yhb++;b=O.j.uc.value;a.prstate=b===D.qb.wd?"playing":b===D.qb.gi?"paused":b===D.qb.$q?"ended":"waiting";O.config().Hpb&&O.FCa("midplay");O.config().tn&&O.Hc()&&O.f7(a);O.d7(a);O.e7(a);O.vc(ca.Ke.fNa,!1,X.dh|X.fg|X.zt|X.kO,a);}};this.sja=/-?l(\d\d)/i;this.Nqa=function(a){O.RC.push(O.KR.i2a(a.response));};this.Eqa=function(a){var b,c,f,d,n,g;a=a.response;b=a.request;c=a.request.Mo;f=b.track;if(f){d=!a.X&&a.Y!=K.H.Ht;n=f.type;g=a.uj;if(d||O.j.k8){c={dltype:n,url1:b.url,url2:a.url||"",cdnid:b.Sb&&b.Sb.id,tresp:u.Ul(g.bg-g.requestTime),brecv:u.D9a(g.Su),trecv:u.Ul(g.jl-g.bg),sbr:c&&c.O};a.zq&&(c.range=a.zq);switch(n){case k.gg.audio:c.adlid=b.stream.Qc;break;case k.gg.video:c.vdlid=b.stream.Qc;break;case k.gg.DW:c.ttdlid=f.Qc;}(b=ia.vta(a.Y))&&(c.nwerr=b);a.Uh&&(c.httperr=a.Uh);O.vc(ca.Ke.JIa,d,X.fg,c);}}};this.Gl=function(){O.vc(ca.Ke.VFa,!1,X.dh|X.zt,{browserua:S.tk});};this.fpa=function(a){var b,c,f;a=a.response;b=a.uj;c=y.zb(b.bg);f=y.zb(b.jl);b=I.ba(b.Su||0);b.Bva()||b.mva()||(c=new G.nia(c,f),O.hA.vQ(new l.OX(c,b)),a&&a.request&&a.request.Mo&&a.request.Mo.Xc&&O.VQ.vQ(new m.PGa(c,b,a.request.Mo.Xc)));};this.Pya=function(a){var b;b=a.newValue;a.Tu&&a.Tu.E9&&b||b==O.O7||(O.qrb(O.O7,b),O.O7=b);};this.fo=function(a){function b(a){var b;if(O.j.xb&&O.j.xb.sourceBuffers){b=O.j.xb.sourceBuffers.filter(function(b){return b.type===a;}).pop();if(b)return{busy:b.pj(),updating:b.updating(),ranges:b.ES()};}}O.FE="rebuffer";a={cause:a.cause};a.cause&&a.cause===p.Mha&&(a.mediaTime=O.j.bc.value,a.buf_audio=b(h.ZY),a.buf_video=b(h.eG));O.geb(O.BM[D.qb.wd]||0,O.BM[D.qb.gi]||0,a);O.xF=O.getTime();r.yb(O.XQ);};this.qDa=function(a){var b;a=a.oldValue;b=O.getTime();a===D.qb.ig?O.BM=[]:O.BM[a]=(O.BM[a]||0)+(b-O.qfb);O.qfb=b;};this.un=function(a){switch(a.cause){case D.Fg.hx:case D.Fg.ZZ:O.FE&&O.xF?O.Blb(O.getTime()-O.xF,O.FE):O.gk||O.cza(),O.FE="repos",O.lob(a.JU,a.pf,a.Fe),O.xF=O.getTime(),r.yb(O.XQ);}};this.XQ=function(){var a;if(O.xF&&O.j.uc.value!==D.qb.ig){a=O.getTime()-O.xF;O.Fob(a,O.Pi);O.J7&&O.J7!=O.j.Ec.value&&O.d_a();O.xF=void 0;O.FE=void 0;O.Pi=void 0;}};this.QH=function(a){O.kfb=O.getTime();O.J7=a.oldValue;};this.Bh=function(){O.gk||(n.Ga(!O.gk),O.gk=!0,O.xCa(!1),O.Wdb(),O.config().Vua&&(O.rT=M.setTimeout(function(){O.Ah.flush(!1)["catch"](function(){return O.log.warn("failed to flush logbatcher on initialLogFlushTimeout");});O.rT=void 0;},O.config().Vua)));};this.se=function(){O.rT&&(M.clearTimeout(O.rT),O.rT=void 0);if(O.config().NI||O.config().iC)O.d4&&(M.clearInterval(O.d4),O.d4=void 0),O.Cqa();O.JDa&&O.JDa();O.gk?O.f8a(!!O.j.Wh):O.j.Wh?O.xCa(!0):O.cza();O.kpb||(O.vc=h.ee);};this.oEa=function(a){a.oldValue&&a.Tu&&a.Tu.Soa&&O.h1a(a.oldValue,a.newValue,a.Tu.Soa,a.Tu.x_a);};this.Aza=function(a){var b;if(a.newValue){b=a.newValue.stream;O.P7!=b&&(O.P7&&O.$nb(O.P7,b,a.newValue.Xm.startTime),O.P7=b);}};this.hq=function(a){function b(a,b){var c;if(!a||a.f8!==b.location){c={f8:b.location,gwa:b.locationlv,Spb:b.serverid,Xz:b.servername};O.U0a(a,b);return c;}}if("audio"===a.mediaType){if(a=b(O.jfb,a))O.jfb=a;}else if(a=b(O.jK,a))O.jK=a;};this.QE=function(a){var b,c;b=a.mediatype;c=a.reason;"video"===b?"serverswitchaway"===c?(O.Yg.summary.sEa++,O.Yg.NT=O.Ta.Qe.fa(y.na)):"serverswitchback"===c&&(O.Yg.summary.tEa++,O.Yg.NT&&(O.Yg.summary.uEa.push(O.Ta.Qe.fa(y.na)-O.Yg.NT),O.Yg.NT=void 0)):"audio"===b&&("serverswitchaway"===c?(O.Yg.summary.Lna++,O.Yg.IT=O.Ta.Qe.fa(y.na)):"serverswitchback"===c&&(O.Yg.summary.Mna++,O.Yg.IT&&(O.Yg.summary.Nna.push(O.Ta.Qe.fa(y.na)-O.Yg.IT),O.Yg.IT=void 0)));O.vc(ca.Ke.ZQa,!1,X.dh|X.fg,{mediatype:a.mediatype,server:a.server,selreason:a.reason,location:a.location,bitrate:a.bitrate,confidence:a.confidence,throughput:a.throughput,oldserver:a.oldserver});};this.hC=function(a){O.vc(ca.Ke.JEa,!1,X.fg,{strmsel:a.strmsel});};this.gC=function(a){O.vc(ca.Ke.IEa,!1,X.fg,{msg:a.msg});};this.bF=function(a){a=x.ZL(a);a.details&&(a.details=JSON.stringify(a.details));O.vc(ca.Ke.pRa,!0,X.dh|X.YA|X.pN,a);};this.Ojb=function(){O.Ah.flush(!0)["catch"](function(){return O.log.warn("failed to flush logbatcher on midplay interval");});};this.hA=f();this.log=q.Uf(a,"LogblobBuilder");this.O7=a.paused.value;this.ga=b.ga;this.oa=this.qBa.oa;this.Yg={summary:{sEa:0,tEa:0,uEa:[],Lna:0,Mna:0,Nna:[]},NT:void 0,IT:void 0};this.gc();c&&this.sCa();}Object.defineProperty(d,"__esModule",{value:!0});f=a(50);h=a(8);p=a(57);c=a(28);k=a(76);q=a(4);n=a(14);u=a(18);y=a(3);A=a(61);K=a(2);x=a(19);I=a(34);G=a(335);l=a(321);m=a(630);S=a(9);r=a(46);D=a(15);Q=a(16);W=a(629);ca=a(628);ia=a(147);b.prototype.gc=function(){this.j.addEventListener(D.U.Ls,this.Ls);this.j.addEventListener(D.U.YT,this.YT);this.j.addEventListener(D.U.hq,this.Z7(this.hq));this.j.addEventListener(D.U.QE,this.Z7(this.QE));this.j.addEventListener(D.U.se,this.Z7(this.se));};b.prototype.sCa=function(){var a;a=this;if(!this.zxa){this.j.wi.addListener(this.gDa);this.j.Ec.addListener(this.QH);this.j.paused.addListener(this.Pya);this.j.Fe.addListener(this.Aza);this.j.uc.addListener(this.XQ);this.j.uc.addListener(this.qDa);this.j.le.addListener(this.oEa);this.j.addEventListener(D.U.Xu,this.Eqa,h.qZ);this.j.addEventListener(D.U.Gl,this.Gl);this.j.addEventListener(D.U.gC,this.gC);this.j.addEventListener(D.U.hC,this.hC);this.j.addEventListener(D.U.bF,this.bF);this.j.addEventListener(D.U.fo,this.fo);this.j.addEventListener(D.U.Bh,this.Bh);this.j.addEventListener(D.U.un,this.un);this.j.addEventListener(D.U.gF,this.gF);this.j.addEventListener(D.U.Pi,function(){a.Pi=!0;});this.j.eo&&this.j.eo.addListener(this.eo);this.config().di&&(this.kpb=!0);if(this.config().NI||this.config().iC)this.j.addEventListener(D.U.Xu,this.Nqa),this.d4=M.setInterval(this.Cqa,this.config().z6a);this.config().daa&&this.j.addEventListener(D.U.Xu,this.fpa);this.zxa=!0;}};b.prototype.z1a=function(){this.se();this.zxa&&(this.j.removeEventListener(D.U.hq,this.hq),this.j.removeEventListener(D.U.QE,this.QE),this.j.wi.removeListener(this.gDa),this.j.Ec.removeListener(this.QH),this.j.paused.removeListener(this.Pya),this.j.Fe.removeListener(this.Aza),this.j.uc.removeListener(this.XQ),this.j.uc.removeListener(this.qDa),this.j.le.removeListener(this.oEa),this.j.removeEventListener(D.U.Xu,this.Eqa),this.j.removeEventListener(D.U.se,this.se),this.j.removeEventListener(D.U.Gl,this.Gl),this.j.removeEventListener(D.U.gC,this.gC),this.j.removeEventListener(D.U.hC,this.hC),this.j.removeEventListener(D.U.bF,this.bF),this.j.removeEventListener(D.U.fo,this.fo),this.j.removeEventListener(D.U.Bh,this.Bh),this.j.removeEventListener(D.U.un,this.un),this.j.removeEventListener(D.U.gF,this.gF),this.j.eo&&this.j.eo.removeListener(this.eo),this.j.removeEventListener(D.U.Xu,this.Nqa),this.j.removeEventListener(D.U.Xu,this.fpa));};b.prototype.xCa=function(a){var b,f,q,h,t,p,x,K,I,G,l,N,m,T,r,V,ja,ia,B,F,P,R,Z;b={};try{b={browserua:S.tk,browserhref:location.href,playdelaysdk:u.Ul(this.j.Eoa()),applicationPlaydelay:u.Ul(this.j.t0a()),playdelay:u.Ul(this.j.z0a()),trackid:this.j.Zg,bookmark:u.Ul(this.j.Zx||0),pbnum:this.j.index,endianness:c.fab()};this.config().z7a&&(b.transitiontime=this.j.gp,b.uiplaystarttime=this.j.Za.JW,b.playbackrequestedat=this.j.fl.fa(y.na),b.clockgettime=this.getTime(),b.clockgetpreciseepoch=this.Ta.Qe.fa(y.na),b.clockgetpreciseappepoch=this.Ba.Vy.fa(y.na),b.absolutestarttime=this.j.BS(),b.relativetime=this.j.a6());this.n5(b,"startplay");}catch(kb){this.log.error("error in startplay log fields",kb);}this.j.Gl&&(b.blocked=this.j.Gl);this.config().endpoint||(b.configendpoint="error");this.j.Gf&&(b.playbackcontextid=this.j.Gf);this.Lua(b);if(this.config().YW&&this.j.Za.Eca){for(var k={},d=Object.keys(this.j.Za.Eca),n,g=d.length;g--;)n=d[g],k[n.toLowerCase()]=this.j.Za.Eca[n];b.vui=k;}Q.qa(this.j.moa)&&(b.bookmarkact=u.Ul(this.j.moa));(k=this.j.Ac.at&&this.j.Ac.ats?this.j.Ac.at-this.j.Ac.ats:void 0)&&(b.nccpat=k);(k=this.j.Ac.lr&&this.j.Ac.lc?this.j.Ac.lr-this.j.Ac.lc:void 0)&&(b.nccplt=k);(k=this.E6a())&&(b.downloadables=k);M._cad_global.device&&Q.Ob(M._cad_global.device.dD)&&(b.esnSource=M._cad_global.device.dD);(k=M._cad_global.platformExtraInfo)&&u.Ya(b,k,{prefix:"pi_"});(k=S.Nj&&S.Nj.connection&&S.Nj.connection.type)&&(b.nettype=k);this.j.Vm&&this.j.Vm.initBitrate&&(b.initvbitrate=this.j.Vm.initBitrate);this.j.Vm&&this.j.Vm.selector&&(b.selector=this.j.Vm.selector);b.fullDlreports=this.j.dra;if(this.j.state.value>=D.lb.$c)try{q=this.j.mo();q&&(this.Jv=c.$ca(q.map(function(a){return a.O;})),this.Vwa=c.$ca(q.map(function(a){return a.height;})),f=0<q.length?W.bhb(q,function(a){return a.O;}):void 0,b.maxbitrate=this.Jv,b.maxresheight=this.Vwa);}catch(kb){this.log.error("Exception computing max bitrate",kb);}try{h=c.MS();h&&(b.pdltime=h);}catch(kb){}try{u.Ya(b,this.j.Ac,{prefix:"sm_"});u.Ya(b,this.j.VS(),{prefix:"vd_"});}catch(kb){}"undefined"!==typeof nrdp&&nrdp.device&&(b.firmware_version=nrdp.device.firmwareVersion);a&&this.j.Xo&&(b.pssh=this.j.Xo);this.j.Ce&&this.j.Ce.fk&&this.j.Ce.fk.keySystem&&(b.keysys=this.j.Ce.fk.keySystem);if(this.config().tn&&this.Hc())try{q={};t=this.Hc().getStats(void 0,void 0,this.j.M);p=this.j.BS();x=t.ww.O1a;q.attempts=t.wza||0;q.num_completed_tasks=x.length;K=this.Sd.X8a;h={};I=A.Zc.me.Eia;G=A.Zc.me.Ft;l=A.Zc.me.oN;N=A.Zc.me.EF;m=A.Zc.me.nN;t.Ci&&(h.scheduled=t.Ci-p);T=this.j.Aa;T&&Q.Ob(T.Rz)&&(h.preauthsent=T.Rz-this.j.Te,h.preauthreceived=T.CE-this.j.Te);r=x.filter(K("type","manifest"));q.mf_succ=r.filter(K("status",I)).length;q.mf_fail=r.filter(K("status",G)).length;V=this.j.Ac;Q.Ob(V.lg)&&0>V.lg&&this.j.Te&&(h.ldlsent=V.lc,h.ldlreceived=V.lr);ja=x.filter(K("type","ldl"));q.ldl_succ=ja.filter(K("status",I)).length;q.ldl_fail=ja.filter(K("status",G)).length;t=!0;if(!h.preauthreceived||0<=h.preauthreceived)t=!1;this.config().p4||(t=!1);ia=ja.filter(K("status",l)).length;B=ja.filter(K("status",N)).length;F=ja.filter(K("status",m)).length;this.config().p4&&0===ia+B+F&&(!h.ldlreceived||0<=h.ldlreceived)&&(t=!1);if(this.config().TR){P=this.j.Yl&&this.j.Yl.stats;if(P){if(P.oS&&(h.headersent=P.oS-this.j.Te),P.PT&&(h.headerreceived=P.PT-this.j.Te),P.vE&&(h.prebuffstarted=P.vE-this.j.Te),P.gV&&(h.prebuffcomplete=P.gV-this.j.Te),!h.prebuffcomplete||0<=h.prebuffcomplete)t=!1;}else t=!1;}R=x.filter(K("type","getHeadersAndMedia"));q.hm_succ=R.filter(K("status",I)).length;q.hm_fail=R.filter(K("status",G)).length;u.Ya(b,q,{prefix:"pr_"});b.eventlist=JSON.stringify(h);b.prefetchCompleted=t;this.f7(b);}catch(kb){this.log.warn("error in collecting video prepare data",kb);}b.avtp=this.hA.zo().gA;this.j.ll&&this.lT(b);if(this.j.wc.value)try{b.ttTrackFields=this.j.wc.value.Yf;}catch(kb){}if(x=this.j.Ec&&this.j.Ec.value&&this.j.Ec.value.mc){Z={};x.forEach(function(a){Z[a.Pe]=void 0;});b.audioProfiles=Object.keys(Z);}this.g7(b);this.j.Aa&&"boolean"===typeof this.j.Aa.isSupplemental&&(b.isSupplemental=this.j.Aa.isSupplemental);b.headerCacheHit=!!this.j.Yl;this.j.Yl&&(b.headerCacheDataAudio=this.j.Yl.audio,b.headerCacheDataAudioFromMediaCache=this.j.Yl.audioFromMediaCache,b.headerCacheDataVideo=this.j.Yl.video,b.headerCacheDataVideoFromMediaCache=this.j.Yl.videoFromMediaCache);this.j.Aa&&(b.packageId=this.j.Aa.packageId);this.j.Aa&&this.j.Aa.choiceMap&&(b.hasChoiceMap=!0);this.config().esa&&(b.forceL3WidevineCdm=!0);b.isNonMember=this.dl.Gi;this.efb(f);this.dfb();this.Jua(this.j,b);this.Kua(this.j,b);this.Jy(this.j,b);this.Iy(this.j,b);this.d7(b);this.e7(b);this.Oua(b);this.Iua(b);this.Pua(b);this.vc(ca.Ke.hRa,a,X.dh|X.YA|X.fg|X.kO|X.zt|X.pN|X.XX,b);};b.prototype.Fob=function(a,b){b={playdelay:u.Ul(a),reason:this.FE,intrplayseq:this.wT-1,skipped:b};this.Jy(this.j,b);this.vc(ca.Ke.qQa,!1,X.dh|X.YA|X.fg,b);"rebuffer"==this.FE&&this.j.el.OYa(Number(u.Ul(a)));};b.prototype.h1a=function(a,b,c,f){a={moff:u.wy(c),vbitrate:b.O,vbitrateold:a.O,vdlid:b.Qc,vdlidold:a.Qc,vheight:b.height,vheightold:a.height,vwidth:b.width,vwidthold:a.width,bw:f};this.Jy(this.j,a);this.Iy(this.j,a);this.vc(ca.Ke.TGa,!1,X.fg,a);};b.prototype.$nb=function(a,b,c){a={moff:u.wy(c),vdlidold:a.Qc,vbitrateold:a.O};this.Jy(this.j,a);this.Iy(this.j,a);this.Hy(a,b,this.j.pf.value&&this.j.pf.value.stream);this.vc(ca.Ke.jQa,!1,X.fg,a);};b.prototype.cza=function(){var a,b;a={waittime:u.Ul(this.j.a6()),abortedevent:"startplay",browserua:S.tk,trackid:this.j.Zg};this.j.Gf&&(a.playbackcontextid=this.j.Gf);this.j.Vm&&this.j.Vm.initBitrate&&(a.initvbitrate=this.j.Vm.initBitrate);try{b=c.MS();b&&(a.pdltime=b);u.Ya(a,this.j.Ac,{prefix:"sm_"});}catch(da){}this.c7(a,!0);this.Pua(a);this.g7(a);this.Mua(a);this.Hy(a,this.j.le.value,this.j.kj.value);this.vc(ca.Ke.Uha,!1,X.dh|X.fg|X.zt,a);};b.prototype.Blb=function(a,b){a={waittime:u.Ul(a),abortedevent:"resumeplay",browserua:S.tk,resumeplayreason:b};this.j.Gf&&(a.playbackcontextid=this.j.Gf);this.j.Vm&&this.j.Vm.initBitrate&&(a.initvbitrate=this.j.Vm.initBitrate);this.Hy(a,this.j.le.value,this.j.kj.value);this.vc(ca.Ke.Uha,!1,X.dh|X.fg,a);};b.prototype.qrb=function(a,b){a={newstate:b?"Paused":"Playing",oldstate:a?"Paused":"Playing"};this.Jy(this.j,a);this.Iy(this.j,a);this.Hy(a,this.j.Fe.value&&this.j.Fe.value.stream,this.j.pf.value&&this.j.pf.value.stream);this.vc(ca.Ke.iRa,!1,X.dh|X.fg,a);};b.prototype.geb=function(a,b,c){a=u.Ya({vdlid:this.j.le.value.Qc,playingms:a,pausedms:b,intrplayseq:this.wT++},c);this.n5(a,"intrplay");b=this.j.Sb[f.ec.I.VIDEO].value;c=this.j.Sb[f.ec.I.AUDIO].value;a.cdnid=a.vcdnid=b&&b.id;a.acdnid=c&&c.id;a.locid=this.jK&&this.jK.f8;a.loclv=this.jK&&this.jK.gwa;a.avtp=this.hA.zo().gA;this.j.ll&&(this.c7(a,!0),this.lT(a),this.Nua(a));try{u.Ya(a,this.j.VS(),{prefix:"vd_"});}catch(ea){}this.Jy(this.j,a);this.Iy(this.j,a);this.Hy(a,this.j.Fe.value&&this.j.Fe.value.stream,this.j.pf.value&&this.j.pf.value.stream);this.vc(ca.Ke.tLa,!1,X.dh|X.fg,a);};b.prototype.lob=function(a,b,c){a={moffold:u.wy(a),reposseq:this.zAa++};this.Iy(this.j,a);this.Hy(a,c&&c.stream,b&&b.stream);this.vc(ca.Ke.nQa,!1,X.dh|X.fg,a);};b.prototype.d_a=function(){this.vc(ca.Ke.vFa,!1,X.dh|X.fg,{switchdelay:u.Ul(this.getTime()-this.kfb),newtrackinfo:this.j.Ec.value.fb,oldtrackinfo:this.J7.fb});};b.prototype.U0a=function(a,b){var c,f,k,d;c=b.serverid;f=b.serverrtt;k=b.serverbw;d={locid:b.location,loclv:b.locationlv,selocaid:c,selcdnid:c,selocaname:b.servername};d.mediatype=b.mediatype;d.selcdnrtt=f;d.selcdnbw=k;d.selreason=b.selreason||"unknown";d.testreason=b.testreason;d.fastselthreshold=b.fastselthreshold;d.seldetail=b.seldetail;d.cdnbwdata=JSON.stringify([{id:c,rtt:f,bw:k}]);a&&(d.oldlocid=a.f8,d.oldloclv=a.gwa,d.oldocaid=a.Spb,d.oldocaname=a.Xz);this.vc(ca.Ke.RGa,!1,X.pN,d);};b.prototype.FCa=function(a){var b,c;b={};b.trigger=a;try{c=this.j.T5();b.subtitleqoescore=this.j.En.Ybb(c);b.metrics=JSON.stringify(this.j.En.j6(c));}catch(ea){this.log.error("error getting subtitle qoe data",ea);}this.vc(ca.Ke.rRa,!1,X.dh|X.zt|X.YA,b,"info");};b.prototype.transition=function(a){this.vc(ca.Ke.PRa,!1,0,a);};b.prototype.Mbb=function(a,b){if(a=a.FS())if(b=a[b])return b.Cn;};b.prototype.Jua=function(a,b){a.Za.Vf&&(b.isBranching=!0);};b.prototype.Kua=function(a,b){b.cachedManifest=a.Lu;b.cachedLicense=a.cy;};b.prototype.Jy=function(a,b){var c,f;if(this.config().Qdb){c=a.U5();if(c){b.segment=c;f=a.rD();a=this.Mbb(a,c);null!==f&&void 0!==a&&(b.segmentoffset=f-a);}}};b.prototype.Iy=function(a,b){b.pxid=a.Rmb;};b.prototype.Nua=function(a){var b,c;b=this.j.L6;c=b&&b.kob;b&&b.Dua&&(a.htwbr=b.Dua,a.pbtwbr=b.YU,a.hptwbr=b.udb);b&&b.XAa&&(a.rr=b.XAa,a.ra=b.Zmb);b&&c&&0<(c.length||0)&&(a.qe=JSON.stringify(c));};b.prototype.g7=function(a){var b,c,f,k,d;b=this;c=this.j.gf&&this.j.gf.value&&this.j.gf.value.mc;if(c){f=new Set();k=new Set();d=new Set();c.forEach(function(a){a=a.Pe;f.add(a);k.add(a.replace(b.sja,""));(a=a.match(b.sja))&&0<a.length&&d.add(a[1]);});a.videoProfiles=[].concat(ga(f));a.videoProfile=0===k.size?"none":[].concat(ga(k))[0];a.videoProfileLevels=[].concat(ga(d));}};b.prototype.Mua=function(a){var b,c,f;try{b=this.Sd.createElement("canvas");c=b.getContext("webgl")||b.getContext("experimental-webgl");if(c){f=c.getExtension("WEBGL_debug_renderer_info");f&&(a.WebGLRenderer=c.getParameter(f.UNMASKED_RENDERER_WEBGL),a.WebGLVendor=c.getParameter(f.UNMASKED_VENDOR_WEBGL));}}catch(Sa){}};b.prototype.Rdb=function(a){a.switchAwaySummary={vsa:this.Yg.summary.sEa,vsb:this.Yg.summary.tEa,vsbt:this.Yg.summary.uEa,asa:this.Yg.summary.Lna,asb:this.Yg.summary.Mna,asbt:this.Yg.summary.Nna};};b.prototype.f8a=function(a){var b,c,f,k,y;b=this;c=this.eza();this.n5(c,"endplay");c.browserua=S.tk;this.j.st&&"downloaded"===this.j.st.OS()&&(c.trickplay_ms=this.j.IM.offset,c.trickplay_res=this.j.IM.DAa);this.config().gEa&&(c.rtinfo=this.j.Gbb());if(this.config().daa){f=this.hA.zo().gA;void 0!==c.avtp?c.avtp_retired=f:c.avtp=f;c.cdnavtp=this.VQ.C$a().map(function(a){return{cdnid:a.Ou,avtp:a.gA,tm:a.e4};});this.j.ll&&this.lT(c);}this.Lua(c);c.endreason=a?"error":this.j.uc.value===D.qb.$q?"ended":"stopped";f=M._cad_global.platformExtraInfo;this.Ldb(f);f&&u.Ya(c,f,{prefix:"pi_"});f=this.j.Wh;a&&f&&K.wJa(f.errorCode)&&(k="info");try{u.Ya(c,this.j.Ac,{prefix:"sm_"});}catch(Kb){}this.j.b7&&(c.inactivityTime=this.j.b7);this.c7(c,"info"!==k&&a);this.Nua(c);if(this.j.ay){for(var f=this.j.ay,d=this.config().mC,n=this.j.Te,g={iv:d,seg:[]},q=function(a,b,c){return 0===b||void 0===c[b-1]?a:a-c[b-1];},h=f.Xr.map(q),q=f.vt.map(q),t,p=0;p<h.length;p++){if(h[p]||q[p])t?(t.ams.push(h[p]),t.vms.push(q[p])):t={ams:[f.Xr[p]],vms:[f.vt[p]],soffms:f.startTime+p*d-n};p!==h.length-1&&h[p]&&q[p]||!t||(g.seg.push(t),t=void 0);}c.bt=JSON.stringify(g);}if(this.j.hU&&0<this.j.hU.length){y=[];this.j.hU.forEach(function(a){y.push({soffms:a.time-b.j.Te,maxvb:a.maxvb,maxvb_old:a.maxvb_old,spts:a.spts,reason:a.reason});});c.maxvbevents=y;}this.j.Lza&&(c.psdConservCount=this.j.Lza);a&&this.Mua(c);this.FCa("endplay");this.config().tn&&this.Hc()&&this.f7(c);c.isNonMember=this.dl.Gi;this.g7(c);this.Jua(this.j,c);this.Kua(this.j,c);this.Jy(this.j,c);this.Iy(this.j,c);this.d7(c);this.e7(c);this.Oua(c);this.Mdb(c);this.Iua(c);this.Odb(c);this.Ndb(c);this.Rdb(c);this.vc(ca.Ke.uJa,a,X.dh|X.YA|X.fg|X.zt|X.kO|X.XX,c,k);};b.prototype.WTa=function(a){var b;b=[];return a?Object.keys(a).map(function(a){return+a;}):b;};b.prototype.E6a=function(){var a,b;a=this;if(this.j.Pq&&this.j.bo){b=[];this.j.Pq.concat(this.j.bo).forEach(function(c){c.mc.forEach(function(c){b.push({dlid:c.Qc,type:c.type,bitrate:c.O,vmaf:c.Vb,cdn_ids:a.WTa(c.Tp)});});});return JSON.stringify(b);}};b.prototype.S0a=function(){var b,c,f;function a(a,b){var k,d,g;k=a.cdnId;d=f[k];g=a.vmaf;d||(d={cdnid:k,dls:[]},f[k]=d,c.push(d));n.zI(a.bitrate);n.zI(a.duration);k={bitrate:a.bitrate,tm:S.Jh(a.duration)};g&&(n.zI(a.vmaf),k.vf=g);k[b]=u.Od(a.downloadableId);d.dls.push(k);}b=this.j.el.i$a();c=[];f={};b.audio.forEach(function(b){a(b,"adlid");});b.video.forEach(function(b){a(b,"dlid");});return JSON.stringify(c);};b.prototype.eza=function(){var a,b,c,f,k,d,g,q,h,t,p,y,A;a=this.j.el;b={totaltime:u.wy(a.EJ()),cdndldist:this.S0a(),reposcount:this.zAa,intrplaycount:this.wT};try{c={numskip:0,numlowqual:0};f=this.j.qg;k=f.JS();Q.qa(k)&&(b.totfr=k,c.numren=k);k=f.By();Q.qa(k)&&(b.totdfr=k,c.numrendrop=k);k=f.wJ();Q.qa(k)&&(b.totcfr=k,c.numrenerr=k);k=f.KS();Q.qa(k)&&(b.totfdl=k);b.playqualvideo=JSON.stringify(c);b.videofr=this.j.le.value.xS.toFixed(3);d=a.Csa();d&&(b.abrdel=d);g=a.cdb()&&a.m$a();g&&(b.tw_vmaf=g);q=a.l$a();q&&u.Ya(b,q);b.rbfrs=this.wT;b.maxbitrate=this.Jv;b.maxresheight=this.Vwa;h=this.j.Fy();for(A=0;A<h.length;A++){t=h[A];if(y=this.j.c9.ht(t)){n.Ga(p);b.maxbitrate=p?p.O:0;b.maxresheight=p?p.height:0;b.bitratefilters=y.join("|");break;}p=t;}this.j.st&&(b.trickplay=this.j.st.OS());null!==this.j.En.boa&&(b.avg_subt_delay=this.j.En.boa);}catch(Kb){this.log.error("Exception reading some of the endplay fields",Kb);}u.Ya(b,this.j.VS(),{prefix:"vd_"});return b;};b.prototype.getTime=function(){return this.Ba.ac().fa(y.na);};b.prototype.TV=function(a){a.browserua=S.tk;this.vc(ca.Ke.TQa,!a.success,X.dh|X.zt,a);this.vc=h.ee;};b.prototype.Wdb=function(){var a,b,c,f;a=this;c=[];if(this.config().Whb){f={jxa:function(){},CBa:function(){a.oxa();}};this.Ah.addListener(f);this.config().Xhb.forEach(function(b){c.push(M.setTimeout(a.oxa,b));});this.config().pxa&&(b=M.setInterval(this.Ojb,this.config().pxa));this.JDa=function(){a.Ah.removeListener(f);c.forEach(function(a){M.clearTimeout(a);});b&&M.clearInterval(b);};}};b.prototype.f7=function(a){var b;try{b=this.Hc().getStats();a.pr_cache_size=JSON.stringify(b.cache);a.pr_stats=JSON.stringify(b.psa);}catch(da){}};b.prototype.d7=function(a){this.log.debug("httpstats",this.Uc.Jb);u.Ya(a,this.Uc.Jb,{prefix:"http_"});};b.prototype.c7=function(a,b){this.config().eqa&&!(this.oa%this.config().eqa)&&this.j.wb&&this.j.wb.o7&&(a.ASEstats=JSON.stringify(this.j.wb.o7(b)));};b.prototype.lT=function(a){var b,c;b=this.j.ll.Nb.get(!0);if(b.Fc&&b.va){a.aseavtp=Number(b.va.Ha).toFixed(2);a.asevartp=Number(b.va.ah).toFixed(2);if(b.Fo){c=b.Fo.ZU;!c||isNaN(c.xj)||isNaN(c.wj)||isNaN(c.ai)||(a.aseniqr=0<c.ai?Number((c.xj-c.wj)/c.ai).toFixed(2):-1,a.aseiqr=Number(c.xj-c.wj).toFixed(2),a.asemedtp=Number(c.ai).toFixed(2));a.iqrsamples=b.Fo.km;}b.qm&&b.qm.Ds&&(a.tdigest=b.qm.Ds());}};b.prototype.e7=function(a){var b;try{b=S.er.memory;Q.Ueb(b)&&(a.totalJSHeapSize=b.totalJSHeapSize,a.usedJSHeapSize=b.usedJSHeapSize,a.jsHeapSizeLimit=b.jsHeapSizeLimit);}catch(da){}};b.prototype.Oua=function(a){var b;b=this.j.Ce;this.config().L0a&&b&&!this.config().kp&&(a.keystatuses=this.j.Wib(b.aHb()),this.log.trace("keystatuses",a.keystatuses));};b.prototype.Iua=function(a){try{this.config().hI&&(a.battery=this.j.r$a(),this.log.trace("batterystatuses",a.battery));}catch(Y){}};b.prototype.Mdb=function(a){this.j.tR&&(a.dqec=this.j.tR);};b.prototype.Ldb=function(a){this.j.UQ&&u.Ya(a,{cast_interaction_counts:this.j.UQ.X0});};b.prototype.Pua=function(a){var b;b=this.j.Za.lm;b&&b.isUIAutoPlay&&(a.isUIAutoPlay=!0);};b.prototype.Ndb=function(a){this.D4&&(a.externaldisplay=this.D4.eJ);};b.prototype.Odb=function(a){this.Bw&&this.Bw.Pc&&(a.media_capabilities_smooth=this.Bw.Pc.crb,a.media_capabilities_efficient=this.Bw.Pc.Slb,a.media_capabilities_bitrate=this.Bw.Pc.O,a.media_capabilities_height=this.Bw.Pc.height,a.media_capabilities_width=this.Bw.Pc.width);};b.prototype.Hy=function(a,b,c){c&&(a.adlid=c.Qc,a.abitrate=c.O);b&&(a.vdlid=b.Qc,a.vbitrate=b.O);};b.prototype.Lua=function(a){var b,c;if(this.j.nI){b=this.j.nI;b.gR&&(a.controllerESN=b.gR);b.e2a&&(a.controllerUiVer=b.e2a);if(b.d2a)try{c=JSON.parse(b.d2a);a.controllerGroupNames=c;}catch(ea){this.log.error("Exception parsing controller group names",ea);}}};b.prototype.dfb=function(){void 0===this.D4&&(this.D4=this.E4.T8a());};b.prototype.efb=function(a){void 0===this.Bw&&void 0!==a&&(this.Bw=this.Y8.J4(a));};b.prototype.n5=function(a,b){var c;c=this.j.Ds(b);c&&Object.keys(c).forEach(function(b){a[b]=c[b];});};b.prototype.vc=function(a,b,c,f,k){this.HYa(f,this.j,b,c);a=this.tK.Nl(a,k||(b?"error":"info"),f,this.qBa);this.Ah.vc(a);};b.prototype.HYa=function(a,b,c,k){var d,g,q,h,t;"undefined"!==typeof nrdp&&nrdp.device&&nrdp.device.deviceModel&&(a.devmod=nrdp.device.deviceModel);b.AC&&(a.pbcid=b.AC);k&X.dh&&(n.Ga(!a||void 0===a.moff),0<=b.bc.value&&(a.moff=u.wy(b.bc.value)));if(k&X.YA){d=b.Sb[f.ec.I.VIDEO].value;g=b.Sb[f.ec.I.AUDIO].value;q=b.pf.value;h=b.Fe.value;d&&(a.cdnid=d.id,a.cdnname=d.name);g&&(a.acdnid=g.id,a.acdnname=g.name);q&&(a.adlid=q.stream.Qc,a.abitrate=q.stream.O);h&&(a.vdlid=h.stream.Qc,a.vbitrate=h.stream.O,a.vheight=h.stream.height,a.vwidth=h.stream.width);}k&X.fg&&b.wb&&(a.abuflbytes=b.P1(),a.abuflmsec=b.MH(),a.vbuflbytes=b.Cca(),a.vbuflmsec=b.WM());if(k&X.kO){Object.assign(a,ia.Jta());try{t=b.If.getBoundingClientRect();a.rendersize=t.width+"x"+t.height;a.renderpos=t.left+"x"+t.top;}catch(Ha){}}k&X.zt&&(d=S.Nj.hardwareConcurrency,0<=d&&(a.numcores=d),0<=b.Epa&&(a.cpuspeed=b.Epa),(d=b.PR&&b.PR.n$a())&&(a.droppedFrames=JSON.stringify(d)),d=b.PR&&b.PR.CJ(this.config().V6a),u.Sc(d,function(b,c){a["droppedFramesP"+b]=JSON.stringify(c);}));if(k&X.pN)try{b.xi&&(a.cdninfo=JSON.stringify(b.xi.map(function(a){return{id:a.id,nm:a.name,rk:a.$d,wt:a.location.weight,lv:a.location.level};})));}catch(Ha){}c&&k&X.XX&&(n.Ga(b.Wh),(c=b.Wh)?a=Object.assign(a,ia.Ata(this.platform.bD,c)):a.errorcode=K.K.ki,a.errorcode===this.platform.bD+K.K.eha&&(a.lastSyncWithVideoElement=this.getTime()-b.uM));};d.ULa=b;(function(a){a[a.dh=1]="MOFF";a[a.YA=2]="PRESENTEDSTREAMS";a[a.fg=4]="BUFFER";a[a.kO=8]="SCREEN";a[a.zt=16]="CPU";a[a.pN=32]="CDN";a[a.XX=64]="FATALERROR";}(X||(X={})));},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.aga="LogblobBuilderFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yca="AppLogSinkSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.jja="UuidProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Bha="PboLogblobCommandSymbol";},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.Rf=function(a,b){var c;c=this;return a.map(function(a){return b.call(c,a);});};b.prototype.YC=function(a,b){var c,f;c={};for(f in a)c[f]=b.call(this,a[f]);return c;};f=b;f=g.__decorate([a.L()],f);d.DN=f;},function(g,d,a){var c,k,q;function b(){this.$u=new c.PLa();}function f(a){var c;c=k.DN.call(this)||this;c.oq=a;c.$u=new b();return c;}function h(a,b){this.oq=a;this.profile=b;this.rQ=this.profile.Oh.id;this.$D={};}function p(a){this.oq=a;this.UE=q.ba(0);this.$D=[];}Object.defineProperty(d,"__esModule",{value:!0});c=a(637);k=a(327);q=a(34);p.prototype.Sr=function(a){this.UE=this.UE.add(this.oq.measure([a.message]));this.$D.push(a);};p.prototype.Mz=function(a){var b,c;b=this;this.UE=q.ba(0);c=[];this.$D.forEach(function(f){0>a.indexOf(f.id)&&(b.UE=b.UE.add(b.oq.measure([f.message])),c.push(f));});this.$D=c;};na.Object.defineProperties(p.prototype,{size:{configurable:!0,enumerable:!0,get:function(){return this.UE;}},Zd:{configurable:!0,enumerable:!0,get:function(){return this.$D;}}});h.prototype.Sr=function(a,b,c,f){var k;k=this.Zd[a];k||(k=new p(this.oq),this.Zd[a]=k);k.Sr({id:b,url:c,message:f});};h.prototype.Mz=function(a){var c;for(var b in this.Zd){c=this.Zd[b];c&&(c.Mz(a),0===c.Zd.length&&delete this.Zd[b]);}};na.Object.defineProperties(h.prototype,{Zd:{configurable:!0,enumerable:!0,get:function(){return this.$D;}}});d.cNa=h;ba(f,k.DN);f.prototype.encode=function(a){return{accountId:a.rQ,messages:this.N7a(a.Zd)};};f.prototype.decode=function(a){return{rQ:a.accountId,Zd:this.f5a(a.messages)};};f.prototype.N7a=function(a){var b,c,f,k;b=this;c={};f={};for(k in a)f.YR=[],a[k].Zd.forEach(function(a){return function(c){0<c.id&&a.YR.push(b.$u.encode(c));};}(f)),c[k]=f.YR,f={YR:f.YR};return c;};f.prototype.f5a=function(a){var b,c,f,k;b=this;c={};f={};for(k in a)f.mV=new p(this.oq),a[k].forEach(function(a){return function(c){a.mV.Sr(b.$u.decode(c));};}(f)),c[k]=f.mV,f={mV:f.mV};return c;};d.bNa=f;b.prototype.encode=function(a){return{id:a.id,url:a.url,message:this.$u.encode(a.message)};};b.prototype.decode=function(a){var b;b=this.$u.decode(a.message);return{id:a.id,url:a.url,message:b};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Bga="MessageQueueSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bga="LogblobSenderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uha="PboBindDeviceCommandSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Qda="CryptoKeysSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Pda="CryptoDeviceIdSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dea="DeviceProviderSymbol";},function(g,d){function a(b,f,d){if(null!=d){if(0<d(b,f))throw a.Opa(b,f);}else if(b.Nk&&0<b.Nk(f))throw a.Opa(b,f);this.start=b;this.end=f;}Object.defineProperty(d,"__esModule",{value:!0});a.Opa=function(a,f){return new RangeError("end ["+f+"] must be >= start ["+a+"]");};d.nia=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.cea="DeviceIdGeneratorSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hga="MslDispatcherSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Gga="MslClientSendStrategySymbol";},function(g,d,a){var b,f,h,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(8);f=a(18);h=a(16);p=a(76);d.KGa=function(a,b,d,n,g,t,p,K,x,I){var c,k;c=this;k={Type:b,Bitrate:n,DownloadableId:d};f.Ya(c,{track:a,type:b,Qc:d,O:n,Vb:g,Pe:K,size:t,Tp:p,aq:null,Aqb:function(a,b){if(h.Ob(a)||h.Ob(b))c.width=a,c.height=b,k.Resolution=(c.width||"")+":"+(c.height||"");},$pb:function(a,b,f,k){h.Ob(a)&&h.Ob(b)&&h.Ob(f)&&h.Ob(k)&&(c.F4a=a,c.Tpa=b,c.Spa=f,c.Rpa=k);},xS:x,Wk:I,Yf:k,toJSON:function(){return k;}});};d.Nwb=function(a,f,d,n,g){if(a==b.ZY||a===p.gg.audio)return f;if(a==b.eG||a===p.gg.video)return d;if(a==p.gg.DW)return n;if(a==p.gg.jca)return g;};},function(g,d,a){var f;function b(a){var g,c,k,q,n,u,h;k={};k[f.cX]=a.localName;q={};k[f.Ui]=q;n=[];k[f.bX]=n;u=a.attributes;g=u.length;for(c=0;c<g;c++){h=u[c];q[h.localName]=h.value;}a=a.childNodes;g=a.length;q={};for(c=0;c<g;c++)switch(u=a[c],u.nodeType){case d.svb:u=b(u);h=u[f.cX];u[f.zEa]=k;n.push(u);k[h]?q[h][f.zF]=u:k[h]=u;q[h]=u;break;case d.tvb:case d.qvb:u=u.text||u.nodeValue,n.push(u),k[f.Uq]||(k[f.Uq]=u);}return k;}Object.defineProperty(d,"__esModule",{value:!0});f=a(125);d.pvb=function(a){return b(a.nodeType==d.rvb?a.documentElement:a);};d.FLb=b;d.svb=1;d.ELb=2;d.tvb=3;d.qvb=4;d.rvb=9;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(16);d.ovb=function(a){var d,c;if(f.Ry(a)){d=new DOMParser().parseFromString(a,"text/xml");c=d.getElementsByTagName("parsererror");if(c&&c[0]){try{b.log.error("parser error details",{errornode:new XMLSerializer().serializeToString(c[0]),xmlData:a.slice(0,300),fileSize:a.length});}catch(k){}throw Error("xml parser error");}return d;}throw Error("bad xml text");};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(191);f=a(190);d.Dkb=function(a,d,c,k){return new Promise(function(g,n){f.AEa(a,function(a){a.X?b.ukb(a.object,d,c,k,function(a){a.X?g(a.entries):n(a);}):n(a);});});};},function(g,d,a){var f,h;function b(a){this.G={xK:a.maxc||25,V2:a.c||.5,hvb:a.w||15E3,Kk:a.b||5E3};f.call(this,this.G.hvb,this.G.Kk);this.qH();}f=a(126);h=a(197).TDigest;b.prototype=Object.create(f.prototype);b.prototype.shift=function(){var a;a=this.nE(0);f.prototype.shift.call(this);null!==a&&(this.Ud.push(a,1),this.Sm=!0);return a;};b.prototype.flush=function(){var a;a=this.get();this.Ud.push(a,1);this.Sm=!0;f.prototype.reset.call(this);return a;};b.prototype.get=function(){return this.Qta();};b.prototype.Ds=function(){var a;a=this.Qta();return{min:a.min,p10:a.U9,p25:a.wj,p50:a.ai,p75:a.xj,p90:a.V9,max:a.max,centroidSize:a.V0a,sampleSize:a.IE,centroids:a.mg};};b.prototype.Qta=function(){var a;if(0===this.Ud.size())return null;a=this.Ud.sg([0,.1,.25,.5,.75,.9,1]);if(a[2]===a[4])return null;if(this.Sm||!this.Td)this.Sm=!1,this.Td={min:a[0],U9:a[1],wj:a[2],ai:a[3],xj:a[4],V9:a[5],max:a[6],sg:this.Ud.sg.bind(this.Ud),V0a:this.Ud.size(),IE:this.Ud.n,mg:this.D$a(),Ds:this.Ds.bind(this)};return this.Td;};b.prototype.D$a=function(){var a;if(0===this.Ud.size())return null;if(!this.Sm&&this.Td)return this.Td.centroids;a=this.Ud.sg([.25,.75]);if(a[0]===a[1])return null;this.Ud.size()>this.G.xK&&this.Ud.ls();a=this.Ud.kA(!1).map(function(a){return{mean:a.Ee,n:a.n};});return JSON.stringify(a);};b.prototype.size=function(){return this.Ud.size();};b.prototype.toString=function(){return"btdtput("+this.ZB+","+this.pc+","+this.rh+"): "+this.Ud.summary();};b.prototype.qH=function(){this.Ud=new h(this.G.V2,this.G.xK);};g.T=b;},function(g,d,a){var f,h;function b(a,b,k,d){f.call(this,k,d);this.Bp=new h(a);this.gVa=b;}f=a(126);h=a(206);b.prototype=Object.create(f.prototype);b.prototype.shift=function(){var a;a=this.nE(0);f.prototype.shift.call(this);null!==a&&this.Bp.CH(a);return a;};b.prototype.flush=function(){var a;a=this.get();this.Bp.CH(a);f.prototype.reset.call(this);return a;};b.prototype.get=function(){var a;a=this.CJ();return{IE:this.Dy(),ZU:a,PK:a.ai?(a.xj-a.wj)/a.ai:void 0};};b.prototype.Dy=function(){return this.Bp.Dy();};b.prototype.CJ=function(){return this.Bp.Dy()<this.gVa?{wj:void 0,ai:void 0,xj:void 0,IE:void 0,sg:void 0}:{wj:this.Bp.Kl(25),ai:this.Bp.Kl(50),xj:this.Bp.Kl(75),IE:this.Bp.Dy(),sg:this.Bp.Kl.bind(this.Bp)};};b.prototype.toString=function(){return"biqr("+this.ZB+","+this.pc+","+this.rh+")";};g.T=b;},function(g,d,a){var h;function b(a){this.Rx=a;this.reset();}function f(a){this.rh=new b(a);this.xd=0;this.Kb=null;}h=a(7);b.prototype.GP=function(a,b){this.Qa+=a;this.Jm+=a;this.Rb+=b;this.Jg.push({d:a,Du:b});};b.prototype.iH=function(){var a;for(;this.Jm>this.Rx;){a=this.Jg.shift();this.Rb-=a.Du;this.Jm-=a.d;}};b.prototype.reset=function(){this.Jg=[];this.Qa=null;this.Jm=this.Rb=0;};b.prototype.setInterval=function(a){this.Rx=a;this.iH();};b.prototype.start=function(a){h.Ra(this.Qa)&&(this.Qa=a);};b.prototype.add=function(a,b,f){h.Ra(this.Qa)&&(this.Qa=b);b>this.Qa&&this.GP(b-this.Qa,0);this.GP(f>this.Qa?f-this.Qa:0,a);this.iH();};b.prototype.get=function(){return{Ha:Math.floor(8*this.Rb/this.Jm),ah:0};};f.prototype.reset=function(){this.rh.reset();this.xd=0;this.Kb=null;};f.prototype.add=function(a,b,f){!h.Ra(this.Kb)&&f>this.Kb&&(b>this.Kb&&(this.xd+=b-this.Kb),this.Kb=null);this.rh.add(a,b-this.xd,f-this.xd);};f.prototype.start=function(a){!h.Ra(this.Kb)&&a>this.Kb&&(this.xd+=a-this.Kb,this.Kb=null);this.rh.start(a-this.xd);};f.prototype.stop=function(a){this.Kb=h.Ra(this.Kb)?a:Math.min(a,this.Kb);};f.prototype.get=function(){return this.rh.get();};f.prototype.setInterval=function(a){this.rh.setInterval(a);};g.T={Vwb:b,FIa:f};},function(g,d,a){var p;function b(a){this.reset();this.mqb(a);}function f(a){this.setInterval(a);this.reset();}function h(a){this.gu=new f(a);this.xd=0;this.Kb=null;}p=a(7);b.prototype.mqb=function(a){this.kB=Math.pow(.5,1/a);this.TG=a;};b.prototype.reset=function(a){a&&a.Ha&&p.qa(a.Ha)?a.ah&&p.qa(a.ah)?(this.wp=this.CUa,this.tl=a.Ha,this.Yt=a.ah+a.Ha*a.Ha):(this.wp=this.CUa,this.tl=a.Ha,this.Yt=a.Ha*a.Ha):this.Yt=this.tl=this.wp=0;};b.prototype.add=function(a){var b;if(p.qa(a)){this.wp++;b=this.kB;this.tl=b*this.tl+(1-b)*a;this.Yt=b*this.Yt+(1-b)*a*a;}};b.prototype.get=function(){var a,b,f;if(0===this.wp)return{Ha:0,ah:0};a=this.tl;b=this.Yt;f=1-Math.pow(this.kB,this.wp);a=a/f;b=b/f;f=a*a;return{Ha:Math.floor(a),ah:Math.floor(b>f?b-f:0)};};b.prototype.Re=function(){return 0===this.wp?null:{a:Math.round(this.tl),s:Math.round(this.Yt),n:this.wp};};b.prototype.Wg=function(a){if(p.Ra(a)||!p.has(a,"a")||!p.has(a,"s")||!p.isFinite(a.a)||!p.isFinite(a.s))return this.Yt=this.tl=this.wp=0,!1;this.tl=a.a;this.Yt=a.s;p.has(a,"n")&&p.qa(a.n)?this.wp=a.n:this.wp=16*this.TG;return!0;};f.prototype.setInterval=function(a){this.TG=a;this.kB=-Math.log(.5)/a;};f.prototype.reset=function(a){this.Qa=this.ge=null;a&&p.isFinite(a.Ha)?this.tl=a.Ha:this.tl=0;};f.prototype.start=function(a){p.Ra(this.ge)&&(this.Qa=this.ge=a);};f.prototype.add=function(a,b,f){var c,k;p.Ra(this.ge)&&(this.Qa=this.ge=b);this.ge=Math.min(this.ge,b);b=Math.max(f-b,1);c=this.kB;k=f>this.Qa?f:this.Qa;this.tl=this.tl*(k>this.Qa?Math.exp(-c*(k-this.Qa)):1)+8*a/b*(1-Math.exp(-c*b))*(f>k?Math.exp(-c*(k-f)):1);this.Qa=k;};f.prototype.get=function(a){var b;a=Math.max(a,this.Qa);b=this.tl*Math.exp(-this.kB*(a-this.Qa));a=1-Math.exp(-this.kB*(a-this.ge));0<a&&(b/=a);return{Ha:Math.floor(b)};};f.prototype.toString=function(){return"ewmav("+this.TG+")";};h.prototype.setInterval=function(a){this.gu.setInterval(a);};h.prototype.reset=function(a){this.gu.reset(a);this.xd=0;this.Kb=null;};h.prototype.start=function(a){!p.Ra(this.Kb)&&a>this.Kb&&(this.xd+=a-this.Kb,this.Kb=null);this.gu.start(a-this.xd);};h.prototype.add=function(a,b,f){!p.Ra(this.Kb)&&f>this.Kb&&(this.xd+=b>this.Kb?b-this.Kb:0,this.Kb=null);this.gu.add(a,b-this.xd,f-this.xd);};h.prototype.stop=function(a){this.Kb=Math.max(p.Ra(this.gu.Qa)?0:this.gu.Qa+this.xd,p.Ra(this.Kb)?a:Math.min(this.Kb,a));};h.prototype.get=function(a){return this.gu.get((p.Ra(this.Kb)?a:this.Kb)-this.xd);};h.prototype.toString=function(){return this.gu.toString();};g.T={GIa:b,Wwb:f,EIa:h};},function(g,d,a){g.T={rGb:a(346),OKb:a(345),Bwb:a(662),Awb:a(344),Cwb:a(343),Hea:a(659)};},function(g,d,a){var c,k,q,n,u,y;function b(a){var b;b=a.Q_;this.G=a;this.hh=k.vd.HAVE_NOTHING;this.zB=a.zB;a=new u(this.zB);this.vH=a.create("throughput-location-history",b);this.Hr=a.create("respconn-location-history",b);this.yr=a.create("respconn-location-history",b);this.aQ=a.create("throughput-tdigest-history",b);this.mP=a.create("throughput-iqr-history",b);this.Qa=null;}function f(a,c,f,k,d){this.wr=new b(d);this.Rm=[];this.fVa=q.time.ea()-Date.now()%864E5;this.sr=null;this.G=d;for(a=0;a<k;++a)this.Rm.push(new b(d));}function h(a,b,f){return c.has(a,b)?a[b]:a[b]=f;}function p(a,c){var f;this.G=a;this.eQ=c;this.l8a();this.SG=new b(this.G);this.ZG();f=a.C3;f&&(f={Fc:k.vd.RF,va:{Ha:parseInt(f,10),ah:0},wg:{Ha:0,ah:0},Do:{Ha:0,ah:0}},this.get=function(){return f;});}c=a(7);k=a(11);d=a(26);q=a(6);n=d.SJa;u=a(347).Hea;new q.Console("ASEJS_LOCATION_HISTORY","media|asejs");y={Fc:k.vd.HAVE_NOTHING};b.prototype.Sx=function(a,b){this.hh=b;this.vH.add(a);this.aQ.add(a);this.Qa=q.time.ea();};b.prototype.sA=function(a,b){this.mP.set(a,b);};b.prototype.Tr=function(a){this.Hr.add(a);};b.prototype.Rr=function(a){this.yr.add(a);};b.prototype.Re=function(){var a,b,f,k,d,n;a=this.vH.Re();b=this.Hr.Re();f=this.yr.Re();k=this.mP.Re();d=this.aQ.Re();if(c.Ra(a)&&c.Ra(b)&&c.Ra(f))return null;n={c:this.hh,t:q.time.o9(this.Qa)};c.Ra(a)||(n.tp=a);c.Ra(b)||(n.rt=b);c.Ra(f)||(n.hrt=f);c.Ra(k)||(n.iqr=k);c.Ra(d)||(n.td=d);return n;};b.prototype.Wg=function(a){var b;b=q.time.now();if(!(a&&c.has(a,"c")&&c.has(a,"t")&&c.has(a,"tp")&&c.isFinite(a.c)&&c.isFinite(a.t))||0>a.c||a.c>k.vd.RF||a.t>b||!this.vH.Wg(a.tp))return this.hh=k.vd.HAVE_NOTHING,this.sr=this.Qa=null,this.vH.Wg(null),this.Hr.Wg(null),this.yr.Wg(null),!1;this.hh=a.c;this.Qa=q.time.J9(a.t);this.Hr.Wg(c.has(a,"rt")?a.rt:null);this.yr.Wg(c.has(a,"hrt")?a.hrt:null);c.has(a,"iqr")&&this.mP.Wg(a.iqr);c.has(a,"td")&&this.aQ.Wg(a.td);return!0;};b.prototype.get=function(){var a,b,f,d,g,u;a=this.G;if(c.Ra(this.Qa))return y;b=(q.time.ea()-this.Qa)/1E3;b>a.yUa?this.hh=k.vd.HAVE_NOTHING:b>a.YTa&&(this.hh=Math.min(this.hh,k.vd.Gt));a=this.vH.get();f=this.Hr.get();d=this.yr.get();g=this.mP.get();u=this.aQ.get();b={Hk:b,Fc:this.hh,va:a,wg:f,Do:d,Fo:g,qm:u};a&&(b.XKb=n.prototype.t$.bind(a));f&&(b.qKb=n.prototype.t$.bind(f));d&&(b.FHb=n.prototype.t$.bind(d));return b;};b.prototype.time=function(){return this.Qa;};b.prototype.du=function(){this.get();q.time.ea();};f.prototype.ni=function(){return((q.time.ea()-this.fVa)/1E3/3600/(24/this.Rm.length)|0)%this.Rm.length;};f.prototype.Re=function(){var a;a={g:this.wr.Re(),h:this.Rm.map(function(a){return a.Re();})};c.Ra(this.sr)||(a.f=q.time.o9(this.sr));return a;};f.prototype.Wg=function(a){var b,f;if(!this.wr.Wg(a.g))return!1;b=this.Rm.length;f=!1;this.Rm.forEach(function(c,k){f=!c.Wg(a.h[k*a.h.length/b|0])||f;});this.sr=c.has(a,"f")?q.time.J9(a.f):null;return f;};f.prototype.Sx=function(a,b){this.wr.Sx(a,b);this.Rm[this.ni()].Sx(a,b);this.sr=null;};f.prototype.sA=function(a,b){this.wr.sA(a,b);this.Rm[this.ni()].sA(a,b);};f.prototype.Tr=function(a){this.wr.Tr(a);this.Rm[this.ni()].Tr(a);};f.prototype.Rr=function(a){this.wr.Rr(a);this.Rm[this.ni()].Rr(a);};f.prototype.fail=function(a){this.sr=a;};f.prototype.get=function(){var a,b;if(!c.Ra(this.sr)){if((q.time.ea()-this.sr)/1E3<this.G.XTa)return{Fc:k.vd.HAVE_NOTHING,vy:!0};this.sr=null;}a=this.Rm[this.ni()].get();b=this.wr.get();a=a.Fc>=b.Fc?a:b;a.vy=!1;return a;};f.prototype.time=function(){return this.wr.time();};f.prototype.du=function(a){this.wr.du(a+": global");this.Rm.forEach(function(b,f,k){c.Ra(b.time())||(f=24*f/k.length,b.du(a+":  "+((10>f?"0":"")+f+"00")+"h"));});};p.prototype.Qka=function(a,b){var c;c=this.G;a=h(this.CB,a,{});return h(a,b,new f(0,0,0,c.Qla||4,c));};p.prototype.ZG=function(){var a,b;a=q.storage.get("lh");b=q.storage.get("gh");a&&this.S0(a);b&&this.oXa(b);};p.prototype.T_=function(){var a;a={};c.Rc(this.CB,function(b,f){c.Rc(b,function(b,c){h(a,f,{})[c]=b.Re();},this);},this);return a;};p.prototype.oXa=function(a){this.SG.Wg(a);};p.prototype.S0=function(a){var b,k;b=null;k=this.G;c.Rc(a,function(a,d){c.Rc(a,function(a,n){var g;g=new f(0,0,0,k.Qla||4,k);g.Wg(a)?(h(this.CB,d,{})[n]=g,b=!0):c.Ra(b)&&(b=!1);},this);},this);return c.Ra(b)?!0:b;};p.prototype.save=function(){var a;a=this.T_();q.storage.set("lh",a);q.storage.set("gh",this.SG.Re());this.eQ&&this.eQ.Zaa(this.SG.Re());};p.prototype.l8a=function(){this.CB={};this.xB=this.hka="";this.jh=null;};p.prototype.$V=function(a){this.hka=a;this.jh=null;};p.prototype.YV=function(a){this.xB=a;this.jh=null;};p.prototype.gP=function(){c.Ra(this.jh)&&(this.jh=this.Qka(this.hka,this.xB));return this.jh;};p.prototype.Sx=function(a,b){this.gP().Sx(a,b);this.SG.Sx(a,b);};p.prototype.sA=function(a,b){a&&a.wj&&a.ai&&a.xj&&(this.gP().sA(a,b),this.SG.sA(a,b));};p.prototype.Tr=function(a){this.gP().Tr(a);};p.prototype.Rr=function(a){this.gP().Rr(a);};p.prototype.fail=function(a,b){this.Qka(a,this.xB).fail(b);};p.prototype.get=function(a,b){var f,d,n,g;a=(a=this.CB[a])?a[this.xB]:null;f=null;if(a&&(f=a.get(),f.Fc>k.vd.HAVE_NOTHING))return f;if(!1===b)return y;d=f=null;n=!1;g=null;c.Rc(this.CB,function(a){c.Rc(a,function(a,b){var c;if(!n||b==this.xB){c=a.get();c&&(!d||d<=c.Fc)&&(!g||d<c.Fc||g<a.time())&&(d=c.Fc,n=b==this.xB,g=a.time(),f=c);}},this);},this);return f?f:y;};p.prototype.du=function(){c.Rc(this.CB,function(a,b){c.Rc(a,function(a,c){a.du(b+":"+c);});});};g.T=p;},function(g,d,a){var f,h,p,c,k,q;function b(a){return a.sd(c.oc.M9a(Math.floor(a.Zf)));}Object.defineProperty(d,"__esModule",{value:!0});g=a(24);f=a(7);g=g.EventEmitter;h=a(11);p=a(75);c=a(69);k=a(6);q=a(672);d.Dxa=b;a=function(){function a(a,b,c,f,k,d,n){this.S=a;this.N=b;this.Bk=c;this.Ne=f;this.Kc=k;this.zp=d;this.G=n;this.Dc=this.N.error.bind(this.N);this.ma=this.N.warn.bind(this.N);this.dc=this.N.trace.bind(this.N);this.reset();}Object.defineProperties(a.prototype,{LQ:{get:function(){return this.Kc?this.Kc.LQ:-1;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{avb:{get:function(){return this.ri.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ifb:{get:function(){return this.lu;},enumerable:!0,configurable:!0}});a.prototype.reset=function(a){this.Er=!1;a||(this.ri=[]);this.sP=this.lu=this.S_=this.b0=void 0;this.hH=c.oc.sf;this.Ax=void 0;this.jBa=new q.SQa(this.G,this.N);this.L_=!1;this.T0(c.oc.sf);};a.prototype.y9a=function(){this.S_=!0;};a.prototype.pause=function(){this.Er=!0;};a.prototype.resume=function(){this.Er=!1;this.rx();};a.prototype.Lab=function(){return this.lu&&this.lu.Wd;};a.prototype.Mab=function(){return this.lu&&this.lu.Pd;};a.prototype.J0a=function(a,b){var f;for(var c=0;c<this.ri.length;c++){f=this.ri[c];f.$f.cd.ya.id===a&&f.Mc>=b&&(f.abort(),this.ri.splice(c,1),c--);}};a.prototype.XZa=function(a){var b;if(this.G.UI){b=a.$f.cd;if(a.Mc>=b.da)return;a.hm!==b.Oc&&a.UBa(new c.oc(b.Oc,1E3));}this.ri.push(a);this.rx();};a.prototype.jp=function(){this.rx();};a.prototype.BV=function(a){a=this.ri.indexOf(a);-1!==a&&this.ri.splice(a,1);};a.prototype.Zib=function(){this.rx();};a.prototype.QK=function(){this.L_||(this.L_=!0,this.rx(),this.Kc.endOfStream());};a.prototype.T0=function(a){this.RXa=a;this.Kc.vqb(a.Dd,a.ha);};a.prototype.rx=function(){var a,b,c,d,n,g,q;b=this.G;c=Object.getOwnPropertyNames(this.zp);b.E1&&f.P(this.b0)&&1===c.length&&(a=this.zp[c[0]],a.complete&&!f.P(a.Ua)&&this.Hja(a));if(this.ri.length)if(this.Kc)if(c=this.ri[0],this.Er)this.PB("@"+k.time.ea()+", bufferManager _append ignored, paused, nextRequest: "+JSON.stringify(c));else if(!c.complete&&c.cva())this.ma("aborted MediaRequest should not appear in the toAppend list"),this.PB("@"+k.time.ea()+", append: removing aborted request from toAppend: "+c.toString()),this.ri.shift();else{d=c.Ua;if((a=this.zp[d])&&a.data)if(this.S_||d!==this.b0)this.S_=!1,this.Hja(a);else if(!b.ZW||this.S.KJ()){a=c.$f;n=c.tc-this.S.cf();if(!(this.Bk===h.I.AUDIO&&c.gq&&c.Xa&&!b.vn&&!this.L_&&1===this.ri.length&&n>b.k9)){if(b.UI||b.era)if(d=a.cd.co){g=a.cd.ng;q=c.Wd>=d;n=n>b.k9;if(d<a.cd.da&&q&&n&&!g)return;}b.Vkb&&(b=this.S.Yh(a.ga))&&!b.Ux?this.pause():(this.ri.shift(),this.GSa(c));}}}else this.PB("@"+k.time.ea()+", append: not appending, sourceBuffer not ready");};a.prototype.CSa=function(a){this.G.Vx&&this.G.$m&&a.stream.gl&&(this.hH=a.stream.gl);};a.prototype.Hja=function(a){if(this.Kc.appendBuffer(a.data,{Tb:!0,profile:a.stream.profile}))this.PB("@"+k.time.ea()+", header appended, streamId: "+a.Ua),this.b0=a.Ua,this.WWa(a.ga||0,a.Ua),this.CSa(a),this.rx();else throw this.ma("appendHeader error: "+this.Kc.error),this.PB("@"+k.time.ea()+", appendHeader error: "+this.Kc.error),Error("appendHeaderError");};a.prototype.GSa=function(a){var b,f;b=a.Mmb||c.oc.sf;f=a.$f.cd.ya;f.da&&Infinity!==f.da&&(f=new c.oc(f.da,1E3).add(b).xg,Infinity===this.Ne.duration||this.Ne.duration<f)&&(this.Ne.duration=f);if(void 0===this.sP||b&&!b.equal(this.sP))f=this.hH.add(this.jBa.Xt).add(b),this.T0(f),this.sP=b;b=this.jBa.zaa(this.Bk,a,this.Ax,this.hH,this.sP,this.lu,this.NUa,this.T0.bind(this),this.YWa.bind(this));f=b.f_a;if(a.fC(this.Kc,this.lu,this.ri[0],b.zaa,b.O6a))void 0===this.Ax||this.Bk!==h.I.AUDIO||a.fV.equal(this.Ax.add(f))||(this.RWa(a,this.Ax.add(f)),this.Ax=void 0),this.PB("@"+k.time.ea()+", request appended, type: "+a.R+", streamId: "+a.Ua+", pts: "+a.tc+"-"+a.Pd),this.lu=a,a.gq?(this.Ax=a.hza,this.NUa=this.cTa(a,this.RXa||c.oc.sf)):this.Ax=void 0,this.XWa(a),this.rx();else{if(void 0!==this.Kc.error){if("done"===this.Kc.error)return;this.Dc("failure to append queued mediaRequest: "+(a&&a.toJSON())+" err: "+this.Kc.error);throw this.Kc.error;}a=Error("failure to append queued mediaRequest: "+(a&&JSON.stringify(a))+" err: "+this.Kc.error);this.Dc(a.message);throw a;}};a.prototype.cTa=function(a,c){var f,k;f=a.stream.Ka;k=a.tpa;this.G.ao&&a.stream.gl&&(k=k.sd(a.stream.gl));return b(k.sd(f)).add(b(f)).add(b(c));};a.prototype.WWa=function(a,b){a={type:"headerAppended",mediaType:this.Bk,manifestIndex:a,streamId:b};this.ka(a.type,a);};a.prototype.XWa=function(a){a={type:"requestAppended",mediaType:this.Bk,request:a};this.ka(a.type,a);};a.prototype.PB=function(a){a={type:"managerdebugevent",message:a};this.ka(a.type,a);};a.prototype.RWa=function(a,b){var c;c=a.Mc;a=a.fV.sd(b).Zf;c={type:"logdata",target:"endplay",fields:{audiodisc:{type:"array",value:[c,a]}}};this.ka(c.type,c);};a.prototype.YWa=function(a,b){a={type:"logdata",target:"endplay",fields:{maxavsyncerror:a.Zf,minavsyncerror:b.Zf}};this.ka(a.type,a);};return a;}();d.eGa=a;p(g,a.prototype);},function(g,d,a){var p;function b(){}function f(a,b,f){void 0===f&&(f=!1);p(a.length===b.length,"bitrates_kbps and durations_sec must be of the same length.");p(1E-8<h(a),"bitrate zero, won't be able to send anything.");this.Fu=a;this.Vqa=b;this.repeat=f;this.mj=this.Pk=0;}function h(a){return a.reduce(function(a,b){return a+b;},0);}p=a(13).assert;b.prototype=Error();f.prototype.constructor=f;f.prototype.Rp=function(){var a;a=new f(this.Fu,this.Vqa,this.repeat);a.Pk=this.Pk;a.mj=this.mj;return a;};f.prototype.s6=function(){return this.Fu[this.Pk%this.Fu.length];};f.prototype.tv=function(){return this.Vqa[this.Pk%this.Fu.length];};f.prototype.C6a=function(a){p(0<a,"expect x_sec > 0.0");if(!(this.repeat||0<=this.Pk&&this.Pk<this.Fu.length))throw new b();p(this.mj<this.tv(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var c;;){c=this.tv()-this.mj;c=a<c?a:c;a-=c;this.mj+=c;if(this.mj<this.tv())break;this.mj-=this.tv();this.Pk+=1;if(!this.repeat&&this.Pk>=this.Fu.length){if(0<a)throw new b();break;}}};f.prototype.Oya=function(a){this.C6a(a);};f.prototype.D6a=function(a){p(0<a,"expect y_kb > 0.0");if(!(this.repeat||0<=this.Pk&&this.Pk<this.Fu.length))throw new b();p(this.mj<this.tv(),"expect this.cur_pos_sec_in_bin < this.get_curr_duration_sec()");for(var c,f=0;;){c=this.tv()-this.mj;c=a<c*this.s6()?a/this.s6():c;a-=this.s6()*c;f+=c;this.mj+=c;if(this.mj<this.tv())return f;this.mj-=this.tv();this.Pk+=1;if(!this.repeat&&this.Pk>=this.Fu.length){if(0<a)throw new b();return f;}}};g.T={CRa:f,DRa:b};},function(g,d,a){var h;function b(a,b,f){this.ba=a;this.xn=b;this.rL=f;}function f(a,b){this.D8=b;void 0===b&&(this.D8=!0);this.Sh=a;this.KSa();}h=a(13).assert;b.prototype.constructor=b;b.prototype.Es=function(){return 8*this.ba/1E3/this.xn;};f.prototype.constructor=f;f.prototype.Rp=function(a,b,k,d,n){void 0===b&&(b=0);void 0===k&&(k=a.xD());void 0===d&&(d=0);void 0===n&&(n=a.Sh.length);for(var c=[],g,q=d;q<n;q++){d=[];for(var h=b;h<k;h++)g=a.Sh[q][h],d.push(g);c.push(d);}return new f(c,a.D8);};f.prototype.KSa=function(){var a,b;a=this.Sh[0].length;for(b in this.Sh.slice(1))h(this.Sh[b].length===a,"expect this.chunkss[chunksIndex].length === n but got "+this.Sh[b].length+" and "+a);this.D8&&this.LSa();this.MSa();};f.prototype.xD=function(){return this.Sh[0].length;};f.prototype.LSa=function(){for(var a=0;a<this.Sh.length-1;a++)for(var b=0;b<this.xD();b++)h(this.Sh[a][b].ba<=this.Sh[a+1][b].ba,"Chunk size for epoch "+b+" is not monotonic");};f.prototype.MSa=function(){for(var a=0;a<this.Sh.length-1;a++)for(var b=0;b<this.xD();b++)h(1E-8>Math.abs(this.Sh[a][b].xn-this.Sh[a+1][b].xn),"Chunk duration for epoch "+b+" is not consistent");};f.prototype.ycb=function(){var a;a=[];this.Sh[0].forEach(function(b){a.push(b.xn);});return a;};g.T={WGa:b,XGa:f};},function(g,d,a){var p,c,k;function b(a,b,c){this.sn=b;this.Jl=c;this.kt=this.WJ=this.YU=this.Rya=this.Qya=this.gE=this.Gc=this.Jlb=this.Jl=this.Bg=this.ab=this.V=this.UM=this.VM=this.ca=this.Yua=this.Cu=void 0;}function f(a,b,c){this.da=b;this.uva=c;this.Jna=this.rEa=this.l1=this.VM=this.mq=this.ak=void 0;}function h(a,c,f,d,g,h){var n;n=new b(0,c,a.Jl);a.forEach(function(a){var b,f;b=a.buffer;f=b.ca;a.R===p.I.AUDIO?n.Cu=f.length?f[0].O:void 0:a.R===p.I.VIDEO&&(n.Yua=f.length?f[0].O:void 0,n.ca=f,n.VM=b.Ok-b.kf,n.UM=b.Fn,n.V=b.kf,n.ab=b.ab,n.Bg=a.pw,n.Jl=a.Jl,n.Jlb=c-a.Jl,n.Gc=a.Gc.filter(function(a){return k(a);}),n.gE=f.filter(function(a){return n.V<=a.yE;}).length);});this.zg=n;this.Rk=void 0;this.fqa=d;this.f2=g;this.S$=this.vV=this.xya=this.ep=this.eC=this.Jra=this.nk=this.Gc=this.Rk=void 0;this.mZa=h;}p=a(11);d=a(44);c=d.assert;k=d.Qy;b.prototype.constructor=b;f.prototype.constructor=f;h.prototype.constructor=h;h.prototype.Z8a=function(a,b){var c,k,d,n,g,q,h,t,l,m,r,D,Q,W,ca,ia,ja,Y,da,ea,Sa,oa;c=this.zg;k=[];n=a[p.I.VIDEO];g=a[p.I.AUDIO];if(void 0===n||void 0===g)return!1;q=n.buffer;h=g.buffer;t=n.headers;l=c.Gc.filter(function(a){return t&&t[a.id]&&t[a.id].ca;});if(void 0===q||void 0===h||void 0===t||void 0===l||0===l.length)return!1;d=new f(0,n.kf,b===p.Ia.St);m=0;r=0;D=0;Q=0;ca=c.V;a=a[p.I.VIDEO].kf;ia=c.ca;W=c.gE;for(var X=0;X<W;X++){ja=ia[X];Y=ja.offset;da=ja.offset+ja.ba-1;Sa=ja.us;ea=ja.Zs;oa=ea+Sa;ja&&ea<=a&&oa>ca&&(Sa=ja.us,ea=Math.min(Sa,Math.min(a,oa)-Math.max(ea,ca)+1),Q+=ea,m+=ea/Sa*(da-Y+1),r+=ja.O*ea,D+=ja.Vb*ea);}c.Qya=m;c.Rya=Q;c.YU=0<Q?r/Q:0;c.clb=0<Q?D/Q:0;c.WJ||(c.WJ=0,l.some(function(a,b){if(a.O===c.Yua)return c.WJ=b,!0;}));l.forEach(function(a){var b,f;a=t[a.id].ca;b=[];c.kt||(c.kt=a.Bi(c.V,void 0,!0));d.ak||(d.ak=a.Bi(d.da,void 0,!0),d.mq=a.length-1);c.Bg!==c.kt+c.gE&&(c.Bg=c.kt+c.gE);W=Math.min(d.mq,d.ak+1);for(var n=c.kt;n<=W;n++)f=a.get(n),b[n]=f;k.push(b);});b===p.Ia.St&&(d.VM=q.Ok-q.kf,d.l1=h.Ok-h.kf,d.rEa=n.cAa,d.Jna=g.cAa);this.Rk=d;this.Gc=l;this.nk=k;return this.Jra=!0;};h.prototype.Ds=function(){var a,b,f,k,d,g,h,t,p,l,m,r,D,Q;if(this.OD)return this.OD;b=this.ep;a=this.zg;k=this.Rk;d=this.Gc;g=this.xya;m=this.mZa;c(void 0!==b,"throughput object must be defined before retrieving the logdata from PlaySegment");if(b.trace&&0===b.trace.length||void 0===b.timestamp)k.uva?(p=!1,h=!0):k.ak-a.kt+1<=a.gE?h=p=!0:(p=!0,h=!1),t=!0;if(g){l=g.cq;for(var S=0;S<m.length;S++)f=m[S],(b=g[f])&&b.Vv&&(h=!0);}a={bst:a.Jl,pst:a.sn,s:a.kt,e:k.ak,prebuf:a.gE,brsi:a.Bg,pbdlbytes:a.Qya,pbdur:a.Rya,pbtwbr:a.YU,pbvmaf:a.clb};t&&(a.nt=t);h&&(a.nd=h);l&&(a.invalid=l);this.S$&&(a.rr=this.S$);this.vV&&(a.ra=this.vV);if(!h&&!l&&this.fqa){a.bitrate=d.map(function(a){return a.O;});b=this.ep;f=b.trace;r=[];D=0;f.forEach(function(a){a=Number(a).toFixed(0);r.push(a-D);D=a;});a.tput={ts:b.timestamp,trace:r,bkms:b.Kk};}if(h||t||l)a.feasible=p;else for(a.sols={},S=0;S<m.length;S++){f=m[S];b=g[f];h={};if(b&&b.Hq&&(h.f=b&&b.Fi||!1,h.dltwbr=b.s6a,h.dlvmaf=b.Fqa,h.dlvdur=b.b4,h.dlvbytes=b.a4,h.dlabytes=b.Z3,this.fqa)){D=0;Q=[];b.Hq.filter(function(a){return a;}).map(function(a){return a.qd;}).forEach(function(a){Q.push(a-D);D=a;});h.strmsel=Q;}a.sols[f]=h;}return this.OD=a;};g.T=h;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(374),d);},function(g,d,a){(function(){var w4o,k,q,n,u,y,A,K,z0S,h0S,U0S;w4o=2;function b(a,b,c){var D4o,f,k,d;D4o=2;while(D4o!==3){switch(D4o){case 1:D4o=c?5:9;break;case 2:D4o=1;break;case 9:a.some(function(a){var H4o;H4o=2;while(H4o!==5){switch(H4o){case 3:f=a.m;return b<a.b;break;H4o=5;break;case 2:f=a.m;return b<=a.b;break;}}});D4o=4;break;case 5:a.some(function(a){var I4o,c;I4o=2;while(I4o!==6){switch(I4o){case 3:return f=d&&c!==k?d+(a-d)/(c-k)*(b-k):a,!0;break;case 5:a=a.m;I4o=4;break;case 2:c=a.b;I4o=5;break;case 4:I4o=b<=c?3:9;break;case 9:k=c;f=d=a;return!1;break;}}});D4o=4;break;case 4:return f;break;}}}function d(a,b){var Z4o;Z4o=2;while(Z4o!==9){switch(Z4o){case 2:this.JG=null;this.G=a;this.jla=b;this.rza=function(a,b){var P4o;P4o=2;while(P4o!==1){switch(P4o){case 2:return this.Ula(a,b);break;case 4:return this.Ula(a,b);break;P4o=1;break;}}}.bind(this);this.sza=function(a,b){var R4o;R4o=2;while(R4o!==1){switch(R4o){case 4:return this.Vla(a,b);break;R4o=1;break;case 2:return this.Vla(a,b);break;}}}.bind(this);Z4o=9;break;}}}while(w4o!==23){z0S="1SI";z0S+="Y";z0S+="b";z0S+="ZrNJCp";z0S+="9";h0S="me";h0S+="di";h0S+="a|asej";h0S+="s";U0S="A";U0S+="SEJS_PREDICT";U0S+="O";U0S+="R";switch(w4o){case 3:q=a(60);n=q.sC;u=q.o1a;y=q.q8a;w4o=6;break;case 6:A=q.r8a;K=q.Yob;d.prototype.RE=function(a){var M4o;M4o=2;while(M4o!==1){switch(M4o){case 4:this.JG=a;M4o=5;break;M4o=1;break;case 2:this.JG=a;M4o=1;break;}}};d.prototype.rca=function(a){var V4o;V4o=2;while(V4o!==1){switch(V4o){case 4:this.G=a;V4o=3;break;V4o=1;break;case 2:this.G=a;V4o=1;break;}}};w4o=11;break;case 2:k=a(7);a(11);new(a(6)).Console(U0S,h0S);w4o=3;break;case 19:h.prototype.Ula=function(a,b){var d4o;d4o=2;while(d4o!==1){switch(d4o){case 4:return f(this.G,a,b);break;d4o=1;break;case 2:return f(this.G,a,b);break;}}};h.prototype.Vla=function(a,b){var e4o,c;e4o=2;while(e4o!==3){switch(e4o){case 2:c=this.xXa(a,this.G);e4o=5;break;case 5:a=a.va?a.va.Ha*(100-this.dUa(b,c))/100|0:0;return this.G_(a);break;}}};h.prototype.xXa=function(a,b){var c4o,c,f;c4o=2;while(c4o!==9){switch(c4o){case 3:return c;break;case 2:c=!1;f=b.lI;a.Ho?c=!0:b.Jba&&a.va&&a.va.Ha<f?c=!0:a.Ys&&(c=!0);c4o=3;break;}}};w4o=16;break;case 11:d.prototype.G_=function(a){var J4o,b,c;J4o=2;while(J4o!==9){switch(J4o){case 2:b=this.G;k.Ra(this.JG)?c=a*(100-b.AW)/100:(c=this.JG,c=a<2*c?a/2:a-c);b.Y7&&this.jla?(b=this.jla,a=Math.max(a<2*b?a/2:a-b,c)):a=c;return a;break;}}};h.prototype=Object.create(d.prototype);h.prototype.dUa=function(a,c){var N4o,f,d;N4o=2;while(N4o!==8){switch(N4o){case 2:f=this.G;d=c?f.Y2:f.X1;N4o=4;break;case 4:c=c?f.Z2:f.Z1;k.isArray(c)&&(d=b(c,a.Ok-a.kf,f.Y1));return d;break;}}};w4o=19;break;case 16:Object.create(h.prototype);c.prototype=Object.create(d.prototype);c.prototype.Ula=function(a,b){var b4o;b4o=2;while(b4o!==1){switch(b4o){case 2:return f(this.G,a,b);break;case 4:return f(this.G,a,b);break;b4o=1;break;}}};c.prototype.Vla=function(a,b){var q4o,c,f,k;q4o=2;while(q4o!==13){switch(q4o){case 2:c=a.va&&a.va.Ha||0;f=Math.pow(Math.max(1-(a[this.yka]&&a[this.yka].Ha||c)/this.QSa,0),this.PSa);k=b.Ok-b.kf;q4o=3;break;case 3:q4o=a.Wlb?9:8;break;case 9:return this.G_((1-a.Wlb)*c);break;case 6:void 0!==a&&(a=A(this.yVa,a),f=Math.min(f*a,1));p4UU.p0S(0);return this.G_(p4UU.L0S(c,f,1));break;case 8:this.jka?f*=y(this.jka,k,f):this.zXa?(b=y(this.lka,k,1),k=y(this.kka,k,1),f=b*f+k*(1-f)):f=y(K(this.lka,this.kka,f),k,1);a=this.r0&&a[this.r0]&&a[this.r0].PK;q4o=6;break;}}};g.T=function(a,b){var g4o,X4o,o0S;g4o=2;while(g4o!==5){o0S="m";o0S+="anif";o0S+="o";o0S+="ld";switch(g4o){case 7:return new c(a,b);break;g4o=5;break;case 1:return new c(a,b);break;case 2:X4o=a.F8;g4o=X4o===o0S?1:4;break;case 4:return new h(a,b);break;}}};z0S;w4o=23;break;}}function c(a,b){var p4o;p4o=2;while(p4o!==7){switch(p4o){case 2:d.call(this,a,b);Array.isArray(a.Um.curves)?(this.lka=u(a.Um.curves[0],0,0,1),this.kka=u(a.Um.curves[1],0,0,1)):this.jka=u(a.Um.curves,0,0,1);this.QSa=n(a.Um.threshold||6E3,1,1E5);p4o=4;break;case 4:this.PSa=n(a.Um.gamma||1,.1,10);this.yka=a.Um.filter;p4o=9;break;case 9:this.zXa=!!a.Um.simpleScaling;a.Um.niqrfilter&&a.Um.niqrcurve&&(this.r0=a.Um.niqrfilter,this.yVa=u(a.Um.niqrcurve,1,0,4));p4o=7;break;}}}function h(a,b){var n4o;n4o=2;while(n4o!==1){switch(n4o){case 4:d.call(this,a,b);n4o=2;break;n4o=1;break;case 2:d.call(this,a,b);n4o=1;break;}}}function f(a,b,c){var L4o;L4o=2;while(L4o!==5){switch(L4o){case 2:b=b.va?b.va.Ha:0;return a.A_a?(a=y(a.z_a,c.Ok-c.kf,1),b*(1-a)):b*a.AW/100;break;}}}}());},function(g,d,a){var h,p,c,k,q,n;function b(a,b,c,f){k(!h.P(f),"Must have at least one selected stream");return new n(f);}function f(a,b,c,f){k(!h.P(f),"Must have at least one selected stream");return new n(f);}h=a(7);d=a(44);p=d.console;c=d.debug;k=d.assert;q=d.Qy;n=d.up;g.T={STARTING:function(a,b,f){var d,g,h,u;function k(f,k){var d,n,g,q;d=f.id;n=f.O;g=f.va||0;q=!!g;c&&p.log("Checking feasibility of ["+k+"] "+d+" ("+n+" Kbps)");if(!f.df)return c&&p.log("  Not available"),!1;if(!f.inRange)return c&&p.log("  Not in range"),!1;if(f.Rg)return c&&p.log("  Failed"),!1;if(n>a.wK)return c&&p.log("  Above maxInitAudioBitrate ("+a.wK+" Kbps)"),!1;if(!(n*a.sU/8<b.buffer.Nu))return c&&p.log("  audio buffer too small to handle this stream"),!1;if(q){c&&p.log("  Have throughput history = "+q+" : available throughput = "+g+" Kbps");if(n<g/h)return c&&p.log(" +FEASIBLE: bitrate less than available throughput"),!0;c&&p.log(" bitrate requires more than available throughput");return!1;}f=a.HK;b.v7&&(f=Math.max(f,a.GK));if(n<=f)return c&&p.log("  Bitrate is less than max of minInitAudioBitrate ("+a.HK+" Kbps) "+(b.v7?" and also minHCInitAudioBitrate ("+a.GK+" Kbps)":"")),c&&p.log("  +FEASIBLE: no throughput history and has minimum bitrate configured"),!0;c&&p.log("  No throughput history");return!1;}d=new n();h=a.iEb||1;for(u=f.length-1;0<=u;--u){g=f[u];if(k(g,u)){d.qd=u;break;}q(g)&&(d.qd=u);}return d;},BUFFERING:b,REBUFFERING:b,PLAYING:f,PAUSED:f};},function(g){function d(){}function a(a){this.Cma=a;this.rl=[];this.Me=null;}d.prototype.clear=function(){this.yd=null;this.size=0;};d.prototype.find=function(a){var d;for(var b=this.yd;null!==b;){d=this.Qj(a,b.data);if(0===d)return b.data;b=b.lf(0<d);}return null;};d.prototype.lowerBound=function(a){var c;for(var b=this.yd,d=this.iterator(),g=this.Qj;null!==b;){c=g(a,b.data);if(0===c)return d.Me=b,d;d.rl.push(b);b=b.lf(0<c);}for(c=d.rl.length-1;0<=c;--c)if(b=d.rl[c],0>g(a,b.data))return d.Me=b,d.rl.length=c,d;d.rl.length=0;return d;};d.prototype.upperBound=function(a){for(var b=this.lowerBound(a),d=this.Qj;null!==b.data()&&0===d(b.data(),a);)b.next();return b;};d.prototype.min=function(){var a;a=this.yd;if(null===a)return null;for(;null!==a.left;)a=a.left;return a.data;};d.prototype.max=function(){var a;a=this.yd;if(null===a)return null;for(;null!==a.right;)a=a.right;return a.data;};d.prototype.iterator=function(){return new a(this);};d.prototype.Rc=function(a){for(var b=this.iterator(),d;null!==(d=b.next());)a(d);};a.prototype.data=function(){return null!==this.Me?this.Me.data:null;};a.prototype.next=function(){var a;if(null===this.Me){a=this.Cma.yd;null!==a&&this.rla(a);}else if(null===this.Me.right){do if(a=this.Me,this.rl.length)this.Me=this.rl.pop();else{this.Me=null;break;}while(this.Me.right===a);}else this.rl.push(this.Me),this.rla(this.Me.right);return null!==this.Me?this.Me.data:null;};a.prototype.Ez=function(){var a;if(null===this.Me){a=this.Cma.yd;null!==a&&this.mla(a);}else if(null===this.Me.left){do if(a=this.Me,this.rl.length)this.Me=this.rl.pop();else{this.Me=null;break;}while(this.Me.left===a);}else this.rl.push(this.Me),this.mla(this.Me.left);return null!==this.Me?this.Me.data:null;};a.prototype.rla=function(a){for(;null!==a.left;)this.rl.push(a),a=a.left;this.Me=a;};a.prototype.mla=function(a){for(;null!==a.right;)this.rl.push(a),a=a.right;this.Me=a;};g.T=d;},function(g,d,a){var f,h;function b(a){this.G={xK:a.maxc||25,V2:a.c||.5,mnb:a.rc||"none",Fcb:a.hl||7200};this.qH();this.PWa=this.G.mnb;this.TG=this.G.Fcb;this.o_=Math.exp(Math.log(2)/this.TG);this.o_=Math.max(this.o_,1);this.VO=1;}f=a(7);h=a(197).TDigest;new(a(6)).Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.Re=function(){var a;if(0===this.Ud.size())return null;a=this.Ud.sg([.25,.75]);if(a[0]===a[1])return null;this.Ud.size()>this.G.xK&&this.Ud.ls();a=this.Ud.kA(!1).reduce(function(a,b){f.qa(b.Ee)&&f.qa(b.n)&&a.push({mean:b.Ee,n:b.n/this.VO});return a;}.bind(this),[]);return{tdigest:JSON.stringify(a)};};b.prototype.Wg=function(a){var b;if(f.Ra(a)||!f.has(a,"tdigest")||!f.Ld(a.tdigest))return!1;try{b=JSON.parse(a.tdigest);}catch(k){return!1;}b.forEach(function(a){f.isFinite(a.n)||(a.n=1);});a=b.map(function(a){return{Ee:a.mean,n:a.n};});this.VO=1;this.Ud.J$(a);void 0===this.Ud.sg(0)&&this.qH();};b.prototype.get=function(){var a,b;a=this.Ud;b=a.sg([0,.1,.25,.5,.75,.9,1]);return{min:b[0],U9:b[1],wj:b[2],ai:b[3],xj:b[4],V9:b[5],max:b[6],mg:a.kA(!1)};};b.mbb=function(a){var c;c=new b({});f.Ra(a)||f.P(a)||!f.isArray(a.mg)||(c.Ud.J$(a.mg),void 0===c.Ud.sg(0)&&c.qH());a=c.Ud.sg([.25,.75]);return a[0]===a[1]?null:function(a){return c.Ud.sg(a);};};b.prototype.add=function(a){var b;b=1;"ewma"===this.PWa&&(this.VO=b=this.VO*this.o_);this.Ud.push(a,b);};b.prototype.toString=function(){return"TDigestHist("+this.Ud.summary()+")";};b.prototype.qH=function(){this.Ud=new h(this.G.V2,this.G.xK);};g.T=b;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(0).__exportStar(a(722),d);},function(g,d,a){var p,c;function b(a,b,c,f,d,g){return new h(a,b,c,f,d,g);}function f(a){return a&&0<=a.indexOf(".__metadata__");}function h(a,b,c,f,d,g){this.partition=a;this.lifespan=c;this.resourceIndex=b;this.size=f;this.creationTime=d;this.lastRefresh=g;return this.pDa();}p=a(7);c=a(110);a(109);new c.Console("MEDIACACHE","media|asejs");h.prototype.refresh=function(){this.lastRefresh=c.time.now();return this.pDa();};h.prototype.WBa=function(a){this.size=a;};h.prototype.npa=function(){var a;a=c.time.now();return(this.lastRefresh+1E3*this.lifespan-a)/1E3;};h.prototype.pDa=function(){this.lastMetadataUpdate=c.time.now();return this;};h.prototype.constructor=h;g.T={create:b,j5:function(a){var c;c=a;"string"===typeof a&&(c=JSON.parse(a));if(c&&c.partition&&!p.P(c.lifespan)&&c.resourceIndex&&c.creationTime&&c.lastRefresh)return a=b(c.partition,c.resourceIndex,c.lifespan,-1,c.creationTime,c.lastRefresh),c.lastMetadataUpdate&&(a.lastMetadataUpdate=c.lastMetadataUpdate),!p.P(c.size)&&0<=c.size&&a.WBa(c.size),a.npa(),a.convertToBinaryData=c.convertToBinaryData,a;},j3:function(a){return a+".__metadata__";},fS:function(a){return f(a)?a.slice(0,a.length-13):a;},ED:f};},function(g,d,a){var K,x,I,l,N,m,S,r,D,Q,W,ca,ia;function b(){}function f(a,c){var f,d,k,n;f=K.Mb(c)?c:b;this.G=a||{};(function(a,b,c){this.ph[a].kd[b]=c;}.bind(this));(function(a,b){return this.ph[a].kd?this.ph[a].kd[b]:void 0;}.bind(this));this.on=this.addEventListener=ca.addEventListener;this.removeEventListener=ca.removeEventListener;this.emit=this.ka=a.hGb?ca.ka:b;d=l.c4a(a);k=this.G.dailyDiskCacheWriteLimit;if(d){this.xp=d;n=u(a.W8||ia,l.U$a());this.Or=function(a){return K.P(n)||null===n||void 0===this.ph[a]?!1:!K.P(n[a]);};n?(this.ph={},c=x.Promise.all(Object.keys(n).map(function(b){return new x.Promise(function(c,f){var g;g=n[b];g.eEa=a.eEa;new N(b,d,g,function(a,b){a?f(a):c(b);},k);});})).then(function(a){a.map(function(a){var b;b=a.nu;this.ph[b]=a;n[b].H9a=n[b].Nu-a.Nr;this.ph[b].on(N.ud.REPLACE,function(a){a=a||{};a.partition=b;a.type="save";this.ka("mediacache",a);}.bind(this));this.ph[b].on(N.ud.tja,function(a){a=a||{};a.partition=b;a.type="save";this.ka("mediacache",a);}.bind(this));this.ph[b].on(N.ud.ERROR,function(a){a=a||{};a.partition=b;a.type=N.ud.ERROR;this.ka("mediacache-error",a);}.bind(this));}.bind(this));return this;}.bind(this)).then(function(a){q(d,x.storage.UA,Object.keys(n));return a;}.bind(this)).then(function(a){Object.keys(a.ph).map(function(b){a.ph[b].F5().map(function(c){a["delete"](b,c);});});a.hn=!0;f(null,a);}.bind(this))["catch"](function(a){I.error("Failed to initialize media cache ",a);this.Ky=Q.Wda;f(this.Ky,this);}.bind(this)),W.yq(c)):(this.Ky=Q.dLa,f(this.Ky,this));}else this.Ky=Q.Wda,f(this.Ky,this);}function h(a,b,c,f,d,k){var n;n=k?"mediacache-error":"mediacache";b={partition:c,type:b,resource:f,time:x.time.now()};k&&(b.error=k);d&&(K.qa(d.duration)&&(b.duration=d.duration),K.qa(d.gs)&&(b.bytesRead=d.gs));try{a.ka(n,b);}catch(O){I.warn("caught exception while emitting basic event",O);}}function p(a,b,c,f,d){var k;k=d?"mediacache-error":"mediacache";b={partition:c,type:b,resources:f,time:x.time.now()};d&&(b.error=d);try{a.ka(k,b);}catch(oa){I.warn("caught exception while emitting basic event",oa);}}function c(a){return!K.P(a)&&!K.Ra(a)&&K.qa(a.lifespan);}function k(a){return!m.ED(a)&&!r.yeb(a);}function q(a,c,f){a.query(c,"",function(d,k){d||Object.keys(k).filter(function(a){return 0>f.indexOf(a.slice(0,a.indexOf(".")));}).map(function(f){a.remove(c,f,b);});});}function n(a,b,c){var d,k;function f(b){a["delete"](d,function(f){f?c(f):(delete a.kd[k],f=Object.keys(b.resourceIndex),f=x.Promise.all(f.map(function(b){return new x.Promise(function(c,f){a["delete"](b,function(a){a?f(a):c(b);});});})).then(function(){c();},function(a){c(a);}),W.yq(f));});}m.ED(b)?(d=b,k=m.fS(b)):(d=m.j3(b),k=b);(b=a.kd[k])?f(b):a.read(d,function(a,b){a?c(a):f(b);});}function u(a,b){var c,f,d;c={};f=a.partitions.reduce(function(a,b){return a+b.capacity;},0);d=b/f;a.partitions.map(function(a){var b;b=a.key;c[b]={};c[b].Nu=Math.floor(d*a.capacity);c[b].L4a=a.dailyWriteFactor||1;c[b].oJb=a.owner;c[b].u8a=a.evictionPolicy;});return c;}function y(a,b,c){if(c)return r.p6a(a,b).reduce(function(a,b){Object.keys(b).map(function(c){a[c]=b[c];});return a;},{});c={};c[a]=b;return c;}function A(a,b,c,f,d,k,n,g,q,h,u){return function(t,p){t?K.isArray(t)?(p=t.map(function(a){return a.error;}),p.some(function(a){return a.code===Q.AA.code;})&&!p.some(function(a){return a.code===Q.yO.code;})?u(h,t,function(){q.save(b,c,f,d,k,n);}):(h["delete"](g),delete h.kd[c],k({error:t[0].error,Us:t[0].Us,type:t[0].type,qna:t}))):k({error:t,Us:b,type:"save"}):(t=p.items.filter(function(b){return 0<=Object.keys(a).indexOf(b.key);}).reduce(function(a,b){return a+b.GT;},0),h.kd[c].WBa(t),t={H9a:p.Di,zFb:p.IC,Rh:0,items:p},0<p.Rh&&(t.Rh=p.Rh),0<p.duration&&(t.duration=p.duration),k(null,t));};}K=a(7);x=a(110);I=new x.Console("MEDIACACHE","media|asejs");l=a(732);N=a(731);m=a(359);S=a(109);r=a(726);D=a(725);Q=a(200);W=a(199);ca=a(24).EventEmitter;ia={CJb:[]};f.prototype.Iz=function(a,c,f){var d;d=K.Mb(f)?f:b;this.Or(a)?this.ph[a].query(c,function(a,b){a?(I.error("Failed to query resources",a),d([])):d(b.filter(k));}):d([]);};f.prototype.read=function(a,c,f){var d,k,n,g;d=K.Mb(f)?f:b;if(this.Or(a)){k=this.ph[a];n=k.kd[c];if(!m.ED(c)&&this.G.Ehb){g=function(b){k.uV(Object.keys(b),function(b,f,k){b?d(Q.$A.vm("Failed to read "+c,b)):(h(this,"read",a,c,k),d(null,r.ceb(f)));}.bind(this),b);}.bind(this);n?g(n.resourceIndex):this.dnb(a,c,function(a,b){a?d(Q.$A.vm("Failed to read "+c,a)):g(b.resourceIndex);});}else k.read(c,function(b,f,k){b?d(Q.$A.vm("Failed to read "+c,b)):(n&&n.convertToBinaryData&&(f=D.f2a(f)),h(this,"read",a,c,k),d(null,f));}.bind(this));}else d(Q.Kt);};f.prototype.uV=function(a,c,f){var d,k;d=K.Mb(f)?f:b;if(this.Or(a)){k={};c=x.Promise.all(c.map(function(b){return new x.Promise(function(c,f){this.read(a,b,function(a,d){a?(d={},d[b]=a,f(d)):(k[b]=d,c());});}.bind(this));}.bind(this))).then(function(){d(null,k);},function(a){d(a);});W.yq(c);}else d(Q.Kt);};f.prototype.dBa=function(a,c,f){var d;d=K.Mb(f)?f:b;this.Or(a)?"[object Object]"!==Object.prototype.toString.call(c)?d(Q.xO.vm("items must be a map of keys to objects")):(f=new x.Promise(function(b){var f,d;f=this.ph[a].F5();d=Object.keys(c);(f=f.filter(function(a){return-1===d.indexOf(a);}))&&0<f.length?this.wqa(a,f,function(){b();}):b();}.bind(this)).then(function(){return x.Promise.all(Object.keys(c).map(function(b){return new x.Promise(function(f,d){this.save(a,b,c[b].jm,c[b].fd,function(a,c){a?(I.error("Received an error saving",b,a),d(a)):f(c);},!0);}.bind(this));}.bind(this)));}.bind(this)).then(function(b){var f,k,n;try{f=Number.MAX_VALUE;k=Number.MAX_VALUE;n=b.reduce(function(a,b){b.Di&&b.Di<f&&(f=b.Di);b.IC&&b.IC<k&&(k=b.IC);f<Number.MAX_VALUE&&(a.freeSize=f);k<Number.MAX_VALUE&&(a.dailyBytesRemaining=k);K.qa(b.Rh)&&(a.bytesWritten+=b.Rh);K.qa(b.duration)&&(a.duration+=b.duration);return a;},{partition:a,type:"saveMultiple",keys:Object.keys(c),time:x.time.now(),bytesWritten:0,duration:0});this.ka("mediacache",n);d(null,n);}catch(ra){d(err);}}.bind(this),function(b){K.isArray(b.qna)?b.qna.forEach(function(b){this.ka("mediacache-error",{partition:a,type:"saveMultiple",error:b.error,resources:b.HL});}.bind(this)):this.ka("mediacache-error",{partition:a,type:"saveMultiple",error:b});d(b);}.bind(this)),W.yq(f)):(K.Mb(f)?f:b)(Q.Kt);};f.prototype.save=function(a,f,d,k,n,g){var q,u,t,l,G,N,T,r,V;q=K.Mb(n)?n:b;if(this.Or(a)){u=this.ph[a];t=m.j3(f);n=u.F5();n=n.filter(function(a){return a!==f;});if(c(k)){l=y(f,d,this.G.Ehb);G=u.kd[f]||{};N=G.resourceIndex;N&&Object.keys(N).map(function(a){K.P(l[a])&&u["delete"](a);});k.convertToBinaryData&&(d=D.g2a(l),l=y(f,d,!1));N=x.time.now();T={};T.partition=a;T.resourceIndex=Object.keys(l).reduce(function(a,b){a[b]=S.q6(l[b]);return a;},{});T.creationTime=G.creationTime||N;T.lastRefresh=N;T.lifespan=k.lifespan;T.lastMetadataUpdate=N;T.size=G.size;T.convertToBinaryData=k.convertToBinaryData;r=function(a,b,c){a.M5a(function(d,k){d&&I.error("Evicting","Failed to delete some orphaned records",d);k.W$?c():(d=a.hab())?this["delete"](a.getName(),d,function(d){d?(g||(K.isArray(b)?b.forEach(function(b){p(this,"save",a.getName,b.HL,b.error);}.bind(this)):h(this,"save",a.getName(),f,void 0,b)),q(b)):c();}.bind(this)):q(Q.AA);}.bind(this));}.bind(this);V=function(){var a,b,c;a=this.ph;b=0;c=x.time.now();if(!K.P(a))for(var f in a)b+=a[f].w$a(c);return b;}.bind(this);this.wqa(a,n,function(){u.replace(t,T,function(b,c){c?(u.kd[f]=m.j5(T),u.dob(l,A(l,a,f,d,k,q,g,t,this,u,r),g,V)):b.code===Q.AA.code?r(u,b,function(){this.save(a,f,d,k,q,g);}.bind(this)):q(b);}.bind(this),g,V);}.bind(this));}else q(Q.gMa);}else q(Q.Kt);};f.prototype["delete"]=function(a,c,f){var d;d=K.Mb(f)?f:b;this.Or(a)?n(this.ph[a],c,function(b){h(this,"delete",a,c,void 0,b);d(b);}.bind(this)):d(Q.Kt);};f.prototype.wqa=function(a,c,f){var d,k;d=K.Mb(f)?f:b;if(this.Or(a)){k=this.ph[a];f=x.Promise.all(c.map(function(a){return new x.Promise(function(b){n(k,a,function(c){b({X:K.P(c),error:c,jm:a});}.bind(this));}.bind(this));}.bind(this))).then(function(b){var g,q;for(var c=[],f=[],k=[],n=0;n<b.length;n++){g=b[n];g.X?c.push(g.jm):g.error&&f.push(g);}0<c.length&&p(this,"delete",a,c);0<f.length&&(k=f.map(function(a){return a.jm;}),b=W.$ta(f),q=b[0],b.forEach(function(b){I.error("Failed to delete resources ",b.error,b.HL);p(this,"delete",a,b.HL,b.error);}.bind(this)));b={};b.oKb=c;0<k.length&&(b.pKb=k);q?d(q,b):d(void 0,b);}.bind(this),function(b){p(this,"delete",a,c,b);d(b);}.bind(this));W.yq(f);}else d(Q.Kt);};f.prototype.clear=function(a,c){var f;f=K.Mb(c)?c:b;this.Or(a)?this.ph[a].clear(function(a){f(a.filter(k));}):f(Q.Kt);};f.prototype.dnb=function(a,c,f){var d,k;d=K.Mb(f)?f:b;if(this.Or(a)){f=m.j3(c);k=this.ph[a];k.read(f,function(a,b){var f;if(a)d(Q.hMa);else{f=m.j5(b)||{};k.zta(Object.keys(f.naa),function(a){f.size=a;(a=k.kd[c])&&(f.lastMetadataUpdate&&a.lastMetadataUpdate&&a.lastMetadataUpdate<=f.lastMetadataUpdate?k.kd[c]=f:a.lastMetadataUpdate&&(a.lastMetadataUpdate>f.lastMetadataUpdate||K.P(f.lastMetadataUpdate))&&(f=a));d(null,f);});}});}else d(Q.Kt);};f.prototype.SDa=function(a){x.TJ(a);};f.prototype.constructor=f;g.T=f;},function(g,d,a){d=a(735);g.T=d;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.vpa=function(a,b){var f;if(!Array.isArray(a.upa))return a;f=Object.create(a);a.upa.forEach(function(a){if(void 0!==a.nib&&b.duration>=a.nib&&a.config)for(var d in a.config)f[d]=a.config[d];});return f;};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(69);f=a(364);a(13);g=function(){function a(a,b){this.ZUa=a.Aa;this.Fd=a.ga||0;this.uu=a.fb;this.q0=a.M;this.Bk=a.R;this.fP=a.Ka;this.hla=a.Sgb;this.Lr=a.Ka&&a.Ka.ha;this.V_=this.vka=!1;this.K6=-Infinity;this.uwa=Infinity;!1;this.N=b;}a.sJ=function(f,c,d,g,n){var k,q,h,t;k=d.streams[0];if(0!==g&&void 0!==k.framerate_value&&void 0!==k.framerate_scale){q=k.framerate_value;k=k.framerate_scale;h=Math.floor(1E3*q/k);t=1E3*Math.round(h/1E3);q=new b.oc(t,Math.abs(Math.floor(1001*q/k)-t)>Math.abs(h-t)?1E3:1001).onb();}return new a({Aa:c,M:String(c.movieId),fb:d.track_id,Ka:q,Sgb:q,ga:f,R:g},n);};Object.defineProperties(a.prototype,{Tc:{get:function(){return!!this.fp;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{g4:{get:function(){return this.vka;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Aa:{get:function(){return this.ZUa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Fd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.q0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{fb:{get:function(){return this.uu;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Bk;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ka:{get:function(){return this.fP;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ha:{get:function(){return this.Lr;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Tv:{get:function(){return this.pVa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{fp:{get:function(){return this.Fb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{g5:{get:function(){return this.Ka.ha;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{f5:{get:function(){return this.Ka.Dd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{NH:{get:function(){return this.Ka.Dd;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{PH:{get:function(){return this.Ka.ha;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{n7:{get:function(){return this.Ka.Zf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{V:{get:function(){return 0;},enumerable:!0,configurable:!0}});a.prototype.KU=function(a,b,d,g,n){if(g&&void 0!==g.pm&&(this.Tc||void 0!==g.dd&&g.dd.length))if(a.Wk&&(this.vka=!0),this.Tc)!this.V_&&g.dd&&g.dd.length>this.fp.length&&(this.Fb=new f.aja(this.R,this.Ka,g,n),this.K6=-Infinity,this.V_=!0);else{this.vma(b);if(d=d||this.hla)this.uma(d||this.hla),void 0===this.ha&&this.xma(d.ha);this.Fb=new f.aja(this.R,this.Ka,g,n);a.Wk&&(this.V_=!0);}else this.N&&this.N.error("AseTrack.onHeaderReceived with missing fragments data");};a.prototype.k2a=function(a){this.Tc||(this.xma(a.ha),this.vma(a.Tv),this.uma(a.Ka),this.Fb=a.fp);};a.prototype.toJSON=function(){return{movieId:this.M,mediaType:this.R,trackId:this.uu};};a.prototype.toString=function(){return(0===this.R?"a":"v")+":"+this.uu;};a.prototype.xma=function(a){this.Lr=a;};a.prototype.vma=function(a){this.pVa=a;};a.prototype.uma=function(a){this.fP=a;};return a;}();d.eda=g;},function(g,d,a){var f,h,p;function b(a){return function(){for(var b=Array(this.length),c=0;c<this.length;++c)b[c]=a.call(this,c);return b;};}Object.defineProperty(d,"__esModule",{value:!0});f=a(13);g=a(6);a=a(55);h=new g.Console("FRAGMENTS","media|asejs");p=function(){function a(a,b){this.Fb=a;this.ni=b;}a.prototype.toJSON=function(){return{startPts:1E3*this.eb/this.Ka.ha,endPts:1E3*this.nb/this.Ka.ha,duration:1E3*this.Qk/this.Ka.ha,index:this.index};};return a;}();d.ORa=p;a.Yj(p.prototype,{index:a.Z({get:function(){return this.ni;}}),eb:a.Z({get:function(){return this.Fb.uH+this.Fb.Jr[this.ni];}}),nb:a.Z({get:function(){return this.eb+this.Fb.Km[this.ni];}}),Qk:a.Z({get:function(){return this.Fb.Km[this.ni];}}),Ka:a.Z({get:function(){return this.Fb.Ka;}}),ha:a.Z({get:function(){return this.Fb.ha;}}),NH:a.Z({get:function(){return this.Fb.Ka.Dd;}}),PH:a.Z({get:function(){return this.Fb.Ka.ha;}}),V:a.Z({get:function(){return Math.floor(1E3*this.eb/this.ha);}}),da:a.Z({get:function(){return Math.floor(1E3*(this.eb+this.Qk)/this.ha);}}),duration:a.Z({get:function(){return Math.floor(1E3*this.Qk/this.ha);}})});g=function(){function a(a,b,c,f){this.R=a;this.length=c.dd.length;this.Lr=c.ha;this.Km=c.dd;this.yQ=f&&f.tE;this.nna=f&&f.HE;this.fP=b;this.nca=this.oca=this.kla=void 0;this.uH=c.pm;this.Jr=new Uint32Array(this.length+1);if(this.length){for(b=a=0;b<this.length;++b)this.Jr[b]=a,a+=this.Km[b];this.Jr[b]=a;this.da=this.dg(this.length);this.Zr=Math.floor((this.da-this.V)/this.length);}}a.prototype.dg=function(a){return Math.floor(1E3*(this.uH+this.Jr[a])/this.ha);};a.prototype.$C=function(a){return a<this.length-1?this.dg(a+1):this.da;};a.prototype.dd=function(a){return this.$C(a)-this.dg(a);};a.prototype.get=function(a){return new p(this,a);};a.prototype.Bi=function(a,b,c){if(0===this.length||a<this.dg(0))return-1;a=Math.max(a,b||0);for(var f=0,d=this.length-1,k,n;d>=f;)if(k=f+(d-f>>1),n=this.dg(k),a<n)d=k-1;else if(a>=n+this.dd(k))f=k+1;else{for(;b&&k<this.length&&this.dg(k)<b;)++k;return k<this.length?k:c?this.length-1:-1;}return c?this.length-1:-1;};a.prototype.iS=function(a,b,c){a=this.Bi(a,b,c);return 0<=a?this.get(a):void 0;};a.prototype.f3=function(a,b){var c,f;c=Math.floor(b*this.ha/1E3);b=Math.min(a+Math.ceil(b/this.Zr),this.length);f=this.Jr[b]-this.Jr[a];if(f>c){for(;f>=c;)--b,f-=this.Km[b];return b-a+1;}for(;f<c&&b<=this.length;)f+=this.Km[b],++b;return b-a;};a.prototype.subarray=function(b,c){f.assert(void 0===b||0<=b&&b<this.length);f.assert(void 0===c||c>b&&c<=this.length);return new a(this.R,this.Ka,{ha:this.ha,pm:this.uH+this.Jr[b],dd:this.Km.subarray(b,c)},this.yQ&&{tE:this.yQ.subarray(b,c+1),HE:this.nna});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.Zr};};a.prototype.dump=function(){var b;h.trace("TrackFragments: "+this.length+", averageFragmentDuration: "+this.Zr+"ms");for(var a=0;a<this.length;++a){b=this.get(a);h.trace("TrackFragments: "+a+": ["+b.V+"-"+b.da+"]");}};a.prototype.bTa=function(){for(var a=0,b=0;b<this.length;b++)a=Math.max(this.Km[b],a);return this.kla=a;};return a;}();d.aja=g;a.Yj(g.prototype,{pm:a.Z({get:function(){return this.uH+this.Jr[0];}}),lra:a.Z({get:function(){return this.uH+this.Jr[this.length];}}),V:a.Z({get:function(){return this.dg(0);}}),M8:a.Z({get:function(){return this.kla||this.bTa();}}),Ka:a.Z({get:function(){return this.fP;}}),ha:a.Z({get:function(){return this.Lr;}})});d.C8=b;g.prototype.wCa=b(g.prototype.dg);d.gEb=function(a){return"["+Array(a.length).map(function(b,c){return a[c].toString();}).join(",")+"]";};},function(g,d,a){var b,f,h,p,c,k,q,n,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(13);h=a(203);p=a(372);c=a(6);g=a(364);a=a(55);k=new c.Console("FRAGMENTS","media|asejs");try{q=!0;}catch(y){q=!1;}n=function(a){function c(b,c){c=a.call(this,b.fp,c)||this;c.Lx=b;return c;}b.__extends(c,a);c.prototype.toJSON=function(){return{index:this.index,contentStartTicks:this.eb,contentEndTicks:this.nb,durationTicks:this.Qk,timescale:this.ha,startPts:this.V,endPts:this.da,duration:this.duration,additionalSAPs:this.kg};};return c;}(g.ORa);d.ICb=n;a.Yj(n.prototype,{ba:a.Z({get:function(){return this.Lx.Yqb(this.ni);}}),offset:a.Z({get:function(){return this.Lx.fm(this.ni);}}),p9:a.Z({get:function(){return this.Lx.pq&&this.Lx.pq[this.ni];}}),kg:a.Z({get:function(){return this.Lx.c$a(this.ni);}}),Vb:a.Z({get:function(){return this.Lx.Gn&&this.Lx.Gn[this.ni];}})});u=function(){function a(a,b,c){this.ha=c;this.dd=a;this.sizes=b;this.length=Math.min(a.length,b.length);this.Rb=void 0;}a.from=function(b){for(var c=new Uint32Array(b.length),f=new Uint32Array(b.length),d=0,k,n,g=0;g<b.length;++g)k=b[g],n=k.Rb,c[g]=k.or-k.vB,f[g]=n,d+=n;b=new a(c,f,b.length?b[0].ha:1E3);b.Rb=d;return b;};a.prototype.subarray=function(b,c){return new a(this.dd.subarray(b,c),this.sizes.subarray(b,c),this.ha);};a.prototype.concat=function(){var c,b,f,d;for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];c=[this];b=c.concat.apply(c,b);c=b.reduce(function(a,b){return a+b.length;},0);f=new Uint32Array(c);d=new Uint32Array(c);c=b.reduce(function(a,b){return a||b.ha;},void 0);b.reduce(function(a,b){p.set(f,b.dd,a);p.set(d,b.sizes,a);return a+b.length;},0);return new a(f,d,c);};a.prototype.w_=function(){for(var a=this.sizes,b=this.length,c=0,f=0;f<b;++f)c+=a[f];return this.Rb=c;};return a;}();d.bRa=u;a.Yj(u.prototype,{ba:a.Z({get:function(){return void 0!==this.Rb?this.Rb:this.w_();}})});c=function(){function a(a,b,c,f,d,n,g){this.KB=16;this.Fb=a;this.xd=b.offset;g?(this.Dk=void 0,this.ta=b):this.Dk=b.sizes;this.rB=this.MG=this.Mf=this.Bma=this.U0=void 0;this.oVa=c;this.k_=f&&f.fm;this.Lma=d;this.mu=this.Dk?Math.min(this.Fb.length,this.Dk.length):this.Fb.length;this.m0=g?void 0:this.Doa();this.Dk&&this.fp.Km.length!==this.Dk.length&&k.error("Mis-matched stream duration ("+this.fp.Km.length+","+this.Dk.length+") for movie id "+n);this.fp.yQ&&!this.k_&&k.error("Mis-matched additional SAPs information for movie id "+n);}a.tFb=function(a,b){var c,f;b=b.ha;c=b/1E3;f=new DataView(a);a=Math.floor(a.byteLength/16);return{ha:b,pm:f.getUint32(4)*c,offset:65536*f.getUint32(8)+f.getUint16(12),sizes:h.Ey(f,0,a,16),dd:p.from(Uint32Array,{length:a},function(a,b){return f.getUint16(16*b+14)*c;})};};a.prototype.Yqb=function(a){void 0===this.Dk&&this.ta&&(this.Dk=this.ta.sizes,this.ta=void 0);if(this.Dk)return this.Dk[a];k.error("sizesByIndex _sizes is undefined");return-1;};a.prototype.sizes=function(){void 0===this.Dk&&this.ta&&(this.Dk=this.ta.sizes,this.ta=void 0);if(this.Dk)return this.Dk;k.error("sizes _sizes is undefined");return new Uint32Array(1);};a.prototype.dg=function(a){return this.Fb.dg(a);};a.prototype.$C=function(a){return this.Fb.dg(a)+this.Fb.dd(a);};a.prototype.fm=function(a){if(this.MG!==a||void 0===this.rB){if(0===a)return this.xd;if(this.MG===a-1&&void 0!==this.rB)this.rB+=this.sizes()[this.MG],++this.MG;else{for(var b=this.Mf||this.eTa(),c=Math.floor(a/this.KB),f=c*this.KB,b=b[c];f<a;++f)b+=this.sizes()[f];this.MG=a;this.rB=b;}}return this.rB;};a.prototype.dd=function(a){return this.Fb.dd(a);};a.prototype.get=function(a){return new n(this,a);};a.prototype.c$a=function(a){var b,c,d;f.assert(0<=a);b=this.fp.yQ;c=this.fp.nna;d=this.k_;if(!d||!b||!c||a>=b.length)return[];for(var k=[],n=a===b.length-1?c.length:b[a+1],b=b[a];b<n;++b)k.push({jk:c[b],Cd:this.dg(a)+this.Ka.r9(c[b]).Zf,offset:d[b]});return k;};a.prototype.yqb=function(a){this.Lma=a;};a.prototype.Bi=function(a,b,c){return this.Fb.Bi(a,b,c);};a.prototype.iS=function(a,b,c){return this.Fb.iS(a,b,c);};a.prototype.f3=function(a,b){return this.Fb.f3(a,b);};a.prototype.FT=function(a,b,c){var f,d,k,n,g,q,h,u,t;f=!0;d=0;n=this.Fb.Km;g=this.sizes();q=Math.floor(a*this.ha/1E3);h=0;u=0;t=0;if(this.Fb.oca&&this.Fb.nca)for(d=this.Fb.oca;d<=this.Fb.nca;++d)h+=n[d],u+=g[d];if(u>b)f=!1;else for(;d<this.length&&(!c||d<c);){k=g[d];a=n[d];if(u+k>b&&h<q){f=!1;this.Fb.oca=t;this.Fb.nca=d;break;}for(;0<d-t&&u+k>b;)h-=n[t],u-=g[t],++t;h+=a;u+=k;++d;}return f;};a.prototype.subarray=function(b,c){f.assert(void 0===b||0<=b&&b<this.length);f.assert(void 0===c||c>b&&c<=this.length);return new a(this.Fb.subarray(b,c),{offset:this.fm(b),sizes:this.sizes().subarray(b,c)},this.pq&&this.pq.subarray(b,c),this.mna&&{fm:this.mna});};a.prototype.forEach=function(a){for(var b=0;b<this.length;++b)a(this.get(b),b,this);};a.prototype.map=function(a){for(var b=[],c=0;c<this.length;++c)b.push(a(this.get(c),c,this));return b;};a.prototype.reduce=function(a,b){for(var c=0;c<this.length;++c)b=a(b,this.get(c),c,this);return b;};a.prototype.toJSON=function(){return{length:this.length,averageFragmentDuration:this.Zr};};a.prototype.dump=function(){var b;k.trace("StreamFragments: "+this.length+", averageFragmentDuration: "+this.Zr+"ms");for(var a=0;a<this.length;++a){b=this.get(a);k.trace("StreamFragments: "+a+": ["+b.V+"-"+b.da+"] @ "+b.offset+", "+b.ba+" bytes");}};a.prototype.Doa=function(){var a,b,c,f,d;b=0;c=this.Fb.Mwa;f=this.Fb.Km;d=this.sizes();if(void 0===c||c>=this.length){for(var k=0;k<this.length;++k)a=d[k]/f[k],a>b&&(b=a,c=k);void 0===this.Fb.Mwa&&(this.Fb.Mwa=c);}else b=d[c]/f[c];return this.m0=Math.floor(b*this.ha/125);};a.prototype.w_=function(){for(var a=0,b=0;b<this.length;++b)a+=this.sizes()[b];return this.Bma=a;};a.prototype.xTa=function(){return this.U0=new u(this.Fb.Km,this.sizes(),this.Fb.ha);};a.prototype.eTa=function(){var a;if(!this.Mf){a=q?new Float64Array(Math.ceil(this.length/this.KB)):Array(Math.ceil(this.length/this.KB));for(var b=this.xd,c=0;c<a.length;++c){a[c]=b;for(var f=0;f<this.KB;++f)b+=this.sizes()[c*this.KB+f];}this.Mf=a;}return this.Mf;};return a;}();d.lRa=c;a.Yj(c.prototype,{R:a.Z({get:function(){return this.Fb.R;}}),length:a.Z({get:function(){return this.mu;}}),pm:a.Z({get:function(){return this.Fb.pm;}}),lra:a.Z({get:function(){return this.Fb.lra;}}),V:a.Z({get:function(){return this.Fb.V;}}),da:a.Z({get:function(){return this.Fb.da;}}),Zr:a.Z({get:function(){return this.Fb.Zr;}}),M8:a.Z({get:function(){return this.Fb.M8;}}),fU:a.Z({get:function(){return this.m0||this.Doa();}}),Ka:a.Z({get:function(){return this.Fb.Ka;}}),ha:a.Z({get:function(){return this.Fb.ha;}}),Fn:a.Z({get:function(){return this.Bma||this.w_();}}),pq:a.Z({get:function(){return this.oVa;}}),mna:a.Z({get:function(){return this.k_;}}),Gn:a.Z({get:function(){return this.Lma;}}),fp:a.Z({get:function(){return this.Fb;}}),TE:a.Z({get:function(){return this.U0||this.xTa();}})});c.prototype.wCa=g.C8(c.prototype.dg);},function(g,d,a){var f,h,p,c;function b(a){return void 0===a?!0:a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);h=a(69);p=a(365);c=a(94);a(13);g=function(){function a(a,c,f,d){this.G=f;this.N=d;this.Cl=a;this.HXa=c.Jf;this.DB=c.Ua||c.id;this.GUa=c.Wk;this.RSa=c.O;this.h1=c.Vb||null;this.Ex=c.profile||c.Pe;this.yXa=c.Bn;this.xr=void 0;this.ta=c.ca;this.df=b(c.df);this.inRange=b(c.inRange);this.NC=c.NC;this.hu=this.ta&&c.zs||void 0;this.lla=this.nr=0;this.La=c.La;this.url=this.Xz=this.Qb=this.kl=this.e8=this.location=this.va=void 0;this.Rg=!1;this.Teb=this.Hd=void 0;a=this.G&&"object"===typeof this.G.nL&&this.G.nL[this.profile];"object"===typeof a&&(a=a[this.O])&&(this.hH=new h.oc(a));}a.nsa=function(b,c,d,k,g,h){var n;n=c.content_profile;return new a(b,f.__assign({},k,{id:c.downloadable_id,O:c.bitrate,Vb:c.vmaf,Pe:n,Bn:c.sidx,Jf:d,Wk:-1===n.indexOf("none")}),g,h);};Object.defineProperties(a.prototype,{Tc:{get:function(){return!!this.ta;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Aa:{get:function(){return this.Cl.Aa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ga:{get:function(){return this.Cl.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{M:{get:function(){return this.Cl.M;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{R:{get:function(){return this.Cl.R;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ka:{get:function(){return this.Cl.Ka;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ha:{get:function(){return this.Cl.ha;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Tv:{get:function(){return this.Cl.Tv;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{fb:{get:function(){return this.Cl.fb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{track:{get:function(){return this.Cl;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Jf:{get:function(){return this.HXa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ua:{get:function(){return this.DB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{id:{get:function(){return this.DB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Wk:{get:function(){return this.GUa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{O:{get:function(){return this.RSa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Vb:{get:function(){return this.h1;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{profile:{get:function(){return this.Ex;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Pe:{get:function(){return this.Ex;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Bn:{get:function(){return this.yXa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{gl:{get:function(){return this.hH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ca:{get:function(){return this.ta||this.hUa();},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{fU:{get:function(){return this.ta&&this.ta.fU;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{g5:{get:function(){return this.Cl.g5;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{f5:{get:function(){return this.Cl.f5;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{NH:{get:function(){return this.Cl.NH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{PH:{get:function(){return this.Cl.PH;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{n7:{get:function(){return this.Ka.Zf;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{V:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{eCa:{get:function(){return this.Oeb();},enumerable:!0,configurable:!0}});a.prototype.KU=function(a,b,c,f,d,k){this.G.Wy&&this.track.Tc?this.xr={Tv:a,Ka:b,ca:c,pq:f,kg:d,Gn:k}:this.Yja(c,a,b,d,f,k,this.G.Wy);};a.prototype.iR=function(a){this.Tc||(this.track.k2a(a.track),this.ta=a.ca);};a.prototype.pg=function(a){return new c.pk(this,this.ca.get(a));};a.prototype.ata=function(a){var b;b=this.pg(a.index);a.Xa&&(b.Fj(a.Xa),b.XL(a.vw));return b;};a.prototype.FT=function(){var a;if(!this.Tc)return!0;if(this.track.K6>=this.O)return this.hu=!0;if(this.track.uwa<=this.O)return this.hu=!1;a=this.ta.FT(this.G.tU,this.nr,this.lla);if(a){if(!this.track.g4||this.Wk)this.track.K6=this.O;}else this.track.uwa=this.O;return this.hu=a;};a.prototype.Oeb=function(){return void 0!==this.hu?!this.hu:!this.FT();};a.prototype.LDa=function(a,b){this.nr=a;this.lla=b;};a.prototype.t1a=function(){this.va=this.La=this.Qb=this.location=this.url=void 0;};a.prototype.toJSON=function(){return{movieId:this.M,mediaType:this.R,streamId:this.Ua,bitrate:this.O};};a.prototype.toString=function(){return(0===this.R?"a":"v")+":"+this.Ua+":"+this.O;};Object.defineProperties(a.prototype,{zs:{get:function(){return void 0!==this.hu?this.hu:this.FT();},set:function(a){this.hu=a;},enumerable:!0,configurable:!0}});a.prototype.hUa=function(){if(!this.xr)return this.ta;this.Yja(this.xr.ca,this.xr.Tv,this.xr.Ka,this.xr.kg,this.xr.pq,this.xr.Gn,this.G.Wy);this.xr=void 0;return this.ta;};a.prototype.Yja=function(a,b,c,f,d,k,g){a&&void 0!==a.pm&&(this.track.Tc||g||void 0!==a.dd&&a.dd.length)&&void 0!==a.offset&&(g||void 0!==a.sizes&&a.sizes.length)?this.Tc||(this.track.KU(this,b,c,a,f),this.ta=new p.lRa(this.track.fp,a,d,f,k,this.M,g)):a?this.N.error("AseStream._constructFragments with missing fragments data:"+(void 0!==a.pm)+","+this.track.Tc+","+this.track.g4+","+(void 0!==a.dd)+","+!(!a.dd||!a.dd.length)+","+(void 0!==a.offset)+","+(void 0!==a.sizes)+","+!(!a.sizes||!a.sizes.length)):this.N.error("AseStream._constructFragments fragments was undefined:");};return a;}();d.dda=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(13);g=function(a){function d(b,f,d){b=a.call(this,b,f)||this;b.yk=f.Hs;b.$0=!!f.ut;b.wka=f.Ql;b.N=d;return b;}b.__extends(d,a);Object.defineProperties(d.prototype,{Tb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{data:{get:function(){return this.yk;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Hs:{get:function(){return this.yk;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ca:{get:function(){return this.stream.ca;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Gn:{get:function(){return this.ca&&this.ca.Gn;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ut:{get:function(){return this.$0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ql:{get:function(){return this.wka;},enumerable:!0,configurable:!0}});d.prototype.kZa=function(a){f.assert(this.Lc.Ua===a.Ua);!a.Tc&&this.Lc.Tc&&a.iR(this.Lc);!a.location&&this.Lc.location&&(a.location=this.Lc.location,a.Qb=this.Lc.Qb,a.Xz=this.Lc.Xz,a.url=this.Lc.url,a.La=this.Lc.La);this.Lc=a;};d.prototype.toJSON=function(){return b.__assign({},a.prototype.toJSON.call(this),{isHeader:!0,fragments:this.ca});};return d;}(a(155).Ew);d.kX=g;},function(g,d,a){var b,f,h,p,c,k,q,n,u;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(11);h=a(6);p=a(373);c=a(367);k=a(202);g=a(24);q=a(204);n=a(26);a=a(45);u=h.MediaSource;h=function(a){function d(b,f,d,k,n,g,q){n=a.call(this,b,k,n,q)||this;c.kX.call(n,b,k,q);n.G=f;n.$O=d;n.cUa=!!k.ys;n.KTa=!!k.oy;n.dM=!!k.dM;n.pWa=k.ba;n.$_=(g?"(cache)":"")+n.Ua+" header";n.SB(b.url||k.url,k.offset,k.ba);return n;}b.__extends(d,a);Object.defineProperties(d.prototype,{Tb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{track:{get:function(){return this.$O;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ys:{get:function(){return this.cUa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{oy:{get:function(){return this.KTa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{jkb:{get:function(){return this.pWa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{parseError:{get:function(){return this.x0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{YK:{get:function(){return this.sWa;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{config:{get:function(){return this.G;},enumerable:!0,configurable:!0}});d.prototype.Vd=function(){var b;if(!this.complete){b={type:"headerRequestCancelled",request:this};this.emit(b.type,b);}a.prototype.Vd.call(this);};d.prototype.aob=function(){if(!this.$0)return!0;this.$0=!1;return this.Lla();};d.prototype.$h=function(b){this.yk=this.yk?n.io(this.yk,b.response):b.response;b.AL();this.Lla()?a.prototype.$h.call(this,b):this.Gja?(this.SB(b.url,b.offset+b.ba,this.Gja),a.prototype.$h.call(this,b)):this.vS(this);};d.prototype.rVa=function(a,b){a.VU=!1;a.parseError=b.errormsg;};d.prototype.uVa=function(a,b){a.VU=!1;a.eZa=b.bytes;};d.prototype.sVa=function(a,b){a.ca=b.fragments;a.pq=b.movieDataOffsets;a.kg=b.additionalSAPs;a.ut=b.truncated;a.O3=b.defaultSampleDuration;a.ha=b.timescale;};d.prototype.wVa=function(a,b){this.G.$K.enabled&&(a.Gn=b.vmafs);};d.prototype.vVa=function(a,b){b.frameDuration&&(a.Ka=b.frameDuration,this.Ola.Ka=a.Ka);};d.prototype.tVa=function(a,b){a.ZR={iFb:b.keyId,lIb:b.offset,kIb:b.flipped};};d.prototype.qVa=function(a,b){a.VU=!0;a.LK=b.moovEnd;a.YK=b.parsedEnd;};d.prototype.SB=function(a,b,c){a=new k.hN(this.stream,this.$O,this.$_+" ("+this.xa.length+")",{offset:b,ba:c,url:a,location:this.location,Xc:this.Xc,responseType:0},this,this.N);this.push(a);this.Rb=this.xa.reduce(function(a,b){return a+b.ba;},0);};d.prototype.Lla=function(){var a,b,c;b=this.G.Rub;c=this.G.$Za;this.R===f.I.VIDEO&&b&&!this.G.vs?a=b:this.R===f.I.AUDIO&&c&&(a=c);a=new q.lNa(this.stream,this.yk,["sidx"],this.R===f.I.VIDEO&&this.G.vs||this.R===f.I.AUDIO&&this.G.$m,{truncate:this.ut,MKb:this.stream.track.g4,SE:a,Mkb:void 0===this.Ka,fca:!u.Pc||!u.Pc.apa,gca:this.G.gca,ao:this.G.ao&&this.G.$m,nL:this.G.nL,Aw:this.G.Aw,Wy:this.G.Wy,T8:this.G.T8});b={};a.addEventListener("error",this.rVa.bind(this,b));a.addEventListener("requestdata",this.uVa.bind(this,b));a.addEventListener("fragments",this.sVa.bind(this,b));a.addEventListener("vmafs",this.wVa.bind(this,b));a.addEventListener("sampledescriptions",this.vVa.bind(this,b));a.addEventListener("keyid",this.tVa.bind(this,b));a.addEventListener("done",this.qVa.bind(this,b));this.Ola={Ka:this.Ka};a.parse(this.Ola);this.Dub=this.G.Aw&&a.adb;b.VU?(this.yk=a.Ctb(b.LK||b.YK),this.sWa=b.YK,this.wka=!!b.ZR,void 0===this.Ka&&void 0===b.Ka&&this.N.error("No frame duration available for "+this.Ua),void 0===this.Ka&&void 0===b.Ka&&this.N.error("No frame duration available for "+this.Ua),this.stream.KU(b.ha,b.Ka||this.Ka,b.ca,b.pq,b.kg,b.Gn)):this.Gja=b.eZa||0;return!!b.VU;};return d;}(p.gN);d.cda=h;a.Ti(c.kX,h,!1);a.Ti(g.EventEmitter,h);},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(35);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a;this.jya=this.u.bd();a=this.u.bd();this.Krb=a>>>2;this.Rtb=a>>>1&1;this.Y_a=256*this.u.yf()+this.u.bd();this.Jv=this.u.ub();this.coa=this.u.ub();f.Yq&&this.u.dc("DecoderConfigDescriptor: objectTypeIndication= 0x"+this.jya.toString(16)+", streamType="+this.Krb+", upStream="+this.Rtb+", bufferSizeDB="+this.Y_a+", maxBitrate="+this.Jv+", avgBitrate="+this.coa);this.ema();return!0;};d.tag=4;return d;}(a(152)["default"]);d["default"]=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(35);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(b){b=a.prototype.parse.call(this,b);this.u.offset+=8;this.Z0a=this.u.yf();this.Qob=this.u.yf();this.u.offset+=4;this.bBa=this.u.yf();this.u.offset+=2;f.Yq&&this.u.dc("MP4AudioSampleEntry: channelcount: "+this.Z0a+", samplesize: "+this.Qob+", samplerate: "+this.bBa);return b;};return d;}(a(371)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function f(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(f,a);f.prototype.parse=function(){this.u.offset+=6;this.u.yf();return!0;};return f;}(a(35)["default"]);d["default"]=g;},function(g){var d;d=function(){var a;a=new Uint32Array([0,0]);a.set(new Uint32Array([16843009]),1);return 0!==a[0];}()?function(a,b,f){new Uint8Array(a.buffer,a.byteOffset,a.byteLength).set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),f*a.byteLength/a.length);}:function(a,b,f){a.set(b,f);};g.T={from:function(a,b,f,d){a=new a(b.length);for(var g="function"===typeof f,c=0;c<b.length;++c)a[c]=g?f.call(d,b[c],c,b):b[c];return a;},set:d};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(6);h=a(156);g=function(a){function c(b,c,f,d){b=a.call(this,b,c,f,d)||this;b.xa=[];b.w0=!1;b.WG=!1;b.Jc=!1;b.Kg=!1;b.Eb=!1;b.hB=!1;b.Jka=!1;b.Ika=!1;b.Cp=void 0;b.wl=void 0;b.yp=void 0;return b;}b.__extends(c,a);Object.defineProperties(c.prototype,{active:{get:function(){return this.Jc;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{iAa:{get:function(){return this.Kg;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{complete:{get:function(){return this.Eb||(this.Eb=this.xa.every(function(a){return a.complete;}));},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{El:{get:function(){return this.hB;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Fn:{get:function(){return this.xa.reduce(function(a,b){return a+b.Fn;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{Gd:{get:function(){return this.xa.reduce(function(a,b){return a+b.Gd;},0);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{jc:{get:function(){return this.Cp||0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{JT:{get:function(){return this.wl;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{url:{get:function(){return this.xa[0]&&this.xa[0].url;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{readyState:{get:function(){return this.jf||this.xa.reduce(function(a,b){return Math.min(a,b.readyState);},Infinity);},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{status:{get:function(){return this.yp&&this.yp.status||0;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{oj:{get:function(){return this.yp&&this.yp.oj;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{fD:{get:function(){return this.yp&&this.yp.fD;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{al:{get:function(){return this.yp&&this.yp.al;},enumerable:!0,configurable:!0}});Object.defineProperties(c.prototype,{bm:{get:function(){return!!this.xa.length&&this.xa[0].bm;},enumerable:!0,configurable:!0}});c.prototype.push=function(a){this.WG&&a.gc(this.Sa,this.$f);this.xa.push(a);this.w0&&a.Xv();};c.prototype.gc=function(a,b){h.Dw.prototype.gc.call(this,a,b);this.xa.forEach(function(c){return c.gc(a,b);});this.WG=!0;};c.prototype.cva=function(){return 7===this.jf;};c.prototype.Xv=function(){return this.w0=this.xa.every(function(a){return a.Xv();});};c.prototype.Vd=function(){this.xa.forEach(function(a){return a.Vd();});};c.prototype.sM=function(a){this.jf=this.yp=void 0;return this.xa.every(function(b){return 5!==b.readyState&&7!==b.readyState?b.sM(a):!0;});};c.prototype.abort=function(){var a,b;a=this.active;this.jf=7;this.hB=!0;this.Kg=this.Jc=!1;b=this.xa.map(function(a){return a.abort();}).every(function(a){return a;});this.uS(this,a);return b;};c.prototype.getResponseHeader=function(a){var b;b=null;this.xa.some(function(c){return!!(b=c.getResponseHeader(a));});return b;};c.prototype.getAllResponseHeaders=function(){var a;a=null;this.xa.some(function(b){return!!(a=b.getAllResponseHeaders());});return a;};c.prototype.vz=function(a){this.Jc||(this.Jc=!0);this.Jka||(this.Jka=!0,this.Mi=0,this.Cp=this.Aj=a.jc,this.wl=f.time.ea()-this.Cp,this.yy(this));};c.prototype.Wv=function(a){this.Kg||(this.Kg=!0);this.Ika||(this.Ika=!0,this.Cp=a.jc,this.wl=f.time.ea()-this.Cp,this.xy(this));};c.prototype.WK=function(a){this.Cp=a.jc;this.jD(this);this.Mi=this.Gd;this.Aj=a.jc;};c.prototype.$h=function(a){this.Cp=a.jc;this.wl=f.time.ea()-this.Cp;this.complete?(this.Eb=!0,this.jf=5,this.Kg=this.Jc=!1,this.fv(this)):this.jD(this);this.Mi=this.Gd;this.Aj=a.jc;};c.prototype.iE=function(a){this.Cp=a.jc;this.wl=f.time.ea()-this.Cp;this.yp=a;this.jf=6;this.vS(this);};c.prototype.OU=function(){};c.prototype.ck=function(){return this.xa[0].ck()+"-"+this.xa[this.xa.length-1].ck();};c.prototype.toString=function(){return"Compound["+this.xa.map(function(a){return a.toString();}).join(",")+"]";};c.prototype.toJSON=function(){return{requests:this.xa};};return c;}(h.Dw);d.gN=g;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(0);g.__exportStar(a(761),d);g.__exportStar(a(760),d);},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qga="ManifestVerifyErrorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dja="TrickPlayFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bja="TrackStreamFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Yha="PlayerTextTrackFactorySymbol";},function(g,d){function a(a,f){this.log=a;this.HW=f;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.tDa=function(a,f){var b;b=this;if(!a)return this.log.warn("There are no media streams for "+f.type+" track - "+f.fb),[];a=a.map(function(a){var c;c=b.HW(f,f.type,a.SC,a.O,a.Vb,a.size,b.Z$a(a.Yc),a.xC,a.msa/a.lsa,a.Wk);c.Aqb(a.FAa,a.EAa);c.$pb(a.Wpa,a.Xpa,a.Vpa,a.Upa);f.$j&&(c.$j=f.$j);a.xC&&(c.Pe=a.xC);return c;});a.sort(function(a,b){return a.O-b.O;});return a;};a.prototype.Z$a=function(a){return a.reduce(function(a,b){a[b.Joa]=b.url;return a;},{});};d.ZN=a;},function(g,d,a){var b,f,h;b=a(214);f=a(111);d=a(51);h=a(779);a=d(function(a,c){return 1===a?f(c):b(a,h(a,[],c));});g.T=a;},function(g){g.T=function(d,a){for(var b=0,f=a.length,g=Array(f);b<f;)g[b]=d(a[b]),b+=1;return g;};},function(g,d,a){var b,f,h,p,c;d=a(111);b=a(216);f=a(782);h=!{toString:null}.propertyIsEnumerable("toString");p="constructor valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");c=function(){return arguments.propertyIsEnumerable("length");}();a=d("function"!==typeof Object.keys||c?function(a){var d,k,g,t;if(Object(a)!==a)return[];g=[];k=c&&f(a);for(d in a)!b(d,a)||k&&"length"===d||(g[g.length]=d);if(h)for(k=p.length-1;0<=k;){d=p[k];if(t=b(d,a)){a:{for(t=0;t<g.length;){if(g[t]===d){t=!0;break a;}t+=1;}t=!1;}t=!t;}t&&(g[g.length]=d);--k;}return g;}:function(a){return Object(a)!==a?[]:Object.keys(a);});g.T=a;},function(g){g.T={gc:function(){return this.dN["@@transducer/init"]();},result:function(d){return this.dN["@@transducer/result"](d);}};},function(g){g.T=Array.isArray||function(d){return null!=d&&0<=d.length&&"[object Array]"===Object.prototype.toString.call(d);};},function(g,d,a){var b,f;b=a(384);f=a(789);g.T=function(a,d,c){return function(){var k,g;if(0===arguments.length)return c();k=Array.prototype.slice.call(arguments,0);g=k.pop();if(!b(g)){for(var n=0;n<a.length;){if("function"===typeof g[a[n]])return g[a[n]].apply(g,k);n+=1;}if(f(g))return d.apply(null,k)(g);}return c.apply(this,arguments);};};},function(g,d,a){var b,f,h,p,c,k;d=a(51);b=a(385);f=a(788);h=a(387);p=a(215);c=a(783);k=a(382);a=d(b(["filter"],c,function(a,b){return h(b)?p(function(c,f){a(b[f])&&(c[f]=b[f]);return c;},{},k(b)):f(a,b);}));g.T=a;},function(g){g.T=function(d){return"[object Object]"===Object.prototype.toString.call(d);};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.oga="ManifestProviderConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pga="ManifestParserFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tda="CDMAttestedDescriptorStore";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.oda="BookmarkConfigParserSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pda="BookmarkConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.eea="DiskStorageRegistrySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Aga="MemoryStorageSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Sfa="LocalStorageSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Oda="CorruptedStorageValidatorConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.TZ="Storage";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.VN="IndexedDBConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.dia="PresentationAPISymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.sga="MediaCapabilitiesLogHelperSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tga="MediaCapabilitiesSymbol";},function(g,d,a){var f,h,p;function b(a,b){var c;c=h.qN.call(this,a,b,f.kG.Audio)||this;c.config=a;c.b9=b;c.type=f.Fw.Kw;return c;}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);h=a(404);p=a(66);a(129);new(a(97)).kx();ba(b,h.qN);b.prototype.lM=function(){return!1;};b.prototype.jy=function(){var a;a={};a[p.nl.NN]="mp4a.40.2";a[p.nl.mY]="mp4a.40.5";this.config().l4&&(a[p.nl.rN]="ec-3");this.config().k4&&(a[p.nl.BX]="ec-3");this.config().TI&&(a[p.nl.sN]="ec-3");return a;};b.prototype.Y5=function(){return this.config().OH;};b.nF="audio/mp4;codecs={0};";d.MX=b;},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.Pea=/^hevc-main/;a.Oea=/^hevc-hdr-|hevc-dv/;a.br=/^hevc-hdr-/;a.mp=/^hevc-dv/;a.PF=/-h264mpl/;a.wA=/-h264hpl/;a.Vt=/^vp9-/;a.Fh=/^av1-/;a.dX=/^heaac/;a.pHa=/ddplus-2/;a.qHa=/ddplus-5/;a.rHa=/ddplus-atmos/;d.Xi=a;},function(g,d,a){var f,h,p;function b(a,b,d){this.config=a;this.b9=b;this.R=d;this.d9={};this.d9[f.kG.Audio]="audio";this.d9[f.kG.qja]="video";}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);g=a(97);h=a(403);p=new g.kx().format;b.prototype.Pta=function(){return this.c6a(this.Y5());};b.prototype.hs=function(a){return this.b9.isTypeSupported(a);};b.prototype.k7=function(){this.gm=[];this.xq=[];this.config().Gya&&this.xq.push(h.Xi.Pea);this.config().Fya&&this.xq.push(h.Xi.Oea);this.config().RU&&this.xq.push(h.Xi.wA);this.config().Hya&&this.xq.push(h.Xi.Vt);this.config().T9&&this.xq.push(h.Xi.Fh);this.xq=this.xq.concat([h.Xi.dX,h.Xi.PF]);!this.config().l4&&this.gm.push(h.Xi.pHa);!this.config().k4&&this.gm.push(h.Xi.qHa);!this.config().TI&&this.gm.push(h.Xi.rHa);!this.config().t7a&&this.gm.push(/prk$/);this.config().Gya||this.config().k7a||this.gm.push(h.Xi.Pea);this.config().Fya||this.config().j7a||this.gm.push(h.Xi.Oea);this.config().T9||this.config().SR||this.gm.push(h.Xi.wA);this.config().Hya||this.config().y7a||this.gm.push(h.Xi.Vt);this.config().T9||this.config().g7a||this.gm.push(h.Xi.Fh);};b.prototype.L4=function(a){var b;b=this;return a.filter(function(a){for(var c=P(b.xq),f=c.next();!f.done;f=c.next())if(f.value.test(a))return!0;c=P(b.gm);for(f=c.next();!f.done;f=c.next())if(f.value.test(a))return!1;a=b.C$[a];f="";if(a)return Array.isArray(a)&&(f=1<a.length?" "+a[1]:"",a=a[0]),a=p("{0}/mp4;codecs={1};{2}",b.d9[b.R],a,f),b.hs(a);});};b.prototype.c6a=function(a){var b;b={};this.k7();this.L4(a).forEach(function(a){return b[a]=1;});return Object.keys(b);};na.Object.defineProperties(b.prototype,{C$:{configurable:!0,enumerable:!0,get:function(){this.Yla||(this.Yla=this.jy());return this.Yla;}}});d.qN=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gda={"playready-oggvorbis-2-piff":"OGG_VORBIS","playready-oggvorbis-2-dash":"OGG_VORBIS","heaac-2-piff":"AAC","heaac-2-dash":"AAC","heaac-5.1-dash":"AAC","playready-heaac-2-dash":"AAC","heaac-2-elem":"AAC","heaac-2-m2ts":"AAC","ddplus-5.1-piff":"DDPLUS","ddplus-2.0-dash":"DDPLUS","ddplus-5.1-dash":"DDPLUS","ddplus-atmos-dash":"DDPLUS","dd-5.1-elem":"DD","dd-5.1-m2ts":"DD"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ada="CapabilityDetectorFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dea="ExtraPlatformInfoProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Eda="CdnThroughputTracker";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Zia="ThroughputTrackerConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.rja="VideoPlayerFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Vha="PlaybackFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hia="SegmentConfigFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ega="MomentObserverFactory";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Dga="MomentFactorySymbol";},function(g,d,a){var f;function b(a,b,c,f,d,n){this.level=a;this.Wm=b;this.timestamp=c;this.message=f;this.pd=d;this.index=void 0===n?0:n;this.zLa={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};}Object.defineProperty(d,"__esModule",{value:!0});f=a(3);b.prototype.FW=function(a,b){var c;c=""+this.message;this.pd.forEach(function(f){c+=f.mA(a,b);});return(this.timestamp.fa(f.na)/1E3).toFixed(3)+"|"+this.index+"|"+(this.zLa[this.level]||this.level)+"|"+this.Wm+"| "+c;};d.Xfa=b;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(425);a=a(1);b.prototype.create=function(){return new f.Lj();};h=b;h=g.__decorate([a.L()],h);d.CJa=h;d.EN="EventSourceFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.EN="EventSourceFactorySymbol";},function(g,d,a){var f,h,p;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(4);h=a(17);p=a(8);b.prototype.Vp=function(){return this.neb()?p.UIa:/widevine/i.test(this.config().Md)?p.kea:/fps/i.test(this.config().Md)?"fairplay":p.QX;};b.prototype.neb=function(){return/clearkey/i.test(this.config().Md);};na.Object.defineProperties(b.prototype,{config:{configurable:!0,enumerable:!0,get:function(){this.G||(this.G=f.W.get(h.gd));return this.G;}}});d.uga=new b();},function(g,d,a){var f,h,p,c;function b(a,b,c,f,d,g,t){this.debug=a;this.config=b;this.platform=c;this.fxa=f;this.debug.assert(d&&d!=h.K.ki,"There should always be a specific error code");this.errorCode=d||h.K.ki;g&&p.Se(g)?(this.Y=g.Y||g.Bc,this.qc=g.qc||g.Tf,this.aD=g.aD||g.py,this.Oa=g.Oa||g.LC,this.LI=g.Sk,this.bv=g.bv||g.Gxa||g.qq,this.so=g.so||g.data,g.BK&&(this.BK=g.BK),this.Uh=g.Uh,this.method=g.method,this.CU=g.CU,this.alert=g.alert,this.debug.assert(!this.Uh||this.Uh==this.qc)):(this.Y=g,this.qc=t);this.stack=[this.errorCode];this.Y?this.stack.push(this.Y):this.qc&&this.stack.push(h.H.ki);this.qc&&this.stack.push(this.qc);this.FR=this.platform.bD+this.stack.join("-");}Object.defineProperty(d,"__esModule",{value:!0});f=a(8);h=a(2);p=a(19);c=a(16);a(18);b.prototype.toString=function(){var a;a="[PlayerError #"+this.FR+"]";this.Oa&&(a+=" "+this.Oa);this.LI&&(a+=" (CustomMessage: "+this.LI+")");return a;};b.prototype.$ba=function(){var a,b;this.LI&&(a=["streaming_error"]);a||this.fxa.Vp()!==f.QX||("80080017"==this.qc&&(a=["admin_mode_not_supported","platform_error"]),"8004CD12"===this.qc&&(a=["pause_timeout"]));a||this.fxa.Vp()!==f.kea||this.errorCode!==h.K.qea&&this.errorCode!==h.K.pea||(a=["no_cdm","platform_error","plugin_error"]);this.Meb()&&(a=["received_soad"]);b=this.A$a();b&&(a=[b],this.LI=void 0);if(!a)switch(this.errorCode){case h.K.fO:case h.K.SN:case h.K.UEa:case h.K.fha:a=["pause_timeout"];break;case h.K.wfa:case h.K.xfa:a=this.Y?["platform_error"]:["multiple_tabs"];break;case h.K.bG:case h.K.nO:case h.K.VKa:case h.K.UKa:case h.K.XKa:a=["should_signout_and_signin"];break;case h.K.QY:case h.K.iha:case h.K.hha:case h.K.xZ:case h.K.rOa:a=["platform_error","plugin_error"];break;case h.K.BOa:a=["no_cdm","platform_error","plugin_error"];break;case h.K.vZ:a=this.Y?["platform_error","plugin_error"]:["no_cdm","platform_error","plugin_error"];break;case h.K.CN:case h.K.gO:case h.K.jha:switch(this.qc){case"FFFFD000":a=["device_needs_service","platform_error"];break;case"48444350":a=["unsupported_output","platform_error"];break;case"00000024":a=["private_mode"];}break;case h.K.gha:a=["unsupported_output"];}!a&&h.AJa(this.Y)&&(a=this.Y==h.H.HA?["geo"]:["internet_connection_problem"]);if(!a)switch(this.ECa(this.Y)){case h.H.g_:a=["should_upgrade"];break;case h.H.rNa:case h.H.lga:a=["should_signout_and_signin"];break;case h.H.sNa:a=["internet_connection_problem"];break;case h.H.mha:case h.H.kha:case h.H.nha:case h.H.lha:case h.H.Uda:a=["platform_error","plugin_error"];break;case h.H.DX:case h.H.afa:case h.H.bfa:a=["private_mode"];}a=a||[];a.push(this.platform.bD+this.errorCode);if(this.Y)switch(this.ECa(this.Y)){case h.H.bha:a.push("incorrect_pin");break;default:a.push(""+this.Y);}a={display:{code:this.FR,text:this.LI},messageIdList:a,alert:this.alert};if(this.bv||this.Gxa)a.mslErrorCode=this.bv||this.Gxa||this.qq;return a;};b.prototype.ECa=function(a){var b;b=parseInt(a,10);return isNaN(b)?a:b;};b.prototype.Meb=function(){var a;a=c.qa(this.qc)?this.qc.toString():c.Ld(this.qc)?this.qc:"";return this.bv===h.gZ.d_&&(a.endsWith("2018")||a.endsWith("2020"));};b.prototype.A$a=function(){if(this.errorCode===h.K.Sw&&(this.Y===h.H.tZ||this.Y===h.H.aha))return this.B$a(this.Y===h.H.tZ);};b.prototype.B$a=function(a){var b,c,f;b=(this.config().browserInfo||{}).os||{};c=b.name;f=(b.version||"").split(".");b=parseInt(f&&f[0]);f=parseInt(f&&f[1]);switch(c){case"Windows":return 6>b||6===b&&1>f?a?"cdm_not_supported_warning_switch_windows":"cdm_not_supported_switch_windows":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";case"Mac OS X":return 10>b||10===b&&10>f?a?"cdm_not_supported_warning_switch_mac":"cdm_not_supported_switch_mac":a?"cdm_not_supported_warning_update":"cdm_not_supported_update";default:return a?"cdm_not_supported_warning_other":"cdm_not_supported_other";}};d.HPa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hja="UrlFactorySymbol";},function(g,d,a){var f;function b(a){this.KUa=void 0===a?!1:a;this.yd={0:[]};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.add=function(a,b){var c;b=void 0===b?0:b;c=this.yd[b];c?this.KUa&&-1!==c.indexOf(a)||c.push(a):this.yd[b]=[a];};b.prototype.remove=function(a,b){this.Gr(a,void 0===b?0:b);};b.prototype.removeAll=function(a){this.Gr(a);};b.prototype.q9a=function(){var a;a=this;return Object.keys(this.yd).sort().reduce(function(b,c){return b.concat(a.yd[c]);},[]);};b.prototype.Gr=function(a,b){var c;c=this;Object.keys(this.yd).forEach(function(f){var d;if(void 0===b||b===parseInt(f)){f=c.yd[f];-1<(d=f.indexOf(a))&&f.splice(d,1);}});};f=b;f=g.__decorate([a.L()],f);d.eia=f;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Szb=function(){};d.Fga="MseConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bea="DecoderTimeoutPathologistSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Rda="CsvEncoderSymbol";},function(g,d,a){var f,h;function b(){this.Sl={};this.id="$es$"+f.p2a++;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.addListener=function(a,b,f){var c,d;c="$netflix$player$order"+this.id+"$"+a;if(this.Sl){d=this.Sl[a]?this.Sl[a].slice():[];f&&(b[c]=f);0>d.indexOf(b)&&(d.push(b),d.sort(function(a,b){return(a[c]||0)-(b[c]||0);}));this.Sl[a]=d;}};b.prototype.removeListener=function(a,b){if(this.Sl&&this.Sl[a]){for(var c=this.Sl[a].slice(),f;0<=(f=c.indexOf(b));)c.splice(f,1);this.Sl[a]=c;}};b.prototype.Hb=function(a,b,f){var c;if(this.Sl){c=this.E5(a);for(a={Ei:0};a.Ei<c.length;a={Ei:a.Ei},a.Ei++)f?function(a){return function(){var f;f=c[a.Ei];setTimeout(function(){f(b);},0);};}(a)():c[a.Ei].call(this,b);}};b.prototype.PC=function(){this.Sl=void 0;};b.prototype.on=function(a,b,f){this.addListener(a,b,f);};b.prototype.E5=function(a){return this.Sl&&(this.Sl[a]||(this.Sl[a]=[]));};h=f=b;h.p2a=0;h=f=g.__decorate([a.L()],h);d.Lj=h;},function(g,d,a){var f,h,p,c;function b(a,b){this.is=a;this.th=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a(2);h=a(20);p=a(99);c=a(9);b.prototype.$k=function(a,b,c){var f,d,k,n;f=this;if(b)if(c){d=c.RD;k=c.prefix;n=c.uq;this.av(b,function(b,c){if(!n||f.is.zd(c))a[(k||"")+(d?b.toLowerCase():b)]=c;});}else this.av(b,function(b,c){a[b]=c;});return a;};b.prototype.av=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c]);};b.prototype.Qu=function(a,b){if(a.length==b.length){for(var c=a.length;c--;)if(a[c]!=b[c])return!1;return!0;}return!1;};b.prototype.Z1a=function(a,b){if(a.length!=b.length)return!1;a.sort();b.sort();for(var c=a.length;c--;)if(a[c]!==b[c])return!1;return!0;};b.prototype.od=function(a){var b,c,f;if(a){b=a.stack;c=a.number;f=a.message;f||(f=""+a);b?(a=""+b,0!==a.indexOf(f)&&(a=f+"\n"+a)):a=f;c&&(a+="\nnumber:"+c);return a;}};b.prototype.Wqa=function(a,b){var c,f;a=a.target.keyStatuses.entries();for(c=a.next();!c.done;)f=c.value[0],c=c.value[1],b&&b(f,c),c=a.next();};b.prototype.getFunctionName=function(a){return(a=/function (.{1,})\(/.exec(a.toString()))&&1<a.length?a[1]:"";};b.prototype.Nsa=function(a){return this.getFunctionName(a.constructor);};b.prototype.iya=function(a){var b,c;b=this;c="";this.is.Vr(a)||this.is.vna(a)?c=Array.prototype.reduce.call(a,function(a,b){return a+(32<=b&&128>b?String.fromCharCode(b):".");},""):this.is.vi(a)?c=a:this.av(a,function(a,f){c+=(c?", ":"")+"{"+a+": "+(b.is.xH(f)?b.getFunctionName(f)||"function":f)+"}";});return"["+this.Nsa(a)+" "+c+"]";};b.prototype.createElement=function(a,b,f,d){var k;k=c.Ed.createElement(a);b&&(k.style.cssText=b);f&&(k.innerHTML=f);d&&this.av(d,function(a,b){k.setAttribute(a,b);});return k;};b.prototype.X8a=function(a,b){return function(c){return c[a]===b;};};b.prototype.UU=function(a){var b;b={};(a||"").split("&").forEach(function(a){var c;a=a.trim();c=a.indexOf("=");0<=c?b[decodeURIComponent(a.substr(0,c)).toLowerCase()]=decodeURIComponent(a.substr(c+1)):b[a.toLowerCase()]=void 0;});return b;};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(h.de)),g.__param(1,f.l(p.Hw))],a);d.ija=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Xga="OneWayCounterFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hda="ClockConfigSymbol";},function(g,d){var a;Object.defineProperty(d,"__esModule",{value:!0});(function(a){a[a.Uva=0]="licenseStarted";a[a.eAa=1]="receivedLicenseChallenge";a[a.dAa=2]="receivedLicense";a[a.fAa=3]="receivedRenewalChallengeComplete";a[a.gAa=4]="receivedRenewalLicenseComplete";a[a.hAa=5]="receivedRenewalLicenseFailed";a[a.knb=6]="receivedIndivChallengeComplete";a[a.lnb=7]="receivedIndivLicenseComplete";a[a.ana=8]="addLicenseComplete";a[a.gna=9]="addRenewalLicenseComplete";a[a.hna=10]="addRenewalLicenseFailed";}(a=d.np||(d.np={})));d.L6a=function(b){switch(b){case a.Uva:return"lg";case a.eAa:return"lc";case a.dAa:return"lr";case a.fAa:return"renew_lc";case a.gAa:return"renew_lr";case a.hAa:return"renew_lr_failed";case a.knb:return"ilc";case a.lnb:return"ilr";case a.ana:return"ld";case a.gna:return"renew_ld";case a.hna:return"renew_ld_failed";default:return"unknown";}};},function(g,d,a){var f,h,p,c,k,q,n;function b(a,b){this.BU=a;this.is=b;p.Yk(this,"nav");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);p=a(48);c=a(2);k=a(37);q=a(20);n=a(89);b.prototype.pv=function(){if(this.S)return this.S.sessionId;};b.prototype.AAa=function(a,b){return this.BU.requestMediaKeySystemAccess(a,b);};b.prototype.Jpa=function(a,b){return b.createMediaKeys();};b.prototype.ms=function(a,b){this.S=a.createSession(b);};b.prototype.wva=function(){return!!this.S;};b.prototype.VBa=function(a,b){return this.is.xH(a.setServerCertificate)?a.setServerCertificate(b):Promise.resolve();};b.prototype.rsa=function(a,b){return this.S?this.S.generateRequest(a,b):Promise.reject(new n.tf(c.K.rea,c.H.LF,void 0,"Unable to generate a license request, key session is not valid"));};b.prototype.update=function(a){return this.S?this.S.update(a):Promise.reject(new n.tf(c.K.CN,c.H.LF,void 0,"Unable to update the EME with a response, key session is not valid"));};b.prototype.load=function(a){return this.S?this.S.load(a):Promise.reject(new n.tf(c.K.dJa,c.H.LF,void 0,"Unable to load a key session, key session is not valid"));};b.prototype.close=function(){var a;if(!this.S)return Promise.reject(new n.tf(c.K.YIa,c.H.LF,void 0,"Unable to close a key session, key session is not valid"));a=Promise.resolve();this.pv()&&(a=this.S.close());this.S=void 0;return a;};b.prototype.remove=function(){return this.S?this.S.remove():Promise.reject(new n.tf(c.K.vea,c.H.LF,void 0,"Unable to remove a key session, key session is not valid"));};b.prototype.bna=function(a){if(!this.S)throw ReferenceError("Unable to add message handler, key session is not valid");this.S.addEventListener(f.FA,a);};b.prototype.Zma=function(a){if(!this.S)throw ReferenceError("Unable to add key status handler, key session is not valid");this.S.addEventListener(f.wea,a);};b.prototype.Wma=function(a){if(!this.S)throw ReferenceError("Unable to add error handler, key session is not valid");this.S.addEventListener(f.EA,a);};b.prototype.rAa=function(a){if(!this.S)throw ReferenceError("Unable to remove message handler, key session is not valid");this.S.removeEventListener(f.FA,a);};b.prototype.pAa=function(a){if(!this.S)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.S.removeEventListener(f.wea,a);};b.prototype.oAa=function(a){if(!this.S)throw ReferenceError("Unable to remove error handler, key session is not valid");this.S.removeEventListener(f.EA,a);};a=f=b;a.FA="message";a.wea="keystatuseschange";a.EA="error";a=f=g.__decorate([h.L(),g.__param(0,h.l(k.VA)),g.__param(1,h.l(q.de))],a);d.KZ=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xea="EmeSessionFactorySymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.iea="DrmProviderSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Afa="IdentityProviderSymbol";},function(g,d,a){var b;b=a(102);d.ova=function(a){return!b.isArray(a)&&0<=a-parseFloat(a)+1;};},function(g,d,a){var b,f,h,p,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(440);h=a(102);g=a(80);p=a(79);d.uz=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);return function(b){return b.Xf(new c(a));};};d.Njb=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];1===a.length&&h.isArray(a[0])&&(a=a[0]);b=a.shift();return new f.Iea(b,null).Xf(new c(a));};c=function(){function a(a){this.A9=a;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.A9));};return a;}();k=function(a){function c(b,c){a.call(this,b);this.destination=b;this.A9=c;}b(c,a);c.prototype.F9=function(){this.xW();};c.prototype.cl=function(){this.xW();};c.prototype.Dc=function(){this.xW();};c.prototype.Eb=function(){this.xW();};c.prototype.xW=function(){var a;a=this.A9.shift();a?this.add(p.mt(this,a)):this.destination.complete();};return c;}(g.ir);},function(g,d){d.r7=function(a){return a instanceof Date&&!isNaN(+a);};},function(g,d,a){var b,f,h,p;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(79);g=a(80);d.ZD=function(a,b,f){void 0===f&&(f=Number.POSITIVE_INFINITY);return function(c){"number"===typeof b&&(f=b,b=null);return c.Xf(new h(a,b,f));};};h=function(){function a(a,b,c){void 0===c&&(c=Number.POSITIVE_INFINITY);this.vg=a;this.ik=b;this.W2=c;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.vg,this.ik,this.W2));};return a;}();d.Qzb=h;p=function(a){function c(b,c,f,d){void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b);this.vg=c;this.ik=f;this.W2=d;this.yD=!1;this.buffer=[];this.index=this.active=0;}b(c,a);c.prototype.oh=function(a){this.active<this.W2?this.UXa(a):this.buffer.push(a);};c.prototype.UXa=function(a){var b,c;c=this.index++;try{b=this.vg(a,c);}catch(y){this.destination.error(y);return;}this.active++;this.W_(b,a,c);};c.prototype.W_=function(a,b,c){this.add(f.mt(this,a,b,c));};c.prototype.Eb=function(){this.yD=!0;0===this.active&&0===this.buffer.length&&this.destination.complete();};c.prototype.rz=function(a,b,c,f){this.ik?this.SVa(a,b,c,f):this.destination.next(b);};c.prototype.SVa=function(a,b,c,f){var d;try{d=this.ik(a,b,c,f);}catch(K){this.destination.error(K);return;}this.destination.next(d);};c.prototype.cl=function(a){var b;b=this.buffer;this.remove(a);this.active--;0<b.length?this.oh(b.shift()):0===this.active&&this.yD&&this.destination.complete();};return c;}(g.ir);d.Rzb=p;},function(g,d,a){var b;b=a(233);d.kI=function(){return b.Pv(1);};},function(g,d,a){var h,p;function b(a){var b;b=a.value;a=a.qf;a.closed||(a.next(b),a.complete());}function f(a){var b;b=a.uy;a=a.qf;a.closed||a.error(b);}h=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};p=a(81);g=function(a){function c(b,c){a.call(this);this.xE=b;this.la=c;}h(c,a);c.create=function(a,b){return new c(a,b);};c.prototype.Of=function(a){var c,d,k;c=this;d=this.xE;k=this.la;if(null==k)this.zr?a.closed||(a.next(this.value),a.complete()):d.then(function(b){c.value=b;c.zr=!0;a.closed||(a.next(b),a.complete());},function(b){a.closed||a.error(b);}).then(null,function(a){p.root.setTimeout(function(){throw a;});});else if(this.zr){if(!a.closed)return k.Ib(b,0,{value:this.value,qf:a});}else d.then(function(f){c.value=f;c.zr=!0;a.closed||a.add(k.Ib(b,0,{value:f,qf:a}));},function(b){a.closed||a.add(k.Ib(f,0,{uy:b,qf:a}));}).then(null,function(a){p.root.setTimeout(function(){throw a;});});};return c;}(a(10).Ca);d.gia=g;},function(g,d,a){var b,f,h,p,c,k,q,n,u,y,A,K;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(102);h=a(444);p=a(443);c=a(439);k=a(982);q=a(101);n=a(981);u=a(165);y=a(10);A=a(449);K=a(238);g=function(a){function d(b,c){a.call(this,null);this.Web=b;this.la=c;}b(d,a);d.create=function(a,b){if(null!=a){if("function"===typeof a[K.observable])return a instanceof y.Ca&&!b?a:new d(a,b);if(f.isArray(a))return new q.Cw(a,b);if(p.sva(a))return new c.gia(a,b);if("function"===typeof a[u.iterator]||"string"===typeof a)return new k.wLa(a,b);if(h.dva(a))return new n.jFa(a,b);}throw new TypeError((null!==a&&typeof a||a)+" is not observable");};d.prototype.Of=function(a){var b,c;b=this.Web;c=this.la;return null==c?b[K.observable]().subscribe(a):b[K.observable]().subscribe(new A.Wga(a,c,0));};return d;}(y.Ca);d.Iea=g;},function(g,d,a){g=a(440);d.from=g.Iea.create;},function(g,d,a){g=a(101);d.of=g.Cw.of;},function(g,d){d.sva=function(a){return a&&"function"!==typeof a.subscribe&&"function"===typeof a.then;};},function(g,d){d.dva=function(a){return a&&"number"===typeof a.length;};},function(g,d){d.Hna=function(a,b){var n;for(var f=0,d=b.length;f<d;f++)for(var g=b[f],c=Object.getOwnPropertyNames(g.prototype),k=0,h=c.length;k<h;k++){n=c[k];a.prototype[n]=g.prototype[n];}};},function(g,d){d.zG=function(){return function(a){this.Xrb=a;};}();},function(g,d,a){var b;b=a(446);g=function(){function a(){this.kM=[];}a.prototype.kwa=function(){this.kM.push(new b.zG(this.la.now()));return this.kM.length-1;};a.prototype.lwa=function(a){var f;f=this.kM;f[a]=new b.zG(f[a].Xrb,this.la.now());};return a;}();d.Oia=g;},function(g,d,a){var b,f,h,p,c,k,q;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(166);f=a(10);h=a(47);p=a(73);c=a(994);a=function(a){function f(b,c){a.call(this);this.source=b;this.wW=c;this.Wn=0;this.oP=!1;}b(f,a);f.prototype.Of=function(a){return this.QS().subscribe(a);};f.prototype.QS=function(){var a;a=this.YP;if(!a||a.Wf)this.YP=this.wW();return this.YP;};f.prototype.connect=function(){var a;a=this.au;a||(this.oP=!1,a=this.au=new p.vk(),a.add(this.source.subscribe(new k(this.QS(),this))),a.closed?(this.au=null,a=p.vk.EMPTY):this.au=a);return a;};f.prototype.xV=function(){return c.xV()(this);};return f;}(f.Ca);d.Ida=a;a=a.prototype;d.U1a={R9:{value:null},Wn:{value:0,writable:!0},YP:{value:null,writable:!0},au:{value:null,writable:!0},Of:{value:a.Of},oP:{value:a.oP,writable:!0},QS:{value:a.QS},connect:{value:a.connect},xV:{value:a.xV}};k=function(a){function c(b,c){a.call(this,b);this.Ml=c;}b(c,a);c.prototype.Dc=function(b){this.Mr();a.prototype.Dc.call(this,b);};c.prototype.Eb=function(){this.Ml.oP=!0;this.Mr();a.prototype.Eb.call(this);};c.prototype.Mr=function(){var a,b;a=this.Ml;if(a){this.Ml=null;b=a.au;a.Wn=0;a.YP=null;a.au=null;b&&b.unsubscribe();}};return c;}(g.oRa);(function(){function a(a){this.Ml=a;}a.prototype.call=function(a,b){var c;c=this.Ml;c.Wn++;a=new q(a,c);b=b.subscribe(a);a.closed||(a.jo=c.connect());return b;};return a;}());q=function(a){function c(b,c){a.call(this,b);this.Ml=c;}b(c,a);c.prototype.Mr=function(){var a,b;a=this.Ml;if(a){this.Ml=null;b=a.Wn;0>=b?this.jo=null:(a.Wn=b-1,1<b?this.jo=null:(b=this.jo,a=a.au,this.jo=null,!a||b&&a!==b||a.unsubscribe()));}else this.jo=null;};return c;}(h.ii);},function(g,d,a){var b,f,h,p,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(47);f=a(235);d.iJb=function(a,b){void 0===b&&(b=0);return function(c){return c.Xf(new h(a,b));};};h=function(){function a(a,b){void 0===b&&(b=0);this.la=a;this.Ad=b;}a.prototype.call=function(a,b){return b.subscribe(new p(a,this.la,this.Ad));};return a;}();d.QAb=h;p=function(a){function d(b,c,f){void 0===f&&(f=0);a.call(this,b);this.la=c;this.Ad=f;}b(d,a);d.yb=function(a){a.notification.observe(a.destination);this.unsubscribe();};d.prototype.xaa=function(a){this.add(this.la.Ib(d.yb,this.Ad,new c(a,this.destination)));};d.prototype.oh=function(a){this.xaa(f.Notification.l3(a));};d.prototype.Dc=function(a){this.xaa(f.Notification.Hpa(a));};d.prototype.Eb=function(){this.xaa(f.Notification.g3());};return d;}(g.ii);d.Wga=p;c=function(){return function(a,b){this.notification=a;this.destination=b;};}();d.PAb=c;},function(g,d,a){var b,f,h,p,c,k,q;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var f in b)b.hasOwnProperty(f)&&(a[f]=b[f]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(166);f=a(999);h=a(73);p=a(449);c=a(452);k=a(451);a=function(a){function d(b,c,f){void 0===b&&(b=Number.POSITIVE_INFINITY);void 0===c&&(c=Number.POSITIVE_INFINITY);a.call(this);this.la=f;this.ih=[];this.WSa=1>b?1:b;this.mYa=1>c?1:c;}b(d,a);d.prototype.next=function(b){var c;c=this.Ska();this.ih.push(new q(c,b));this.Dma();a.prototype.next.call(this,b);};d.prototype.Of=function(a){var b,f,d;b=this.Dma();f=this.la;if(this.closed)throw new c.XA();this.JJ?d=h.vk.EMPTY:this.Wf?d=h.vk.EMPTY:(this.Rs.push(a),d=new k.Nia(this,a));f&&a.add(a=new p.Wga(a,f));for(var f=b.length,g=0;g<f&&!a.closed;g++)a.next(b[g].value);this.JJ?a.error(this.Sba):this.Wf&&a.complete();return d;};d.prototype.Ska=function(){return(this.la||f.Oi).now();};d.prototype.Dma=function(){for(var a=this.Ska(),b=this.WSa,c=this.mYa,f=this.ih,d=f.length,k=0;k<d&&!(a-f[k].time<c);)k++;d>b&&(k=Math.max(k,d-b));0<k&&f.splice(0,k);return f;};return d;}(g.bj);d.xG=a;q=function(){return function(a,b){this.time=a;this.value=b;};}();},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function f(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(f.prototype=b.prototype,new f());};g=function(a){function f(b,c){a.call(this);this.jM=b;this.qf=c;this.closed=!1;}b(f,a);f.prototype.unsubscribe=function(){var a,b;if(!this.closed){this.closed=!0;a=this.jM;b=a.Rs;this.jM=null;!b||0===b.length||a.Wf||a.closed||(a=b.indexOf(this.qf),-1!==a&&b.splice(a,1));}};return f;}(a(73).vk);d.Nia=g;},function(g,d){var a;a=this&&this.__extends||function(a,f){function b(){this.constructor=a;}for(var d in f)f.hasOwnProperty(d)&&(a[d]=f[d]);a.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b());};g=function(b){function f(){var a;a=b.call(this,"object unsubscribed");this.name=a.name="ObjectUnsubscribedError";this.stack=a.stack;this.message=a.message;}a(f,b);return f;}(Error);d.XA=g;},function(g,d){d.cv={e:{}};},function(g,d){d.Mb=function(a){return"function"===typeof a;};},function(g,d){d.Se=function(a){return null!=a&&"object"===typeof a;};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Nga="NetworkMonitorConfigSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.LZ="QueryStringDataProviderSymbol";},function(g,d,a){var f,h;function b(a,b,f,d,g){this.version=a;this.oE=b;this.BCa=f;this.Ag=d;this.Kq=g;this.Np=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);h=a(42);b.prototype.load=function(a){return this.Tfb(a);};b.prototype.add=function(a){this.Np.push(a);return this.c$();};b.prototype.remove=function(a,b){a=this.Isa(this.Vl(a,b));return 0<=a?(this.Np.splice(a,1),this.c$()):Promise.resolve();};b.prototype.update=function(a,b){b=this.Isa(this.Vl(a,b));return 0<=b?(this.Np[b]=a,this.c$()):Promise.resolve();};b.prototype.Tfb=function(a){var b;b=this;this.awa||(this.awa=new Promise(function(c,d){function k(a){b.K5a().then(function(){d(a);})["catch"](function(){d(a);});}b.i6().then(function(a){b.storage=a;return b.storage.load(b.oE);}).then(function(f){var d;f=f.value;try{d=a(f);b.version=d.version;b.Np=d.data;c();}catch(A){k(A);}})["catch"](function(a){a.Y!==f.H.Sn?d(a):c();});}));return this.awa;};b.prototype.c$=function(){var a,b,f,d,g;a=this;if(!this.BCa)return Promise.resolve();if(this.sW){d=new Promise(function(a,c){b=a;f=c;});g=function(){a.sW=d;a.ACa().then(function(){b();})["catch"](function(a){f(a);});};this.sW.then(g)["catch"](g);return d;}return this.sW=this.ACa();};b.prototype.ACa=function(){var a,c;a=this;c=this.Kq();return new Promise(function(d,g){a.i6().then(function(b){return b.save(a.oE,c,!1);}).then(function(){d();})["catch"](function(a){g(b.DM(f.K.oOa,a));});});};b.prototype.K5a=function(){var a;a=this;return this.BCa?new Promise(function(b,f){a.i6().then(function(b){return b.remove(a.oE);}).then(function(){b();})["catch"](function(a){f(a);});}):Promise.resolve();};b.prototype.i6=function(){return this.storage?Promise.resolve(this.storage):this.Ag.create();};b.prototype.Vl=function(a,b){for(var c=0;c<this.Np.length;++c)if(b(this.Np[c],a))return this.Np[c];};b.prototype.Isa=function(a){return a?this.Np.indexOf(a):-1;};b.DM=function(a,b,d){return b.Y&&b.cause?new h.cc(a,b.Y,void 0,void 0,void 0,d,void 0,b.cause):void 0!==b.Bc?(d=(b.message?b.message+" ":"")+(d?d:""),b.code=a,b.message=""===d?void 0:d,b):b instanceof Error?new h.cc(a,f.H.Dg,void 0,void 0,void 0,d,b.stack,b):new h.cc(a,f.H.ki,void 0,void 0,void 0,d,void 0,b);};d.zfa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.hea="DrmDataFactorySymbol";},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.TOa="PSK";a.iMa="MGK";a.Fzb="MGK_WITH_FALLBACK";a.Ezb="MGK_JWE";a.mzb="JWEJS_RSA";a.Kfa="JWK_RSA";a.nzb="JWK_RSAES";d.jN=a;},function(g,d,a){var h;function b(a,b){this.Ie=b;this.Lo=Math.floor(a);this.display=this.Lo+" "+this.Ie.name;}function f(a,b,f){this.Ie=a;this.name=b;this.Wa=f?f:this;h.Yk(this,"base");}Object.defineProperty(d,"__esModule",{value:!0});h=a(48);f.prototype.$I=function(a){return this.Ie==a.Ie;};f.prototype.toJSON=function(){return this.name;};d.uO=f;b.prototype.fa=function(a){return this.Ie.$I(a)?this.Lo:Math.floor(this.Lo*this.Ie.Ie/a.Ie);};b.prototype.v$=function(a){return this.Ie.$I(a)?this.Lo:this.Lo*this.Ie.Ie/a.Ie;};b.prototype.to=function(a){return new b(this.fa(a),a);};b.prototype.toString=function(){return this.display;};b.prototype.toJSON=function(){return{magnitude:this.Lo,units:this.Ie.name};};b.prototype.add=function(a){return this.gpa(a);};b.prototype.sd=function(a){return this.gpa(a,function(a){return-a;});};b.prototype.scale=function(a){return new b(this.fa(this.Ie.Wa)*a,this.Ie.Wa);};b.prototype.Nk=function(a){return this.fa(this.Ie.Wa)-a.fa(this.Ie.Wa);};b.prototype.$I=function(a){return 0==this.Nk(a);};b.prototype.Bva=function(){return 0==this.Lo;};b.prototype.mva=function(){return 0>this.Lo;};b.prototype.qva=function(){return 0<this.Lo;};b.prototype.gpa=function(a,c){c=void 0===c?function(a){return a;}:c;return new b(this.fa(this.Ie.Wa)+c(a.fa(this.Ie.Wa)),this.Ie.Wa);};d.rp=b;},function(g,d,a){var h;function b(a){return function(b){function c(c){return null!==c&&null!==c.target&&c.target.I8(a)(b);}c.mxa=new h.Metadata(a,b);return c;};}function f(a,b){a=a.Ts;return null!==a?b(a)?!0:f(a,b):!1;}Object.defineProperty(d,"__esModule",{value:!0});g=a(31);h=a(68);d.xDa=f;d.OCa=b;d.Kxa=b(g.Qt);d.CDa=function(a){return function(b){var c;return null!==b?(c=b.XH[0],"string"===typeof a?c.He===a:a===b.XH[0].rj):!1;};};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(247);f=a(246);g=function(){function a(a){this.Db=a;this.r_=new f.sX(this.Db);this.q_=new b.rX(this.Db);}a.prototype.$M=function(){return this.r_.$M();};a.prototype.tq=function(a){return this.q_.tq(a);};return a;}();d.Iw=g;},function(g,d,a){var b,f,h,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(103);h=a(68);p=a(1039);g=function(){function a(a,c,d,g){this.id=f.id();this.type=a;this.He=d;this.name=new p.$Pa(c||"");this.fd=[];a=null;"string"===typeof g?a=new h.Metadata(b.Qt,g):g instanceof h.Metadata&&(a=g);null!==a&&this.fd.push(a);}a.prototype.mua=function(a){for(var b=0,c=this.fd;b<c.length;b++)if(c[b].key===a)return!0;return!1;};a.prototype.isArray=function(){return this.mua(b.Ww);};a.prototype.Wgb=function(a){return this.I8(b.Ww)(a);};a.prototype.x7=function(){return this.mua(b.Qt);};a.prototype.A7=function(){return this.fd.some(function(a){return a.key!==b.ZF&&a.key!==b.Ww&&a.key!==b.aO&&a.key!==b.BG&&a.key!==b.Qt;});};a.prototype.pva=function(){return this.I8(b.Vga)(!0);};a.prototype.cbb=function(){return this.x7()?this.fd.filter(function(a){return a.key===b.Qt;})[0]:null;};a.prototype.N$a=function(){return this.A7()?this.fd.filter(function(a){return a.key!==b.ZF&&a.key!==b.Ww&&a.key!==b.aO&&a.key!==b.BG&&a.key!==b.Qt;}):null;};a.prototype.I8=function(a){var b;b=this;return function(c){var k;for(var f=0,d=b.fd;f<d.length;f++){k=d[f];if(k.key===a&&k.value===c)return!0;}return!1;};};return a;}();d.pO=g;},function(g,d,a){var b,f,h,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(53);f=a(31);h=a(68);p=a(90);g=function(){function a(a){this.lTa=a;}a.prototype.Qtb=function(){return this.lTa();};return a;}();d.XY=g;d.l=function(a){return function(c,d,g){var k;if(void 0===a)throw Error(b.aSa(c.name));k=new h.Metadata(f.ZF,a);"number"===typeof g?p.fA(c,d,g,k):p.xM(c,d,k);};};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(53);d.xva=function(a){return a instanceof RangeError||a.message===b.GQa;};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);g=function(){function a(){}a.prototype.Msa=function(a){var f;f=Reflect.getMetadata(b.sZ,a);a=Reflect.getMetadata(b.Qia,a);return{ipa:f,Fub:a||{}};};a.prototype.vbb=function(a){return Reflect.getMetadata(b.Ria,a)||[];};return a;}();d.fZ=g;},function(g,d,a){var b,f,h,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(245);f=a(1020);h=a(244);p=a(243);c=a(1014);k=a(1006);q=a(900);n=a(885);a=a(510);d.Vc=new g.IF({lw:!0});n.Ufb(d.Vc);d.Vc.load(f.platform);d.Vc.load(c.config);h.m1.load(k.Oh);p.SI.load(q.d7a);d.Vc.load(a.C1);d.Vc.bind(b.Cfa).Eh(d.Vc);},function(g,d,a){var b,f,h,p,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(122);f=a(8);g=a(2);h=a(4);p=a(112);c=a(61);a=a(21);h.W.get(a.xe).register(g.K.lfa,function(a){var d,g;d=M._cad_global.videoPreparer;g=M._cad_global.playerPredictionModel;d&&M._cad_global.playerPredictionModel&&(k=h.W.get(p.cia).create(g,d.cmb.bind(d)),M._cad_global.prefetchEvents=k,d.uh.on("deletedCacheItem",function(a){k.eI(c.Zc.rG[a.type],parseInt(a.movieId,10),a.reason);}),b.Ik.addEventListener("cacheEvict",function(a){k.eI(p.ne.Vi.SF,a.movieId,"ase_cacheEvict");k.eI(p.ne.Vi.MEDIA,a.movieId,"ase_cacheEvict");}),b.Ik.addEventListener("flushedBytes",function(){b.Ik.q2().forEach(function(a){k.eI(p.ne.Vi.MEDIA,a.M,"ase_flushedBytes");},this);}),d.Dn.addEventListener(d.Dn.events.Uia,function(a){k.l0a(c.Zc.rG[a.type],a.M,a.reason);}),d.Dn.addEventListener(d.Dn.events.Sia,function(a){k.h0a(c.Zc.rG[a.type],a.M,a.reason);}),d.Dn.addEventListener(d.Dn.events.Tia,function(a){k.j0a(c.Zc.rG[a.type],a.M,a.reason);}),d.Dn.addEventListener(d.Dn.events.Via,function(a){k.n0a(c.Zc.rG[a.type],a.M,a.reason);}));a(f.yc);});},function(g,d,a){var h,p,c,k,q,n,u,y,A,K;function b(a,b){this.Dh=a;this.lj=b;}function f(a){this.N=a;this.reset();}h=a(171);p=a(170);d=a(250);c=a(249).config;k=d.G$a;q=d.s$a;n=d.b6a;u=d.yjb;y=d.xjb;A=d.wjb;K=d.Qra;f.prototype.constructor=f;f.prototype.reset=function(){this.Wla=void 0;this.Lh=[];this.Ela=this.Fla=!1;};f.prototype.update=function(a,b){var f;this.Lh&&(this.Lh=this.Lh.filter(this.Mqb,this));if(!1===this.Fla){f=k(a.Ea).slice(0,c.aqa);0<f.length&&(this.jz(f,p.Xq.hi),this.Fla=!0,this.Lh=this.qA(f.concat(this.Lh)));}!1===this.Ela&&(f=q(a.Ea).slice(0,c.aqa),0<f.length&&(this.jz(f,p.Xq.hi),this.Ela=!0,this.Lh=this.qA(f.concat(this.Lh))));switch(b){case p.Vq.Eea:b=this.Hcb(a);break;case p.Vq.ria:b=this.Scb(a);break;case p.Vq.lO:b=this.Tcb(a);break;case p.Vq.pG:b=this.Ncb(a);break;default:b=this.Gcb(a);}this.Wla=a;return b;};f.prototype.Hcb=function(a){a=u(a.Ea,c.UAa,c.dpa);this.jz(a,p.Xq.hi);return this.Lh=this.qA(this.Lh.concat(a));};f.prototype.Scb=function(a){var b,f;this.N.log("handleScrollHorizontal");b=a.Ea;a=u(b,c.WAa,c.epa);f=n(b,this.Wla.Ea);b=b[f].list.slice(0,c.Kob);b.concat(a);this.jz(b,p.Xq.$Z);return this.qA(b.concat(this.Lh));};f.prototype.jz=function(a,b){a.forEach(function(a){if(void 0===a.Ku||a.Ku<b)a.Ku=b;void 0===a.fF&&(a.fF=h());void 0===a.Ci&&(a.Ci=h());});};f.prototype.Tcb=function(a){this.N.log("handleSearch");a=y(a.Ea,c.gpb);this.jz(a,p.Xq.tia);this.Lh=a.concat(this.Lh);return this.Lh=this.qA(this.Lh);};f.prototype.Ncb=function(a){var f,d,k,g,n;this.N.log("handlePlayFocus: ",c.NJ);f=a.direction;d=a.Ea;a=[];k=K(d);if(void 0!==k.Dh)switch(a.push(k),f){case p.qp.mia:for(f=1;f<c.NJ;f++)a.push(new b(k.Dh,k.lj+f));a.push(new b(k.Dh-1,k.lj));a.push(new b(k.Dh+1,k.lj));break;case p.qp.Ofa:for(f=1;f<c.NJ;f++)a.push(new b(k.Dh,k.lj-f));a.push(new b(k.Dh-1,k.lj));a.push(new b(k.Dh+1,k.lj));break;case p.qp.dSa:a.push(new b(k.Dh-1,k.lj));for(f=1;f<=c.NJ/2;f++)a.push(new b(k.Dh,k.lj+f)),a.push(new b(k.Dh,k.lj-f));break;case p.qp.nIa:for(a.push(new b(k.Dh+1,k.lj)),f=1;f<=c.NJ/2;f++)a.push(new b(k.Dh,k.lj+f)),a.push(new b(k.Dh,k.lj-f));}g=[];a.forEach(function(a){n=A(d,a.Dh,a.lj);void 0!==n&&g.push(n);});this.jz(g,p.Xq.$Z);return this.qA(g.concat(this.Lh));};f.prototype.Gcb=function(a){this.N.log("ModelOne: handleDefaultCase");a=u(a.Ea,c.WAa,c.epa);this.jz(a,p.Xq.$Z);return this.qA(a.concat(this.Lh));};f.prototype.Mqb=function(a){return a.Ku==p.Xq.hi|a.Ku==p.Xq.tia&h()-a.fF<c.rdb;};f.prototype.qA=function(a){var b,c,f,d,k,g,n;b=[];c={};g=0;n=a.length;for(k=0;k<n;k++)f=a[k].we,d=a[k],!1===f in c?(b.push(d),c[f]=g,g++):(f=b[c[f]],d.Ci<f.Ci&&(f.Ci=d.Ci),d.Ku>f.Ku&&(f.Ku=d.Ku),d.fF>f.fF&&(f.fF=d.fF));return b;};g.T=f;},function(g,d,a){var p,c,k,q,n,u,y;function b(a,b,c,f,d,k){this.M=this.we=a;this.Qd=b;this.Cd=c;k&&k.ke&&(this.ke=k.ke);void 0!==f&&(this.yz=f);this.Ci=d;this.bb=k;}function f(a,b,c,f,d){k(void 0!==f,"video preparer is null");k(void 0!==d,"ui preparer is null");this.N=b||console;this.N=b;this.sb=c;this.jYa=f;this.YXa=d;this.Tla=u.u$;this.UB=[];this.g1=!1;this.Im=0;new y().on(u,"changed",h,this);this.reset();}function h(){this.N.log("config changed");u.u$&&(this.Tla=u.u$);u.JK!==this.IB&&(this.reset(),this.fob());}p=a(171);c=a(170);d=a(250);k=d.assert;q=d.Qra;n=a(470);u=a(249).config;y=a(24).Pw;u.declare({u$:["ppmConfig",{ywb:{gya:0,fya:2,dya:0,eya:5,ZBa:0},ACb:{gya:0,fya:1,dya:0,eya:3,ZBa:1E3},Pwb:{gya:0,fya:1,dya:0,eya:3,ZBa:1E3}}]});f.prototype.constructor=f;f.prototype.reset=function(){this.R_=!0;this.IB=u.JK;this.N.log("create model: "+u.JK,u.UAa,u.dpa);switch(u.JK){case"modelone":this.IB=new n(this.N);break;default:this.IB=new n(this.N);}};f.prototype.fob=function(){var b,c;if(!1===this.g1){this.g1=!0;for(var a=0;a<this.UB.length;a++){this.N.log("PlayPredictionModel replay: ",JSON.stringify(this.UB[a]));b=this.Apa(this.UB[a]);c=this.tsa(b);this.IB.update(b,c);this.R_=!1;}this.UB=[];}};f.prototype.update=function(a){var b,c,f;this.N.log("PlayPredictionModel update: ",JSON.stringify(a));if(a&&a.Ea&&a.Ea[0]){!1===this.g1&&this.UB.length<u.lhb&&this.UB.push(a);b=this.Apa(a);c=this.tsa(b);this.N.log("actionType",c);b="mlmodel"==u.JK?this.IB.update(a,c):this.IB.update(b,c);b=this.W9a(b,u.Yeb||1);this.N.log("PlayPredictionModel.prototype.update() - returnedList: ",JSON.stringify(b));0===this.Im&&(this.Im=p(),this.sb&&this.sb.EL&&this.sb.EL({BR:this.Im}));if(this.sb&&this.sb.yAa){f={BR:this.Im,offset:this.HS(),tza:[]};b.forEach(function(a){f.tza.push({cp:a.we});});f.oza=JSON.stringify(a);f.pza=JSON.stringify(b);this.sb.yAa(f);}this.jYa.ew(b);this.YXa.ew(b);this.R_=!1;}};f.prototype.sob=function(){this.Im=0;};f.prototype.HS=function(){return p()-this.Im;};f.prototype.EL=function(){this.Im=p();this.sb&&this.sb.EL&&this.sb.EL({BR:this.Im});};f.prototype.Apa=function(a){var b,f,d,k,g;b={};k=a.Ea||[];g=function(a){var k,g;k={};f=c.$F.name.indexOf(a.context);k.context=0<=f?f:c.$F.hr;k.rowIndex=a.rowIndex;k.requestId=a.requestId;k.list=[];d=a.list||[];d.forEach(function(a){g={we:a.we,Cd:a.Cd,index:a.index,yz:a.yz,wE:a.wE,list:a.list,bb:a.bb};void 0!==a.property&&(f=c.LA.name.indexOf(a.property),g.property=0<=f?f:c.LA.hr);k.list.push(g);}.bind(this));b.Ea.push(k);}.bind(this);void 0!==a.direction&&(f=c.qp.name.indexOf(a.direction),b.direction=0<=f?f:c.qp.hr);void 0!==a.mJ&&(b.FGb=a.mJ.rowIndex,b.EGb=a.mJ.D1a);b.mJ=a.mJ;b.Ea=[];k.forEach(g);return b;};f.prototype.tsa=function(a){var b,f,d;b=a.direction||c.qp.hr;f=a.mJ;d=a.Ea||[];!0===this.R_?a=c.Vq.Eea:!0===d.some(this.bdb)?(a=c.Vq.pG,this.AV(d,b,f)):a=d[0].context===c.$F.lO?c.Vq.lO:b===c.qp.mia||b===c.qp.Ofa?c.Vq.ria:c.Vq.hr;return a;};f.prototype.bdb=function(a){return(a.list||[]).some(function(a){return a.property===c.LA.pG||a.property===c.LA.Sda;});};f.prototype.AV=function(a,b,f){var d,k;this.N.log("reportPlayFocusEvent: ",b,f);d={};k=q(a);this.sb&&this.sb.AV&&(d.qGb=p(),d.direction=c.qp.name[b],f&&(d.rowIndex=f.rowIndex,d.O2=f.D1a),void 0!==k.Dh&&(d.requestId=a[k.Dh].requestId),this.sb.AV&&this.sb.AV(d));};f.prototype.W9a=function(a,b){for(var c=a.length,f=[],d,k,g,n,h=0;h<c;h++){k=a[h];d=Math.floor(h/b)+1;if(void 0!==k.list){g=k.list;n=g.length;for(var q=0;q<Math.min(u.B1a,n)&&!(g[q].Ci=k.Ci,this.dna(g[q],d,f),f.length>=u.Swa);q++);}else this.dna(k,d,f);if(f.length>=u.Swa)break;}return f;};f.prototype.dna=function(a,c,f){var k,g;function d(a){a.ke&&(a.bb||(a.bb={}),a.bb.ke=a.ke);return a.bb;}k=a.wE;void 0!==k&&k instanceof Array?k.forEach(function(k){void 0!==k.we&&(g=d(k),f.push(new b(k.we,c,k.Cd,k.yz,a.Ci,g)));}):void 0!==k&&void 0!==k.we&&(k=a.wE,g=d(k),f.push(new b(k.we,c,k.Cd,k.yz,a.Ci,g)));void 0!==a.we&&(g=d(a),f.push(new b(a.we,c,a.Cd,a.yz,a.Ci,g)));};f.prototype.jv=function(a){var b;b=this.Tla;return a?b[a]:b;};g.T=f;},function(g,d,a){var b,f,h,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(8);g=a(2);h=a(4);d=a(21);h.W.get(d.xe).register(g.K.mfa,function(c){var d,g;if(b.config.Klb){d=h.Cf("PlayerPredictionModel");M._cad_global.videoPreparer||(d.error("videoPreparer is not defined"),c(f.yc));g=a(471);d.log=d.trace.bind(d);p=new g({},d,{EL:function(a){M._cad_global.prefetchEvents.a6a(a.BR);},yAa:function(a){M._cad_global.prefetchEvents.dmb(a);}},M._cad_global.videoPreparer,{ew:function(){}});M._cad_global.playerPredictionModel=p;d.info("ppm v2 initialized");}c(f.yc);});},function(g){g.T={dv:{Aa:12E5,kK:9E5,fd:12E5},Ju:{Aa:10,kK:10,fd:10},Iu:{Aa:10240,kK:10240,fd:10240}};},function(g){function d(a){var b;b=[];return function t(a){if(a&&"object"===typeof a){if(-1!==b.indexOf(a))return!0;b.push(a);for(var c in a)if(a.hasOwnProperty(c)&&t(a[c]))return!0;}return!1;}(a);}g.T=function(a,b){var g;if(b&&d(a))return-1;b=[];a=[a];for(var f=0;a.length;){g=a.pop();if("boolean"===typeof g)f+=4;else if("string"===typeof g)f+=2*g.length;else if("number"===typeof g)f+=8;else if("object"===typeof g&&-1===b.indexOf(g)){b.push(g);for(var h in g)a.push(g[h]);}}return f;};},function(g,d,a){var c,k;function b(){return Object.create(null);}function f(a){this.log=a.log;this.Ta=a.Ta;this.kz=b();this.Promise=a.Promise;this.ls=a.ls;this.mca=a.mca;this.Tg=a.Tg||!1;this.dv=b();this.Ju=b();this.Iu=b();this.sXa(a);a.eD&&(this.eD=a.eD,c(this.eD,f.prototype));}function h(a){return"undefined"!==typeof a;}function p(a){var f;for(var b=0,c=arguments.length;b<c;){f=arguments[b++];if(h(f))return f;}}c=a(39);a(474);k=a(473);f.prototype.sXa=function(a){this.dv.manifest=p(a.A4,k.dv.Aa);this.dv.ldl=p(a.z4,k.dv.kK);this.dv.metadata=p(a.vGb,k.dv.fd);this.Ju.manifest=p(a.s2,k.Ju.Aa);this.Ju.ldl=p(a.r2,k.Ju.kK);this.Ju.metadata=p(a.LEb,k.Ju.fd);this.Iu.manifest=p(a.JEb,k.Iu.Aa);this.Iu.ldl=p(a.IEb,k.Iu.kK);this.Iu.metadata=p(a.KEb,k.Iu.fd);};f.prototype.aT=function(a,b,c){this.Ng("undefined"!==typeof a);this.Ng("undefined"!==typeof b);return!!this.Cka(a,b,c).value;};f.prototype.Cka=function(a,b,c){var f,d;f={value:null,reason:"",log:""};d=this.kz[b];if("undefined"===typeof d)return f.log="cache miss: no data exists for field:"+b,f.reason="unavailable",f;"undefined"===typeof d[a]?(f.log="cache miss: no data exists for movieId:"+a,f.reason="unavailable"):(c=d[a][c?c:"DEFAULTCAPS"])&&c.value?this.yT(b,c.Mg)?(f.log="cache miss: "+b+" data expired for movieId:"+a,f.reason="expired"):(f.log=this.Promise&&c.value instanceof this.Promise?"cache hit: "+b+" request in flight for movieId:"+a:"cache hit: "+b+" available for movieId:"+a,f.value=c.value):(f.log="cache miss: "+b+" data not available for movieId:"+a,f.reason="unavailable");return f;};f.prototype.getData=function(a,b,c){this.Ng("undefined"!==typeof a);this.Ng("undefined"!==typeof b);a=this.Cka(a,b,c);this.log.trace(a.log);return a.value?this.Promise?a.value instanceof this.Promise?a.value:Promise.resolve(a.value):this.mca?JSON.parse(this.mca(a.value,"gzip",!1)):a.value:this.Promise?Promise.reject(a.reason):a.reason;};f.prototype.setData=function(a,c,f,d,k){var g;this.Ng("undefined"!==typeof a);this.Ng("undefined"!==typeof c);g=this.kz;k=k?k:"DEFAULTCAPS";g[c]||(g[c]=b(),Object.defineProperty(g[c],"numEntries",{enumerable:!1,configurable:!0,writable:!0,value:0}),Object.defineProperty(g[c],"size",{enumerable:!1,configurable:!0,writable:!0,value:0}));f=this.ls?this.ls(JSON.stringify(f),"gzip",!0):f;g=g[c];this.XUa(a,c,k,g);c={Mg:this.Ta.getTime(),value:f,size:0,type:c,S3:d};g[a]=g[a]||b();g[a][k]=g[a][k]||b();g[a][k]=c;g.size+=0;g.numEntries++;this.eD&&this.emit("addedCacheItem",c);return c;};f.prototype.XUa=function(a,b,c,f){var d,k,g,n,h,q,u,t,p;d=this;k=f.numEntries;g=this.Ju[b];q=f[a]&&f[a][c];if(q&&q.value)n=a,h="promise_or_expired";else if(k>=g){t=Number.POSITIVE_INFINITY;Object.keys(f).every(function(a){var k;k=f[a]&&f[a][c];k&&k.value&&d.yT(b,k.Mg)&&(p=a);k&&k.value&&k.Mg<t&&(t=k.Mg,u=a);return!0;});n=p||u;h="cache_full";}this.Tg&&this.log.debug("makespace ",{maxCount:g,currentCount:f.numEntries,field:b,movieId:a,movieToBeRemoved:n});n&&(d.clearData(n,b,c,void 0,h),this.log.debug("removed from cache: ",n,b));};f.prototype.F2=function(a,b){var c,f;c=this;c.Ng("undefined"!==typeof a);f=a+"";b.forEach(function(a){var b;b=c.kz[a];b&&Object.keys(b).forEach(function(b){b!=f&&c.clearData(b,a,void 0,void 0,"clear_all");});});};f.prototype.clearData=function(a,b,c,f,d){var k;this.Ng("undefined"!==typeof a);this.Ng("undefined"!==typeof b);k=this.kz[b];b=k?k[a]:void 0;c=c?c:"DEFAULTCAPS";if(b&&b[c]){k.size-=b[c].size;k.numEntries--;if(k=b&&b[c])b[c]=void 0,!f&&k.S3&&k.S3();this.eD&&(a={creationTime:k.Mg,destroyFn:k.S3,size:k.size,type:k.type,value:k.value,reason:d,movieId:a},this.emit("deletedCacheItem",a));}};f.prototype.flush=function(a){var c;this.Ng("undefined"!==typeof a);c=this.kz;c[a]=b();c[a].numEntries=0;c[a].size=0;};f.prototype.yT=function(a,b){return this.Ta.getTime()-b>this.dv[a];};f.prototype.getStats=function(a,b,c){var f,d,k,g,n;f={};d=this;k=d.kz;g=h(a)&&h(b);n=c||"DEFAULTCAPS";Object.keys(k).forEach(function(c){var q,u;q=Object.keys(k[c]);u=k[c];q.forEach(function(k){!(k=u&&u[k]&&u[k][n])||!h(k.value)||k.value instanceof this.Promise||(f[c]=(f[c]|0)+1,d.yT(k.type,k.Mg)&&(f[c+"_expired"]=(f[c+"_expired"]|0)+1),g&&k.Mg>=a&&k.Mg<b&&(f[c+"_delta"]=(f[c+"_delta"]|0)+1));});});return f;};f.prototype.Re=function(a){var b,c,f,d;b=[];c=this;f=c.kz;d=a||"DEFAULTCAPS";Object.keys(f).forEach(function(a){var k,g;k=Object.keys(f[a]);g=f[a];k.forEach(function(f){var k,n;k=g&&g[f]&&g[f][d];k&&h(k.value)&&(n=c.yT(k.type,k.Mg)?"expired":k.value instanceof this.Promise?"loading":"cached",b.push({movieId:f,state:n,type:a,size:k.size}));});});return b;};f.prototype.RBa=function(a,b){this.Ng("undefined"!==typeof a);this.Ng("undefined"!==typeof b);this.Iu[a]=b;};f.prototype.Ng=function(a){if(!a&&(this.log.error("Debug Assert Failed for"),this.Tg))throw Error("Debug Assert Failed ");};g.T=f;},function(g,d,a){var f,h;function b(a,b,d,g,n,u,t){this.M=a;this.Qd=b;this.type=d;this.id=++h;this.vI=g;this.status=f.me.yda;this.klb=void 0===n?!1:n;this.Xxa=t;}Object.defineProperty(d,"__esModule",{value:!0});f=a(61);h=0;b.prototype.Xp=function(){var a;a={id:this.id,type:this.type,created:this.vI,status:this.status,movieId:this.M};this.startTime&&(a.startTime=this.startTime);this.endTime&&this.startTime&&(a.duration=this.endTime-this.startTime,a.endTime=this.endTime);return a;};b.prototype.cl=function(a){this.Xxa&&this.Xxa(a);};d.qO=b;},function(g,d,a){var p,c,k;function b(){}function f(a){this.log=a.log;this.Ta=a.Ta;this.nR=this.wI=0;this.ww=[];this.paused=!1;this.pW=[];this.lpa=[];this.aK=a.aK||b.Kca;this.Vc=a.Vc;this.fj=this.Vc.get(c.FN);this.addEventListener=this.fj.addListener.bind(this.fj);this.events={Uia:"taskstart",Sia:"taskabort",Tia:"taskfail",Via:"tasksuccess"};}function h(a){return a.Xp();}Object.defineProperty(d,"__esModule",{value:!0});g=a(138);p=a(61);c=a(72);b.POa="prepend";b.Kca="append";b.qKa="ignore";k=g.Lt;d.xRa=f;f.prototype.jna=function(a){this.log.trace("adding tasks, number of tasks: "+a.length);this.paused=!1;this.ww=this.FUa(a);this.wI=0;this.nR+=1;this.yb();};f.prototype.FUa=function(a){var c,f;c=this.ww.filter(function(a){return a.klb&&a.status===p.me.yda;});f=this.aK;if(f===b.qKa)return[].concat(a);if(f===b.POa)return c.concat(a);if(f===b.Kca)return a.concat(c);};f.prototype.pause=function(){this.paused=!0;};f.prototype.yb=function(){var a,b;if(this.wI===this.ww.length)this.log.trace("all tasks completed");else if(this.paused)this.log.trace("in paused state",{currentTaskIndex:this.wI,numberOfTasks:this.ww.length});else{a=this.ebb();b=this.nR;a.startTime=this.Ta.getTime();a.status=p.me.yia;this.fj.Hb(this.events.Uia,{M:a.M,type:a.type});this.pW.push(a);a.ef(function(c){a.endTime=this.Ta.getTime();c?0<=[p.me.zA,p.me.oN,p.me.EF,p.me.nN].indexOf(c.status)?(a.status=c.status,this.F0(a,this.events.Sia,"cancelled task")):(a.status=p.me.Ft,this.F0(a,this.events.Tia,"task failed",c)):(a.status=p.me.Eia,this.F0(a,this.events.Via,"task succeeded"));this.lpa.push(a);this.pW.splice(this.pW.indexOf(a),1);this.nR===b&&(this.wI++,this.yb());}.bind(this));}};f.prototype.ebb=function(){return this.ww[this.wI];};f.prototype.F0=function(a,b,c,f){var d;d=a.Xp();f?this.log.warn(c,d,f):this.log.trace(c,d);this.fj.Hb(b,{M:a.M,type:a.type,reason:a.status});a.cl(d);};f.prototype.getStats=function(a,b,c){var f,d,g,n;f=this.lpa.map(h);d=this.pW.map(h);g=k.zd(a)&&k.zd(b);n={};if(k.zd(c))return n.O1a=f.filter(function(a){return a.movieId===c;}),n;f.concat(d).forEach(function(c){var f;n[c.type+"_"+c.status]=(n[c.type+"_"+c.status]|0)+1;f=c.status==p.me.yia?c.startTime:c.endTime;g&&f>=a&&f<b&&(n[c.type+"_"+c.status+"_delta"]=(n[c.type+"_"+c.status+"_delta"]|0)+1);});return n;};},function(g,d,a){var f,h,p,c,k,q,n,u,y,A;function b(a){this.log=a.log;this.Ta=a.Ta;this.oD=a.oD;this.LS=a.LS;this.nv=a.nv;this.pD=a.pD;this.Zy=a.Zy;this.C2=a.C2;this.CI=a.CI;this.Vc=a.Vc;this.config=this.Vc.get(q.gd)();this.EI=a.EI;this.DI=a.DI;this.Hca=a.Hca;this.N9=a.N9;this.O9=a.O9;this.TK=a.TK;this.C5=a.C5;this.Tg=a.Tg||!1;this.i1={};this.yP={};this.UP={num_of_calls:0,num_of_movies:0};this.B2=a.B2;this.q9=a.q9;this.e$a=a.e$a;this.q5=a.q5;this.uh=new n({log:this.log,Ta:this.Ta,Promise:Promise,Tg:this.Tg,s2:a.s2,r2:a.r2,A4:a.A4,z4:a.z4,eD:u});this.Dn=new f.xRa({log:this.log,Ta:this.Ta,aK:a.aK,Vc:this.Vc});this.Vl=this.uh.getData.bind(this.uh);this.kw=this.uh.setData.bind(this.uh);this.ZS=this.uh.aT.bind(this.uh);}Object.defineProperty(d,"__esModule",{value:!0});f=a(477);h=a(476);g=a(138);p=a(231);c=a(426);k=a(112);q=a(17);n=a(475);u=a(24).EventEmitter;y=g.Lt;A=new c.ija(y,new p.pX());d.mSa=b;b.prototype.ew=function(a,b){var c,f,d;c=this;a=a.map(function(a){a.bb=a.bb||{RH:{Vya:!1},Zg:0};y.Ol(a.bb.Zg)||(a.bb.Zg=0);y.Ol(a.Cd)&&(a.bb.V=a.Cd);return a;});f=a.map(function(a){return c.eka(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=f.map(function(a){return a.M+"-"+a.type;});this.log.trace("prepare tasks",d);this.Dn.jna(f);this.UP.num_of_calls++;this.UP.num_of_movies+=a.length;};b.prototype.$lb=function(a,b){var c,f,d;c=this;f=a.map(function(a){return a.M+"";});a=a.map(function(a){a.bb=a.bb||{RH:{Vya:!1},Zg:0};a.bb.ce=!0;a.bb.Bxa=f;return c.eka(a,b);}).reduce(function(a,b){return a.concat(b);},[]);d=a.map(function(a){return a.M+"-"+a.type;});this.log.trace("predownload tasks",d);this.Dn.jna(a);};b.prototype.dub=function(a,b){this.yP[a]||(this.yP[a]={});a=this.yP[a];a.wza=(a.wza|0)+1;a.Ci=b;};b.prototype.getStats=function(a,b,c){var f;f=c&&this.yP[c]||{};f.ww=this.Dn.getStats(a,b,c);f.cache=this.uh.getStats(a,b);f.psa=A.$k(this.C5(),this.UP);return f||{};};b.prototype.eka=function(a,b){var c,f,d,k,g;a.ke&&(a.bb.ke=a.ke);c=[];f=a.M;d=!!a.bb.ce;this.dub(f,a.Ci);k=null;if(this.uh.aT(f,"manifest"))this.log.trace("manifest exists in cache for "+f);else{g=new h.qO(f,a.Qd,"manifest",this.Ta.getTime(),d,void 0,b);k=g.id;g.ef=this.oD.bind(this,f,a);c.push(g);}this.LS&&this.C2()&&(this.uh.aT(f,"ldl")?this.Tg&&this.log.trace("ldl exists in cache for "+f):(g=new h.qO(f,a.Qd,"ldl",this.Ta.getTime(),d,k,b),g.ef=this.LS.bind(this,f,a),c.push(g)));this.nv&&this.pD&&this.B2()&&(this.q9(f)?this.Tg&&this.log.trace("headers/media exists in cache for "+f):(f=new h.qO(a.M,a.Qd,"getHeaders",this.Ta.getTime(),d,k,b),f.ef=this.nv.bind(this,a.M,a),c.push(f),b=new h.qO(a.M,a.Qd,"getMedia",this.Ta.getTime(),d,k,b),b.ef=this.pD.bind(this,a.M,a),c.push(b)));return c;};b.prototype.Qcb=function(a){this.O9(a);};b.prototype.Pcb=function(a){this.log.trace("task scheduler paused on playback created");this.Dn.pause();this.EI&&this.uh.F2(a,["manifest"]);this.DI&&this.uh.F2(a,["ldl"]);this.N9(a);};b.prototype.cua=function(){this.log.info("track changed, clearing all manifests from cache");this.uh.F2("none",["manifest"]);};b.prototype.Ocb=function(a){var b;b=this;this.CI?this.uh.clearData(a,"manifest"):this.uh.aT(a,"manifest")&&this.uh.getData(a,"manifest").then(function(c){c.isSupplemental||b.uh.clearData(a,"manifest");},function(c){b.log.warn("Failed to get manifest for movieId ["+a+"] from cacheManager.",c);});this.uh.clearData(a,"ldl",void 0,!0);this.J2(a);this.TK();};b.prototype.J2=function(a){this.i1[a]=void 0;};b.prototype.r6=function(a){return this.i1[a];};b.prototype.Qpa=function(a){return this.i1[a]=this.Hca();};b.prototype.cmb=function(){var a;a=[];a=this.uh.Re().map(function(a){return{cp:parseInt(a.movieId,10),state:a.state,Wr:a.type,size:a.size||void 0};});this.q5().map(function(b){2===b.Co?a.push({cp:b.M,state:"cached",Wr:k.ne.Vi.SF,size:void 0}):b.p9a&&!b.pfb&&a.push({cp:b.M,state:"loading",Wr:k.ne.Vi.SF,size:void 0});b.lEa&&0<b.lEa&&b.Sna&&0<b.Sna?a.push({cp:b.M,state:"cached",Wr:k.ne.Vi.MEDIA,size:void 0}):b.Vlb&&!b.Ulb&&a.push({cp:b.M,state:"loading",Wr:k.ne.Vi.MEDIA,size:void 0});});return a;};b.prototype.eva=function(a){return a&&0<=a.indexOf("billboard");};},function(g,d,a){var b,f,h,p,c,k,q,n,u,y,A,K,x,l,G,m,T,S,r,D,Q,W,ca,ia,X,ja,Y;Object.defineProperty(d,"__esModule",{value:!0});b=a(50);f=a(122);h=a(106);p=a(12);c=a(8);k=a(28);q=a(25);g=a(2);n=a(4);u=a(20);y=a(218);A=a(3);K=a(78);x=a(119);l=a(113);G=a(61);m=a(174);T=a(19);S=a(32);r=a(478);D=a(160);Q=a(187);W=a(146);ca=a(124);ia=a(38);X=a(58);d=a(21);ja=a(135);n.W.get(d.xe).register(g.K.qfa,function(a){var V,da,B,F,sa,Kb,Fa,Va,P,R,Z,ba,ga,fa;function d(){var a,b,c;if(p.config.tn){a={};a.trigger=G.Zc.OOa.lOa;b=V.getTime();c=Y.getStats(ga,b);a.startoffset=ga;ga=a.endoffset=b;a.cache=JSON.stringify(c.cache);a.tasks=JSON.stringify(c.ww);a.general=JSON.stringify(c.psa);b=n.W.get(ia.Mj);a=n.W.get(X.On).Nl("prepare","info",a);b.vc(a);}}function g(a,b,c){var d,k;k=a.video_tracks;k&&k.length&&k[0].streams&&k[0].streams.length&&(d=k[0].streams[0].content_profile);k=p.rpa(b.ke);d=p.qpa(!!a.choiceMap,!1,d);d=f.Wj.Rp(Object.assign({},k,d));return{M:c,Qd:0,Sab:function(){return{Aa:a,Vh:!1,jC:a.defaultTrackOrderList[0].audioTrackId};},config:d,ce:!!b.ce,Bxa:b.Bxa};}function t(a,b,c){Y.Vl(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Fa.trace("ldl not available in cache",f);Y.Vl(a,"manifest").then(function(f){var k,g,q;function d(b){Fa.warn("ldl is now invalid",b);g.close();Y.kw(a,"ldl",void 0);Y.J2(a);}if(Y.ZS(a,"ldl"))c({status:G.Zc.me.zA});else if(f.hasDrmStreams)if(p.config.Hqa&&Va&&Va!==a&&!b.force)c({status:G.Zc.me.oN});else if(p.config.Iqa&&P&&P!==a&&!b.force)c({status:G.Zc.me.EF});else{Va&&Va!==a&&(R[a]=(R[a]|0)+1);P&&P!==a&&(Z[a]=(Z[a]|0)+1);k=f.video_tracks[0].drmHeader.bytes;g=N({Udb:"cenc",bra:Fa,Cs:function(b){var c;c=[];b.Pp.forEach(function(a){c.push({sessionId:a.sessionId,dataBase64:n.$r(a.data)});});b={Pp:c,LR:[f.drmContextId],zh:G.Zc.zpa(b.zh),Gf:f.playbackContextId,oa:Y.Qpa(a),nf:f.nf};Fa.trace("xid created ",{MovieId:a,xid:b.oa});return F.bC(b,h.Lg.profile);},yrb:void 0,m8a:d,Nc:void 0,H9:T.ee,Ta:sa});Y.kw(a,"ldl",g,function(){g.close();});q=Kb.shift();n.log.trace("cached mediakeys count "+Kb.length);return g.create(p.config.Md,q).then(function(){return g.Ef(K.Zi.Ot,[n.Jk(k)],!0);}).then(function(){c(null,g);})["catch"](function(a){d(a);c(a);});}else c({status:G.Zc.me.nN});})["catch"](function(a){Fa.warn("Manifest not available for ldl request",a);c({status:G.Zc.me.zA});});});}function I(a,b,c){Y.Vl(a,"ldl").then(function(a){c(null,a);})["catch"](function(f){Fa.trace("ldl not available in cache",f);Y.Vl(a,"manifest").then(function(f){var k,g;function d(b,c){Fa.warn(b+" LDL is now invalid.",c);Y.kw(a,"ldl",void 0);Y.J2(a);}if(Y.ZS(a,"ldl"))c({status:G.Zc.me.zA});else if(f.hasDrmStreams)if(p.config.Hqa&&Va&&Va!==a&&!b.force)c({status:G.Zc.me.oN});else if(p.config.Iqa&&P&&P!==a&&!b.force)c({status:G.Zc.me.EF});else{Va&&Va!==a&&(R[a]=(R[a]|0)+1);P&&P!==a&&(Z[a]=(Z[a]|0)+1);k=f.video_tracks[0].drmHeader.bytes;g=n.W.get(x.BN)().then(function(b){var c;c={type:K.Zi.Ot,nT:n.Jk(k),context:{Md:p.config.Md},tg:{M:a,oa:Y.Qpa(a),Gf:f.playbackContextId,$j:f.drmContextId,profileId:h.Lg.profile.id,nf:f.nf}};return b.ew(c,n.W.get(ja.iG)());}).then(function(a){c(null,a);return a;})["catch"](function(a){d("Unable to prepare an EME session.",a);});Y.kw(a,"ldl",g,function(){try{g.then(function(a){a.close().subscribe(void 0,function(a){d("Unable to cleanup LDL session, unable to close the session.",a);});})["catch"](function(a){d("Unable to cleanup LDL session, Unable to get the session.",a);});}catch(Bb){d("Unable to cleanup LDL session, unexpected exception.",Bb);}});}else c({status:G.Zc.me.nN});})["catch"](function(a){Fa.warn("Manifest not available for ldl request",a);c({status:G.Zc.me.zA});});});}function N(a){var b,c;b=new S.Eg.Bt(a.bra,a.Cs,a.yrb,{Tg:!1,cK:!1});c=n.W.get(l.dB);return S.Eg.Dt(a.bra,a.Udb,a.Nc,{Tg:!1,cK:!1,vva:p.config.di,oBa:{lxa:p.config.nBa,Ooa:p.config.Daa},FL:b,Jza:p.config.F$,Ma:void 0,qF:p.config.qF,tA:p.config.m4,onerror:a.m8a,H9:a.H9,Ta:a.Ta,Clb:!1,kT:p.config.kT,Tna:c.oI([]),mEa:c.uI([]),CD:p.config.CD});}V={getTime:q.Qf,XGb:q.$Q};da=n.W.get(u.de);B=n.W.get(Q.bZ);F=n.W.get(W.cG);sa=V;Kb=[];Fa=n.Cf("VideoPreparer");R={};Z={};if(!S.Eg.Dt||!S.Eg.Bt){ba={};S.Eg.Dt=ba.Sa;S.Eg.Bt=ba.request;}Fa.info("instance created");Y=new r.mSa({log:Fa,Ta:V,Hca:q.w1a,oD:function(a,b,c){var d;function f(){var b,c;da.Tx(d)||(d={trackingId:d});b={Za:d,we:a,lJ:G.Zc.Qn.pha};Fa.trace("manifest request for:"+a);c=n.W.get(ca.sG)();return B.oD(b,c);}d=b.bb;Fa.trace("getManifest: "+a);p.config.yYa&&d&&d.Aa&&!Y.ZS(a,"manifest")&&(!d.Aa.clientGenesis||Date.now()-d.Aa.clientGenesis<p.config.xza)?(d.Aa.Rz=V.getTime(),d.Aa.CE=V.getTime(),b=d.Aa.runtime?n.W.get(D.cZ).decode(d.Aa):d.Aa,Y.kw(a,"manifest",b),c(null,b)):Y.Vl(a,"manifest").then(function(a){c(null,a);})["catch"](function(b){var d;Fa.trace("manifest not available in cache",b);if(Y.ZS(a,"manifest"))c({status:G.Zc.me.zA});else{d=V.getTime();b=f();Y.kw(a,"manifest",b);b.then(function(b){b.Rz=d;b.CE=V.getTime();Y.kw(a,"manifest",b);c(null,b);})["catch"](function(b){c(b);Y.kw(a,"manifest",void 0);});}});},LS:p.config.kp?I:t,C2:function(){return p.config.p4&&k.w7(p.config);},nv:function(a,b,c){var d;d=b.bb;Y.Vl(a,"manifest").then(function(b){b=g(b,d,a);f.Ik.zoa(b,function(){c(null,{});});})["catch"](function(a){Fa.error("Exception in getHeaders",a);c(a);});},pD:function(a,b,c){var d;d=b.bb;Y.Vl(a,"manifest").then(function(k){var h,q,t;h=g(k,d,a);q=k.duration;k=n.W.get(y.tX).ona({rA:A.zb(k.bookmark),M:a,cL:A.zb(q),Za:d}).fa(A.na);n.W.get(u.de).Hp(d.V)&&(k=d.V);h.Cd=k;if(Va!=a||d.ce||b.force){t=function(b){b.movieId===a&&b.stats&&b.stats.prebuffcomplete&&(f.Ik.removeEventListener("prebuffstats",t),c(null,{}));};f.Ik.addEventListener("prebuffstats",t);f.Ik.zoa(h);}else c({status:G.Zc.me.EF});})["catch"](function(a){Fa.error("Exception in getMedia",a);c(a);});},Zy:function(){return f.Ik.Zy();},B2:function(){return p.config.TR;},q9:function(a){var b;b=!1;f.Ik.q2().forEach(function(c){c.M==a&&(b=!0);});return b;},q5:function(){return f.Ik.q2().map(function(a){var c,d;c=f.Ik.Ggb(a.M);d=c[b.ec.bh.AUDIO]&&c[b.ec.bh.AUDIO].data;c=c[b.ec.bh.VIDEO]&&c[b.ec.bh.VIDEO].data;return{M:a.M,Co:a.Co,Sna:d&&d.length,lEa:c&&c.length,p9a:da.Hp(a.Jb.oS),pfb:da.Hp(a.Jb.PT),Vlb:da.Hp(a.Jb.vE),Ulb:da.Hp(a.Jb.gV)};});},N9:function(a){Va=a;},O9:function(a){fa&&(fa.I2(),d());P=a;},TK:function(){fa&&fa.dba();P=Va=void 0;},C5:function(){return{ldls_after_create:R,ldls_after_start:Z};},CI:p.config.CI,EI:p.config.EI,DI:p.config.DI,aK:p.config.emb,s2:p.config.hmb,r2:p.config.fmb,A4:p.config.xza,z4:p.config.gmb,Tg:!1,Vc:n.W});M._cad_global.videoPreparer=Y;ba=p.config.jlb;ga=V.getTime();ba&&(fa=new m.oia(ba,d),fa.dba());a(c.yc);});},function(g,d,a){var b,f,h,p,c,k,q,n,u,y,A,K;Object.defineProperty(d,"__esModule",{value:!0});b=a(120);f=a(104);h=a(106);p=a(172);c=a(140);k=a(8);q=a(28);g=a(2);n=a(4);u=a(131);y=a(14);A=a(19);K=a(9);a=a(21);n.W.get(a.xe).register(g.K.sfa,function(a){function d(a,b){function c(a){a=new u.CA(n.Jk(a));a.ae();return{Cv:a.Sza(),c8a:a.Sza()};}return{encrypt:function(b,c){var f;b=A.Ld(b)?n.QM(b):b;f=K.Rt.getRandomValues(new Uint8Array(16));q.jE(K.Ym.encrypt({name:"AES-CBC",iv:f},a,b)).then(function(a){var b,d;a=new Uint8Array(a);b=[];d=new u.CA(b);d.cN(2);d.yEa(f);d.yEa(a);a=n.$r(b);c({success:!0,encryptedDataAsn1Base64:a});},function(a){y.Ga(!1,"Encrypt error: "+a);c({success:!1});});},decrypt:function(b,f){b=c(b);q.jE(K.Ym.decrypt({name:"AES-CBC",iv:b.Cv},a,b.c8a)).then(function(a){a=new Uint8Array(a);f({success:!0,text:n.RW(a)});},function(a){y.Ga(!1,"Decrypt error: "+a);f({success:!1});});},hmac:function(a,c){a=A.Ld(a)?n.QM(a):a;q.jE(K.Ym.sign({name:"HMAC",hash:{name:"SHA-256"}},b,a)).then(function(a){a=new Uint8Array(a);c({success:!0,hmacBase64:n.$r(a)});},function(a){y.Ga(!1,"Hmac error: "+a);c({success:!1});});}};}b.wO.KH.mdx={getEsn:function(){return f.wh.xh;},createCryptoContext:function(a){var b,c,f;b=p.vj.Ff.getStateForMdx(h.Lg.profile.id);c=b.cryptoContext;f=b.masterToken;b=b.userIdToken;f&&b?(y.Ga(c),f=["1",n.$r(JSON.stringify(f.toJSON())),n.$r(JSON.stringify(b.toJSON()))].join(),a({success:!0,cryptoContext:{cTicket:f,encrypt:function(a,b){a=A.Ld(a)?n.QM(a):a;c.encrypt(a,{result:function(a){a=n.$r(a);b({success:!0,mslEncryptionEnvelopeBase64:a});},timeout:function(){b({success:!1});},error:function(a){y.Ga(!1,"Encrypt error: "+a);b({success:!1});}});},decrypt:function(a,b){a=n.Jk(a);c.decrypt(a,{result:function(a){b({success:!0,text:n.RW(a)});},timeout:function(){b({success:!1});},error:function(a){y.Ga(!1,"Decrypt error: "+a);b({success:!1});}});},hmac:function(a,b){a=A.Ld(a)?n.QM(a):a;c.sign(a,{result:function(a){b({success:!0,hmacBase64:n.$r(a)});},timeout:function(){b({success:!1});},error:function(a){y.Ga(!1,"Hmac error: "+a);b({success:!1});}});}}})):(y.Ga(!1,"Must login first"),a({success:!1}));},createCryptoContextFromSharedSecret:function(a,b){var c;c=n.Jk(a);a=c.subarray(32,48);c=c.subarray(0,32);if(16!=a.length||32!=c.length)throw Error("Bad shared secret");Promise.all([q.jE(K.Ym.importKey("raw",a,{name:"AES-CBC"},!1,["encrypt","decrypt"])),q.jE(K.Ym.importKey("raw",c,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign","verify"]))]).then(function(a){b({success:!0,cryptoContext:d(a[0],a[1])});},function(){b({success:!1});});},getServerEpoch:function(){return c.vh.Obb();}};a(k.yc);});},function(g,d,a){var b,f,h,p,c,k,q,n,u;Object.defineProperty(d,"__esModule",{value:!0});g=a(120);b=a(8);f=a(12);h=a(57);d=a(5);p=a(4);c=a(38);k=a(95);q=a(14);n=a(19);u=a(9);M.netflix=M.netflix||{};q.Ga(!M.netflix.player);M.netflix.player={VideoSession:g.wO,diag:{togglePanel:function(a,b){var c;if(!f.config||f.config.CL){switch(a){case"info":c=h.jr.map(function(a){return a.cV;});break;case"streams":c=h.jr.map(function(a){return a.Hlb;});break;case"log":c=[];}c&&c.forEach(function(a){n.Ob(b)?b?a.show():a.zD():a.toggle();});}},addLogMessageSink:function(a){p.W.get(c.Mj).addListener({CBa:function(){},jxa:function(b){a({data:b.data});}});}},log:p.Cf("Ext"),LogLevel:d.Ih,addLogSink:function(a,b){p.W.get(k.NA).yV(a,b);},getVersion:function(){return"6.0017.505.011";},isWidevineSupported:function(a){var f;function c(a){return function(b,c){return c.contentType==a;};}if("function"!==typeof a)throw Error("input param is not a function");f=[{distinctiveIdentifier:"not-allowed",videoCapabilities:[{contentType:b.pl,robustness:"SW_SECURE_DECODE"}],audioCapabilities:[{contentType:b.Vw,robustness:"SW_SECURE_CRYPTO"}]}];try{u.Nj.requestMediaKeySystemAccess("com.widevine.alpha",f).then(function(f){var d;d=f.getConfiguration();f=d.videoCapabilities||[];d=(d.audioCapabilities||[]).reduce(c(b.Vw),!1);f=f.reduce(c(b.pl),!1);a(d&&f);})["catch"](function(){a(!1);});}catch(x){a(!1);}}};},function(g,d,a){var b,f,h,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(120);f=a(8);g=a(2);h=a(12);p=a(141);c=a(4);k=a(57);q=a(122);n=a(67);a=a(21);c.W.get(a.xe).register(g.K.tfa,function(a){var d,g;if(h.config.C8a){d=c.W.get(p.iO);g=c.W.get(n.Rn);b.wO.KH.test={pboRequests:d.FL,playbacks:k.jr,aseManager:{cacheDestroy:function(){return q.Ik.yoa();}},device:{esn:M._cad_global.device.xh,esnPrefix:g.cn,errorPrefix:g.bD}};}a(f.yc);});},function(g,d,a){var b,f,h,p,c,k,q,n,u,y,A,K,x,l,G,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(104);f=a(106);h=a(120);p=a(140);c=a(172);k=a(71);q=a(8);n=a(12);u=a(2);y=a(4);A=a(14);K=a(18);x=a(19);l=a(16);G=a(38);m=a(58);g=a(21);y.W.get(g.xe).register(u.K.rfa,function(a){var t,I;function d(a,b){var c;c={profile:f.Lg.profile,log:t,Uc:k.Uc};a.email&&(c.ry=a.email,c.password=a.password||"");a.sendNetflixIdUserAuthData&&(c.useNetflixUserAuthData=a.sendNetflixIdUserAuthData);a.Ch&&(c.Ch=a.Ch);b({X:!0,dm:c});}function g(a){return{account:{id:a.Oh.id},id:a.id,lastAccessTime:a.iK,languages:a.languages,registered:a.X$};}t=y.Cf("NccpApi");I=K.DZa();h.wO.KH.nccp={getEsn:function(){return b.wh.xh;},getPreferredLanguages:function(){return n.config.Og.Dz;},setPreferredLanguages:function(a){A.Ga(l.isArray(a)&&x.Ry(a[0]));n.config.Og.Dz=a;},login:function(a,b){return new Promise(function(c,d){f.Lg.Yy(a,b).then(function(a){c(g(a));})["catch"](function(a){d({success:!1,error:y.dx(a.code,a)});});});},logout:function(){return new Promise(function(a,b){f.Lg.Egb().then(a)["catch"](function(a){b({success:!1,error:y.dx(a.code,a)});});});},isLoggedIn:function(){return f.Lg.I4a().map(function(a){return!(a.Gi||"browser"===a.id);});},switchProfile:function(a){return new Promise(function(b,c){f.Lg.nsb(a).then(function(a){b(g(a));})["catch"](function(a){c({success:!1,error:y.dx(a.code,a)});});});},ping:function(a,b){d(a,function(a){p.vh.ping(a.dm,function(a){b&&(a.X?b({success:!0}):b({success:!1,error:y.dx(u.K.uZ,a)}));});});},netflixId:function(a,b){d(a,function(a){p.vh.c2(a.dm).then(function(){b&&b({success:!0});})["catch"](function(a){b({success:!1,error:y.dx(u.K.Jga,a)});});});},getDeviceTokens:function(a){A.Ga(l.Mb(a));p.vh.c2({log:t,Uc:k.Uc}).then(function(b){a&&a(b);})["catch"](function(b){a({success:!1,error:y.dx(u.K.Jga,b)});});},getRegistered:function(a,b){var d;try{d=c.vj.Ff.hasUserIdToken(a.id||f.Lg.profile.id);b({success:!0,registered:d});}catch(X){b({success:!1});}},unregister:function(a,b){try{c.vj.Ff.removeUserIdToken(a.id||f.Lg.profile.id);b({success:!0});}catch(ia){b({success:!1});}},queueLogblob:function(a,b,c){var f;if(a&&b)if(b=b.toLowerCase(),I[b]){f=y.W.get(G.Mj);a=y.W.get(m.On).Nl(a,b,c);f.vc(a);}else t.warn("Invalid severity",{severity:b});},flushLogblobs:function(){y.W.get(G.Mj).flush(!0);}};a(q.yc);});},function(g,d,a){var b,f,h,p,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(71);f=a(28);h=a(14);p=a(18);c=a(19);d.dHa=function(a,b){h.Ga(a);h.Ga(b);h.AI(b.g8a,"endpointURL property is required");h.Ga(b.Lp);this.log=a;this.iza=b;};d.dHa.prototype.jv=function(){var a,d,g;a=this;a.log.trace("Downloading config data.");d={browserInfo:JSON.stringify(a.iza.Lp)};g=a.iza.g8a+"?"+f.SK(d);return new Promise(function(f,d){function k(b){var c;try{if(b.X){c=new Uint8Array(b.content);return{X:!0,config:JSON.parse(String.fromCharCode.apply(null,c)).core.initParams};}return{X:!1,message:"Unable to download the config. "+b.Oa,OJ:b.Uh};}catch(T){return b=p.od(T),a.log.error("Unable to download the config. Received an exception parsing response",{message:T.message,exception:b,url:g}),{X:!1,Oa:b,message:"Unable to download the config. "+T.message};}}function n(b,f,d){return f>d?(a.log.error("Config download failed, retry limit exceeded, giving up",c.Ya({Attempts:f-1,MaxRetries:d},b)),!1):!0;}function h(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function q(g,u,t){b.Uc.download(g,function(b){var y;b=k(b);if(b.X)f(b);else{a.log.warn("Config download failed, retrying",c.Ya({Attempt:u,WaitTime:y,MaxRetries:t},b));if(n(b,u+1,t))return y=p.Qza(1E3,1E3*Math.pow(2,Math.min(u-1,t))),h(y).then(function(){return q(g,u+1,t);});d(b);}});}return b.Uc?q({url:g,responseType:3,withCredentials:!0,MC:"config-download"},1,3):Promise.reject({X:!1,message:"Unable to download Config. There was no HTTP object supplied"});});};},function(g,d,a){var b,f,h,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(12);f=a(8);g=a(2);h=a(4);p=a(167);a=a(21);h.W.get(a.xe).register(g.K.gfa,function(a){b.config.R9a&&h.W.get(p.Lea).start();a(f.yc);});},function(g,d,a){var b,f,h,p,c,k,q,n,u,y,A,K,x,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(147);f=a(251);g=a(57);h=a(12);p=a(54);c=a(8);k=a(28);q=a(25);n=a(18);u=a(9);y=a(4);A=a(87);K=a(15);x=a(32);l=a(21);g.Tha(g.Oha,function(a){var ca,ia,X,ja,Y,da;function d(b){b.newValue>=K.lb.LOADING&&(a.state.removeListener(d),r("type=openplay&sev=info&locstor="+u.lZ(m())),X=q.Qf(),I());}function g(){da("type=startplay&sev=info&outcome=success");}function t(){var c,f;c=a.Wh;if(c){f="type=startplay&sev=error&outcome=error";c=b.Ata(x.hJa,c);n.Sc(c,function(a,b){f+="&"+u.lZ(a)+"="+u.lZ(b||"");});da(f);}else da("type=startplay&sev=info&outcome=abort");}function I(){var a,b;a=ja.shift();if(0<a){b=u.Am(a-(q.Qf()-X),0);ia=setTimeout(function(){r("type=startstall&sev=info&kt="+a);I();},b);}}function G(){da("type=startplay&sev=info&outcome=unload");}function m(){var a,b,c;try{b=""+q.$Q();localStorage.setItem("player$test",b);c=localStorage.getItem("player$test");localStorage.removeItem("player$test");a=b==c?"success":"mism";}catch(O){a="ex: "+O;}return a;}function r(b){b=Y+"&soffms="+a.a6()+"&"+b;a.Ac&&Object.keys(a.Ac).length&&(b+="&"+k.SK(n.Ya({},a.Ac,{prefix:"sm_"})));f.dtb("playback",b,ca);}ca=y.W.get(A.xt).host+h.config.dca;if(h.config.rDa&&ca&&h.config.sDa.playback){ja=h.config.etb.slice();Y="xid="+a.oa+"&pbi="+a.index+"&uiLabel="+(a.ke||"");a.state.addListener(d);a.addEventListener(K.U.Bh,g);a.addEventListener(K.U.se,t);p.ue.addListener(p.Uk,G,c.WA);da=function(b){var f;da=c.ee;f=y.W.get(l.xe);b+="&initstart="+f.startTime+"&initend="+f.endTime;r(b);clearTimeout(ia);a.removeEventListener(K.U.Bh,g);a.removeEventListener(K.U.se,t);p.ue.removeListener(p.Uk,G);};}});},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(91);b=a(12);f=a(4);g.jG(function(a){var d,c,k,g;d={"video-merch-bob-vertical":480,"video-merch-bob-horizontal":384,"video-merch-jaw":720,"show-as-a-row-bob-horizontal":480};Object.assign(d,b.config.Gtb);c=d[a.ke];if(b.config.Htb&&c){k={};g=f.Uf(a,"MediaStreamFilter");return{hJ:"uiLabel",ht:function(b){if(b.lower&&b.height>c)return k[b.height]||(k[b.height]=!0,g.warn("Restricting resolution due to uiLabel",{MaxHeight:c,streamHeight:b.height}),a.eo.set({reason:"uiLabel",height:b.height})),!0;}};}});},function(g,d,a){var f,h,p,c;function b(a){var d,k;function b(f){f=f.Op;a.removeEventListener(c.U.s9,b);try{h.Ieb(f.data)&&(k=!0,a.wqb());d.trace("RA check",{HasRA:k});}catch(A){d.error("RA check exception",A);}}d=f.Uf(a,"RAF");a.addEventListener(c.U.s9,b);return{hJ:"ra",ht:function(a){if(!k&&a.Wk)return a=a.Pe,!(0<a.toLowerCase().indexOf("l30")||0<a.toLowerCase().indexOf("l31"));}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(91);f=a(4);h=a(252);p=a(32);c=a(15);p.kia&&g.jG(b);d.Pzb=b;},function(g,d,a){var f,h;function b(a){var b,d;b=h.Uf(a,"MSS");if(f.config.Uhb)return{hJ:"mss",ht:function(c){var f,k;if(c.lower&&2160<=c.height)a:{for(f=c;f.lower;){if(2160>f.height&&1080<f.height){f=!0;break a;}if(1080>=f.height)break;f=f.lower;}f=!1;}else f=void 0;if(f){if(void 0===d){try{k=M.MSMediaKeys;d=k&&k.isTypeSupportedWithFeatures?"probably"===k.isTypeSupportedWithFeatures("com.microsoft.playready.software",'video/mp4;codecs="avc1,mp4a";features="display-res-x=3840,display-res-y=2160,display-bpc=8"'):!1;}catch(y){b.error("hasUltraHdDisplay exception");d=!0;}d||(b.warn("Restricting resolution due screen size",{MaxHeight:c.height}),a.eo.set({reason:"microsoftScreenSize",height:c.height}));}return!d;}}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(91);f=a(12);h=a(4);g.jG(b);d.Ozb=b;},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(91).jG(function(){return{hJ:"op",ht:function(){}};});},function(g,d,a){var f,h,p,c,k,q,n,u,y,A,K;function b(a){var l,m,D,r,W,ca,ia,X,ja,Y,da,ea,B,oa,O,ra,Aa;function b(){var b;b=a.uc.value===A.qb.wd&&a.state.value===A.lb.$c;ea?b||(clearInterval(ea),ia=ea=void 0,B&&(clearInterval(O),O=void 0)):b&&(ea=setInterval(g,1E3),B&&(O=setInterval(t,oa)));}function g(){var b,f,d,k,g,n;b=a.Fe.value;b=(b=b&&b.stream)&&b.height;if(0<b){f=c.Qf();d=a.qg.By();if(d){if(ia&&2E3>f-ia.time&&b==ia.height){k=d-ia.Q6a;g=m[b];g||(m[b]=g=[],b>ja&&(ca.push(b),p.fX(ca)));0<k&&!(da<b)&&(da=b);g.push(k);g.length>X&&g.shift();(g=r[b])||(r[b]=g={});n=g[k];g[k]=n?n+1:1;}ia={time:f,Q6a:d,height:b};a.cV&&a.cV.aqb(m);}}}function t(){y.storage.save(d.HY,{xid:a.oa,data:r});}function x(){q.Ga(y.storage);a.addEventListener(A.U.se,function(){t();});W=[];y.storage.load(d.Qea,function(a){var b;a.X&&(W=a.data);b={};y.storage.load(d.HY,function(a){a.X&&(b=a.data);b&&b.data&&Object.keys(b.data).length&&(W.push(b),W.length>B&&W.shift(),y.storage.save(d.Qea,W),y.storage.save(d.HY,{}));});});}l=k.Uf(a,"DFF");m={};D=f.config.U6a;r={};W=[];ca=[];X=f.config.S6a;ja=f.config.T6a;Y=h.bMa;B=f.config.X6a;oa=f.config.W6a;ra=u.Nj.hardwareConcurrency||0;if(f.config.R6a)return B&&a.addEventListener(A.U.Zna,x),a.PR={n$a:function(){var a;a={};r&&ca.forEach(function(b){var c,f,d;c=r[b];if(c){f=0;d=0;K.Sc(c,function(a,b){d+=n.Od(a);f+=b;});a[b]=d/f;}});return a;},CJ:function(a){var b;b={};a.forEach(function(a){b[a]={};});r&&(p.fX(a),ca.forEach(function(c){var f,d,k,g;f=r[c];if(f){d=0;k=0;K.Sc(f,function(a,b){d+=b;});g=Object.keys(f);p.fX(g);for(var n=g.length-1,h=g[n],q=a.length-1;0<=q;q--){for(var t=a[q];h>=t&&0<=n;)(h=f[h])&&(k+=h),h=g[--n];b[t][c]=u.Jh(k/d*100);}}}));return b;}},a.state.addListener(b),a.uc.addListener(b),{hJ:"df",ht:function(b){var c,d,k,g,n,h,q,t,p,y;if(b.lower&&b.height>ja){b=b.height;a:{!Aa&&f.config.Tqa&&f.config.OR&&a.Epa<f.config.Tqa[ra]&&(Y=u.Bm(Y,f.config.OR),a.eo.set({reason:"droppedFramesPreviousSession",height:f.config.OR}));Aa=!0;if(da){c=ca.length;for(d=0;d<c;d++)if(k=ca[d],k>=da&&k<Y){g=m[k];if(n=g)b:{p=D.length;y=g.length;for(t=0;t<p;t++)for(h=D[t],n=h[0],h=h[1],q=0;q<y;q++)if(g[q]>=h&&0>=--n){n=!0;break b;}n=void 0;}if(n&&Y!=k){l.warn("Restricting resolution due to high number of dropped frames",{MaxHeight:k});a.eo.set({reason:"droppedFrames",height:k});c=f.config.OR=Y=k;break a;}}da=void 0;}c=Y;}return b>=c;}}};}Object.defineProperty(d,"__esModule",{value:!0});g=a(91);f=a(12);h=a(8);p=a(28);c=a(25);k=a(4);q=a(14);n=a(19);u=a(9);y=a(123);A=a(15);K=a(18);g.jG(b);d.Qea="DroppedFramesHistory";d.HY="DroppedFramesSession";d.Nzb=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(4);a=a(324);a=g.W.get(a.Yca);a;},function(g,d,a){var b,f,h,p,c,k,q,n,u,y,A,K,x,l,G;Object.defineProperty(d,"__esModule",{value:!0});b=a(147);f=a(8);h=a(12);p=a(57);c=a(25);g=a(2);k=a(4);q=a(114);n=a(9);u=a(46);y=a(16);A=a(38);K=a(58);a=a(21);G=k.W.get(a.xe);G.register(g.K.ifa,function(a){var g;function d(){var a,f,d,k;a=G.startTime;f={browserua:n.tk,browserhref:n.mZ.href,initstart:a,initdelay:G.endTime-a};(a=n.Ed.documentMode)&&(f.browserdm=""+a);"undefined"!==typeof M.nrdp&&M.nrdp.device&&(f.firmware_version=M.nrdp.device.firmwareVersion);y.Ry(h.config.Fra)&&(f.fesn=h.config.Fra);Object.assign(f,b.Jta());d=n.er&&n.er.timing;d&&h.config.ugb.map(function(a){var b;b=d[a];b&&(f["pt_"+a]=b-c.x1a());});k=g.mta();Object.keys(k).forEach(function(a){return f["m_"+a]=k[a];});a=l.Nl("startup","info",f,p.uG.U4);x.vc(a);}l=k.W.get(K.On);x=k.W.get(A.Mj);g=k.W.get(q.nx);G.rK(function(){x.gc();u.yb(d);});a(f.yc);});},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(8);f=a(12);h=a(25);d.zwb=function(a){var c;c={YDb:a,wra:!0,X$:!1,iK:h.Qf(),load:function(a){(a||b.ee)(b.yc);},save:function(){c.wra=!0;},remove:function(a){c.wra=!1;(a||b.ee)(b.yc);},aDb:f.config.Og.Dz,UHb:!0};return c;};},function(g,d,a){var p,c,k,q;function b(a,b,d,g){var n,u,t;p.Ga(q.Se(a)&&!q.isArray(a));g=g||"";n="";u=a.hasOwnProperty(k.Ui)&&a[k.Ui];u&&c.Sc(u,function(a,b){n&&(n+=" ");n+=a+'="'+h(b)+'"';});d=(b?b+":":"")+d;u=g+"<"+d+(n?" "+n:"");t=a.hasOwnProperty(k.Uq)&&a[k.Uq].trim&&""!==a[k.Uq].trim()&&a[k.Uq];if(t)return u+">"+h(t)+"</"+d+">";a=f(a,b,g+"  ");return u+(a?">\n"+a+"\n"+g+"</"+d+">":"/>");}function f(a,f,d){var k;p.Ga(q.Se(a)&&!q.isArray(a));d=d||"";k="";c.Sc(a,function(a,g){var t;if("$"!=a[0])for(var n=c.C8(g),u=0;u<n.length;u++)if(g=n[u],k&&(k+="\n"),q.Se(g))k+=b(g,f,a,d);else{t=(f?f+":":"")+a;k+=d+"<"+t+">"+h(g)+"</"+t+">";}});return k;}function h(a){if(q.Ld(a))return c.Q6(a);if(q.qa(a))return p.qR(a,"Convert non-integer numbers to string for xml serialization."),""+a;if(null===a||void 0===a)return"";p.Ga(!1,"Invalid xml value.");return"";}Object.defineProperty(d,"__esModule",{value:!0});p=a(14);c=a(18);k=a(125);q=a(16);d.iIb=b;d.jIb=f;d.aLb=h;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(2);b=a(4);f=a(302);a=a(21);b.W.get(a.xe).register(g.K.hfa,function(a){b.W.get(f.mea)().then(function(){a({X:!0});})["catch"](function(f){b.log.error("error in initializing indexedDb debug tool",f);a({X:!0});});});},function(g,d,a){var b,f,h,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(28);f=a(8);h=a(12);p=a(2);c=a(460);k=a(32);q=a(9);g=a(4);a=a(21);n=g.W.get(a.xe);k.aZ&&n.register(p.K.ufa,function(a){q.Ym&&q.Ym.generateKey&&q.Ym.importKey&&q.Ym.unwrapKey?!k.Eg.Tda&&h.config.SH!=c.jN.TOa&&h.config.SH!=c.jN.iMa||q.kZ?(n.Nc("wcs"),b.jE(q.Ym.generateKey({name:"AES-CBC",length:128},!0,["encrypt","decrypt"])).then(function(){n.Nc("wcdone");a(f.yc);},function(b){var c;b=""+b;0<=b.indexOf("missing crypto.subtle")?c=p.H.g_:0<=b.indexOf("timeout waiting for iframe to load")&&(c=p.H.sSa);a({Y:c,Oa:b});})):a({Y:p.H.rSa}):a({Y:p.H.g_});});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(12);a(8);g=a(4);a(95);a(184);a(2);a(96);a(3);a=a(21);g.W.get(a.xe);},function(g,d,a){var q,n,u,y,A;function b(a){var b,f;n.AI(a);if(u.Ld(a)&&d.fLa.test(a)){b=a.split(".");if(4===b.length){for(var c=0;c<b.length;c++){f=u.Od(b[c]);if(0>f||!A.zv(f,0,255)||1!==b[c].length&&0===b[c].indexOf("0"))return;}return a;}}}function f(a){var c;c=0;if(b(a)===a)return a=a.split("."),c+=u.Od(a[0])<<24,c+=u.Od(a[1])<<16,c+=u.Od(a[2])<<8,c+u.Od(a[3]);}function h(a){var b;n.AI(a);if(u.Ld(a)&&a.match(d.gLa)){b=a.split(":");-1!==b[b.length-1].indexOf(".")&&(a=p(b[b.length-1]),b.pop(),b.push(a[0]),b.push(a[1]),a=b.join(":"));a=a.split("::");if(!(2<a.length||1===a.length&&8!==b.length)&&(b=1<a.length?c(a):b,a=b.length,8===a)){for(;a--;)if(!A.zv(parseInt(b[a],16),0,q.cMa))return;return b.join(":");}}}function p(a){var b;a=f(a)>>>0;b=[];b.push((a>>>16&65535).toString(16));b.push((a&65535).toString(16));return b;}function c(a){var b,c,f;b=a[0].split(":");a=a[1].split(":");1===b.length&&""===b[0]&&(b=[]);1===a.length&&""===a[0]&&(a=[]);c=8-(b.length+a.length);if(1>c)return[];for(f=0;f<c;f++)b.push("0");for(f=0;f<a.length;f++)b.push(a[f]);return b;}function k(a){return-1<<32-a;}Object.defineProperty(d,"__esModule",{value:!0});q=a(8);n=a(14);u=a(19);y=a(9);A=a(16);d.fLa=/^[0-9.]*$/;d.gLa=/^([a-fA-F0-9]*:){2}[a-fA-F0-9:.]*$/;d.KA="0000000000000000";d.fzb=b;d.bzb=f;d.gzb=h;d.dzb=p;d.ezb=c;d.hzb=function(a,c,g){var n,q,u,t;n=b(a);q=h(a);u=b(c);t=h(c);if(!n&&!q||!u&&!t||n&&!u||q&&!t)return!1;if(a===n)return g=k(g),(f(a)&g)!==(f(c)&g)?!1:!0;if(a===q){a=a.split(":");c=c.split(":");for(n=y.Xw(g/d.KA.length);n--;)if(a[n]!==c[n])return!1;g%=d.KA.length;if(0!==g)for(a=parseInt(a[n],16).toString(2),c=parseInt(c[n],16).toString(2),a=d.KA.substring(0,d.KA.length-a.length)+a,c=d.KA.substring(0,d.KA.length-c.length)+c,n=0;n<g;n++)if(a[n]!==c[n])return!1;return!0;}return!1;};d.czb=k;},function(g,d,a){var b,f,h,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(14);a(18);h=a(19);p=a(2);c=a(32);k=a(46);q=a(9);a(16);n=a(130);d.rIb=function(a,d){var t,y,l;function g(a){var b;b=d;d=h.ee;b(a);}function u(a){var b,c,d,n;try{b=JSON.parse(a.data);c=b.method;d=b.success;n=b.payload;f.Ga("ready"==c);"ready"==c&&(y.removeEventListener("message",u),l.Xg(),k.yb(function(){t.info("Plugin sent ready message");d?g({success:!0,pluginObject:y,pluginVersion:n&&n.version}):g({Y:p.H.kha,qc:b.errorCode});}));}catch(Q){t.error("Exception while parsing message from plugin",Q);g({Y:p.H.lha});}}t=b.Cf("Plugin");f.Ga(a);if(a){a=a[0].type;t.info("Injecting plugin OBJECT",{Type:a});y=h.createElement("OBJECT",c.Eg.LOa,void 0,{type:a,"class":"netflix-plugin"});y.addEventListener("message",u);l=b.W.get(n.fB)(8E3,function(){t.error("Plugin load timeout");g({Y:p.H.nha});});q.Ed.body.appendChild(y);l.ws();}else g({Y:p.H.mha});};d.tIb=function(){};d.sIb=function(a){var c,f,d;c=b.Cf("Plugin");f=1;d={};a.addEventListener("message",function(a){var b,f,k,g;try{b=JSON.parse(a.data);f=b.success;k=b.payload;g=d[b.idx];g&&(f?g({X:!0,eEb:k}):g({X:!1,Y:p.H.JOa,Oa:b.errorMessage,qc:b.errorCode}));}catch(S){c.error("Exception while parsing message from plugin",S);}},!1);return function(k,g,h){var u,t,y,A;function q(a){a.X||c.info("Plugin called back with error",{Method:k},p.Nn(a));y.Xg();delete d[u];h(a);}try{u=f++;t={idx:u,method:k};t.argsObj=g||{};y=b.W.get(n.fB)(8E3,function(){c.error("Plugin never called back",{Method:k});delete d[u];h({Y:p.H.KOa});});y.ws();A=JSON.stringify(t);d[u]=q;a.postMessage(A);}catch(Q){c.error("Exception calling plugin",Q);h({Y:p.H.MOa});}};};},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(4);d=a(95);a=a(184);g.W.get(d.NA).yV(a.cga.zGa,function(a){var b,d;b=a.level;if(!M._cad_global.config||b<=M._cad_global.config.ygb){a=a.FW();d=M.console;1>=b?d.error(a):2>=b?d.warn(a):d.log(a);}});},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(19);f=a(9);d.LCb=function(a,b,c){for(c=(c-a.length)/b.length;0<c--;)a+=b;return a;};d.JCb=function(a,f,c){c=b.Ld(c)?c:"...";return a.length<=f?a:a.substr(0,a.length-(a.length+c.length-f))+c;};d.KCb=function(a,b){var d;for(var c=1;c<arguments.length;++c);d=f.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,b){return"undefined"!=typeof d[b]?d[b]:a;});};d.MCb=function(a){for(var b=a.length,c=new Uint16Array(b),f=0;f<b;f++)c[f]=a.charCodeAt(f);return c.buffer;};d.uLb=function(a){var b;b=new Uint8Array(a.length);Array.prototype.forEach.call(a,function(a,f){b[f]=a.charCodeAt(0);});return b;};},function(g){function d(a,b){return a.id===b.id&&a.displayTime+a.duration===b.displayTime;}function a(a){return a.duration;}function b(a,b){return a+b;}g.T={H1a:function(a,b,d){for(var c=0;c<a.length;c++)if(a[c]!==b[c])return d.error("indexId mismatch in sidx",{sIndexId:a,mIndexId:b}),!1;return!0;},q3:function(a,b,d){var c;c={};c.displayTime=a.Ai;c.duration=a.duration;c.originX=a.PU;c.originY=a.QU;c.sizeX=a.iW;c.sizeY=a.jW;c.imageData=b;c.id=a.bq;c.rootContainerExtentX=d.IV;c.rootContainerExtentY=d.JV;return c;},X$a:function(a,b){return"o_"+a+"s_"+b;},jEa:function(a,b){b("P"==String.fromCharCode(a[1]));b("N"==String.fromCharCode(a[2]));b("G"==String.fromCharCode(a[3]));},Ob:function(a){return"undefined"!==typeof a;},fpb:function(a,b){return a.some(function(a){return a.id===b;});},Z6a:function(f,g){return f.filter(d.bind(null,g)).map(a).reduce(b,0);},zJ:function(a,b){var f,c;f=Object.create({});for(c in a)f[c]=a[c];a instanceof Error&&(f.message=a.message,f.stack=a.stack);f.errorString=b;return f;},assert:function(a,b){if(!a)throw b&&b.error(Error("Assertion Failed").stack),Error("Assertion Failed");}};},function(g){function d(a){this.buffer=a;this.position=0;}d.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},qj:function(){return this.buffer.length-this.position;},ae:function(){return this.buffer[this.position++];},je:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},kc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},Aq:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},Q$:function(){for(var a="",b;b=this.ae();)a+=String.fromCharCode(b);return a;},Ab:function(){return this.kc(2);},Pa:function(){return this.kc(4);},Hf:function(){return this.kc(8);},tV:function(){return this.kc(2)/256;},wL:function(){return this.kc(4)/65536;},We:function(a){for(var b,f="";a--;)b=this.ae(),f+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return f;},gw:function(){return this.We(4)+"-"+this.We(2)+"-"+this.We(2)+"-"+this.We(2)+"-"+this.We(6);},xL:function(a){for(var b=0,f=0;f<a;f++)b+=this.ae()<<(f<<3);return b;},Lz:function(){return this.xL(4);},yF:function(a){this.Sq(a,2);},Tq:function(a){this.Sq(a,4);},cN:function(a){this.buffer[this.position++]=a;},Sq:function(a,b){this.position+=b;for(var f=1;f<=b;f++)this.buffer[this.position-f]=a&255,a=Math.floor(a/256);},Rq:function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);},uA:function(a){for(var b=a.length,f=0;f<b;f++)this.buffer[this.position++]=a[f];},vA:function(a,b){this.uA(a.je(b));}};g.T=d;},function(g,d,a){var r,D,Q,W,ca,ia;function b(a){r.call(this);this.K$a=q;this.si=a.url;this.pH=a.request;this.FP=a.Cd||0;this.pP=a.Tg;this.sb=a.ia;this.hj=this.mh=null;this.PG={};this.bu=0;this.aH=a.bufferSize||4194304;this.y0={};this.Kma=a.version||1;a.key&&(this.gka=a.crypto,this.yx=this.gka.importKey("raw",a.key,{name:"AES-CTR"},!1,["encrypt","decrypt"]));a.Oo?this.mh=a.Oo:(this.xd=a.offset,this.AXa=a.size);}function f(){}function h(){}function p(a,b){var d,k,g,n,h,q,u,t;if(a)this.emit(ca.ERROR,W.zJ(a,ia.jMa));else try{if(2===this.Kma){k=new f();g=Q.O$(b)[0];n=g.kv("636F6D2E-6E65-7466-6C69-782E68696E66");h=g.kv("636F6D2E-6E65-7466-6C69-782E6D696478");k.mT=n.Ona;k.Mg=n.Mg;k.qn=n.qn;k.M=n.M;k.IV=n.IV;k.JV=n.JV;k.language=n.hfb;k.ysb=n.Yrb;k.startOffset=h.tpb;q=[];u=0;for(a=0;a<h.ff.length;a++){t=h.ff[a];b={};b.duration=t.duration;b.size=t.size;q.push(b);u+=b.duration;}k.entries=q;k.endTime=u;d=k;}else{q=new D(b);u=new f();u.identifier=q.Aq(4);W.assert("midx"===u.identifier);u.version=q.kc(4);W.assert(0===u.version);u.mT=q.je(36);u.Mg=q.Hf();u.qn=q.Hf();u.M=q.Hf();u.IV=q.Ab();u.JV=q.Ab();u.language=q.je(16);u.ysb=q.je(16);u.startOffset=q.Hf();u.Up=q.Ab();k=[];for(t=h=0;t<u.Up;t++)a={},a.duration=q.kc(4),a.size=q.Ab(),k.push(a),h+=a.duration;u.entries=k;u.endTime=h;d=u;}this.mh=d;c.call(this);}catch(Ha){this.emit(ca.ERROR,W.zJ(Ha,ia.kMa));}}function c(){var a,b;a=this.mh;b=a.startOffset;(a=a.entries.reduce(function(a,b){return a+b.size;},0))?(b={url:this.si,offset:b,size:a},this.emit(ca.lMa,this.mh),this.pH(b,k.bind(this))):this.emit(ca.ERROR,W.zJ({},ia.xNa));}function k(a,b){var c,f,d,k;c=this;if(a)c.emit(ca.ERROR,W.zJ(a,ia.AQa));else{f=0;d=[];k=0;try{c.mh.entries.forEach(function(a){var g,n,q,u,t,y,A;n=f;q=c.mh.mT;u=c.sb;if(2===c.Kma){g=new h();t=Q.O$(b);g.entries=[];g.images=[];for(var p=0;p<t.length;p++)for(q=t[p],n=q.kv("636F6D2E-6E65-7466-6C69-782E73696478"),q=q.kv("636F6D2E-6E65-7466-6C69-782E73656E63"),u=0;u<n.km.length;u++){y={};A=n.km[u];y.Ai=A.Ai;y.duration=A.duration;y.PU=A.PU;y.QU=A.QU;y.iW=A.iW;y.jW=A.jW;y.bq=A.bq;y.AD=A.AD;if(A=q&&q.km[u])y.ZR={Cv:A.Cv.slice(0),mode:A.kra};g.entries.push(y);}}else{g=new D(b);t=new h();p=0;g.position=n;t.identifier=g.Aq(4);W.assert("sidx"===t.identifier);t.mT=g.je(36);W.H1a(t.mT,q,u);t.duration=g.kc(4);t.Up=g.Ab();t.entries=[];for(t.images=[];p<t.Up;)n={},n.Ai=g.kc(4),n.duration=g.kc(4),n.PU=g.Ab(),n.QU=g.Ab(),n.iW=g.Ab(),n.jW=g.Ab(),n.bq=g.Hf(),n.AD=g.kc(4),p++,t.entries.push(n);g=t;}d.push(g);a.hba=g;g.M$=k;g.vL=k+a.duration;k=g.vL;t=g.entries;t.length&&(g.startTime=t[0].Ai,g.endTime=t[t.length-1].Ai+t[t.length-1].duration);f+=a.size;});}catch(oa){c.emit(ca.ERROR,W.zJ(oa,ia.BQa));return;}c.hj=d;c.emit(ca.CQa,this.hj);a=n.call(c,c.FP,2);a.length?K.call(c,a,c.FP,function(a){a&&c.sb.error("initial sidx download failed");c.emit(ca.jia);}):c.emit(ca.jia);}}function q(a){var b,c,f,d,k;b=n.call(this,a,2);c=(c=this.mh)?c.endTime:void 0;if(a>c)return[];f=this.PG.Bn;d=this.PG.index;c=[];d=W.Ob(d)&&this.hj[d+1];if(!(d&&d.entries.length||f&&!(a>f.endTime)))return[];b.length&&K.call(this,b,a);f&&f.images.length&&(c=y(f,a,[],this.mh));d&&d.images.length&&(b=y(d,a,c,this.mh),c.push.apply(c,b));b=A(c);if(this.hj&&0!=this.hj.length){c=this.hj[Math.floor(a/6E4)];if(!(c.M$<=a&&a<=c.vL))a:{c=this.hj.length;if(!this.n8a){this.n8a=!0;b:{try{k=String.fromCharCode.apply(String,this.mh.language);break b;}catch(oa){}k="";}this.sb.error("bruteforce search for ",{movieId:this.mh.M,packageId:this.mh.qn,lang:k});}for(k=0;k<c;k++)if(f=this.hj[k],f.M$<=a&&a<=f.vL){c=f;break a;}c=void 0;}k=c;}else k=void 0;if(c=k&&0<k.entries.length&&0===k.images.length)a:{c=k.entries.length;for(d=0;d<c;d++)if(f=k.entries[d],f.Ai<=a&&f.Ai+f.duration>=a){c=!0;break a;}c=!1;}return c?null:b;}function n(a,b){var c,k;c=[];if(a=u.call(this,a))this.PG=a;else return this.PG={},c;for(var f=0,d=this.hj?this.hj.length:0;f<b&&a.index+f<d;){k=this.hj[a.index+f];k&&!k.images.length&&c.push(k);f++;}return c;}function u(a){var b,c,f,d,k,g,n;c=this.PG;f=c.Bn;d=c.index;k=this.hj;this.Ng(W.Ob(a));f&&(0===d&&a<=f.startTime?(n=!0,b=c):a>=f.startTime&&a<=f.endTime?(n=!0,b=c):(g=k[d-1],k=k[d+1],g&&a>g.endTime&&a<=f.startTime?(n=!0,b=c):k&&a>=f.endTime&&a<=k.endTime&&(n=!0,b={Bn:k,index:d+1})));if(!n)for(c=this.mh.entries,f=c.length,d=0;d<f;d++)if(g=c[d].hba,a<=g.startTime||a>g.startTime&&a<=g.endTime){b={Bn:c[d].hba,index:d};break;}return b;}function y(a,b,c,f){var d,k,g,n,h,q;d=a.entries;k=d.length;g=[];h=0;if(!d.length)return g;for(;h<k;){n=d[h];if(n.Ai<=b)n.Ai+n.duration>=b&&g.push(W.q3(n,a.images[h].data,f));else{q=g.length&&g[g.length-1]||c.length&&c[c.length-1];if(q&&q.Ai>b&&q.Ai!==n.Ai)break;q.bq!==n.bq&&g.push(W.q3(n,a.images[h].data,f));}h++;}return g;}function A(a){return a.map(function(b,c){b.duration+=W.Z6a(a.slice(c+1),b);return b;}).reduce(function(a,b){W.fpb(a,b.id)||a.push(b);return a;},[]);}function K(a,b,c){var f,d,k,g,n,h;f=this;d=a[0];k=a[a.length-1];0<d.entries.length&&(g=d.entries[0].bq,n=d.entries[d.entries.length-1]);0<k.entries.length&&(W.Ob(g)||(g=k.entries[0].bq),n=k.entries[k.entries.length-1]);if(g){d=n.bq+n.AD-g;h=W.X$a(g,d);f.y0[h]||(f.y0[h]=!0,x.call(f,a,b),f.pH({url:f.si,offset:g,size:d},function(b,d){var k,n,q,u;setTimeout(function(){delete f.y0[h];},1E3);if(b)c&&c(b);else{k=new D(d);n=0;u=[];a.forEach(function(a){a.entries.forEach(function(b,c){var d,h;k.position=b.bq-g;d={data:k.je(b.AD)};h=b.ZR;h&&(d.Cv=h.Cv,d.kra=h.mode,q=!0,u.push(d));a.images[c]=d;!b.ZR&&W.jEa(a.images[c].data,f.Ng.bind(f));n+=a.images[c].data.length;});});f.bu+=n;q?f.yx.then(function(a){return S.call(f,u,a);}).then(function(){c&&c(null);})["catch"](function(a){f.sb.error("decrypterror",a);c&&c({X:!1});}):c&&c(null);}}));}else c&&c(null);}function x(a,b){var k,g,n,h,q,t;function c(){return{pts:b,hasEnoughSpace:k.bu+g<=k.aH,required:g,currentSize:k.bu,max:k.aH,currentIndex:u.call(k,b).index,sidxWithImages:m.call(k),newSidxes:a.map(function(a){return k.hj.indexOf(a);})};}function f(a,b){k.pP&&!a&&k.sb.info("not done in iteration",b);}function d(a){var b,c,f;b=k.hj[a];c=b.images&&b.images.length;if(0<c){f=l([b]);b.images=[];k.bu-=f;k.pP&&k.sb.info("cleaning up space from sidx",{index:a,start:b.startTime,size:f,images:c});if(k.bu+g<=k.aH)return!0;}}k=this;g=l(a);k.sb.info("make space start:",c());if(!(k.bu+g<=k.aH)){n=u.call(k,b).index;h=!1;q=0;t=k.hj.length-1;if(0>n){k.sb.error("inconsistent sidx index");return;}for(;!h&&q<n-2;)h=d(q),q++;for(f(h,1);!h&&t>n+2;)h=d(t),t--;for(f(h,2);!h&&q<n;)h=d(q),q++;for(f(h,3);!h&&t>n;)h=d(t),t--;f(h,4);h||k.sb.error("could not make enough space",{maxBuffer:this.aH});}k.sb.info("make space end",c());}function l(a){return a.reduce(function(a,b){return a+b.entries.reduce(function(a,b){return b.AD+a;},0);},0);}function m(){var a;a=[];this.mh&&this.mh.entries&&this.mh.entries.reduce(function(b,c,f){var d;c=c.hba;d=0;c&&c.images.length&&(a.push(f),d=c.images.reduce(function(a,b){return a+b.data.length;},0));return b+d;},0);return a.join(", ");}function N(a,b){return a&&a.M$<=b&&a.vL>=b;}function T(a,b){var c,f,d,k,g,n;c=this;f=c.mh;d=c.hj;k=d&&d.length;if(a>b||0>a)throw Error("invalid range startPts: "+a+", endPts: "+b);if(f&&d){if(0===k)return[];f=d[0].duration;if(W.Ob(f)&&0<f)f=Math.floor(a/f),g=f<k&&N(d[f],a)?d[f]:void 0;else for(c.pP&&c.sb.warn("duration not defined, so use brute force to get starting sidx"),f=0;f<k;f++){n=d[f];if(N(n,a)){g=n;break;}}if(W.Ob(g)){g=[];for(var h=function(c){var f;f=c.Ai<=a&&a<=c.Ai+c.duration;return a<=c.Ai&&c.Ai<=b||f;};f<k;){n=d[f];g=g.concat(n.entries.filter(h));if(b<n.vL)break;f++;}g=g.map(function(a){return W.q3(a,null,c.mh);});return A(g);}}}function S(a,b){var f,d;function c(a,b){var c,f;c=this;f=new Uint8Array(16);f.set(a.Cv);return c.gka.decrypt({name:"AES-CTR",counter:f,length:128},b,a.data).then(function(b){a.data.set(new Uint8Array(b));W.jEa(a.data,c.Ng.bind(c));});}f=this;try{d=[];a.forEach(function(a){a.Cv&&(a=c.call(f,a,b),d.push(a));});return(void 0).all(d);}catch(Sa){return f.sb.error("decrypterror",Sa),(void 0).reject(Sa);}}r=a(143).EventEmitter;D=a(505);Q=a(295);W=a(504);ca=b.events={lMa:"midxready",CQa:"sidxready",jia:"ready",ERROR:"error"};ia=b.oGb={jMa:"midxdownloaderror",kMa:"midxparseerror",xNa:"nosidxfoundinmidx",AQa:"sidxdownloaderror",BQa:"sidxparseerror"};b.prototype=Object.create(r.prototype);b.prototype.constructor=b;b.prototype.start=function(){var a;if(this.mh)this.sb.warn("midx was prefectched and provided"),c.call(this);else{a={url:this.si,offset:this.xd,size:this.AXa,responseType:"binary"};this.sb.warn("downloading midx...");this.pH(a,p.bind(this));}};b.prototype.close=function(){};b.prototype.Ng=function(a){this.pP&&W.assert(a,this.sb);};b.prototype.rv=function(a,b){return T.call(this,a,b);};b.prototype.k6=function(a,b){return(a=this.rv(a,b))?a.length:a;};g.T=b;},function(g,d,a){var h;function b(a,b){return b.reduce(f.bind(this,a),[]);}function f(a,b,f){var c,d;c=f.displayTime-a;a=f.displayTime+f.duration-a;d=0<b.length?b[0].timeout:Infinity;return 0<c&&c<d?[{timeout:c,type:"showsubtitle",Yd:f}]:c===d?b.concat([{timeout:c,type:"showsubtitle",Yd:f}]):0<a&&a<d?[{timeout:a,type:"removesubtitle",Yd:f}]:a===d?b.concat([{timeout:a,type:"removesubtitle",Yd:f}]):b;}h=a(143).EventEmitter;d=a(253)({});a=function c(a,b,f){if(!(this instanceof c))return new c(a,b,f);h.call(this);this.vr=a;this.oUa=b;this.Ir={};this.RB={};this.sb=f||console;this.IO=!1;};a.prototype=Object.create(h.prototype);a.prototype.stop=function(){var a;a=this;clearTimeout(a.Uj);Object.keys(a.Ir).forEach(function(b){a.emit("removesubtitle",a.Ir[b]);});a.Ir={};};a.prototype.pause=function(){clearTimeout(this.Uj);};a.prototype.jp=function(a,f){var c,d;c=this;d=c.vr();clearTimeout(this.Uj);a=c.oUa(d);null!==a&&c.IO&&(c.IO=!1,c.emit("bufferingComplete"));f="number"===typeof f?f:0;Object.keys(c.Ir).forEach(function(a){a=c.Ir[a];a.displayTime<=d&&d<a.displayTime+a.duration||(delete c.Ir[a.id],c.emit("removesubtitle",a));});Object.keys(c.RB).forEach(function(a){a=c.RB[a];d>=a.displayTime+a.duration&&delete c.RB[a.id];});null!==a&&0<a.length?(f=a.length,c.sb.info("found "+f+" entries for pts "+d),a.forEach(function(a){a.displayTime<=d&&d<a.displayTime+a.duration&&!c.Ir[a.id]&&(c.emit("showsubtitle",a),c.Ir[a.id]=a,delete c.RB[a.id]);}),f=a[a.length-1],c.Ir[f.id]||c.RB[f.id]||(c.emit("stagesubtitle",f),c.RB[f.id]=f),f=b(d,a),0<f.length?c.NP(f[0].timeout):c.NP(2E4)):null===a?(a=250*Math.pow(2,f),2E3<a&&(a=2E3),c.sb.warn("checking buffer again in "+a+"ms"),c.IO||(c.IO=!0,c.emit("underflow")),c.NP(a,f+1)):c.NP(2E4);};a.prototype.NP=function(a,b){var c;c=this;c.sb.trace("Scheduling pts check.");c.Uj=setTimeout(function(){c.jp(c.vr(),b);},a);};g.T=d(["function","function","object"],a);},function(g,d,a){var c,k,q;function b(a){var b;b=1;"dfxp-ls-sdh"===this.Ex&&(b=a.xEb.length);this.sb.info("show subtitle called at "+this.vr()+" for displayTime "+a.displayTime);this.emit("showsubtitle",a);this.ju[this.ju.length-1].dW+=b;}function f(a){this.sb.info("remove subtitle called at "+this.vr()+" for remove time "+(a.displayTime+a.duration));this.emit("removesubtitle",a);}function h(){this.sb.info("underflow fired by the subtitle timer");this.emit("underflow");}function p(){this.sb.info("bufferingComplete fired by the subtitle timer");this.emit("bufferingComplete");}c=a(143).EventEmitter;k=a(507);d=a(253)();q=a(506);a=function u(a,d){var g,t;g=this;t=a.Tg||!1;if(!(g instanceof u))return new u(a,d);c.call(g);g.sb=a.ia||console;g.pH=a.request;g.vr=a.Fta;g.Uj=null;g.Er=!0;g.ju=[];g.Ex=d.profile;g.si=d.url;g.FP=d.Cd;g.BWa=d.bmb;g.DTa=d.Sp;a={url:g.si,request:g.pH,Cd:g.FP,xml:d.xml,bmb:g.BWa,Sp:g.DTa,ia:g.sb,Tg:t,bufferSize:d.bufferSize,crypto:d.crypto,key:d.key,Oo:d.Oo};if("nflx-cmisc"===g.Ex)a.offset=d.FK,a.size=d.lU,g.Lc=new q(a);else if("nflx-cmisc-enc"===g.Ex)a.version=2,a.offset=d.FK,a.size=d.lU,g.Lc=new q(a);else throw Error("SubtitleManager: "+g.Ex+" is an unsupported profile");g.Lc.on("ready",function(){var a,c;a=!!d.n_a;g.sb.info("ready event fired by subtitle stream");g.emit("ready");c=g.Lc.K$a.bind(g.Lc);g.Uj=new k(g.vr,c,g.sb);g.Uj.on("showsubtitle",b.bind(g));g.Uj.on("removesubtitle",f.bind(g));g.Uj.on("underflow",h.bind(g));g.Uj.on("bufferingComplete",p.bind(g));a&&(g.sb.info("autostarting subtitles"),setTimeout(function(){g.jp(g.vr());},10));});g.Lc.on("error",g.emit.bind(g,"error"));};a.prototype=Object.create(c.prototype);a.prototype.start=function(){this.Lc.start();};a.prototype.jp=function(a){this.Er&&(this.Er=!1,this.sb.info("creating a new subtitle interval at "+a),this.ju.push({V:a,dW:0}));null!==this.Uj&&this.Uj.jp(a);};a.prototype.stop=function(){var a;this.vr();this.sb.info("stop called");this.Er||this.pause();this.Lc.removeAllListeners(["ready"]);null!==this.Uj&&this.Uj.stop();a=this.ju.reduce(function(a,b){a.dCa+=b.dW;a.dJ+=b.xra;a.eeb.push(b);return a;},{dCa:0,dJ:0,eeb:[]});"object"===typeof this.Lc&&this.Lc.close();this.sb.info("metrics: "+JSON.stringify(a));return a;};a.prototype.pause=function(){var a,b;a=this.vr();if(this.Er)this.sb.warn("pause called on subtitle manager, but it was already paused!");else{this.sb.info("pause called at "+a);this.Er=!0;this.sb.info("ending subtitle interval at "+a);b=this.ju[this.ju.length-1];b.da=a;b.da<b.V&&(this.sb.warn("correcting for interval where endPts is smaller than startPts"),b.V=0<b.da?b.da-1:0);b.xra=this.Lc.k6(b.V,b.da);this.sb.info("showed "+b.dW+" during this interval");this.sb.info("expected "+b.xra+" for this interval");}null!==this.Uj&&this.Uj.pause();};a.prototype.rv=function(a,b){return this.Lc.rv(a,b);};a.prototype.k6=function(a,b){return this.Lc.k6(a,b);};a=d([{request:"function",Fta:"function",ia:"object"},"object"],a);g.T=a;},function(g,d,a){var f,h,p,c,k,q;function b(a,b,f,d){a=c.oe.call(this,a,void 0===d?"AppInfoConfigImpl":d)||this;a.config=b;a.hca=f;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(52);p=a(33);c=a(36);k=a(27);a=a(217);ba(b,c.oe);na.Object.defineProperties(b.prototype,{endpoint:{configurable:!0,enumerable:!0,get:function(){return this.host+"/api";}},nra:{configurable:!0,enumerable:!0,get:function(){return this.host+"/nq"+(this.hca.QW?"/msl_v1":"");}},host:{configurable:!0,enumerable:!0,get:function(){var a;switch(this.config.ZI){case h.Et.fRa:a="www.stage";break;case h.Et.Xia:a="www-qa.test";break;case h.Et.Efa:a="www-int.test";break;default:a="www";}return"https://"+a+".netflix.com";}},hoa:{configurable:!0,enumerable:!0,get:function(){return"pbo_events";}}});q=b;g.__decorate([p.config(p.string,"apiEndpoint")],q.prototype,"endpoint",null);g.__decorate([p.config(p.string,"nqEndpoint")],q.prototype,"nra",null);g.__decorate([p.config(p.string,"bindService")],q.prototype,"hoa",null);q=g.__decorate([f.L(),g.__param(0,f.l(k.cj)),g.__param(1,f.l(h.ym)),g.__param(2,f.l(a.sO)),g.__param(3,f.l(k.BA)),g.__param(3,f.optional())],q);d.cFa=q;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(509);f=a(87);g=a(1);d.C1=new g.Wb(function(a){a(f.xt).to(b.cFa).$();});},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(2);f=[b.K.JKa,b.K.pfa,b.K.nfa,b.K.ofa,b.K.ufa,b.K.jfa,b.K.hfa,b.K.QY,b.K.vfa,b.K.kfa,b.K.UN,b.K.ffa,b.K.ifa,b.K.Jt,b.K.dfa,b.K.gfa,b.K.rfa,b.K.sfa,b.K.tfa,b.K.KKa,b.K.MKa,b.K.QKa,b.K.OKa,b.K.NKa,b.K.LKa,b.K.PKa,b.K.qfa,b.K.mfa,b.K.lfa,b.K.efa];(function(a){a.HNa=function(a){var d;for(var c={},f=0;f<a.length;f++){d=a[f];if(c[d.errorCode])return{errorCode:d.errorCode,Y:b.H.MEa};c[d.errorCode]=1;}};a.INa=function(a){var d;for(var c=0;c<a.length;c++){d=a[c];if(-1===f.indexOf(d.errorCode))return{errorCode:d.errorCode,Y:b.H.NEa};}};}(h||(h={})));d.qmb=function(a){return new Promise(function(b,d){var c;c=h.INa(a);c&&d(c);(c=h.HNa(a))&&d(c);b(a.sort(function(a,b){return f.indexOf(a.errorCode)-f.indexOf(b.errorCode);}));});};},function(g,d,a){var f,h,p,c,k,q,n,u,y,A,K,x,l;function b(a,b,c,f,d,k){var g;g=this;this.ei=a;this.config=c;this.Bj=f;this.debug=d;this.Ba=k;this.jDa=[];this.Ac={};this.log=b.ib("loadAsync");this.Ogb=K.RJa(function(a){g.Nnb=!0;g.startTime=g.Ba.ac().fa(y.na);g.load(g.jDa).then(function(){g.endTime=g.Ba.ac().fa(y.na);a(l.yc);})["catch"](function(b){g.endTime=g.Ba.ac().fa(y.na);a(b);});});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(114);h=a(2);p=a(511);c=a(61);k=a(1);q=a(5);n=a(17);u=a(63);y=a(3);A=a(88);K=a(254);x=a(23);l=a(8);b.prototype.rK=function(a){this.Ogb(a);};b.prototype.register=function(a,b){this.debug.assert(!this.Nnb);this.jDa.push({Zfb:this.F0a(b),errorCode:a});};b.prototype.Nc=function(a){this.debug.assert(void 0===this.Ac[a]);this.Ac[a]=this.Ba.ac().fa(y.na);};b.prototype.load=function(a){var b;b=this;return p.qmb(a).then(function(a){b.ei.mark(c.Zc.ji.SEa);return a.reduce(function(a,c){return a.then(function(){return b.Vfb(c);});},Promise.resolve()).then(function(){b.ei.mark(c.Zc.ji.QEa);});});};b.prototype.Vfb=function(a){var b,f;b=this;f=a.Zfb;return this.Bj.il(y.zb(this.config().UZa),f())["catch"](function(f){b.log.error("Failed to load component "+a.errorCode,f);b.ei.mark(c.Zc.ji.REa);if(f instanceof u.Fm)throw{Y:h.H.PEa,errorCode:a.errorCode};f.errorCode=f.errorCode||a.errorCode;f.Y=f.Y||h.H.OEa;throw f;});};b.prototype.F0a=function(a){return function(){return new Promise(function(b,c){a(function(a){a.X?b():c(a);});});};};a=b;a=g.__decorate([k.L(),g.__param(0,k.l(f.nx)),g.__param(1,k.l(q.kb)),g.__param(2,k.l(n.gd)),g.__param(3,k.l(u.ex)),g.__param(4,k.l(A.At)),g.__param(5,k.l(x.Je))],a);d.uFa=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(512);f=a(21);d.VZa=new g.Wb(function(a){a(f.xe).to(b.uFa).$();});},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.ntb=function(a){return{YJ:a.initialSegment,ff:this.rtb(a.segments)};};b.prototype.rtb=function(a){var b;b=this;return Object.keys(a).reduce(function(c,f){c[f]=b.otb(a[f]);return c;},{});};b.prototype.otb=function(a){var b;b={};b=a.next&&this.qtb(a.next)||a.defaultNext&&(b[a.defaultNext]={},b)||void 0;return{we:a.viewableId,Cn:a.startTimeMs,ZC:a.endTimeMs,vR:a.defaultNext,next:b};};b.prototype.qtb=function(a){var b;b=this;return Object.keys(a).reduce(function(c,f){c[f]=b.ptb(a[f]);return c;},{});};b.prototype.ptb=function(a){return{weight:a.weight,a7a:a.earliestSkipRequestOffset};};f=b;f=g.__decorate([a.L()],f);d.MPa=f;},function(g,d,a){var f,h,p,c;function b(a){return h.oe.call(this,a,"PlaylistConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);p=a(27);a=a(33);ba(b,h.oe);na.Object.defineProperties(b.prototype,{yza:{configurable:!0,enumerable:!0,get:function(){return 2;}},Aca:{configurable:!0,enumerable:!0,get:function(){return!1;}}});c=b;g.__decorate([a.config(a.yw,"prepareSegmentsUpfront")],c.prototype,"yza",null);g.__decorate([a.config(a.re,"usePlaylistForPostPlay")],c.prototype,"Aca",null);c=g.__decorate([f.L(),g.__param(0,f.l(p.cj))],c);d.IPa=c;},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.s4a=function(a){var f,d;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];f=this;if(0===b.length)throw Error("Empty playlist");return{YJ:this.zS(b[0]),ff:b.reduce(function(a,b){var c;c=f.zS(b);a[c]={we:b,Cn:0};d&&(a[d].vR=c);d=c;return a;},{})};};b.prototype.zS=function(a,b){return a+":["+(void 0===b?0:b)+"..-1]";};b.prototype.xZa=function(a,b,c){c=void 0===c?this.zS(b.M,b.V):c;a=this.Zoa(a);a.ff[c]={we:b.M,Cn:b.V||0};return a;};b.prototype.wZa=function(a,b,c){var f,d;f=this.Zoa(a);d={};f.ff[b].next=Object.assign({},a.ff[b].next||{},(d[c]={},d));return f;};b.prototype.Zoa=function(a){return JSON.parse(JSON.stringify(a));};f=b;f=g.__decorate([a.L()],f);d.JPa=f;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);b.prototype.create=function(b,c,f,d,g){return new(a(256)).kSa(b,c,f,d,g);};h=b;h=g.__decorate([f.L()],h);d.NPa=h;},function(g,d,a){var f,h,p;function b(a,b,f,d,g,h,t,p,x,l,m,N){b=void 0===b?{}:b;this.Ba=d;this.gL=l;this.fL=m;this.nA=N;this.Uv={};this.DQ={};this.Gb=p.create();this.log=g.ib("PlaylistManager");this.TBa(a);this.zi=a.YJ;this.Ps={yg:this.Uv[this.zi],bb:b};this.Dq=t.n4a(x);this.DQ[this.zi]=this.ysa(0);a=this.Ba.ac();this.nEa=h.create(this.ja.we,Object.assign({startPts:b.playbackState&&b.playbackState.currentTime||this.ja.Cn,endPts:this.ja.ZC,uiPlayStartTime:Date.now()},b,{isPlaylist:!0}),f,a,this);this.Fqb();this.Q7=this.Qsa();}Object.defineProperty(d,"__esModule",{value:!0});f=a(50);h=a(15);p=a(3);b.prototype.Qsa=function(){return this.zi;};b.prototype.Bta=function(){return this.hL;};b.prototype.aW=function(a){var f;for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];f=this;b.filter(function(a){return f.OL(a.yg);}).filter(function(a){a=a.OK;return!a||f.OL(a);}).forEach(function(a){f.Uv[a.yg]=f.cya(a.OK);});};b.prototype.s1a=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.Pna(b);};b.prototype.TDa=function(a){if(!this.OL(this.zi,a.ff))throw Error("Provided playlistMap does not contain the current segmentId "+this.zi);this.TBa(a);};b.prototype.Nq=function(a,b){var c,f;c=this;f=this.sD(a);f&&f.next&&Object.keys(b).filter(function(a){return c.OL(a,f.next);}).forEach(function(a){return f.next[a].weight=b[a];});};b.prototype.Zta=function(a,b){var c,f;if(a!==this.zi)throw Error("Invalid currentSegmentId");if(b!==this.Uv[a])throw Error("Invalid nextSegmentId");c=this.DQ[b];if(!c)throw Error("Manifest for "+b+"  is not ready yet");f=this.Xl().j.wb;if(!f)throw this.log.debug("No streaming session. Aborting transition"),Error("No streaming session");this.log.debug("going to next segment: "+a+" -> "+b+" ("+c.id+" in ASE)");this.Xl().j.Yp(c.ga).gp=this.Ba.ac().fa(p.na);f.x5(c.id)?(this.log.debug("Segment is already pre-buffered - triggering a transition"),this.zcb(b)):(a=this.Bta().ff[b].Cn,this.log.debug("Segment is not pre-buffered - performing a regular seek"),this.Xl().seek(a,h.Fg.hx,c.ga));};b.prototype.addListener=function(a,b,f){this.Gb.addListener(a,b,f);};b.prototype.removeListener=function(a,b){this.Gb.removeListener(a,b);};b.prototype.NS=function(){return this.Dq.NS();};b.prototype.Xl=function(){return this.Dq.Xl();};b.prototype.t1=function(a){var b,c;if(this.fL.Aca&&this.NS()){this.log.info("Adding segment - movieId: "+a.M+", nextStartPts: "+a.V+", currentEndPts: "+a.da);if(a.M!==this.ja.we){b=this.gL.zS(a.M,a.V);c=this.gL.wZa(this.gL.xZa(this.hL,a,b),this.Q7,b);this.TDa(c);this.aW({yg:this.Q7,OK:b});this.Ps={yg:b,bb:a.bb||{}};this.Q7=b;return this.iV(!1);}return null;}return this.Dq.t1(a);};b.prototype.transition=function(a){var b;b=this;return this.fL.Aca?new Promise(function(a){var c;c=b.Uv[b.zi];b.log.info("Transition initiated: "+b.zi+" -> "+c);c&&b.Zta(b.zi,c);a();}):this.Dq.transition(a);};b.prototype.close=function(a){return this.Dq.close(a);};b.prototype.Fqb=function(){var a;a=this;this.Dq.addListener(h.rb.loaded,function(){return a.iV();});this.addListener(h.vG.RL,function(){return a.$jb();});this.Dq.addListener(h.vG.RL,function(){return a.Gb.Hb(h.vG.RL);});Object.keys(h.rb).forEach(function(b){var c;c=h.rb[b];a.Dq.addListener(c,function(b){return a.Gb.Hb(c,b);});});};b.prototype.zcb=function(a){var b,c,f,d,g,t,p;b=this;c=this.Xl().j;f=c.wb;if(!f)throw Error("No streaming session");d=this.DQ[a];g=f.x5(d.id);if(!g)throw Error("Segment is not pre-buffered");t=new Promise(function(a){function c(){b.log.debug("Stopped ASE");f.removeEventListener("stop",c);a();}f.addEventListener("stop",c);});p=new Promise(function(a){function d(){b.log.debug("Repositioned");c.removeEventListener(h.U.un,d);a();}function k(){b.log.debug("Repositioning");c.removeEventListener(h.U.Pz,k);f.stop();}c.addEventListener(h.U.Pz,k);c.addEventListener(h.U.un,d);});Promise.all([t,p]).then(function(){f.Pu(d.id,!1,!0);c.fireEvent(h.U.FU,{zi:b.zi,OK:a});});this.log.debug("Calling seek on internal player to "+g.tc);this.Xl().seek(g.tc,h.Fg.aB,d.ga);};b.prototype.$jb=function(){var a;a=this.Xl().getError();a?this.Gb.Hb(h.rb.o2,a):(this.Gb.Hb(h.rb.Vna),this.Gb.Hb(h.rb.QH),this.Gb.Hb(h.rb.jA),this.Gb.Hb(h.rb.iF),this.Gb.Hb(h.rb.HM),this.Gb.Hb(h.rb.o2));};b.prototype.iV=function(a){var b,c,d,g,t,p,K,x,l,m;a=void 0===a?!0:a;b=this;if(this.Ps&&this.Ps.yg){c=this.W$a(this.zi,this.Ps.yg);if(0<c&&c<this.fL.yza){c=this.sD(this.Ps.yg);d=this.Xl().j;g=Object.assign(this.Ps.bb||{},{V:c.Cn,da:c.ZC,Vf:!1,JW:Date.now(),y7:!0});t=d.ena(c.we,g);c=d.Yp(t);this.log.debug("Creating new playback xid: "+c.oa+", movieId: "+c.M+", manifestIndex: "+c.ga);p=this.Ps.yg;K=function(a){a.index===t&&(b.zi=p,b.iV(),d.removeEventListener(h.U.Ls,K),b.Gb.Hb(h.vG.RL));};x=function(a){var c;c=void 0===a.metrics;b.nA.Iza(a,b.Xl().j,c);d.removeEventListener(h.U.QL,x);};d.addEventListener(h.U.Ls,K);d.addEventListener(h.U.QL,x);this.Ps={yg:this.Uv[this.Ps.yg],bb:{}};if(!a){l=function(){var a;a=b.Xl();2E3>=a.B5()-(a.Wl()||0)&&d.qg&&(d.qg.QK({mediaType:f.ec.bh.VIDEO}),d.qg.QK({mediaType:f.ec.bh.AUDIO}),d.uc.set(h.qb.wd));};d.addEventListener(h.U.fo,l);m=function(a){a.index===t&&(d.removeEventListener(h.U.fo,l),d.removeEventListener(h.U.Ls,m));};d.addEventListener(h.U.Ls,m);}a=d.Umb(t,a).then(function(){b.DQ[p]=b.ysa(t);});a.then(function(){return b.iV();});return a.then(function(){return!0;})["catch"](function(){return!1;});}}else this.$8a();return Promise.resolve(!1);};b.prototype.$8a=function(){var a;a=this.Xl().j;a.wb&&a.wb.pqb();};b.prototype.W$a=function(a,b){for(var c=0;a!==b&&void 0!==a;)c++,a=this.Uv[a];return a?c:-1;};b.prototype.TBa=function(a){this.hL=a;this.Uv={};this.Pna(Object.keys(this.hL.ff));};b.prototype.Pna=function(a){var b;b=this;a.filter(function(a){return b.OL(a);}).forEach(function(a){b.Uv[a]=b.cya(b.sD(a).vR);});};b.prototype.OL=function(a,b){b=void 0===b?this.hL.ff:b;return a in b;};b.prototype.cya=function(a){return null===a?void 0:a;};b.prototype.ysa=function(a){return{id:"m"+a,ga:a};};b.prototype.sD=function(a){return this.hL.ff[a];};na.Object.defineProperties(b.prototype,{ja:{configurable:!0,enumerable:!0,get:function(){return this.sD(this.zi);}}});d.LPa=b;},function(g,d,a){var f,h,p,c,k,q,n,u,y,A,K,x,l;function b(b,c,f,d,k,g,n,h,q,u){this.Ba=b;this.Ue=c;this.Nlb=f;this.spb=k;this.x4=g;this.fL=n;this.gL=h;this.nA=u;c=a(32).Pn;this.qpb=d.jv(!1,"6.0017.505.011",b.id,c,q());}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(518);p=a(5);c=a(23);k=a(258);q=a(257);n=a(412);u=a(227);y=a(17);A=a(417);K=a(173);x=a(226);b.prototype.create=function(a,b,c){return new h.LPa(a,b,c,this.Ba,this.Ue,this.Nlb,this.spb,this.x4,this.qpb,this.gL,this.fL,this.nA);};l=b;l=g.__decorate([f.L(),g.__param(0,f.l(c.Je)),g.__param(1,f.l(p.kb)),g.__param(2,f.l(k.aia)),g.__param(3,f.l(n.Hia)),g.__param(4,f.l(u.RZ)),g.__param(5,f.l(A.EN)),g.__param(6,f.l(q.Zha)),g.__param(7,f.l(K.HZ)),g.__param(8,f.l(y.gd)),g.__param(9,f.l(x.c_))],l);d.KPa=l;},function(g,d,a){var b,f,h,p,c,k,q,n,u,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(259);f=a(519);h=a(258);p=a(517);c=a(173);k=a(516);q=a(515);n=a(257);u=a(255);y=a(514);d.Li=new g.Wb(function(a){a(b.IZ).to(f.KPa).$();a(h.aia).to(p.NPa).$();a(c.HZ).to(k.JPa).$();a(n.Zha).to(q.IPa).$();a(u.$ha).to(y.MPa).$();});},function(g,d,a){var f,h,p,c,k,q,n,u,y,A;function b(a,b,f,d,g){f=u.lN.call(this,f,d,g)||this;f.config=a;f.Hc=b;f.log=h.Uf(f.j,"LegacyLicenseBroker");f.Md=f.config().Md;f.config().F$?c.tva()?f.PW=!0:f.log.error("Promise based eme requested but platform does not support it",{browserua:k.tk}):f.PW=!1;return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);h=a(4);p=a(113);c=a(28);k=a(9);q=a(1);n=a(183);u=a(260);y=a(78);ba(b,u.lN);b.prototype.Gpa=function(a){var b;b=void 0===b?this.j:b;return new this.aL.Bt(a,function(a){return b.vh.Cs(a);},function(a){return b.vh.release(a);},{Tg:!1,cK:!1});};b.prototype.qI=function(b,c){var d,k,g,n,q,u;c=void 0===c?this.j:c;d=this;n=a(25).Qf;this.aL.Bt||this.md(f.K.Sw,f.H.$Ia);g=h.Uf(c,"Eme");k=this.Gpa(g);q=h.W.get(p.dB);u=q.oI(c.Ec.value.mc);q=q.uI(c.gf.value.mc);return this.aL.Dt(g,b,function(a){return c.Nc(a);},{Tg:!1,cK:!1,vva:this.config().di,oBa:{lxa:this.config().nBa,Ooa:this.config().Daa},Ta:{getTime:n},FL:k,Jza:this.PW,Ma:this.xb.Ma,qF:this.config().qF,tA:this.config().m4,onerror:function(a,b,c){return d.md(a,b,c);},H9:function(a){return d.XS(a);},Clb:!0,kT:this.config().kT,Tna:u,mEa:q,CD:this.config().CD});};b.prototype.Zz=function(a){var b;b=this;return this.PW?new Promise(function(c,d){if(b.xb.Ma)b.xb.Ma.setMediaKeys(a).then(function(){c();})["catch"](function(a){var c;c=b.Wta(a);d({X:!1,code:f.K.wZ,Bc:c.Y,Tf:c.qc,Oa:c.Oa,message:"Set media keys is a failure",cause:a});});else return Promise.resolve();}):Promise.resolve();};b.prototype.sra=function(a){return{code:a.code,subCode:a.Bc,extCode:a.Tf,edgeCode:a.py,message:a.message,errorDetails:a.Oa,errorData:a.so,state:a.state};};b.prototype.$aa=function(a,b,c){var d,k;function f(){k.uAa()["catch"](function(a){d.log.error("Unable to set the license",d.sra(a));a.cause&&a.cause.Oa&&(a.Oa=a.Oa?a.Oa+a.cause.Oa:a.cause.Oa);d.md(a.code,a,a.Tf);});}c=void 0===c?this.j:c;d=this;k=c.Ce;this.log.info("Setting the license");c=b?function(){return Promise.resolve();}:function(){return k.Ef(d.O5(),a);};return(b?function(){return k.dEb(d.xb.Ma);}:function(){return k.create(d.Md).then(function(){return Promise.resolve();});})().then(function(){return d.config().SBa?d.Zz(k.fk):Promise.resolve();}).then(c).then(function(){return d.config().SBa?Promise.resolve():d.Zz(k.fk);}).then(function(){d.log.info("license set");d.O4();d.xb.vEa.then(function(){d.config().Gv&&(b||d.config().nJ)&&(d.vAa=M.setTimeout(f,d.config().Gv));});})["catch"](function(a){d.log.error("Unable to set the license",d.sra(a));a.cause&&a.cause.Oa&&(a.Oa=a.Oa?a.Oa+a.cause.Oa:a.cause.Oa);if(b)throw Error(a&&a.message?a.message:"failed to set license");d.md(a.code,a,a.Tf);});};b.prototype.Tya=function(){return Promise.resolve();};b.prototype.M9=function(a){var d;function b(){var b;d.j.Ce=d.qI(a.initDataType);b=[];d.j.Xo.forEach(function(a){b.push(h.Jk(a));});d.$aa(b);}d=this;this.log.trace("Received event: "+a.type);this.mK||(this.mK=!0,this.aL.Dt?this.j.Xo?c.w7(this.config())&&this.config().tn&&this.Hc()?this.Hc().Vl(this.j.M,"ldl").then(function(a){d.j.Ce=a;return a.BLb.then(function(){var b;b=[];d.j.Xo.forEach(function(a){b.push(h.Jk(a));});return d.$aa(b,!0).then(function(){var b;if(a.WEb)d.md(f.K.cJa);else{b=h.Uf(d.j,"Eme");a.qLb({log:b,jJb:function(a){return d.j.Nc(a);}},{FL:d.Gpa(b),onerror:function(a,b,c){return d.md(a,b,c);}});(b=a.EJb)&&d.XS(b);d.j.xv(a.Ac||{});d.j.cy="videopreparer";}});});})["catch"](function(a){d.log.warn("eme not in cache",a);b();}):b():(this.log.error("Missing the PSSH on the video track, closing the player"),this.md(f.K.yOa)):this.md(f.K.Sw,f.H.aJa));};b.prototype.PBa=function(a,b){var c;b=void 0===b?this.j:b;b.Ce=this.qI(void 0===a?"cenc":a);c=[];b.Xo.forEach(function(a){c.push(h.Jk(a));});return this.$aa(c,!1,b);};b.prototype.O5=function(){return this.config().nJ?y.Zi.Ot:y.Zi.Dm;};na.Object.defineProperties(b.prototype,{aL:{configurable:!0,enumerable:!0,get:function(){return a(32).Eg;}},nz:{configurable:!0,enumerable:!0,get:function(){return this.PW?"encrypted":this.xb.VX+"needkey";}}});A=b;g.__decorate([n.QT],A.prototype,"aL",null);g.__decorate([n.QT],A.prototype,"nz",null);A=g.__decorate([q.L()],A);d.DLa=A;},function(g,d,a){var f,h,p,c,k,q,n,u,y,A,K;function b(a,b,c,f,d,k,g,n){var q;q=y.lN.call(this,f,d,k)||this;q.Md=a;q.config=b;q.Hc=c;q.UC=g;q.Z8=n;q.log=h.Uf(q.j,"LicenseBroker");q.mK=new Set();q.hxa=!1;q.Gna=function(a){return{next:function(){q.log.info("Finished a license");},error:function(b){q.xv(a);q.md(b.code,b,b.Tf);},complete:function(){var b;q.log.info("Successfully applied license for xid: "+a.oa+", viewable: "+a.M+", manifestIndex: "+a.ga);b=a.Ce;b&&b.X7&&q.XS(b.X7);q.xv(a);q.Zz();}};};return q;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);h=a(4);p=a(28);c=a(8);k=a(429);q=a(3);n=a(1);u=a(183);y=a(260);A=a(78);K=a(15);ba(b,y.lN);b.prototype.M9=function(){var a,b;a=this;b=this.j.ja;this.mK.has(b.M)||(this.mK.add(b.M),p.w7(this.config)&&this.config.tn&&this.Hc()?this.Hc().Vl(b.M,"ldl").then(function(c){a.Dza(c,b);b.cy="videopreparer";b.Ce.H1().subscribe(a.Gna(b));a.Z8.Zz(c.fk);})["catch"](function(c){a.log.warn("eme not in cache",c);a.Cs(b);}):this.Cs(b));};b.prototype.E9a=function(a){var b;b={};a.forEach(function(a){b[k.L6a(a.Zhb)]=a.time.fa(q.na);});return b;};b.prototype.Icb=function(a,b){this.log.trace("Key status",{viewable:a.M,keyId:h.$r(b.hK),status:b.value});};b.prototype.Dza=function(a,b){var f,d,k;f=this;b.Ce=a;d={next:function(a){f.Icb(b,a);},error:c.ee,complete:c.ee};k={next:function(a){f.md(a.code,a,a.Tf,f.j);},error:c.ee,complete:c.ee};a.bfb().subscribe(d);(a=a.cJ())&&a.subscribe(k);};b.prototype.xv=function(a){a.Ce&&a.xv(this.E9a(a.Ce.Ac));};b.prototype.Cs=function(a){var b,f;b=this;f={next:function(c){b.mK.add(a.M);b.XS(c);},error:c.ee,complete:c.ee};return this.UC().then(function(c){var d;d={type:b.O5(),nT:h.Jk(a.Xo[0]),context:{Md:b.Md,Ma:b.xb.Ma},tg:{M:a.M,oa:a.oa,Gf:a.Gf,$j:a.$j,profileId:a.profile.id,nf:a.Aa.nf}};c.oK().subscribe(f);c.Ef(d,b.Z8).As(function(c){b.Dza(c,a);b.j.fireEvent(K.U.pK,{ga:a.ga});return a.Ce.H1();}).subscribe(b.Gna(a));})["catch"](function(a){b.md(a.code,a,a.Tf,b.j);});};b.prototype.Zz=function(){var a;a=this;if(this.hxa)this.log.trace("Media Keys already set");else{this.hxa=!0;try{this.xb.Ma?this.xb.Ma.setMediaKeys(this.j.Ce.fk).then(function(){a.O4();})["catch"](function(b){b=a.Wta(b);a.md(f.K.wZ,b,b.qc,a.j);}):this.O4();}catch(I){this.md(f.K.wZ,I,void 0,this.j);}}};b.prototype.Tya=function(){var a,b;a=this;b=this.j.ja.Ce;return b?this.UC().then(function(c){return new Promise(function(f){c.Arb(b,a.Z8).As(function(a){return a.zZa();}).As(function(b){a.log.trace("Fulfilled the last secure stop");a.config.di&&a.j.iq.TV({success:!0,persisted:!1});return b.close();}).subscribe({error:function(b){a.log.error("Unable to get/add secure stop data",b);a.config.di&&a.j.iq.TV({success:b.X,ErrorCode:b.code,ErrorSubCode:b.Bc,ErrorExternalCode:b.Tf,ErrorEdgeCode:b.py,ErrorDetails:b.LC});f();},complete:function(){f();}});});}):Promise.resolve();};b.prototype.PBa=function(a,b){b=void 0===b?this.j:b;return this.Cs(b);};b.prototype.O5=function(){return this.config.nJ?A.Zi.Ot:A.Zi.Dm;};na.Object.defineProperties(b.prototype,{nz:{configurable:!0,enumerable:!0,get:function(){return"encrypted";}}});a=b;g.__decorate([u.QT],a.prototype,"nz",null);a=g.__decorate([n.L()],a);d.FLa=a;},function(g,d,a){var f,h,p,c,k,q,n,u,y;function b(a,b,c,f,d,k){this.UC=a;this.Pg=b;this.ug=c;this.config=f;this.kU=d;this.Hc=k;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(119);p=a(522);c=a(521);k=a(64);q=a(62);n=a(17);u=a(135);a=a(108);b.prototype.create=function(a,b,f){return a?new p.FLa(this.config().Md,this.Pg,this.Hc,this.ug,b,f,this.UC,this.kU()):new c.DLa(this.config,this.Hc,this.ug,b,f);};y=b;y=g.__decorate([f.L(),g.__param(0,f.l(h.BN)),g.__param(1,f.l(k.Mn)),g.__param(2,f.l(q.uk)),g.__param(3,f.l(n.gd)),g.__param(4,f.l(u.iG)),g.__param(5,f.l(a.gB))],y);d.ELa=y;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(274);f=a(523);d.sj=new g.Wb(function(a){a(b.Rfa).to(f.ELa);});},function(g,d,a){var f,h,p,c;function b(a){return h.oe.call(this,a,"TransportConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);p=a(27);a=a(33);ba(b,h.oe);na.Object.defineProperties(b.prototype,{QW:{configurable:!0,enumerable:!0,get:function(){return!0;}}});c=b;g.__decorate([a.config(a.re,"usesMsl")],c.prototype,"QW",null);c=g.__decorate([f.L(),g.__param(0,f.l(p.cj))],c);d.RRa=c;},function(g,d,a){var f,h,p,c,k;function b(a,b,c){this.receiver=b;this.Uc=c;this.log=a.ib("SslTransport");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(3);p=a(5);c=a(141);a=a(74);b.prototype.send=function(a,b){var c,f;c=this;f={url:a.url.href,MC:"nq-"+a.Mk,s$:JSON.stringify(b),eR:a.timeout.fa(h.na),headers:a.headers,withCredentials:!0};return new Promise(function(a,b){c.Uc.download(f,function(c){c.X?a(c):b(c);});}).then(function(f){f={status:"success",body:f.content};c.receiver.zE({command:a.Mk,inputs:b,outputs:f});return f;})["catch"](function(f){var d;if(!f.error)throw f.Bc=f.Y||f.Bc,c.receiver.zE({command:a.Mk,inputs:b,outputs:f}),f;d=f.error;d.Dj=f.Dj;c.log.error("Error sending SSL request",{subCode:d.Bc,data:d.content,message:d.message});c.receiver.zE({command:a.Mk,inputs:b,outputs:d});throw d;});};b.prototype.b3=function(){return{};};k=b;k=g.__decorate([f.L(),g.__param(0,f.l(p.kb)),g.__param(1,f.l(c.iO)),g.__param(2,f.l(a.cr))],k);d.eRa=k;},function(g,d,a){var f,h,p,c,k,q;function b(a,b,c){this.Ff=b;this.receiver=c;this.log=a.ib("MslTransport");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(5);p=a(100);c=a(3);a=a(141);k={license:!0};b.prototype.send=function(a,b){var f,d;f=this;d={dm:Object.assign({Uc:a.Uc,log:a.log,profile:a.profile},a.I_a),method:a.Mk,url:a.url.href,body:JSON.stringify(b),timeout:a.timeout.fa(c.na),PM:a.profile.id,gob:!k[a.Mk],C9:!!k[a.Mk],Ql:!0,hw:a.raa,headers:a.headers};return this.Ff.send(d).then(function(c){f.receiver.zE({command:a.Mk,inputs:b,outputs:c});return c;})["catch"](function(c){var d;if(!c.error)throw c.Bc=c.Y||c.Bc,f.receiver.zE({command:a.Mk,inputs:b,outputs:c}),c;d=c.error;d.Dj=c.Dj;f.log.error("Error sending MSL request",{mslCode:d.qq,subCode:d.Bc,data:d.data,message:d.message});f.receiver.zE({command:a.Mk,inputs:b,outputs:d});throw d;});};b.prototype.b3=function(){return{userTokens:this.Ff.Ff.getUserIdTokenKeys()};};q=b;q=g.__decorate([f.L(),g.__param(0,f.l(h.kb)),g.__param(1,f.l(p.ax)),g.__param(2,f.l(a.iO))],q);d.pNa=q;},function(g,d,a){var b,f,h,p,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(217);f=a(291);h=a(527);p=a(526);c=a(525);d.ttb=new g.Wb(function(a){a(b.sO).to(c.RRa).$();a(f.Iga).to(h.pNa);a(f.Jia).to(p.eRa);a(f.cja).Kf(function(a){return function(){return a.$b.get(b.sO).QW?a.$b.get(f.Iga):a.$b.get(f.Jia);};});});},function(g,d,a){var f,h,p,c,k;function b(a){return c.Wi.call(this,a,h.K.BFa,2,p.aj.bind,p.Gg.It,p.aj.bind)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(43);c=a(83);a=a(49);ba(b,c.Wi);b.prototype.Sf=function(a,b,c,f){var d;d=this;return this.send(a,b,"/bindDevice",c,void 0,void 0,f).then(function(a){return a.result;})["catch"](function(a){throw d.xo(a);});};b.prototype.vo=function(){return Promise.reject(Error("Links are unsupported with bindDevice"));};k=b;k=g.__decorate([f.L(),g.__param(0,f.l(a.ql))],k);d.WOa=k;},function(g,d,a){var f,h,p,c,k;function b(a){return c.Wi.call(this,a,h.K.UNa,2,p.aj.Kya,p.Gg.It,p.aj.Kya)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(43);c=a(83);a=a(49);ba(b,c.Wi);b.prototype.Sf=function(a,b,c,f){var d;d=this;return this.send(a,b,"/"+this.name,c,void 0,void 0,f).then(function(a){return a.result;})["catch"](function(a){throw d.xo(a);});};b.prototype.vo=function(){return Promise.reject(Error("Links are unsupported with pair"));};k=b;k=g.__decorate([f.L(),g.__param(0,f.l(a.ql))],k);d.gPa=k;},function(g,d,a){var f,h,p,c,k;function b(a){return c.Wi.call(this,a,h.K.AFa,2,p.aj.bind,p.Gg.It,p.aj.bind)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(43);c=a(83);a=a(49);ba(b,c.Wi);b.prototype.Sf=function(a,b,c,f){var d;d=this;return this.send(a,b,"/"+this.name,c,void 0,void 0,f).then(function(a){return a.result;})["catch"](function(a){throw d.xo(a);});};b.prototype.vo=function(){return Promise.reject(Error("Links are unsupported with bind"));};k=b;k=g.__decorate([f.L(),g.__param(0,f.l(a.ql))],k);d.VOa=k;},function(g,d,a){var f,h,p,c,k,q,n;function b(a,b,c,f,d,k,g){this.zf=a;this.Uc=b;this.dl=c;this.q6a=f;this.wv=d;this.tub=k;this.rR=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(87);p=a(92);c=a(292);k=a(116);q=a(74);n=a(420);a=a(72);b=g.__decorate([f.L(),g.__param(0,f.l(h.xt)),g.__param(1,f.l(q.cr)),g.__param(2,f.l(p.cx)),g.__param(3,f.l(c.wha)),g.__param(4,f.l(k.MA)),g.__param(5,f.l(n.hja)),g.__param(6,f.l(a.JF))],b);d.YOa=b;},function(g,d,a){var f,h,p,c,k,q;function b(a){return p.In.call(this,a,h.K.gJa,c.ol.YI,3,q.Gg.OA)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(121);c=a(77);k=a(49);q=a(43);ba(b,p.In);b.prototype.OQ=function(a){return Object.assign({},p.In.prototype.OQ.call(this,a),{action:a.action});};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(k.ql))],a);d.vJa=a;},function(g,d,a){var f,h,p,c,k,q;function b(a){return p.In.call(this,a,h.K.uia,c.ol.splice,1,q.Gg.OA)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(121);c=a(77);k=a(49);q=a(43);ba(b,p.In);a=b;a=g.__decorate([f.L(),g.__param(0,f.l(k.ql))],a);d.dRa=a;},function(g,d,a){var f,h,p,c,k,q;function b(a){return p.In.call(this,a,h.K.WY,c.ol.gK,1,q.Gg.OA)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(121);c=a(77);k=a(49);q=a(43);ba(b,p.In);a=b;a=g.__decorate([f.L(),g.__param(0,f.l(k.ql))],a);d.xLa=a;},function(g,d,a){var f,h,p,c,k,q;function b(a){return p.In.call(this,a,h.K.Aia,c.ol.stop,3,q.Gg.eZ)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(121);c=a(77);k=a(49);q=a(43);ba(b,p.In);a=b;a=g.__decorate([f.L(),g.__param(0,f.l(k.ql))],a);d.kRa=a;},function(g,d,a){var f,h,p,c,k,q;function b(a){return p.In.call(this,a,h.K.xia,c.ol.start,3,q.Gg.It)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(121);c=a(77);k=a(49);q=a(43);ba(b,p.In);a=b;a=g.__decorate([f.L(),g.__param(0,f.l(k.ql))],a);d.gRa=a;},function(g,d,a){var f,h,p;function b(a,b){this.xc=a;this.Hl=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);a=a(40);b.prototype.gtb=function(a){var b,c;b=this;c=a.map(function(a){return a.links.releaseLicense.href;}).map(function(a){return b.xc.UU(a.substring(a.indexOf("?")+1));});return{X:!0,ic:a.map(function(a,b){return{id:a.sessionId,Fv:c[b].drmlicensecontextid,LD:c[b].licenseid};}),qK:a.map(function(a){return{data:b.Hl.decode(a.licenseResponseBase64),sessionId:a.sessionId};})};};b.prototype.jtb=function(a){return{X:!0,response:{data:a.reduce(function(a,b){var c;c=b.secureStopResponseBase64;(b=b.sessionId)&&c&&(a[b]=c);return a;},{})}};};p=b;p=g.__decorate([f.L(),g.__param(0,f.l(h.Ye)),g.__param(1,f.l(a.Jj))],p);d.cPa=p;},function(g,d,a){var f,h,p;function b(a){this.Ta=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(41);p=a(3);b.prototype.ftb=function(a){var b;b=this.Ta.Qe.fa(p.Em);return{inputs:a.Pp.map(function(c){return{sessionId:c.sessionId,clientTime:b,challengeBase64:c.dataBase64,xid:a.oa.toString(),mdxControllerEsn:a.AK};}),Yva:"standard"===a.zh.toLowerCase()?"license":"ldl"};};b.prototype.itb=function(a){var b,c,f,d;b=this;c=a.jpb||{};f=[];d=a.ic.map(function(d){var k;f.push(d.id);k=c[d.id];delete c[d.id];return{url:b.uoa(d.Fv,d.LD),echo:"sessionId",params:{sessionId:d.id,secureStop:k,secureStopId:k?d.LD:void 0,xid:a.oa.toString()}};});Object.keys(c).forEach(function(f){d.push({url:b.uoa(a.ic[0].Fv),echo:"sessionId",params:{sessionId:f,secureStop:c[f],secureStopId:void 0,xid:a.oa.toString()}});});return d;};b.prototype.uoa=function(a,b){return"/releaseLicense?drmLicenseContextId="+a+(b?"&licenseId="+b:"");};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(h.Kj))],a);d.bPa=a;},function(g,d,a){var f,h,p,c,k;function b(a){return c.Wi.call(this,a,h.K.uQa,3,p.aj.Ef,p.Gg.eZ,p.aj.Ef)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(43);c=a(83);a=a(49);ba(b,c.Wi);b.prototype.Sf=function(a,b,c){var f;f=this;return this.send(a,b,"/bundle",c).then(function(a){a=a.result;f.Poa(a);return a;})["catch"](function(a){throw f.xo(a);});};b.prototype.vo=function(){return Promise.reject(Error("Links are unsupported with release"));};k=b;k=g.__decorate([f.L(),g.__param(0,f.l(a.ql))],k);d.nPa=k;},function(g,d,a){var f,h,p,c,k;function b(a){return c.Wi.call(this,a,h.K.Sw,3,p.aj.Ef,p.Gg.It,p.aj.Ef)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(43);c=a(83);a=a(49);ba(b,c.Wi);b.prototype.Sf=function(){return Promise.reject(Error("Links are required with acquire command"));};b.prototype.vo=function(a,b,c,f){var d;d=this;c=c.P5(f.Yva).href;return this.send(a,b,c,f.inputs,"sessionId","license"===f.Yva?p.Gg.It:p.Gg.OA).then(function(a){a=a.result;d.Poa(a);d.a1a(a);return a;})["catch"](function(a){throw d.xo(a);});};b.prototype.a1a=function(a){a.forEach(function(a){if(!a.licenseResponseBase64)throw Error("Received empty licenseResponseBase64");});};k=b;k=g.__decorate([f.L(),g.__param(0,f.l(a.ql))],k);d.UOa=k;},function(g,d,a){var f,h,p,c,k,q,n,u,y,A,l,x,I,m,N,T;function b(a,b,f,d,k,g,n,h){a=A.Wi.call(this,a,p.K.MANIFEST,3,c.aj.Aa,c.Gg.It,c.aj.Aa)||this;a.platform=b;a.config=f;a.rR=d;a.O0a=k;a.Dlb=g;a.pn=n;a.Ue=h;a.ia=a.Ue.ib("PboManifestCommand");return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(5);p=a(2);c=a(43);k=a(418);q=a(4);n=a(17);u=a(61);y=a(72);a(148);A=a(83);l=a(49);x=a(213);I=a(390);m=a(289);N=a(118);a=a(67);ba(b,A.Wi);b.prototype.Sf=function(a,b,c){var f;f=this;return this.Rab(c).then(function(d){return f.send(a,b,"/"+f.name,d,void 0,f.Dbb(c.lJ));}).then(function(a){return a.result;})["catch"](function(a){throw f.xo(a);});};b.prototype.vo=function(a,b,c,f){return this.Sf(a,b,f).then(function(a){c.xQ(a.links);a.nf=c;return a;});};b.prototype.Rab=function(a){var b,c,f,d,g,n,h,p,t;b=this;c=a.Za;f=this.E1a(c.RH,c.lm);d={};g=a.we;d[g]={unletterboxed:"true"===f.preferUnletterboxed};n=this.config().zub?30:25;h=q.lD();p=h.acb().concat(h.$bb()).concat(this.config().ot).concat(["BIF240","BIF320"]).filter(Boolean);t=this.config().kp?this.pn.bab():Promise.resolve(k.uga.Vp());return Promise.all([h.qD(),h.DJ(),this.z$a(a.oa),t]).then(function(k){var h,q,t,y;h=P(k);k=h.next().value;q=h.next().value;t=h.next().value;h=h.next().value;y=q&&void 0!==q.SUPPORTS_SECURE_STOP?!!q.SUPPORTS_SECURE_STOP:void 0;q=q?q.DEVICE_SECURITY_LEVEL:void 0;k={type:"standard",viewableId:g,profiles:p,flavor:u.Zc.h2a(a.lJ),drmType:h,drmVersion:n,usePsshBox:!0,isBranching:!!a.Za.Vf,useHttpsStreams:!0,supportsUnequalizedDownloadables:b.config().lsb,imageSubtitleHeight:x.XZ.W5(),uiVersion:b.context.dl.oF,uiPlatform:b.context.dl.IW,clientVersion:b.platform.version,supportsPreReleasePin:b.config().Og.fsb,supportsWatermark:b.config().Og.gsb,showAllSubDubTracks:b.config().Og.Tqb||"true"===f.showAllSubDubTracks,packageId:b.lbb(c),deviceSupportsSecureStop:y,deviceSecurityLevel:q,videoOutputInfo:k,titleSpecificData:d,preferAssistiveAudio:"true"===f.assistiveAudioPreferred,preferredTextLocale:f.preferredTextLocale,preferredAudioLocale:f.preferredAudioLocale,isUIAutoPlay:"true"===f.isUIAutoPlay,challenge:t,isNonMember:b.context.dl.Gi,pin:c.g$,desiredVmaf:b.config().wub?b.config().Z5a:b.config().$5a};c.yra&&(k.extraParams=c.yra);return k;});};b.prototype.E1a=function(a,b){var f;function c(a){return Object.keys(a).reduce(function(b,c){var d;d=a[c];"string"!==typeof d||"false"!==d.toLowerCase()&&"true"!==d.toLowerCase()||f.ia.error("Session param is already stringified",{key:c,value:d});b[c]="string"===typeof d?d:JSON.stringify(d);return b;},{});}f=this;return Object.assign({},c(a||{}),c(b||{}));};b.prototype.lbb=function(a){if(this.config().qV.enabled){if(void 0!==a.qn)return a.qn;if(void 0!==this.config().qV.qn)return Number(this.config().qV.qn);}};b.prototype.Dbb=function(a){switch(a){case u.Qn.Dm:case u.Qn.oIa:return c.Gg.It;case u.Qn.iia:case u.Qn.Fia:return c.Gg.eZ;case u.Qn.pha:return c.Gg.OA;}};b.prototype.z$a=function(a){var b;b=this;return this.O0a.Ksa().then(function(c){var f;f=a&&b.Dlb.pbb(a);f&&f.Fl("cad");return c;});};T=b;T=g.__decorate([f.L(),g.__param(0,f.l(l.ql)),g.__param(1,f.l(a.Rn)),g.__param(2,f.l(n.gd)),g.__param(3,f.l(y.JF)),g.__param(4,f.l(I.tda)),g.__param(5,f.l(m.FZ)),g.__param(6,f.l(N.Yw)),g.__param(7,f.l(h.kb))],T);d.fPa=T;},function(g,d,a){var f,h,p,c,k;function b(a){return c.Wi.call(this,a,h.K.CLa,1,p.aj.nwa,p.Gg.OA,p.aj.nwa)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(43);c=a(83);a=a(49);ba(b,c.Wi);b.prototype.Sf=function(a,b,c){var f;f=this;return this.send(a,b,"/"+this.name,c).then(function(a){return a.result;})["catch"](function(a){throw f.xo(a);});};b.prototype.vo=function(){return Promise.reject(Error("Links are unsupported with logblobs"));};k=b;k=g.__decorate([f.L(),g.__param(0,f.l(a.ql))],k);d.ePa=k;},function(g,d,a){var b,f,h,p,c,k,q,n,u,y,A,l,x,I,m,N,T,S,r,D,Q,W,ca,ia,X,ja,Y,da;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(326);f=a(543);h=a(313);p=a(542);c=a(312);k=a(541);q=a(310);n=a(540);u=a(309);y=a(539);A=a(308);l=a(538);x=a(77);I=a(537);m=a(536);N=a(42);T=a(2);S=a(535);r=a(534);D=a(533);Q=a(49);W=a(532);ca=a(279);ia=a(531);X=a(278);ja=a(530);Y=a(331);da=a(529);d.F1a=new g.Wb(function(a){a(Q.ql).to(W.YOa);a(b.Bha).to(f.ePa);a(ca.tha).to(ia.VOa);a(Y.uha).to(da.WOa);a(X.Dha).to(ja.gPa);a(h.Cha).to(p.fPa);a(c.sha).to(k.UOa);a(q.Iha).to(n.nPa);a(u.yha).to(y.bPa);a(A.zha).to(l.cPa);a(x.Kia).to(I.gRa);a(x.Lia).to(m.kRa);a(x.Mfa).to(S.xLa);a(x.Iia).to(r.dRa);a(x.yea).to(D.vJa);a(x.WX).Kf(function(a){return function(b){switch(b){case x.ol.start:return a.$b.get(x.Kia);case x.ol.stop:return a.$b.get(x.Lia);case x.ol.gK:return a.$b.get(x.Mfa);case x.ol.splice:return a.$b.get(x.Iia);case x.ol.YI:return a.$b.get(x.yea);}throw new N.cc(T.K.cOa,void 0,void 0,void 0,void 0,"The event key was invalid - "+b);};});});},function(g,d,a){var f,h,p,c,k,q,n;function b(a,b,c,d,g,h,t,l,m){var u;u=this;this.Atb=a;this.j=b;this.id=c;this.height=d;this.width=g;this.slb=h;this.tlb=t;this.size=l;this.Yc=m;this.type=f.gg.jca;this.dt=!0;this.state=k.Gm.cO;this.Yf={};this.HQ={};this.ymb=function(a){if(a.X)try{u.data=u.Atb.parse(a.content);u.state=k.Gm.LOADED;u.log.trace("TrickPlay parsed",{Images:u.data.images.length},u.Yf);u.j.fireEvent(q.U.HM);}catch(D){u.state=k.Gm.$ga;u.log.error("TrickPlay parse failed.",D);}else u.state=k.Gm.cO,u.log.error("TrickPlay download failed.",n.Nn(a),u.Yf);};this.log=p.Uf(b,"TrickPlay");}Object.defineProperty(d,"__esModule",{value:!0});f=a(76);h=a(12);p=a(4);c=a(71);k=a(287);q=a(15);n=a(2);b.prototype.oab=function(a){if(this.data&&(a=Math.floor(a/this.data.aq.iDa),0<=a&&a<this.data.images.length))return{image:this.data.images[a],time:a*this.data.aq.iDa,height:this.height,width:this.width,pixelAspectHeight:this.slb,pixelAspectWidth:this.tlb};};b.prototype.OS=function(){switch(this.state){case k.Gm.LOADED:return"downloaded";case k.Gm.LOADING:return"loading";case k.Gm.aG:return"downloadfailed";case k.Gm.$ga:return"parsefailed";default:return"notstarted";}};b.prototype.download=function(){var a;a=this.rcb();a?(this.state=k.Gm.LOADING,this.y6a(a)):this.dt=!1;};b.prototype.Re=function(){return this.state;};b.prototype.rcb=function(){var a,b,c;a=this;b=Object.keys(this.Yc).find(function(b){return(a.HQ[a.Yc[b]]||0)<=h.config.wtb;});if(b){c=this.Yc[b];c in this.HQ?this.HQ[c]++:this.HQ[c]=1;return{url:c,Ou:b};}};b.prototype.y6a=function(a){this.log.trace("Downloading",a.url,this.Yf);a={responseType:c.hT,Sb:this.u5(a.Ou),url:a.url,track:this};this.j.PJ.download(a,this.ymb);};b.prototype.u5=function(a){return this.j.xi.find(function(b){return b&&b.id===a;});};d.TRa=b;},function(g,d,a){var f,h,p;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(131);a=a(1);b.prototype.parse=function(a){var b,c;if(!a)throw Error("invalid array buffer");b=new Uint8Array(a);c=new h.CA(b);a=this.Fkb(c);b=this.Hkb(c,b,a);return{aq:a,images:b};};b.prototype.Fkb=function(a){var b,c,d,g;if(a.qj()<this.qob())throw Error("array buffer too short");f.dga.forEach(function(b){if(b!=a.ae())throw Error("BIF has invalid magic.");});b=a.Lz();if(b>f.VERSION)throw Error("BIF version in unsupported");c=a.Lz();if(0==c)throw Error("BIF has no frames.");d=a.Lz();g=a.je(f.lia);return{version:b,njb:c,iDa:d,rob:g};};b.prototype.Hkb=function(a,b,f){var k,g;for(var c=[],d=0;d<=f.njb;d++){g={timestamp:a.Lz(),offset:a.Lz()};void 0!=k&&c.push(b.subarray(k.offset,g.offset));k=g;}return c;};b.prototype.qob=function(){return f.dga.length+4+4+4+f.lia;};p=f=b;p.dga=[137,66,73,70,13,10,26,10];p.VERSION=0;p.lia=44;p=f=g.__decorate([a.L()],p);d.WRa=p;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.fja="TrickPlayParserSymbol";},function(g,d,a){var f,h;function b(a,b,d,g,n,h,t,A,l,x,I){this.index=a;this.ga=b;this.M=d;this.Za=g;this.oa=n;this.fl=h;this.k8=t;this.a2a=l;this.qxa=I;this.Ec=new f.Ic(null);this.gf=new f.Ic(null);this.wc=new f.Ic(null);this.wi=new f.Ic(null);this.Jq=new f.Ic(void 0);this.le=new f.Ic(null);this.kj=new f.Ic(null);this.pf=new f.Ic(null);this.Fe=new f.Ic(null);this.bc=new f.Ic(void 0);this.Lu=this.cy="notcached";this.background=!1;A&&(this.le.set(A.le.value),this.kj.set(A.kj.value),this.profile=A.profile);this.el=x(this);this.j$=this.qxa.Mnb(this.oa,this.fl);}Object.defineProperty(d,"__esModule",{value:!0});f=a(177);h=a(3);b.prototype.Nc=function(a){this.j$.Fl(a);};b.prototype.xv=function(a){var b;b=this;Object.keys(a).forEach(function(c){b.j$.Fl(c,h.zb(a[c]-b.fl.fa(h.na)));});};b.prototype.HU=function(){this.qxa.Wnb(this.oa);};na.Object.defineProperties(b.prototype,{ke:{configurable:!0,enumerable:!0,get:function(){return this.Za.ke;}},$j:{configurable:!0,enumerable:!0,get:function(){return this.Ub&&this.Ub.$j;}},bo:{configurable:!0,enumerable:!0,get:function(){return this.Ub&&this.Ub.bo;}},Pq:{configurable:!0,enumerable:!0,get:function(){return this.Ub&&this.Ub.Pq;}},tt:{configurable:!0,enumerable:!0,get:function(){return this.Ub&&this.Ub.tt;}},Hj:{configurable:!0,enumerable:!0,get:function(){return this.Ub&&this.Ub.Hj;}},Gf:{configurable:!0,enumerable:!0,get:function(){return this.Ub&&this.Ub.Gf;}},Av:{configurable:!0,enumerable:!0,get:function(){return this.Ub&&this.Ub.Av;}},Xo:{configurable:!0,enumerable:!0,get:function(){return this.Ub&&this.Ub.Xo;}},xi:{configurable:!0,enumerable:!0,get:function(){return this.Ub&&this.Ub.xi;}},hV:{configurable:!0,enumerable:!0,get:function(){return this.Ub&&this.Ub.hV;}},hy:{configurable:!0,enumerable:!0,get:function(){return h.zb(this.Aa?this.Aa.duration:0);}},Zg:{configurable:!0,enumerable:!0,get:function(){return this.Za.Zg||0;}},v3:{configurable:!0,enumerable:!0,get:function(){return void 0!==this.fR?this.fR:void 0===this.bc.value?null:this.a2a(this.bc.value,this.ga);}},AC:{configurable:!0,enumerable:!0,get:function(){return this.Aa&&this.Aa.cdnResponseData?this.Aa.cdnResponseData.pbcid:void 0;}},Yz:{configurable:!0,enumerable:!0,get:function(){return this.Aa&&this.Aa.cdnResponseData?this.Aa.cdnResponseData.sessionABTestCell:void 0;}},Ac:{configurable:!0,enumerable:!0,get:function(){return this.j$.Ac;}}});d.CPa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Lha="PlayTimeTrackerFactorySymbol";},function(g,d,a){var h,p,c,k,q,n,u,y;function b(a,b,c,f,d){var k;k=this;this.yj=a;this.config=c;this.Da=f;this.debug=d;this.eV=[];this.Ro=[];this.k$=[];this.Yx={};this.Lqa=!1;this.VH={};this.p7=0;this.log=b.ib("PlayTimeTracker");this.startTime=this.yj.bc.value;this.WT=this.config().wYa;this.aN();this.Yx.abrdel=0;this.WT.forEach(function(a){a="abrdel"+a;k.VH[a]=0;k.Yx[a]=0;});}function f(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);p=a(5);c=a(17);k=a(245);a(3);q=a(20);n=a(88);u=a(8);y=a(18);f.prototype.encode=function(a){return{key:a.key,downloadableId:a.Qc,bitrate:a.O,vmaf:a.Vb,duration:a.duration,metric:a.EK,cdnId:a.Ou};};f.prototype.decode=function(a){return{key:a.key,Qc:a.downloadableId,O:a.bitrate,Vb:a.vmaf,duration:a.duration,EK:a.metric,Ou:a.cdnId};};b.prototype.EJ=function(){var a;this.cM(this.yj.bc.value);a=0;this.Ro.forEach(function(b){a+=b.endTime-b.startTime;});this.debug.assert(a===Math.floor(a),"Value of totalPlayTime is not an integer.");return Math.floor(a);};b.prototype.i$a=function(){this.cM(this.yj.bc.value);return{audio:this.yJ(this.eV,this.Vsa),video:this.yJ(this.Ro,this.Vsa)};};b.prototype.nbb=function(){var a;a={total:this.EJ(),audio:this.yJ(this.eV,this.IS),video:this.yJ(this.Ro,this.IS),timedtext:this.yJ(this.k$,this.IS)};this.debug.assert(!(!a.audio||!a.video));return a;};b.prototype.Csa=function(){var a,b;this.cM(this.yj.bc.value);a=this.p5(this.Ro,this.t$a);try{b=this.Dsa(a);}catch(x){return this.log.warn("Failed to calc average bitrate."),null;}this.Yx.abrdel=Math.round(b);return this.Yx.abrdel;};b.prototype.m$a=function(){var a,b;this.cM(this.yj.bc.value);a=this.p5(this.Ro,this.wcb);try{b=this.Dsa(a);}catch(x){return this.log.warn("Failed to calc average vmaf."),null;}return Math.round(b);};b.prototype.l$a=function(){var a,b;a=this;if(!this.Lqa){b=this.EJ();this.WT.forEach(function(c){var f,d,k;if(0===a.VH["abrdel"+c]&&b>c*u.qk){f=0;d=0;k=0;a.Ro.some(function(a){f+=a.stream.O*(a.endTime-a.startTime);d+=a.endTime-a.startTime;k=a.stream.O;if(d>c*u.qk)return!0;});f&&(a.VH["abrdel"+c]=Math.round((f-k*(d-c*u.qk))/(c*u.qk)));}});0!==this.VH["abrdel"+this.WT[this.WT.length-1]]&&(this.Lqa=!0);y.Sc(this.VH,function(b,c){a.Yx[b]=0===c?a.Yx.abrdel:c;});}return this.Yx;};b.prototype.OYa=function(a){this.p7+=a;};b.prototype.cdb=function(){return!!(this.Ro[0]&&this.Ro[0].stream&&this.Da.zd(this.Ro[0].stream.Vb));};b.prototype.aN=function(){var a;a=this;this.yj.pf.addListener(function(b){a.EC=a.Noa(a.EC,a.eV,b.newValue);});this.yj.Fe.addListener(function(b){a.HC=a.Noa(a.HC,a.Ro,b.newValue);});this.yj.wi.addListener(this.Djb.bind(this));};b.prototype.fjb=function(a,b){this.cM(a);this.startTime=b;this.HC=this.EC=void 0;this.GC&&(this.GC.startTime=this.startTime);};b.prototype.Djb=function(a){this.qL(this.GC,this.k$,this.yj.bc.value);this.GC=a.newValue?{track:a.newValue,startTime:this.yj.bc.value,endTime:k.Uw}:void 0;};b.prototype.cM=function(a){a&&this.EC&&this.HC&&(a=Math.min(a,this.EC.endTime,this.HC.endTime),this.qL(this.EC,this.eV,a),this.EC.startTime=a,this.qL(this.HC,this.Ro,a),this.HC.startTime=a,this.GC&&(this.qL(this.GC,this.k$,a),this.GC.startTime=a),this.startTime=a);};b.prototype.Noa=function(a,b,c){a&&this.qL(a,b,Math.min(a.endTime,this.yj.bc.value));if(c&&c.stream)return a=c.Xm,b=c.stream,{Sb:c.Sb,track:b.track,stream:b,startTime:Math.max(a.startTime,this.startTime),endTime:a.endTime};};b.prototype.qL=function(a,b,c){a&&c&&c>=a.startTime&&(a={Sb:a.Sb,track:a.track,stream:a.stream,startTime:a.startTime,endTime:c},(c=b[b.length-1])&&c.track===a.track&&c.stream===a.stream&&c.Sb===a.Sb&&c.endTime===a.startTime?c.endTime=a.endTime:b.push(a));};b.prototype.p5=function(a,b){var c,f;c=this;f={};return a.reduce(function(a,d){var k,g,n;k=b.bind(c,d)();g=k.key;d=d.endTime-d.startTime;n=f[g];n?n.duration+=d:(delete k.key,n=k,n.duration=d,a.push(n),f[g]=n);return a;},[]);};b.prototype.yJ=function(a,b){return this.p5(a,b).map(function(a){return new f().encode(a);});};b.prototype.IS=function(a){var b,c,f;f=a.stream;f?(a=f.Qc,b=f.O,c=f.Vb):a=a.track.Qc;return{key:a+"$"+(b||0),Qc:a,O:b,Vb:c};};b.prototype.Vsa=function(a){var b;b=this.IS(a);a=a.Sb.id;return Object.assign({},b,{key:b.key+"$"+a,Ou:a});};b.prototype.t$a=function(a){a=(a=a.stream)?a.O:0;return{key:a,EK:a};};b.prototype.wcb=function(a){a=(a=a.stream)?a.Vb:0;return{key:a,EK:a};};b.prototype.Dsa=function(a){var b,c,f;b=this;c=0;a.forEach(function(a){if(b.Da.zd(a.duration)&&b.Da.zd(a.EK))c+=a.duration;else throw Error("Invalid arguments: missing duration and/or metric in segment.");});if(!c)return 0;f=0;a.forEach(function(a){f+=a.EK*a.duration/c;});return f;};a=b;a=g.__decorate([h.L(),g.__param(1,h.l(p.kb)),g.__param(2,h.l(c.gd)),g.__param(3,h.l(q.de)),g.__param(4,h.l(n.At))],a);d.tPa=a;},function(g,d,a){var f,h,p,c,k,q;function b(a){var b,d;b=this;this.j=a;this.Kjb=function(){p.ue.removeListener(p.u6,b.vya);b.If.removeChild(b.gn.Cy());};this.P9=function(a){b.gn.cqb(a.newValue);};this.dkb=function(a){b.gn.fqb(a.newValue?a.newValue.eK:void 0);};this.vya=function(){b.gn.BL();};this.If=a.If;this.gn=new k.FRa(c.config.Vba,a.wc.value?a.wc.value.eK:void 0);d=a.uF;h.Ga(.1<d.width/d.height);this.gn.Wpb(d.width/d.height);this.If.appendChild(this.gn.Cy());a.Jq.addListener(this.P9);a.wc.addListener(this.dkb);a.addEventListener(q.U.se,this.Kjb,f.WA);p.ue.addListener(p.u6,this.vya);}Object.defineProperty(d,"__esModule",{value:!0});f=a(8);h=a(14);p=a(54);c=a(12);k=a(268);q=a(15);b.prototype.cba=function(a){this.gn.cba(a);};b.prototype.o6=function(){return this.gn.o6();};b.prototype.aba=function(a){this.gn.aba(a);};b.prototype.m6=function(){return this.gn.m6();};b.prototype.bba=function(a){this.gn.bba(a);};b.prototype.n6=function(){return this.gn.n6();};d.HRa=b;},function(g,d,a){var f,h,p,c,k,q,n,u,y;function b(a,b,c,f,d){a=k.AG.call(this,b,a,a,"1",{0:c},void 0,"xx",f||a,q.vp.ZA,"primary","custom",{},!1,!1,!1)||this;a.j=b;a.url=c;a.content=d;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(57);f=a(12);h=a(54);p=a(4);c=a(19);k=a(212);q=a(157);n=a(71);u=a(107);y=a(15);g.Tha(g.Pha,function(a){var d;function b(b){var f;if(b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==u.Nt.tRa){f=c.createElement("INPUT",void 0,void 0,{type:"file"});f.addEventListener("change",function(){var b,c,k;b=f.files[0];if(b){c=b.name;d.info("Loading file",{FileName:c});k=new FileReader();k.readAsText(b);k.addEventListener("load",function(){return a.En.q1("nourl",c,k.result);});}});f.click();}}d=p.Uf(a,"TimedTextCustomTrack");f.config.x3&&(d.info("Loading url",{Url:f.config.x3}),a.En.q1(f.config.x3,"custom"));h.ue.addListener(h.Gy,b);a.addEventListener(y.U.se,function(){h.ue.removeListener(h.Gy,b);});});ba(b,k.AG);b.$3a=function(a,c,f,d){var k;k="custom"+b.beb++;return new b(k,a,c,f,d);};b.prototype.Oqa=function(){var a;a=this;return new Promise(function(b,c){var f;if(a.content)b(a.content);else if(a.url){f={responseType:n.zua,url:a.url,track:a,Sb:null,MC:"tt-"+a.Xj};a.j.PJ.download(f,function(d){d.X?b(d.content):(d.reason="downloadfailed",d.url=f.url,d.track=a,c(d));});}});};b.beb=0;d.ERa=b;},function(g,d){function a(a,b,f){this.start=a;this.track=b;this.cA=f;this.end=void 0;this.cA=Array.isArray(f)?f:[];}function b(a,b,f){this.log=a;this.tA=b;this.Ya=f.Ya;this.Ng=f.Ng||function(){};this.current=void 0;this.N$=[];this.orphans=[];}function f(a){var b;b=!1;a.reduce(function(a,c){a[c]=(a[c]|0)+1;1<a[c]&&(b=!0);return a;},Object.create(null));return b;}function h(a,b){return f(a)?(b.error("duplicates in entries"),a.filter(function(a,b,c){return c.indexOf(a)===b;})):a;}function p(a){return Object.keys(a).map(function(b){return a[b];});}Object.defineProperty(d,"__esModule",{value:!0});b.prototype.CYa=function(a,b){this.Nxa(a,b,"activating");};b.prototype.O4a=function(a){this.s4(a,"de-activating");};b.prototype.Nxa=function(b,f,d){var c;c=[];this.current&&this.s4(b,"close current for new");this.orphans.length&&(c.push(this.orphans),this.orphans=[]);this.current=new a(b,f,c);this.tA&&this.log.trace("new range: "+d,this.Ya({},this.current));};b.prototype.s4=function(a,b){this.current&&(this.current.end=a,this.N$.push(this.current),this.tA&&this.log.trace("end range: "+b,this.Ya({},this.current||{})),this.current=void 0);};b.prototype.WDa=function(a){this.current?this.current.cA.push(a):this.orphans.push(a);};b.prototype.j6=function(b){var c,f,d;c=this;f=c.N$.slice(0);if(c.current&&"undefined"!=typeof b){d=new a(c.current.start,c.current.track,c.current.cA);d.end=b;f.push(d);}b=f.reduce(function(a,b){var f,d,k,g;if(!b.track)return a;f=b.track.Qc;d=b.track.rv(b.start,b.end);if(!d)return a;k=h(b.cA,c.log);a[f]?(g=a[f],g.expected+=d.length,g.missed+=d.length-k.length):(g={},g.dlid=f,g.bcp47=b.track.Xj,g.profile=b.track.profile,g.expected=d.length,g.missed=d.length-k.length,g.startPts=b.track.Ubb(),a[f]=g);return a;},{});b=p(b);c.tA&&c.log.trace("subtitleqoe:",JSON.stringify(b,null,"\t"));return b;};b.prototype.Ibb=function(b){var c,f,d,g,p;c=this;f=c.N$.slice(0);d=0;g=0;c.current&&"undefined"!=typeof b&&(p=new a(c.current.start,c.current.track,c.current.cA),p.end=b,f.push(p));f.forEach(function(a){var b,f;if(a.track){if(a.end<a.start){c.Ng("negative range",a);a.iw=0;return;}b=h(a.cA,c.log);f=a.track.rv(a.start,a.end);a.dJ=f?f.map(function(a){return a.id;}):[];a.iw=f?0===f.length?100:100*b.length/f.length:0;}else a.iw=100;b=a.end-a.start;d+=b;g+=a.iw*b;});p=d?Math.round(g/d):100;c.log.trace("qoe score "+p+", at pts: "+b);c.tA&&(b=f.map(function(a){return{start:a.start,"end  ":a.end,duration:a.end-a.start,score:Math.round(a.iw),lang:a.track?a.track.Xj:"none","actual  ":a.cA.join(" "),expected:(a.dJ||[]).join(" ")};}),c.log.trace("score for each range: ",JSON.stringify(b,function(a,b){return b;}," ")));return p;};d.sRa=b;},function(g,d,a){var f,h,p,c,k,q,n,u,y,A,l,x,m,G;function b(a){var c;c=this;this.j=a;this.Eba=this.Ixa=0;this.se=this.gk=!1;this.hw=0;this.iF=function(){var a,b;a=c.cf();c.HV();c.Zpa&&(c.log.info("Deactivating",c.Zpa),c.qw.O4a(c.cf()));c.j.wi.set(null);c.iA.OBa(c.entries=void 0);c.Uoa();b=c.j.wc.value;b&&b.fK()&&!b.zT()&&(b=null);b&&c.j.uc.value!==x.qb.ig&&c.qw.CYa(a,b);b?(c.log.info("Activating",b),c.j.Gj.set(x.hf.Ij),c.gk||c.j.Nc("tt_start"),b.getEntries().then(c.mD)["catch"](c.mD)):c.j.Gj.set(x.hf.$c);c.Zpa=b;c.pF();};this.Mba=function(){c.gk&&(c.iA.start(),c.j.uc.value!==x.qb.wd&&c.iA.stop());};this.pF=function(){var a;c.j.state.value===x.lb.$c&&c.j.uc.value!==x.qb.ig&&(c.entries?a=c.iA.$9a():c.j.wc.value&&(a=b.rrb[c.j.wc.value.Re()]));a&&l.Ob(a.startTime)&&(c.Ixa++,c.Eba+=c.iA.pta()-a.startTime,c.boa=Math.ceil(c.Eba/(c.Ixa+0)));c.j.Jq.set(a);};this.cf=function(){return c.j.T5();};this.bkb=function(a){c.fireEvent(b.Vqb,a);a&&a.id&&c.qw.WDa(a.id);c.log.trace("showsubtitle",c.Ota(a));};this.Wjb=function(a){c.fireEvent(b.Znb,a);c.log.trace("removesubtitle",c.Ota(a));};this.Q9=function(){c.log.warn("imagesubs buffer underflow",c.j.wc.value.Yf);c.j.Gj.set(x.hf.Ij);};this.Fjb=function(){c.log.info("imagesubs buffering complete",c.j.wc.value.Yf);c.j.Gj.set(x.hf.$c);};this.pya=function(){c.gk&&c.mf&&c.mf.jp(c.cf());};this.tya=function(a){c.mf&&c.mf.aW&&c.mf.aW(a.zi,a.OK);};this.wya=function(a){c.mf&&c.mf.Nq&&c.mf.Nq(a.yg,a.lub);};this.MU=function(){c.gk=!0;A.yb(function(){c.mf?c.mf.jp(c.cf()):c.Mba();c.pF();});};this.TK=function(){c.entries=void 0;c.Uoa();c.iA.stop();c.pF();c.se=!0;c.HV();};this.P9=function(a){(a=a.newValue)&&l.Ob(a.id)&&c.qw.WDa(a.id);};this.Tjb=function(a){c.fub(a.newValue,a.oldValue);c.Mba();};this.mD=function(a){var b,f;if(!c.se){b=a.track;f=!1;if(b==c.j.wc.value)if(b.fq)if(a.X)c.HV(),c.mf=b.mf,c.zwa("addListener"),c.log.info("Activated",b),c.j.wi.set(b),c.gk?A.yb(function(){c.mf.jp(c.cf());}):c.mf.pause();else{if(f=!!(c.hw<p.config.Wwa))c.PAa=setTimeout(c.QAa.bind(c,b),p.config.dDa);c.log.error("Failed to activate img subtitle",{retry:f},a,b);}else{if(f=a.entries)c.HV(),c.iA.OBa(c.entries=f),c.log.info("Activated",b),c.j.wi.set(b);else{if(f=!!(c.hw<p.config.Wwa))c.PAa=setTimeout(c.QAa.bind(c,b),p.config.dDa);c.log.error("Failed to activate",{retry:f},y.Nn(a),b);}c.pF();}c.gk||c.j.Nc(a.X?"tt_comp":"tt_err");a.X?(p.config.YAa?setTimeout(function(){c.j.Gj.set(x.hf.$c);},p.config.YAa):c.j.Gj.set(x.hf.$c),b.fq||c.pF()):a.El?c.log.warn("aborted timed text track loading"):p.config.P8a?(b=k.W.get(G.uk),c.j.md(b(y.K.YKa,{Oa:a.track?a.track.Yf:{}}))):(c.log.error("ignore subtitle initialization error",a),c.j.Gj.set(x.hf.$c));}};this.Gb=new h.Lj();this.qw=new q.sRa(k.Uf(a,"SubtitleTracker"),p.config.x7a,{Ya:u.Ya,Ng:n.Ga});this.log=k.Uf(a,"TimedTextManager");this.iA=new f.KRa(this.cf,this.pF);this.j.wc.addListener(this.iF);p.config.Tlb?(this.j.addEventListener(x.U.Bh,this.MU),this.iF()):(this.j.Gj.set(x.hf.$c),this.j.addEventListener(x.U.Bh,function(){c.gk=!0;c.iF();}));this.j.uc.addListener(this.Tjb);this.j.addEventListener(x.U.Pba,this.Mba);this.j.Jq.addListener(this.P9);this.j.addEventListener(x.U.se,this.TK);}Object.defineProperty(d,"__esModule",{value:!0});g=a(212);f=a(272);h=a(70);p=a(12);c=a(28);k=a(4);q=a(553);n=a(14);u=a(18);y=a(2);A=a(46);l=a(16);x=a(15);m=a(552);G=a(62);b.prototype.addEventListener=function(a,b,c){this.Gb.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.Gb.removeListener(a,b);};b.prototype.fireEvent=function(a,b,c){this.Gb.Hb(a,b,c);};b.prototype.q1=function(a,b,f){var d;d=m.ERa.$3a(this.j,a,b,f);this.j.Hj.push(d);this.j.bo.forEach(function(a){c.hFa(a.Hj,d);});this.j.wc.set(d);this.j.fireEvent(x.U.jA);};b.prototype.Ybb=function(a){return this.qw.Ibb(a);};b.prototype.j6=function(a){return this.qw.j6(a);};b.prototype.SS=function(){var a,b;a=this.j.CM;b=p.config.eDa.characterSize;b={size:p.config.Wba.characterSize||b};a&&(b.visibility=a.o6(),b.ZH=a.m6(),b.nn=a.n6());return b;};b.prototype.uqb=function(a){p.config.Wba.characterSize=a;a=this.j.wc.value;!a||a.fK()||a.fq||a.getEntries().then(this.mD)["catch"](this.mD);};b.prototype.fub=function(a,b){a===x.qb.wd||a==x.qb.gi?b!==x.qb.wd&&b!==x.qb.gi&&((b=this.j.wc.value)&&b.fK()&&!b.zT()||this.qw.Nxa(this.cf(),b,"presentingstate:"+a)):a!==x.qb.ig&&a!==x.qb.$q||this.qw.s4(this.cf(),"presentingstate:"+a);};b.prototype.HV=function(){this.hw=0;clearTimeout(this.PAa);};b.prototype.Uoa=function(){this.mf&&(this.mf.stop(),this.zwa("removeListener"));this.mf=void 0;};b.prototype.zwa=function(a){this.mf&&(this.mf[a]("showsubtitle",this.bkb),this.mf[a]("removesubtitle",this.Wjb),this.mf[a]("underflow",this.Q9),this.mf[a]("bufferingComplete",this.Fjb),"addListener"===a?(this.j.addEventListener(x.U.Zm,this.pya),this.j.addEventListener(x.U.FU,this.tya),this.j.addEventListener(x.U.Nq,this.wya)):(this.j.removeEventListener(x.U.Zm,this.pya),this.j.removeEventListener(x.U.FU,this.tya),this.j.removeEventListener(x.U.Nq,this.wya)));};b.prototype.Ota=function(a){return{currentPts:this.cf(),displayTime:a.displayTime,duration:a.duration,id:a.id,originX:a.originX,originY:a.originY,sizeX:a.sizeX,sizeY:a.sizeY,rootContainerExtentX:a.rootContainerExtentX,rootContainerExtentY:a.rootContainerExtentY};};b.prototype.QAa=function(a){this.hw++;a.getEntries().then(this.mD)["catch"](this.mD);};a={};b.rrb=(a[g.AG.zia.LOADING]={uIb:!0},a[g.AG.zia.aG]={vy:!0},a);b.Vqb="showsubtitle";b.Znb="removesubtitle";d.GRa=b;},function(g,d,a){var c,k,q,n,u,y,A,l,x,m,G,N,r,S,V,D,Q,W,ca,ia,X,ja,Y,da,ea,B;function b(a){var b;b=this;this.j=a;this.vEa=Promise.resolve();this.VX=M.WebKitMediaKeys||HTMLVideoElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLVideoElement.prototype.msSetMediaKeys?"ms":"";this.su=[];this.fj=new y.Lj();this.ika=this.m_=0;this.RO=[];this.cb=x.Uf(this.j,"MediaElementASE");this.mma=V.ee;this.F_=!1;this.$e={};this.RG={};this.JS=this.TO(function(){var a;if(b.Ma){a=b.hP();return a?a.totalVideoFrames:b.Ma.webkitDecodedFrameCount;}});this.By=this.TO(function(){var a;if(b.Ma){a=b.hP();return a?a.droppedVideoFrames:b.Ma.webkitDroppedFrameCount;}});this.wJ=this.TO(function(){var a;if(b.Ma){a=b.hP();return a&&a.corruptedVideoFrames;}});this.KS=this.TO(function(){var a;if(b.Ma){a=b.hP();return a&&Q.Jh(a.totalFrameDelay*V.qk);}});this.fla=function(){return b.fj.Hb(ia.Kh.Wva);};this.sj=x.W.get(ca.Rfa).create(u.config.kp,this,this.j);u.config.Gv&&(this.vEa=new Promise(function(a){b.mma=a;b.j.addEventListener(Y.U.se,a);}));this.cb.trace("Created Media Element");this.addEventListener=this.fj.addListener;this.removeEventListener=this.fj.removeListener;this.Ma=f(this.j.uF);this.sourceBuffers=this.su;}function f(a){var b,c;b=x.W.get(X.vja).Abb();a=a.width/a.height*b.height;c=(b.width-a)/2;return u.config.xqb?V.createElement("VIDEO","position:absolute;width:"+a+"px;height:"+b.height+"px;left:"+c+"px;top:0px"):V.createElement("VIDEO","position:absolute;width:100%;height:100%");}function h(a){a.preventDefault();return!1;}function p(a,b){var c,f,d;c=a.target;c=c&&c.error;f=a.errorCode;d=c&&c.code;V.Ob(d)||(d=f&&f.code);f=c&&c.msExtendedCode;V.Ob(f)||(f=c&&c.systemCode);V.Ob(f)||(f=a.systemCode);a=V.Ya({},{code:d,systemCode:f},{uq:!0});b={Y:b(d),Oa:D.xwa(a)};try{c&&c.message&&(b.BK=c.message);}catch(Ga){}f=V.Od(f);W.qa(f)&&(b.qc=x.doa(f,4));return{cD:b,qgb:a};}Object.defineProperty(d,"__esModule",{value:!0});c=a(50);k=a(139);q=a(62);n=a(8);u=a(12);y=a(70);A=a(54);l=a(28);x=a(4);m=a(2);G=a(14);N=a(105);r=a(427);S=a(18);V=a(19);D=a(176);Q=a(9);W=a(16);ca=a(274);ia=a(175);X=a(299);ja=a(3);Y=a(15);da=a(130);ea=!!(Q.SA&&HTMLVideoElement&&URL&&HTMLVideoElement.prototype.play);B=ea&&(HTMLVideoElement.prototype.webkitGenerateKeyRequest||Q.lG);b.prototype.Wl=function(a){try{this.Ma&&(this.ika=this.Ma.currentTime);}catch(O){this.cb.error("Exception while getting VIDEO.currentTime",O);a&&this.uB(m.K.COa,O);}return Q.Jh(this.ika*V.qk);};b.prototype.seek=function(a){var b;G.Ga(!this.Al);this.hma();b=this.Wl(!0);if(!u.config.pZa&&Q.gG(b-a)<=this.Faa)this.cb.trace("Seek delta too small",{currentTime:b,seekTime:a,min:this.Faa});else try{this.cb.trace("Setting video elements currentTime",{From:N.eh(b),To:N.eh(a)});this.Al={};this.Ma.currentTime=a/V.qk;this.fj.Hb(ia.Kh.Zm);}catch(ra){this.cb.error("Exception while setting VIDEO.currentTime",ra);this.uB(m.K.DOa,ra);}};b.prototype.Jbb=function(){return!!this.Al;};b.prototype.addSourceBuffer=function(a){var b,f;b=V.Od(this.m_.toString()+this.su.length.toString());b={sourceId:this.m_,LQ:b};try{f=new k.vga(this.j,a,this.Ne,b,this.cb);this.su.push(f);a==n.eG&&f.S4&&f.S4.addListener(this.mma);return f;}catch(Aa){f=V.od(Aa);this.cb.error("Unable to add source buffer.",{error:f});b=x.W.get(q.uk);this.j.md(b(m.K.xZ,{Y:a===c.ec.bh.AUDIO?V.H.hga:V.H.iga,Oa:f}));}};b.prototype.u1=function(a){var b;b=this;a.forEach(function(a){return b.addSourceBuffer(a);});this.fj.Hb(ia.Kh.nCa);return!0;};b.prototype.removeSourceBuffer=function(a){this.su=this.su.filter(function(b){return!l.hpa(a,b);});this.Ne.removeSourceBuffer(a);};b.prototype.endOfStream=function(){u.config.t2&&this.Ne.endOfStream();};b.prototype.oo=function(a){this.su=[];a&&a.lJb();return!0;};b.prototype.Vpb=function(a){this.m_=a;};b.prototype.ota=function(){if(this.Ne)return ja.Xlb(this.Ne.duration);};b.prototype.jqb=function(a){this.Ne&&(this.j.l$=a,this.Ne.duration=a.v$(ja.Em));};b.prototype.h6a=function(){var a;if(!this.F_&&this.Ma&&2<=this.Ma.readyState){a=this.Ma.webkitDecodedFrameCount;if(void 0===a||0<a||u.config.fvb)this.F_=!0;}return this.F_;};b.prototype.open=function(){var a,b,c;a=this;this.j.addEventListener(Y.U.cCa,function(b){return a.mWa(b);});if(ea){if(this.j.Av){if(!B){this.vl(m.K.hha);return;}if(Q.lG&&Q.lG.isTypeSupported&&this.sj.Md)try{if(!Q.lG.isTypeSupported(this.sj.Md,"video/mp4")){this.TXa(function(b){a.vl(m.K.vZ,b);});return;}}catch(Aa){this.uB(m.K.vZ,Aa);return;}}try{this.Ne=new Q.SA();}catch(Aa){this.uB(m.K.sOa,Aa);return;}try{this.si=URL.createObjectURL(this.Ne);}catch(Aa){this.uB(m.K.tOa,Aa);return;}try{this.sj.QYa(this.fla);this.Ne.addEventListener("sourceopen",function(b){return a.Jla(b);});this.Ne.addEventListener(this.VX+"sourceopen",function(b){return a.Jla(b);});this.Ma.addEventListener("error",this.$e.error=function(b){return a.dH(b);});this.Ma.addEventListener("seeking",this.$e.seeking=function(){return a.lWa();});this.Ma.addEventListener("seeked",this.$e.seeked=function(){return a.v0();});this.Ma.addEventListener("timeupdate",this.$e.timeupdate=function(){return a.nWa();});this.Ma.addEventListener("loadstart",this.$e.loadstart=function(){return a.AP();});this.Ma.addEventListener("volumechange",this.$e.volumechange=function(b){return a.oWa(b);});this.Ma.addEventListener(this.sj.nz,this.$e[this.sj.nz]=function(b){return a.hWa(b);});b=this.j.If;c=b.lastChild;c?b.insertBefore(this.Ma,c):b.appendChild(this.Ma);u.config.Bqa&&this.Ma.addEventListener("contextmenu",h);this.Ma.src=this.si;A.ue.addListener(A.GJ,this.RG[A.GJ]=function(){return a.Hla();});this.Hla();}catch(Aa){this.uB(m.K.uOa,Aa);}}else this.vl(m.K.iha);};b.prototype.close=function(){var b;function a(){b.si&&(b.hma(),A.ue.removeListener(A.GJ,b.RG[A.GJ]),b.rTa());}b=this;this.Ma.removeEventListener(this.sj.nz,this.$e[this.sj.nz]);this.Ma.removeEventListener("error",this.$e.error);this.Ma.removeEventListener("seeking",this.$e.seeking);this.Ma.removeEventListener("seeked",this.$e.seeked);this.Ma.removeEventListener("timeupdate",this.$e.timeupdate);this.Ma.removeEventListener("loadstart",this.$e.loadstart);this.Ma.removeEventListener("volumechange",this.$e.volumechange);this.sj.Tnb(this.fla);u.config.kp?this.sj.Tya().then(function(){return a();}):a();this.sj.vAa&&clearTimeout(this.sj.vAa);};b.prototype.hWa=function(a){return this.sj.M9(a);};b.prototype.hP=function(){if(this.Ma)return this.Ma.getVideoPlaybackQuality&&this.Ma.getVideoPlaybackQuality()||this.Ma.videoPlaybackQuality||this.Ma.playbackQuality;};b.prototype.wXa=function(){var a;a=this.j.Wh;return(a=a&&a.errorCode)&&0<=[m.K.fO,m.K.SN].indexOf(a);};b.prototype.rTa=function(){var a;a=!1;u.config.omb&&this.wXa()&&(a=!0);u.config.u1a&&!a&&(this.Ma.removeAttribute("src"),this.Ma.load&&this.Ma.load());URL.revokeObjectURL(this.si);u.config.Bqa&&this.Ma.removeEventListener("contextmenu",h);!a&&this.Ma&&this.j.If.removeChild(this.Ma);this.Ma=this.Ne=void 0;this.si="";};b.prototype.Hla=function(){!0===Q.Ed.hidden?this.RO.forEach(function(a){a.refresh();a.hrb();}):this.RO.forEach(function(a){a.refresh();a.wrb();});};b.prototype.TO=function(a){var b;b=x.W.get(r.Xga)(a);this.RO.push(b);return function(){b.refresh();return b.H$a();};};b.prototype.uB=function(a,b){var c,f;c={Y:V.H.Dg,Oa:V.od(b)};try{(f=b.message.match(/(?:[x\W\s]|^)([0-9a-f]{8})(?:[x\W\s]|$)/i)[1].toUpperCase())&&8==f.length&&(c.qc=f);}catch(Ha){}b=x.W.get(q.uk);this.j.md(b(a,c));};b.prototype.hma=function(){this.RO.forEach(function(a){a.refresh();});};b.prototype.iUa=function(){return this.Ma&&this.Ma.msGraphicsTrustStatus;};b.prototype.vl=function(a,b,c){var f;f=x.W.get(q.uk);this.j.md(f(a,b,c));};b.prototype.TXa=function(a){var c,f;function b(f){b=V.ee;c.Xg();a(f);}c=x.W.get(da.fB)(500,function(){b();});c.ws();try{f=this.j.le.value.aq.RIb.children.filter(function(a){return"pssh"==a.type&&a.M6a==n.SIa;})[0];new Q.lG(this.sj.Md).createSession("video/mp4",f.raw,null).addEventListener(this.VX+"keyerror",function(a){a=p(a,m.Aea);b(a.cD);});}catch(Ha){b();}};b.prototype.mWa=function(a){var b,f,d,k,g,h,q;if(this.Ma){a=a.XM;b=this.iUa();b&&(a.ConstrictionActive=b.constrictionActive,a.Status=b.status);try{a.readyState=""+this.Ma.readyState;a.currentTime=""+this.Ma.currentTime;a.pbRate=""+this.Ma.playbackRate;}catch(Fa){}for(var b=this.su.length,c;b--;){c=this.su[b];f="";c.type==n.ZY?f="audio":c.type==n.eG&&(f="video");V.Ya(a,c.ES(),{prefix:f});u.config.p7a&&this.j.Wh&&n.eG==c.type&&(f=V.ZL(c.tx),3E3>(f.data&&f.data.length)&&(f.data=S.j2a(f.data).join(),V.Ya(a,f,{prefix:c.type})));}this.Ne&&(b=this.Ne.duration)&&!isNaN(b)&&(a.duration=b.toFixed(4));if(u.config.rgb)try{d=this.j.Ce;k=d&&d.Iva;if(k){g=k.expiration;isNaN(g)||(a.exp=g);h=k.keyStatuses.entries();if(h.next){q=h.next().value;q&&(a.keyStatus=q[1]);}}}catch(Fa){}}};b.prototype.Jla=function(a){this.DXa||(this.DXa=!0,this.fj.Hb(ia.Kh.oCa,a));};b.prototype.lWa=function(){this.cb.trace("Video element event: seeking");this.Al?this.Al.sjb=!0:(this.cb.error("unexpected seeking event"),u.config.R8a&&this.vl(m.K.IOa));};b.prototype.v0=function(){this.cb.trace("Video element event: seeked");this.Al?(G.Ga(this.Al.sjb),this.Al.rjb=!0,this.Ema()):(this.cb.error("unexpected seeked event"),u.config.Q8a&&this.vl(m.K.HOa));};b.prototype.nWa=function(){this.Al&&(this.Al.ujb=!0,this.Ema());this.fj.Hb(ia.Kh.Zm);};b.prototype.AP=function(){this.cb.trace("Video element event: loadstart");};b.prototype.oWa=function(a){this.cb.trace("Video element event:",a.type);try{this.j.volume.set(this.Ma.volume);this.j.muted.set(this.Ma.muted);}catch(O){this.cb.error("error updating volume",O);}};b.prototype.dH=function(a){a=p(a,m.BJa);this.cb.error("Video element event: error",a.qgb);this.vl(m.K.AOa,a.cD);};b.prototype.Ema=function(){this.Al&&this.Al.rjb&&this.Al.ujb&&(this.Al=void 0,this.fj.Hb(ia.Kh.NL));};na.Object.defineProperties(b.prototype,{Faa:{configurable:!0,enumerable:!0,get:function(){return u.config.brb;}}});d.PMa=b;},function(g,d,a){var n,u,y,A,l,x,m,G,N,r,S,V,D,Q,W,ca,ia;function b(){}function f(){}function h(){}function p(){}function c(){return G?G:"0.0.0.0";}function k(a,b,c){a=S(a,b,c);this.info=a.info.bind(a);this.fatal=a.fatal.bind(a);this.error=a.error.bind(a);this.warn=a.warn.bind(a);this.trace=a.trace.bind(a);this.debug=a.debug.bind(a);this.log=a.log.bind(a);}function q(a){a({Dya:0,vM:0,vua:0,Era:0});}d=a(123);f.prototype.constructor=f;f.prototype.set=function(a,b){y[a]=b;A.save(a,b);};f.prototype.get=function(a,b){if(y.hasOwnProperty(a))return y[a];m.trace("key: "+a+", is not available in storage cache and needs to be retrieved asynchronously");A.load(a,function(c){c.X?(y[a]=c.data,b&&b(c.data)):y[a]=void 0;});};f.prototype.remove=function(a){A.remove(a);};f.prototype.clear=function(){m.info("WARNING: Calling unimplemented function Storage.clear()");};f.prototype.KI=d.ss.KI;f.prototype.kR=d.ss.kR.bind(d.ss);f.prototype.UA="NDA";h.prototype.now=function(){return l();};h.prototype.ea=function(){return x();};h.prototype.o9=function(a){return a+l()-x();};h.prototype.J9=function(a){return a+x()-l();};d=a(24).EventEmitter;a(39)(d,p.prototype);V=function(){var a;a=Promise;a.prototype.fail=Promise.prototype["catch"];return a;}();g.T=function(a){n=a.zz;S=a.Cf;A=a.storage;y=a.KD;l=a.gbb;N=a.BJ;r=a.UJ;x=a.getTime;m=a.FZa;D=a.sk;ia=a.kr;Q=a.Nw;W=a.SourceBuffer;ca=a.MediaSource;G=a.SHb;u=a.mo;return{name:"cadmium",mo:u,zz:n,BJ:N,UJ:r,ready:b,storage:new f(),Storage:f,time:new h(),events:new p(),console:new k("JS-ASE",void 0,"default"),Console:k,options:b,Promise:V,sk:D,Nw:Q,XMa:W,MediaSource:ca,kr:ia,bl:{name:c},memory:{vab:q},FIb:void 0};};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(4);f=a(71);d.VPa=function(){b.Cf("ProbeDownloader");return{tJ:function(a){f.Uc.vmb({url:a.url,smb:a});}};}();},function(g,d,a){var f,h,p,c,k,q,n;function b(){var a;a=new h.Lj();this.addEventListener=a.addListener.bind(this);this.removeEventListener=a.removeListener.bind(this);this.emit=a.Hb.bind(this);this.MP=q++;this.cb=p.Cf("ProbeRequest");this.Xla=f.VPa;c.Ga(void 0!==this.Xla);this.jf=d.kr.Xb.UNSENT;}Object.defineProperty(d,"__esModule",{value:!0});f=a(557);h=a(70);p=a(4);c=a(14);k=a(19);q=0;(function(){function a(){return JSON.stringify({url:this.si,id:this.MP,affected:this.DO,readystate:this.jf});}k.Ya(b.prototype,{cl:function(a){a.affected=this.DO;a.probed={requestId:this.MP,url:this.si,Xc:this.rma,groupId:this.iP};this.emit(d.kr.ud.nG,a);},I9:function(a){this.GXa=a.httpcode;a.affected=this.DO;a.probed={requestId:this.MP,url:this.si,Xc:this.rma,groupId:this.iP};this.emit(d.kr.ud.bx,a);},open:function(a,b,c,f){if(!a)return!1;this.si=a;this.DO=b;this.rma=c;this.jf=d.kr.Xb.OPENED;this.RUa=f;this.Xla.tJ(this);return!0;},Vd:function(){return!0;},ck:function(){return this.MP;},toString:a,toJSON:a});Object.defineProperties(b.prototype,{readyState:{get:function(){return this.jf;},set:function(){}},status:{get:function(){return this.GXa;}},url:{get:function(){return this.si;}},aEb:{get:function(){return this.DO;}},lgb:{get:function(){return this.RUa;}}});}());(function(a){a.ud={nG:"pr0",bx:"pr1"};a.Xb={UNSENT:0,OPENED:1,Tt:2,DONE:3,Ft:4,name:["UNSENT","OPENED","SENT","DONE","FAILED"]};}(n||(n={})));d.kr=Object.assign(b,n);},function(g,d,a){var f,h,p;function b(a){this.wv=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(116);h=a(1);b.prototype.create=function(b,f,d){return new(a(285)).yPa(b,f,d,this.wv);};p=b;p=g.__decorate([h.L(),g.__param(0,h.l(f.MA))],p);d.xPa=p;},function(g,d){function a(a){this.j=a;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.VDa=function(){var a;a=this.j.ll&&this.j.ll.Nd.get()||{};a.wg&&(this.j.wg=a.wg.Ha);a.va&&(this.j.va=a.va.Ha);};a.prototype.zo=function(){-1===this.j.va&&this.VDa();return this.j.va;};a.prototype.u0a=function(a){-1!==this.j.wg&&-1!==this.j.va||this.VDa();return-1===this.j.wg||-1===this.j.va?Number.MAX_VALUE:this.j.wg+8*a/this.j.va;};d.PFa=a;},function(g,d,a){var f,h,p,c,k,q;function b(a,b){this.app=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(15);h=a(287);p=a(23);c=a(1);k=a(3);a=a(17);b.prototype.XC=function(a){var b;a.IM={};if(!a.GD()&&a.tt&&0<a.tt.length&&(a.st=this.fta(a),a.st)){b=this.Eqb(a);b()||(a.addEventListener(f.U.Bh,b),a.le.addListener(b));}};b.prototype.Eqb=function(a){var c;function b(){var d,g;if(!a.le.value||!a.oW)return!1;d=a.st;g=d.Re();return g===h.Gm.LOADING?!1:g!==h.Gm.LOADED&&d.dt?(d=c.mcb(a))?(a.IM.offset=c.app.ac().fa(k.na),a.st=d,d.download(),!0):!1:(a.removeEventListener(f.U.Bh,b),a.le.removeListener(b),!1);}c=this;return b;};b.prototype.mcb=function(a){var b,c;b=this.config();c=a.el.EJ()<b.ytb;b=(a.le.value?a.le.value.O:0)>b.xtb;return this.Hbb(a,c&&b);};b.prototype.Hbb=function(a,b){if(b&&(b=this.fta(a),this.Ita(a,b.size)))return a.IM.DAa="h",b;b=this.Qab(a);if(this.Ita(a,b.size))return a.IM.DAa="l",b;};b.prototype.Ita=function(a,b){var c,f;c=this.config();f=Math.min(a.MH(),a.WM());return a.B_a.u0a(b)*(1+.01*c.fZa[2])<f*c.Btb;};b.prototype.fta=function(a){return a.tt[a.tt.length-1];};b.prototype.Qab=function(a){return a.tt[0];};q=b;q=g.__decorate([c.L(),g.__param(0,c.l(p.Je)),g.__param(1,c.l(a.gd))],q);d.VRa=q;},function(g,d,a){var h,p,c,k;function b(a,b,c,f){this.oa=a;this.pob=b;this.ia=c;this.app=f;this.Ac={};}function f(a,b){this.Ue=a;this.app=b;this.fd={};this.ia=a.ib("PlaybackMilestoneStoreImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);p=a(5);c=a(23);k=a(3);f.prototype.Mnb=function(a,c){this.fd[a]&&this.ia.warn("registerPlayback: xid "+a+" already registered, overriding");c=(c?c:this.app.ac()).fa(k.na);this.ia.trace("registerPlayback: xid "+a+" at "+c);this.fd[a]=new b(a,c,this.ia,this.app);return this.fd[a];};f.prototype.pbb=function(a){this.fd[a]||this.ia.warn("getPlaybackMilestones: xid "+a+" is not registered");return this.fd[a];};f.prototype.Wnb=function(a){this.ia.trace("removePlayback: xid "+a);delete this.fd[a];};a=f;a=g.__decorate([h.L(),g.__param(0,h.l(p.kb)),g.__param(1,h.l(c.Je))],a);d.BPa=a;b.prototype.Fl=function(a,b){b=b?b.fa(k.na):this.app.ac().fa(k.na)-this.pob;this.ia.trace("addMilestone: xid "+this.oa+" "+a+" at "+b);this.Ac[a]=b;};},function(g,d,a){var b,f,h,p,c,k,q,n,u,y,A,l,x,m,G,N,r,S,V;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(289);f=a(562);h=a(376);p=a(288);c=a(561);k=a(286);q=a(560);n=a(411);u=a(559);y=a(550);A=a(17);l=a(88);x=a(20);m=a(5);G=a(549);N=a(178);r=a(548);S=a(547);V=a(546);d.j=new g.Wb(function(d){d(b.FZ).to(f.BPa).$();d(h.dja).Kf(function(b){var c;c=b.$b;return function(b,f,d,k,g,n,h,q){return new(a(545)).TRa(c.get(S.fja),b,f,d,k,g,n,h,q);};});d(S.fja).to(V.WRa).$();d(p.eja).to(c.VRa).$();d(n.Vha).to(u.xPa).$();d(k.lda).Kf(function(){return function(a){return new q.PFa(a);};});d(G.Lha).Kf(function(a){var b;b=a.$b;return function(a){return new y.tPa(a,b.get(m.kb),b.get(A.gd),b.get(x.de),b.get(l.At));};});d(N.GZ).Kf(function(a){var c;c=a.$b;return function(a,f,d,k,g,n,h,q,u){return new r.CPa(a,f,d,k,g,n,h,q,u,c.get(G.Lha),c.get(b.FZ));};});});},function(g,d,a){var f,h;function b(){this.jM=new h.bj();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(86);b.prototype.zE=function(a){this.jM.next(a);};na.Object.defineProperties(b.prototype,{FL:{configurable:!0,enumerable:!0,get:function(){return this.jM;}}});a=b;a=g.__decorate([f.L()],a);d.mPa=a;},function(g,d,a){var f,h,p;function b(a,b){this.II=b;this.log=a.ib("Pbo");this.links={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(5);a=a(93);b.prototype.xQ=function(a){a&&(this.links=Object.assign({},this.links,a));};b.prototype.P5=function(a){return this.links[a];};b.prototype.PYa=function(a){var b;b="playbackContextId="+a.playbackContextId+"&esn="+this.II().xh;a="drmContextId="+a.drmContextId;this.xQ({events:{rel:"events",href:"/events?"+b},license:{rel:"license",href:"/license?licenseType=standard&"+b+"&"+a},ldl:{rel:"ldl",href:"/license?licenseType=limited&"+b+"&"+a}});};p=b;p=g.__decorate([f.L(),g.__param(0,f.l(h.kb)),g.__param(1,f.l(a.Lw))],p);d.dPa=p;},function(g,d,a){var f,h,p,c,k,q;function b(a,b,c){a=h.oe.call(this,a,"PboConfigImpl")||this;a.config=b;a.tZa=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);p=a(27);c=a(33);k=a(17);a=a(87);ba(b,h.oe);na.Object.defineProperties(b.prototype,{oF:{configurable:!0,enumerable:!0,get:function(){return this.config().Og.oF||"";}},IW:{configurable:!0,enumerable:!0,get:function(){return this.config().Og.IW||"";}},version:{configurable:!0,enumerable:!0,get:function(){return 2;}},Cya:{configurable:!0,enumerable:!0,get:function(){return"cadmium";}},languages:{configurable:!0,enumerable:!0,get:function(){return this.config().Og.Dz;}},Gi:{configurable:!0,enumerable:!0,get:function(){return!1;}},axa:{configurable:!0,enumerable:!0,get:function(){return!0;}},V8:{configurable:!0,enumerable:!0,get:function(){return!0;}},GBa:{configurable:!0,enumerable:!0,get:function(){return{logblob:{service:"pbo_logblobs",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},manifest:{service:"pbo_manifests",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},license:{service:"pbo_licenses",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},events:{service:"pbo_events",serviceNonMember:"pbo_nonmember",version:"^1.0.0"},bind:{service:this.tZa.hoa,serviceNonMember:"pbo_nonmember",version:"^1.0.0"},pair:{service:"pbo_mdx",serviceNonMember:"pbo_nonmember",version:"^1.0.0"}};}},P6:{configurable:!0,enumerable:!0,get:function(){return 10;}}});q=b;g.__decorate([c.config(c.string,"uiVersion")],q.prototype,"oF",null);g.__decorate([c.config(c.string,"uiPlatform")],q.prototype,"IW",null);g.__decorate([c.config(c.yw,"pboVersion")],q.prototype,"version",null);g.__decorate([c.config(c.string,"pboOrganization")],q.prototype,"Cya",null);g.__decorate([c.config(c.Dba,"pboLanguages")],q.prototype,"languages",null);g.__decorate([c.config(c.re,"hasLimitedPlaybackFunctionality")],q.prototype,"Gi",null);g.__decorate([c.config(c.re,"mdxBindUsingNodeQuark")],q.prototype,"axa",null);g.__decorate([c.config(c.re,"mdxPairUsingNodeQuark")],q.prototype,"V8",null);g.__decorate([c.config(c.object(),"pboCommands")],q.prototype,"GBa",null);g.__decorate([c.config(c.yw,"pboHistorySize")],q.prototype,"P6",null);q=g.__decorate([f.L(),g.__param(0,f.l(p.cj)),g.__param(1,f.l(k.gd)),g.__param(2,f.l(a.xt))],q);d.ZOa=q;},function(g,d,a){var p,c,k,q,n,u,y,A,l,x,m,G,N,r,S;function b(a){this.config=a;this.Ll=[];}function f(a,b,c){this.Ba=a;this.lF=b;this.context=c;this.startTime=this.Ba.ac();}function h(a,c,f,d,k,g,n,h,q){this.wDa=c;this.json=f;this.Ba=d;this.zy=k;this.tL=g;this.la=n;this.Gb=q;this.log=a.ib("Pbo");this.Ll=new b(h);this.lF=this.wDa();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);p=a(1);c=a(3);k=a(2);q=a(291);n=a(5);u=a(37);y=a(23);A=a(52);l=a(115);x=a(30);m=a(290);G=a(92);N=a(72);r=a(15);S=a(43);h.prototype.send=function(a,b){var c;c=new f(this.Ba,this.lF,a);this.Ll.append(c);return this.PE(a,b,c);};h.prototype.PE=function(a,b,c){var f;f=this;return new Promise(function(d,k){f.dt(a,b).then(function(a){var b,g;f.Fpb(a);b=P(f.Lub(a));g=b.next().value;b=b.next().value;g&&(f.A1a(c),d(a));b&&(f.bpa(c,b),k(b));})["catch"](function(a){var b;b=f.bpa(c,a);a.Oa&&(a.Oa=[a.Oa," ",b].join(""));k(a);});});};h.prototype.Fpb=function(a){(a=a.serverTime)&&this.Gb.Hb(r.Ffa.FBa,c.zb(a));};h.prototype.Lub=function(a){if(a.result)return[a.result,void 0];if(a.code)return this.log.error("Response did not contain a result or an error but did contain an error code",a),[,{code:a.code,detail:{message:a.message}}];this.log.error("Response did not contain a result or an error",a);return[,{code:"FAIL",detail:{message:"Response did contain a result or an error"}}];};h.prototype.Lkb=function(a){var b;if(a){try{b=this.json.parse(a);}catch(Q){throw{xz:!0,code:"FAIL",message:"Unable to parse the response body",data:a};}if(b.error)throw b.error;if(b.result)return b;throw{xz:!0,code:"FAIL",message:"There is no result property on the response"};}throw{xz:!0,code:"FAIL",message:"There is no body property on the response"};};h.prototype.YZa=function(a,b,c){var f;f=this;this.iub(b,a);this.lF=this.wDa();return this.lF.send(b,c).then(function(a){return{dt:!1,result:f.Lkb(a.body)};})["catch"](function(c){var d,k;k=c&&c.Dj&&void 0!==c.Dj.maxRetries?Math.min(c.Dj.maxRetries,b.raa):b.raa;return f.cW(b,c,a,k)?(d=f.A0a(c,a,k),f.log.warn("Method failed, retrying",Object.assign({Method:b.Mk,Attempt:a+1,WaitTime:d,MaxRetries:k},f.G3(c))),Promise.resolve({dt:!0,Ad:d,error:c})):Promise.resolve({dt:!1,error:c});});};h.prototype.iub=function(a,b){var c;c=a.url.searchParams;c.set(S.MZ.oQa,(b+1).toString());c.set(S.MZ.Gg,a.faa.toString());c.set(S.MZ.pQa,a.eaa);};h.prototype.dt=function(a,b,c){var f;c=void 0===c?0:c;f=this;return this.YZa(c++,a,b).then(function(d){if(d.dt)return f.ZM(d.Ad).then(function(){return f.dt(a,b,c);});if(d.error)throw d.error;if(void 0===d.result)throw{pboc:!1,code:"FAIL",message:"The response was undefined"};return d.result;});};h.prototype.cW=function(a,b,c,f){var d;d=this.zy.qaa||this.Leb(b);if(d&&c<f)return!0;d?this.log.error("Method failed, retry limit exceeded, giving up",Object.assign({Method:a.Mk,Attempt:c+1,MaxRetries:f},this.G3(b))):this.log.error("Method failed with an error that is not retriable, giving up",Object.assign({Method:a.Mk},this.G3(b)));return!1;};h.prototype.Leb=function(a){var b,c;b=a&&a.code;c=a&&(a.Y||a.Bc);a=a.Tf!==k.OY.rha;c=!!c&&c>=k.H.IA&&c<=k.H.HA&&a;return!(!b||"RETRY"!==b)||c;};h.prototype.A0a=function(a,b,f){return a&&a.Dj&&void 0!==a.Dj.retryAfterSeconds?c.xg(a.Dj.retryAfterSeconds):c.zb(this.tL.L$(1E3,1E3*Math.pow(2,Math.min(b-1,f))));};h.prototype.ZM=function(a){var b;b=this;return new Promise(function(f){b.la.cg(a||c.sf,f);});};h.prototype.G3=function(a){return m.Deb(a)?a:{message:a.message,subCode:a.Bc,extCode:a.Tf,mslCode:a.qq,data:a.data};};h.prototype.A1a=function(a){a.Zrb();};h.prototype.bpa=function(a,b){var c;a.vy(b);try{c=this.json.stringify(this.Ll);this.log.error("PBO command history",this.json.parse(c));return c;}catch(W){return"";}};a=h;a=g.__decorate([p.L(),g.__param(0,p.l(n.kb)),g.__param(1,p.l(q.cja)),g.__param(2,p.l(u.Mt)),g.__param(3,p.l(y.Je)),g.__param(4,p.l(A.ym)),g.__param(5,p.l(l.wG)),g.__param(6,p.l(x.hg)),g.__param(7,p.l(G.cx)),g.__param(8,p.l(N.ZX))],a);d.$Oa=a;f.prototype.Zrb=function(){this.X=!0;this.elapsedTime=this.Ba.ac().sd(this.startTime);};f.prototype.vy=function(a){this.X=!1;this.elapsedTime=this.Ba.ac().sd(this.startTime);this.Urb=a.Bc||a.subCode;this.D8a=a.Tf||a.extCode;};f.prototype.toString=function(){return JSON.stringify(this);};f.prototype.toJSON=function(){var a;a=Object.assign({success:this.X,method:this.context.Mk,profile:this.context.profile?this.context.profile.id:"",startTime:this.startTime.fa(c.na),elapsedTime:this.elapsedTime?this.elapsedTime.fa(c.na):"in progress"},this.lF.b3());return this.X?a:Object.assign({},a,this.lF.b3(),{subcode:this.Urb,extcode:this.D8a});};b.prototype.append=function(a){this.Ll.push(a);0<this.config.P6&&this.Ll.length>this.config.P6&&this.Ll.shift();};b.prototype.toJSON=function(){return this.Ll;};},function(g,d,a){var b,f,h,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(292);f=a(567);h=a(92);p=a(566);c=a(124);k=a(565);q=a(141);n=a(564);d.Ykb=new g.Wb(function(a){a(h.cx).to(p.ZOa).$();a(b.wha).to(f.$Oa);a(c.Aha).to(k.dPa);a(c.sG).Kf(function(a){return function(){return a.$b.get(c.Aha);};});a(q.iO).to(n.mPa).$();});},function(g,d,a){var f,h,p,c,k;function b(a){return h.oe.call(this,a,"MseConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(33);h=a(36);p=a(1);c=a(27);k=a(3);ba(b,h.oe);na.Object.defineProperties(b.prototype,{yxa:{configurable:!0,enumerable:!0,get:function(){return k.zb(5E3);}},zya:{configurable:!0,enumerable:!0,get:function(){return k.zb(1E3);}},Aya:{configurable:!0,enumerable:!0,get:function(){return k.zb(1E3);}}});a=b;g.__decorate([f.config(f.Ug,"minDecoderBufferMilliseconds")],a.prototype,"yxa",null);g.__decorate([f.config(f.Ug,"optimalDecoderBufferMilliseconds")],a.prototype,"zya",null);g.__decorate([f.config(f.Ug,"optimalDecoderBufferMillisecondsBranching")],a.prototype,"Aya",null);a=g.__decorate([p.L(),g.__param(0,p.l(c.cj))],a);d.mNa=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(422);f=a(569);d.wib=new g.Wb(function(a){a(b.Fga).to(f.mNa).$();});},function(g,d,a){var f,h,p,c,k,q,n,u,y,b;function b(a,b,f,d,k){function g(c,g){this.track=c;this.label=g;this.jf=u.Cb.Xb.UNSENT;this.Gd=0;this.wn=[];this.requestId=y++;this.Da=f;this.log=b.ib("MediaRequest");this.config=a;this.Gb=new n.Lj();"notification"===this.label?this.config().ro&&(this.ek=d):this.ek=k;}function h(c,g){this.requestId=y++;this.Da=f;this.log=b.ib("MediaRequest");this.config=a;this.Gb=new n.Lj();this.label=g;"notification"===this.label?this.config().ro&&(this.ek=d):this.ek=k;this.ZJ=this.cI=this.dI=void 0;this.track=c;this.PQ=this.url=this.responseType=void 0;this.jf=u.Cb.Xb.UNSENT;this.al=this.fD=this.oj=this.status=void 0;this.Mi=this.Gd=0;this.connect=this.Q4=this.fy=this.Iv=this.M7=this.jc=this.Te=this.QB=void 0;this.wn=[];this.vI=!1;}g.prototype.addEventListener=function(a,b,c){this.Gb.addListener.call(this,a,b,c);};g.prototype.removeEventListener=function(a,b){this.Gb.removeListener.call(this,a,b);};g.prototype.emit=function(a,b,c){this.Gb.Hb.call(this,a,b,c);};g.prototype.cjb=function(a){this.jf===u.Cb.Xb.OPENED&&(this.ZJ=!0,this.Te=this.jc=a.timestamp,this.jf=u.Cb.Xb.Tt,this.emit(u.Cb.ud.Tga,a));};g.prototype.G9=function(a){var b;if(this.jf<u.Cb.Xb.fx){this.wn=[];b=a.timestamp-this.Te;!this.Tb&&0<b&&(this.connect=!0,this.wn.push(b));!0!==this.config().Gdb&&(this.jc=a.timestamp);this.jf=u.Cb.Xb.fx;this.emit(u.Cb.ud.Sga,a);}};g.prototype.ejb=function(a){this.jf===u.Cb.Xb.fx&&(this.M7=this.jc=a.timestamp,a.newBytes=a.bytesLoaded-this.Gd,this.Gd=a.bytesLoaded,this.Da.zd(this.M7)&&this.emit(u.Cb.ud.Uga,a));};g.prototype.cl=function(a){-1<[u.Cb.Xb.Tt,u.Cb.Xb.fx].indexOf(this.jf)&&(this.ZJ=!1,this.jc=a.timestamp,this.jf=u.Cb.Xb.DONE,a.newBytes=this.Fn-this.Gd,this.Gd=this.Fn,this.Da.zd(this.fy)&&(this.jc=this.fy,0===a.newBytes&&(this.M7=this.fy)),this.Da.zd(this.Iv)&&(this.Te=this.Iv),this.QB=a.response,this.emit(u.Cb.ud.nG,a));};g.prototype.Yib=function(a){this.ZJ=!1;this.emit(u.Cb.ud.LNa,a);};g.prototype.I9=function(a){this.jc=a.timestamp;this.status=a.httpcode;this.oj=a.errorcode;this.fD=u.Cb.Ct.name[this.oj];this.al=a.nativecode;this.emit(u.Cb.ud.bx,a);this.ZJ=!1;};g.prototype.open=function(a,b,c,f,d,k,g){this.aA=!1;this.PQ=b;this.url=a;this.responseType=c;if(!this.url)return!1;this.jf=u.Cb.Xb.OPENED;this.ek.tJ(this,b,g);return!0;};g.prototype.Vd=function(){-1!==[u.Cb.Xb.OPENED,u.Cb.Xb.Tt,u.Cb.Xb.fx].indexOf(this.jf)&&this.abort();return!0;};g.prototype.Toa=function(){this.QB=void 0;this.vC&&(this.vC.response=void 0,this.vC.cadmiumResponse.content=void 0);this.T6=void 0;};g.prototype.sM=function(a){this.url=a;return!0;};g.prototype.abort=function(){this.jf=u.Cb.Xb.AF;this.ek.qQ(this);return!0;};g.prototype.pause=function(){};g.prototype.getResponseHeader=function(){return null;};g.prototype.getAllResponseHeaders=function(){return"";};g.prototype.AL=function(){};g.prototype.ck=function(){return this.requestId;};g.prototype.toString=function(){var a;a={requestId:this.requestId,segmentId:this.yg,isHeader:this.Tb,ptsStart:this.Zs,ptsOffset:this.hm,responseType:this.responseType,duration:this.us,readystate:this.jf};this.stream&&(a.bitrate=this.stream.O);return JSON.stringify(a);};g.prototype.toJSON=function(){return this.toString();};g.prototype.jcb=function(){var a,b;if(this.config().gEa&&c.er&&c.er.getEntriesByType&&(!this.Da.zd(this.Iv)||!this.Da.zd(this.fy)&&this.Da.zd(this.url))){a=""+this.url.split("nflxvideo.net")[0].split("//").pop()+("*nflxvideo.net/range/"+this.dI+"-"+this.cI+"*");b=new RegExp(a);a=c.er.getEntriesByType("resource").filter(function(a){return b.exec(a.name);})[0];this.Da.zd(a)&&(0<a.startTime&&(this.Iv=a.startTime,0<a.requestStart&&(this.Iv=Math.max(this.Iv,a.requestStart))),0<a.responseStart&&(this.Q4=a.responseStart),0<a.responseEnd&&(this.fy=a.responseEnd));}};g.prototype.Keb=function(){return this.Da.zd(this.Iv)&&this.Da.zd(this.fy)&&this.Da.zd(this.Q4);};na.Object.defineProperties(g.prototype,{Fn:{configurable:!0,enumerable:!0,get:function(){return this.PQ.end-this.PQ.start+1;}},byteLength:{configurable:!0,enumerable:!0,get:function(){return this.cI-this.dI+1;}},kua:{configurable:!0,enumerable:!0,get:function(){return!!(this.response&&0<this.response.byteLength);}},Tb:{configurable:!0,enumerable:!0,get:function(){return!this.Ny;}},response:{configurable:!0,enumerable:!0,get:function(){return this.QB;}},readyState:{configurable:!0,enumerable:!0,get:function(){return this.jf;},set:function(){}}});Object.getOwnPropertyNames(g.prototype).forEach(function(a){Object.defineProperty(h.prototype,a,Object.getOwnPropertyDescriptor(g.prototype,a));});this.sk=Object.assign(h,u.Cb);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(5);p=a(17);c=a(9);k=a(20);q=a(294);n=a(70);u=a(142);y=0;b=g.__decorate([f.L(),g.__param(0,f.l(p.gd)),g.__param(1,f.l(h.kb)),g.__param(2,f.l(k.de)),g.__param(3,f.l(q.Yga)),g.__param(4,f.l(q.yga))],b);d.UMa=b;},function(g,d,a){var f,h,p,c,k,q,n,u,y,A,l,x;function b(a,b,c,f,d,k,g){this.Ba=a;this.zy=b;this.config=c;this.Uc=d;this.Fhb=k;this.Roa=g;this.log=f.ib("MediaRequestDownloader");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(50);h=a(1);p=a(5);c=a(74);k=a(297);q=a(76);n=a(142);u=a(23);y=a(3);A=a(296);l=a(52);a=a(17);b.prototype.tJ=function(a,b,c){var k,g,h;function d(){a.removeEventListener(n.Cb.ud.bx,d);a.gJ?a.gJ++:a.gJ=1;a.gJ>=k.config().G4.length&&(a.gJ=k.config().G4.length-1);setTimeout(function(){k.tJ(a,b,c);},k.config().G4[a.gJ]);}k=this;a.cIb=!0;g={url:a.url,responseType:this.Uc.dQa.zFa,withCredentials:!1,MC:a.R===f.ec.I.AUDIO?"audio":"video",offset:b.start,length:a.Fn,track:{type:a.R===f.ec.I.AUDIO?q.gg.audio:q.gg.video},stream:{Qc:a.Ua,O:a.O},Sb:a.Xc,Mo:a,u:a.Tb?void 0:this.Roa.parse.bind(this.Roa),eW:c,OM:this.zy.OM};g=this.Fhb.download(g,function(b){b.X&&a.readyState!==n.Cb.Xb.DONE&&a.readyState!==n.Cb.Xb.AF&&(a.readyState!==n.Cb.Xb.Ft&&a.readyState===n.Cb.Xb.Tt&&(a.readyState=n.Cb.Xb.fx,a.G9({mediaRequest:a,readyState:a.readyState,timestamp:k.Bs(),connect:!1})),a.readyState=n.Cb.Xb.DONE,b={mediaRequest:a,readyState:a.readyState,timestamp:k.Bs(),cadmiumResponse:b,response:b.content},a.vC=b,a.cl(b));});if(a.Tb){h={mediaRequest:a,readyState:a.readyState,timestamp:this.Bs(),connect:!1};a.G9(h);}a.addEventListener(n.Cb.ud.bx,d);a.T6=g.abort;};b.prototype.qQ=function(a){try{a.T6();}catch(G){this.log.warn("exception aborting request");}};b.prototype.Bs=function(){return this.Ba.ac().fa(y.na);};x=b;x=g.__decorate([h.L(),g.__param(0,h.l(u.Je)),g.__param(1,h.l(l.ym)),g.__param(2,h.l(a.gd)),g.__param(3,h.l(p.kb)),g.__param(4,h.l(c.cr)),g.__param(5,h.l(k.wga)),g.__param(6,h.l(A.Fda))],x);d.VMa=x;},function(g,d,a){var f,h,p;function b(a,b){this.Uc=b;this.log=a.ib("OpenConnectSideChannel");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(5);a=a(74);b.prototype.tJ=function(a,b,f){this.Uc.Wqb({url:a.url,bpb:f});};b.prototype.qQ=function(a){try{a.T6();}catch(k){this.log.warn("exception aborting request");}};p=b;p=g.__decorate([f.L(),g.__param(0,f.l(h.kb)),g.__param(1,f.l(a.cr))],p);d.TNa=p;},function(g){function d(a){this.buffer=a;this.position=0;}d.prototype={seek:function(a){this.position=a;},skip:function(a){this.position+=a;},qj:function(){return this.buffer.length-this.position;},ae:function(){return this.buffer[this.position++];},je:function(a){var b;b=this.position;this.position+=a;a=this.buffer;return a.subarray?a.subarray(b,this.position):a.slice(b,this.position);},kc:function(a){for(var b=0;a--;)b=256*b+this.buffer[this.position++];return b;},Aq:function(a){for(var b="";a--;)b+=String.fromCharCode(this.buffer[this.position++]);return b;},Q$:function(){for(var a="",b;b=this.ae();)a+=String.fromCharCode(b);return a;},Ab:function(){return this.kc(2);},Pa:function(){return this.kc(4);},Hf:function(){return this.kc(8);},tV:function(){return this.kc(2)/256;},wL:function(){return this.kc(4)/65536;},We:function(a){for(var b,f="";a--;)b=this.ae(),f+="0123456789ABCDEF"[b>>>4]+"0123456789ABCDEF"[b&15];return f;},gw:function(){return this.We(4)+"-"+this.We(2)+"-"+this.We(2)+"-"+this.We(2)+"-"+this.We(6);},xL:function(a){for(var b=0,f=0;f<a;f++)b+=this.ae()<<(f<<3);return b;},Lz:function(){return this.xL(4);},yF:function(a){this.Sq(a,2);},Tq:function(a){this.Sq(a,4);},cN:function(a){this.buffer[this.position++]=a;},Sq:function(a,b){this.position+=b;for(var f=1;f<=b;f++)this.buffer[this.position-f]=a&255,a=Math.floor(a/256);},Rq:function(a){for(var b=0;b<a.length;b++)this.buffer[this.position++]=a.charCodeAt(b);},uA:function(a){for(var b=a.length,f=0;f<b;f++)this.buffer[this.position++]=a[f];},vA:function(a,b){this.uA(a.je(b));}};g.T=d;},function(g,d,a){var f,h,p,c,k,q;function b(a,b){this.config=a;this.log=b.ib("ChunkMediaParser");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(131);p=a(5);c=a(8);k=a(17);q=a(295).O$;b.prototype.parse=function(a){var d,k,g;a=new Uint8Array(a);for(var b=q(a),f=0;f<b.length;f+=2){d=b[f];if("moof"!==d.type||"mdat"!==b[f+1].type)throw this.log.error("data is not moof-mdat box pairs",{boxType:d.type,nextBoxType:b[f+1].type}),Error("data is not moof-mdat box pairs");if(this.config().lvb&&"moof"==d.type){k=d.kv("traf/saio");g=d.kv("traf/"+c.aGa);k&&g&&(d=g.o_a.byteOffset-d.raw.byteOffset,k.$Aa[0]!==d&&(this.log.error("Repairing bad SAIO",{saioOffsets:k.$Aa[0],auxDataOffsets:d}),this.qkb(k,d)));}}return a.buffer;};b.prototype.qkb=function(a,b){var c;c=new h.CA(a.raw);c.seek(a.size-a.Su);a=c.kc(1);c.kc(3)&1&&(c.Pa(),c.Pa());a=1<=a?8:4;c.Pa();c.Sq(b,a);};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(k.gd)),g.__param(1,f.l(p.kb))],a);d.YGa=a;},function(g,d,a){var f,h,p,c,k,q,n,u,y,l;function b(a,b,c,f,d,k){this.CQ=a;this.Uc=c;this.Da=f;this.Ba=d;this.config=k;this.log=b.ib("MediaHttp");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(142);h=a(85);p=a(2);c=a(5);k=a(1);q=a(74);n=a(20);u=a(23);y=a(3);a=a(17);b.prototype.Bs=function(){return this.Ba.ac().fa(y.na);};b.prototype.Yxa=function(a,b){a.cjb({mediaRequest:a,timestamp:b});};b.prototype.rya=function(a){var b;b=a.mediaRequest.Mo;b.readyState=f.Cb.Xb.fx;a=a.connect?a:{timestamp:this.Bs(),connect:!1};a.mediaRequest=b;a.readyState=b.readyState;b.G9(a);};b.prototype.LU=function(a){this.Yxa(a.mediaRequest.Mo,a.timestamp);};b.prototype.NU=function(a){var b,c;b=a.mediaRequest.Mo;c=a.bytes;"undefined"!==typeof b&&(b.readyState===f.Cb.Xb.Tt&&this.rya(a),this.Da.Pf(c)&&(a.mediaRequest=b,a.timestamp=this.Bs(),c>b.Gd&&(a.newBytes=c-b.Gd,a.bytesLoaded=c,b.ejb(a))));};b.prototype.hE=function(a){var b,c,d,k;b=a.mediaRequest;c=a.errorcode;d=a.httpcode;k=f.Cb.Ct;if("undefined"!==typeof b&&(b=b.Mo,"undefined"!==typeof b&&b.readyState!==f.Cb.Xb.Ft))if(c===p.H.Ht)b.readyState=f.Cb.Xb.AF,a.mediaRequest=b,a.readyState=b.readyState,b.Yib(a);else{b.readyState=f.Cb.Xb.Ft;switch(c){case p.H.IA:d=k.uX;break;case p.H.NY:d=k.KY;break;case p.H.WF:d=400<d&&500>d?k.QN:500<=d?k.MY:k.KY;break;case p.H.HA:d=k.LY;break;case p.H.VF:d=k.vda;break;case p.H.XF:d=k.RN;break;case p.H.Rw:d=k.RN;break;case p.H.JY:d=k.Vea;break;case p.H.Sea:d=k.QN;break;case p.H.pIa:d=k.LY;break;default:d=k.RN;}a.mediaRequest=b;a.readyState=b.readyState;a.errorcode=d;a.nativecode=c;b.I9(a);}};b.prototype.Ljb=function(a,b){var c,d;c=b.request.Mo;if(c)if(b.X){if(a.j&&c.readyState!==f.Cb.Xb.DONE){switch(c.readyState){case f.Cb.Xb.AF:return;case f.Cb.Xb.Tt:this.rya({mediaRequest:b.request});}c.readyState=f.Cb.Xb.DONE;if(!c.Tb){d={mediaRequest:c,readyState:c.readyState,timestamp:this.Bs(),cadmiumResponse:b};a.j.bca+=1;c.jcb();c.Keb()&&(a.j.oaa+=1,b.uj.bg=Math.ceil(c.Q4),b.uj.jl=Math.ceil(c.fy),b.uj.requestTime=Math.floor(c.Iv));c.vC=d;c.cl(d);}}}else c.readyState!==f.Cb.Xb.AF&&(a={mediaRequest:b.request,timestamp:this.Bs(),errorcode:b.Y,httpcode:b.Uh},this.hE(a));};b.prototype.download=function(a,b){var c,d;c=this;b=this.Uc.download(a,b);if(a.Mo){d=a.Mo;-1<[f.Cb.Xb.OPENED,f.Cb.Xb.Ft].indexOf(d.readyState)&&(d.readyState=f.Cb.Xb.Tt,this.config().Hhb?b.gqb(function(a){c.LU(a);}):this.Yxa(d,this.Bs()));}b.Rma(function(b){c.Ljb(a,b);});b.qqb(function(a){c.NU(a);});b.dqb(function(a){c.hE(a);});return b;};l=b;l=g.__decorate([k.L(),g.__param(0,k.l(h.hX)),g.__param(1,k.l(c.kb)),g.__param(2,k.l(q.cr)),g.__param(3,k.l(n.de)),g.__param(4,k.l(u.Je)),g.__param(5,k.l(a.gd))],l);d.QMa=l;},function(g,d,a){var f,h,p,c,b;function b(a){function b(b,f){this.G=b;this.dj=f;this.I8a=!1;this.emit=c.prototype.emit;this.addListener=c.prototype.addListener;this.on=c.prototype.on;this.once=c.prototype.once;this.removeListener=c.prototype.removeListener;this.removeAllListeners=c.prototype.removeAllListeners;this.listeners=c.prototype.listeners;this.listenerCount=c.prototype.listenerCount;c.call(this);this.cb=a.ib("DownloadTrack");}b.prototype.oo=function(){this.uu=void 0;this.emit("destroyed");};b.prototype.toString=function(){return"id:"+this.uu+" config: "+JSON.stringify(this.G);};b.prototype.toJSON=function(){return"Download Track id:"+this.uu+" config: "+JSON.stringify(this.G);};b.prototype.jAa=function(a){this.G.connections!==a.connections&&(this.G=a);};b.prototype.bm=function(){return 1<this.G.connections?!0:!1;};na.Object.defineProperties(b.prototype,{fb:{configurable:!0,enumerable:!0,get:function(){return this.uu;}},vI:{configurable:!0,enumerable:!0,get:function(){return void 0===this.uu;}},config:{configurable:!0,enumerable:!0,get:function(){return this.G;}},zz:{configurable:!0,enumerable:!0,get:function(){return this.cb;}},ek:{configurable:!0,enumerable:!0,get:function(){return this.dj.ek;}}});this.Nw=Object.assign(b,new p.MIa());}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(5);p=a(144);c=a(143).EventEmitter;b=g.__decorate([f.L(),g.__param(0,f.l(h.kb))],b);d.LIa=b;},function(g,d,a){var b,f,h,p,c,k,q,n,u,y,l;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(144);f=a(577);h=a(297);p=a(576);c=a(296);k=a(575);q=a(294);n=a(573);u=a(572);y=a(293);l=a(571);d.EZa=new g.Wb(function(a){a(b.gea).to(f.LIa).$();a(h.wga).to(p.QMa).$();a(c.Fda).to(k.YGa).$();a(q.Yga).to(n.TNa).$();a(q.yga).to(u.VMa).$();a(y.xga).to(l.UMa).$();});},function(g,d,a){var f,h,p,c,k;function b(a){return h.oe.call(this,a,"PrefetchEventsConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);p=a(27);c=a(33);k=a(3);ba(b,h.oe);na.Object.defineProperties(b.prototype,{xBa:{configurable:!0,enumerable:!0,get:function(){return!0;}},m8:{configurable:!0,enumerable:!0,get:function(){return k.l9(5);}}});a=b;g.__decorate([c.config(c.re,"sendPrefetchEventLogs")],a.prototype,"xBa",null);g.__decorate([c.config(c.Ug,"logsInterval")],a.prototype,"m8",null);a=g.__decorate([f.L(),g.__param(0,f.l(p.cj))],a);d.QPa=a;},function(g,d,a){var f,h,p;function b(a,b){this.Da=b;this.ia=a.ib("PlayPredictionDeserializer");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(5);a=a(20);b.prototype.Y5a=function(a){var b;b=this;try{return{direction:a.direction,xfb:a.layoutHasChanged,Job:a.rowInteractionIndex,Ea:a.lolomos.map(function(a){return b.T5a(a);})};}catch(q){this.ia.error("Failed to deserialize update Payload: ",{payload:JSON.stringify(a)});}};b.prototype.T5a=function(a){var b;b=this;return{context:a.context,list:a.list.map(function(a){return b.S5a(a);}),requestId:a.requestId,rowIndex:a.rowIndex,Lob:a.rowSegment};};b.prototype.S5a=function(a){var b,c;b={Cd:a.pts,property:a.property,we:a.viewableId,index:a.index};c=a.preplay;this.Da.zd(c)&&(b.wE=this.W5a(c));a=a.params;this.Da.zd(a)&&(b.bb=this.xqa(a));return b;};b.prototype.W5a=function(a){var b;b={Cd:a.pts,we:a.viewableId,yz:a.pipelineNum,index:a.index};a=a.params;this.Da.zd(a)&&(b.bb=this.xqa(a));return b;};b.prototype.xqa=function(a){return{ke:a.uiLabel,Zg:a.trackingId,lm:a.sessionParams};};b.prototype.yqa=function(a){var b;b=this;try{return a.map(function(a){return b.U5a(a);});}catch(q){this.ia.error("Failed to deserialize uprepareList",{prepareList:JSON.stringify(a)});}};b.prototype.U5a=function(a){var b,c;c=a.params;this.Da.zd(c)&&(b=this.V5a(c));return{M:a.movieId,Qd:a.priority,force:a.force,bb:b,ke:a.uiLabel,iLb:a.uiExpectedStartTime,hLb:a.uiExpectedEndTime,Ci:a.firstTimeAdded};};b.prototype.V5a=function(a){var b,c;b=void 0;c=a.sessionParams;this.Da.zd(c)&&(b=this.X5a(c));return{RH:this.R5a(a.authParams),lm:b,Zg:a.trackingId,V:a.startPts,Aa:a.manifest,Vf:a.isBranching};};b.prototype.R5a=function(a){return{Vya:(a||{}).pinCapableClient};};b.prototype.X5a=function(a){a.kLb=a.uiplaycontext;return a;};b.prototype.Jpb=function(a){var b,c;try{b="";this.Da.zd(a.oza)&&(b=JSON.stringify(this.Mpb(JSON.parse(a.oza))));c="";this.Da.zd(a.pza)&&(c=JSON.stringify(this.Npb(JSON.parse(a.pza))));return{dest_id:a.BR,offset:a.offset,predictions:a.tza.map(this.Ppb,this),ppm_input:b,ppm_output:c,prepare_type:a.QJb};}catch(n){this.ia.error("Failed to serialize serializeDestinyPrepareEvent",{prepareList:JSON.stringify(a)});}};b.prototype.Ppb=function(a){return{title_id:a.cp};};b.prototype.Mpb=function(a){return{direction:a.direction,layoutHasChanged:a.xfb,rowInteractionIndex:a.Job,lolomos:a.Ea.map(this.Lpb,this)};};b.prototype.Lpb=function(a){return{context:a.context,list:a.list.map(this.Kpb,this),requestId:a.requestId,rowIndex:a.rowIndex,rowSegment:a.Lob};};b.prototype.Kpb=function(a){var b,c;this.Da.zd(a.wE)&&(b=this.Qpb(a.wE));this.Da.zd(a.bb)&&(c=this.Taa(a.bb));return{preplay:b,pts:a.Cd,viewableId:a.we,params:c,property:a.property,index:a.index};};b.prototype.Qpb=function(a){var b;this.Da.zd(a.bb)&&(b=this.Taa(a.bb));return{pts:a.Cd,viewableId:a.we,params:b,pipelineNum:a.yz,index:a.index};};b.prototype.Taa=function(a){return{uiLabel:a.ke,trackingId:a.Zg,sessionParams:a.lm};};b.prototype.Npb=function(a){return a.map(this.Opb,this);};b.prototype.Opb=function(a){var b;this.Da.zd(a.bb)&&(b=this.Taa(a.bb));return{movieId:a.M,priority:a.Qd,params:b,uiLabel:a.ke,firstTimeAdded:a.Ci,viewableId:a.we,pts:a.Cd};};p=b;p=g.__decorate([f.L(),g.__param(0,f.l(h.kb)),g.__param(1,f.l(a.de))],p);d.sPa=p;},function(g,d,a){var h,p,c,k,q,n,u,y,l;function b(a,b,c,f,d,k,g,n){this.Ah=a;this.iz=b;this.la=c;this.aw=d;this.config=k;this.t5=g;this.i$=n;this.sV=[];this.K7=[];this.w$={};this.ia=f.ib("PrefetchEvents");}function f(a,b,c,f,d,k){this.Ah=a;this.iz=b;this.la=c;this.Ue=f;this.config=d;this.i$=k;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(112);p=a(1);c=a(3);k=a(38);q=a(58);n=a(30);u=a(5);y=a(298);a=a(182);f.prototype.create=function(a,c){return new b(this.Ah,this.iz,this.la,this.Ue,a,this.config,c,this.i$);};l=f;l=g.__decorate([p.L(),g.__param(0,p.l(k.Mj)),g.__param(1,p.l(q.On)),g.__param(2,p.l(n.hg)),g.__param(3,p.l(u.kb)),g.__param(4,p.l(y.bia)),g.__param(5,p.l(a.EZ))],l);d.RPa=l;b.prototype.l0a=function(a,b,c){this.Xy(h.ne.Ow.jGa,a,b,void 0,c);};b.prototype.n0a=function(a,b,c){this.Xy(h.ne.Ow.kGa,a,b,void 0,c);};b.prototype.j0a=function(a,b,c){this.Xy(h.ne.Ow.iGa,a,b,void 0,c);};b.prototype.h0a=function(a,b,c){this.Xy(h.ne.Ow.gGa,a,b,void 0,c);};b.prototype.eI=function(a,b,c){this.Xy(h.ne.Ow.hGa,a,b,void 0,c);};b.prototype.Elb=function(a){this.Xy(h.ne.Ow.kOa,void 0,a);};b.prototype.gk=function(a,b,c,f,d,k,g){this.tQ()&&(this.Xy(h.ne.Ow.HQa,void 0,a),this.vgb(a,b,c,f,d,k,g),this.$ra(),this.hwa());this.Heb(a)&&this.tob();};b.prototype.a6a=function(a){a={dest_id:a,cache:this.Saa(this.t5())};this.UL("destiny_start",a);};b.prototype.dmb=function(a){(a=this.i$.Jpb(a))?this.UL("destiny_prepare",a):this.ia.error("failed to serialize prepare event");};b.prototype.$ra=function(){0<this.sV.length&&this.tQ()&&(this.UL("destiny_events",{dest_id:this.aw.Im,events:this.sV}),this.sV=[]);this.QV&&(this.QV.cancel(),this.QV=void 0);this.qra();};b.prototype.hwa=function(){var a;if(this.m0a()&&this.tQ()){a=this.t5();this.K7=a;a={dest_id:this.aw.Im,offset:this.aw.HS(),cache:this.Saa(a)};this.UL("destiny_cachestate",a);}this.PV&&(this.PV.cancel(),this.PV=void 0);this.pra();};b.prototype.update=function(a){var b;b=this;a.Ea.forEach(function(a){a.list.forEach(function(a){b.w$[a.we]=!0;});});};b.prototype.Heb=function(a){return this.w$[a];};b.prototype.m0a=function(){var a,b,c;a=this;b=this.t5();if(b.length!==this.K7.length)return!0;c=!1;b.forEach(function(b,f){try{JSON.stringify(b)!==JSON.stringify(a.K7[f])&&(c=!0);}catch(T){a.ia.error("Failed to stringify cachedTitle",T);}});return c;};b.prototype.Xy=function(a,b,c,f,d){this.tQ()&&(a={offset:this.aw.HS(),event_type:a,title_id:c,asset_type:b,size:f,reason:d},this.sV.push(a),this.qra(),this.pra());};b.prototype.qra=function(){this.QV||(this.QV=this.la.cg(this.config.m8,this.$ra.bind(this)));};b.prototype.pra=function(){this.PV||(this.PV=this.la.cg(this.config.m8,this.hwa.bind(this)));};b.prototype.vgb=function(a,b,f,d,k,g,n){var q;q=[];f&&q.push({cp:a,Wr:h.ne.Vi.Nca,state:h.ne.fN.mN});d&&q.push({cp:a,Wr:h.ne.Vi.Sw,state:h.ne.fN.mN});k&&q.push({cp:a,Wr:h.ne.Vi.SF,state:h.ne.fN.mN});(0<g.fa(c.na)||0<n.fa(c.na))&&q.push({cp:a,Wr:h.ne.Vi.MEDIA,state:h.ne.fN.mN,h_a:g.fa(c.na),Xub:n.fa(c.na)});a={dest_id:this.aw.Im,offset:this.aw.HS(),xid:b,cache:this.Saa(q)};this.UL("destiny_playback",a);};b.prototype.UL=function(a,b){this.config.xBa&&(a=this.iz.Nl(a,"info",b),this.Ah.vc(a));};b.prototype.Saa=function(a){return a.map(function(a){return{title_id:a.cp,state:a.state,asset_type:a.Wr,size:a.size,audio_ms:a.h_a,video_ms:a.Xub};});};b.prototype.tQ=function(){return 0!==this.aw.Im;};b.prototype.tob=function(){this.aw.sob();this.w$={};};},function(g,d,a){var b,f,h,p,c,k,q;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(112);f=a(581);h=a(182);p=a(580);c=a(579);k=a(298);q=a(108);d.Hc=new g.Wb(function(a){a(k.bia).to(c.QPa).$();a(b.cia).to(f.RPa).$();a(h.EZ).to(p.sPa).$();a(q.gB).Kf(function(){return function(){return M._cad_global.videoPreparer;};});});},function(g,d,a){var f,h,p,c;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(9);p=a(183);b.prototype.Abb=function(){var a;a=M.devicePixelRatio||1;return{width:this.C0.OHa||h.fr.width*a,height:this.C0.NHa||h.fr.height*a};};na.Object.defineProperties(b.prototype,{C0:{configurable:!0,enumerable:!0,get:function(){return a(32).Eg;}}});c=b;g.__decorate([p.QT],c.prototype,"C0",null);c=g.__decorate([f.L()],c);d.vSa=c;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(138);b.prototype.compare=function(a,b){var c;c=[];this.R2(a,b,"",c);return c;};b.prototype.R2=function(a,b,f,d){var c;c=this;if(h.Lt.Vr(a))h.Lt.Vr(b)&&a.length===b.length?a.forEach(function(k,g){c.R2(a[g],b[g],f+"["+g+"]",d);}):d.push({a:a,b:b,path:f});else if(h.Lt.Tx(a)&&null!=a)if(h.Lt.Tx(b)&&null!=b){for(var k in a)this.R2(a[k],b[k],f+"."+k,d);for(var g in b)g in a||void 0===b[g]||d.push({a:void 0,b:b[g],path:f+"."+g});}else d.push({a:a,b:b,path:f});else a!==b&&d.push({a:a,b:b,path:f});};a=b;a=g.__decorate([f.L()],a);d.ONa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.PNa="ObjectComparerSymbol";},function(g,d,a){var f,h,p,c;function b(a){this.location=a;h.Yk(this,"location");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(48);p=a(37);a=a(1);b.UU=function(a){var b,d,k;b={};if(0<a.length){a=a.split("&");for(var c=0;c<a.length;c++){d=a[c].trim();k=d.indexOf("=");0<=k?b[decodeURIComponent(d.substr(0,k).replace(f.oha,"%20"))]=decodeURIComponent(d.substr(k+1).replace(f.oha,"%20")):b[d.toLowerCase()]="";}}return b;};na.Object.defineProperties(b.prototype,{Tmb:{configurable:!0,enumerable:!0,get:function(){return this.data?this.data:this.data=f.UU(this.Oza);}},Oza:{configurable:!0,enumerable:!0,get:function(){var a;if(void 0!==this.sL)return this.sL;this.sL=this.location.search.substr(1);a=this.sL.indexOf("#");0<=a&&(this.sL=this.Oza.substr(0,a));return this.sL;}}});c=f=b;c.oha=/[+]/g;c=f=g.__decorate([a.L(),g.__param(0,a.l(p.Ufa))],c);d.ZPa=c;},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.ssa=function(a){var b;b=this;return a?(a^16*Math.random()>>a/4).toString(16):"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){return b.ssa(a);});};f=b;f=g.__decorate([a.L()],f);d.iSa=f;},function(g,d,a){var f,h,p,c,k,q;function b(a,b){this.is=a;this.json=b;h.Yk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(48);p=a(37);c=a(1);k=a(20);q=a(134);b.prototype.Wza=function(a){var b;b=this;return f.read(a,function(a){return parseInt(a);},function(a){return b.is.A1(a);});};b.prototype.P$=function(a){var b;b=this;return f.read(a,function(a){return"true"==a?!0:"false"==a?!1:void 0;},function(a){return b.is.aC(a);});};b.prototype.Pa=function(a){var b;b=this;return f.read(a,function(a){return parseInt(a);},function(a){return b.is.Hp(a);});};b.prototype.cnb=function(a){var b;b=this;return f.read(a,function(a){return parseFloat(a);},function(a){return b.is.Pf(a);});};b.prototype.Vza=function(a,b){return f.read(a,function(a){return f.c9a(a,b);},function(a){return void 0!==a;});};b.prototype.R$=function(a,b){return f.read(a,function(a){return a;},function(a){return b?b.test(a):!0;});};b.prototype.Xza=function(a){var b,c;b=void 0===b?function(){return!0;}:b;c=this;try{return f.read(a,function(a){return c.json.parse(decodeURIComponent(a));},function(a){return c.is.Tx(a)&&b(a);});}catch(A){return new q.Cm();}};b.prototype.je=function(a,b,c){var d,k;c=void 0===c?1:c;d=this;a=a.trim();k=b instanceof Function?b:this.q4a(b,c);b=a.indexOf("[");c=a.lastIndexOf("]");if(0!=b||c!=a.length-1)return new q.Cm();a=a.substring(b+1,c);try{return f.Ikb(a).map(function(a){a=k(d,f.Kub(a));if(a instanceof q.Cm)throw a;return a;});}catch(x){return x instanceof q.Cm?x:new q.Cm();}};b.prototype.q4a=function(a,b){var c;b=void 0===b?1:b;c=this;return function(d,k){d=f.kbb(a);return 1<b?c.je(k,a,b-1):d(c,k);};};b.c9a=function(a,b){var f;for(var c in b){f=parseInt(c);if(b[f]==a)return f;}};b.read=function(a,b,c){a=b(a);return void 0!==a&&c(a)?a:new q.Cm();};b.kbb=function(a){switch(a){case"int":return function(a,b){return a.Wza(b);};case"bool":return function(a,b){return a.P$(b);};case"uint":return function(a,b){return a.Pa(b);};case"float":return function(a,b){return a.cnb(b);};case"string":return function(a,b){return a.R$(b);};case"object":return function(a,b){return a.Xza(b);};}};b.Ikb=function(a){var n;for(var b=[["[","]"]],c=[],f=0,d=0,k=0,g=[],h={};d<a.length;h={"char":h["char"]},++d){h["char"]=a.charAt(d);n=void 0;","==h["char"]&&0==k?(c.push(a.substr(f,d-f)),f=d+1):(n=b.find(function(a){return function(b){return b[0]==a["char"];};}(h)))?(++k,g.push(n)):0<g.length&&g[g.length-1][1]==h["char"]&&(--k,g.pop());}if(f!=d)c.push(a.substr(f,d-f));else if(f==d&&0<f)throw new q.Cm();return c;};b.Kub=function(a){var b;b=a.charAt(0);if('"'==b||"'"==b){if(a.charAt(a.length-1)!=b)throw new q.Cm();return a.substring(1,a.length-1);}return a;};a=f=b;a=f=g.__decorate([c.L(),g.__param(0,c.l(k.de)),g.__param(1,c.l(p.Mt))],a);d.nRa=a;},function(g,d,a){var b,f,h,p,c,k,q,n,u,y;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(588);f=a(587);h=a(586);p=a(134);c=a(457);k=a(325);q=a(585);n=a(584);u=a(299);y=a(583);d.Sd=new g.Wb(function(a){a(p.VZ).to(b.nRa).$();a(c.LZ).to(h.ZPa).$();a(k.jja).to(f.iSa).$();a(q.PNa).to(n.ONa).$();a(u.vja).to(y.vSa).$();});},function(g,d,a){var f,h;function b(a){this.Qib=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(300);a=a(1);b.prototype.Ssa=function(){var a;a=this.Qib.getDeviceId();return new Promise(function(b,f){a.oncomplete=function(){b(a.result);};a.onerror=function(){f(a.error);};});};h=b;h=g.__decorate([a.L(),g.__param(0,a.l(f.Pga))],h);d.kHa=h;},function(g,d,a){var b,f,h,p,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(300);f=a(332);h=a(333);p=a(590);c=a(9);d.crypto=new g.Wb(function(a){a(h.Pda).to(p.kHa).$();a(b.Pga).Eh(c.Rt);a(f.Qda).Eh(c.kZ);});},function(g,d,a){var f,h,p,c,k,q,n;function b(a,b,c){var f;f=q.oO.call(this,a,b,"network")||this;f.rR=c;f.HR=k.LX.CMa;f.ghb=30;f.ekb=function(a){f.HR=a.target.value;f.refresh();};f.Ijb=function(){f.data={};f.refresh();};f.VAa=function(a){a=JSON.stringify(f.data[f.HR][Number(a.target.id)].value,null,4);f.Cpa(a);};return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);p=a(20);c=a(72);k=a(148);q=a(303);n=a(107);ba(b,q.oO);b.prototype.gc=function(){var a;a=this;if(this.hn)return Promise.resolve();M.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==n.Nt.qNa&&a.toggle();});this.data={};this.rR.addListener(k.aea.tBb,function(b){var c;a.data[b.type]||(a.data[b.type]=[]);c=a.data[b.type];c.length===a.ghb&&c.shift();c.push(b);b.type===a.HR&&a.refresh();});this.hn=!0;return Promise.resolve();};b.prototype.Tk=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.c6=function(a,b,c){var f;f=a.toString();b='<font color="#C41A16">"'+b+'"</font>';c=this.voa.ho(c);return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+f+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+b+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+a+'" class="'+this.prefix+'-display-btn-inline">Copy</button></ul></td>')+"</tr>";};b.prototype.l6=function(){for(var a='<table class="'+this.prefix+'-display-table" width="100%">'+this.Tk(),b=this.data[this.HR],c=0;c<b.length;++c)a+=this.c6(c,b[c].name,b[c].value);return a+"</table>";};b.prototype.Osa=function(){var a;a=this.xc.createElement("button",q.GF,"Clear",{"class":this.prefix+"-display-btn"});a.onclick=this.Ijb;return[a,this.B4a(),this.t4a()];};b.prototype.B4a=function(){var a;a=this.xc.createElement("select",q.GF,Object.keys(k.LX).reduce(function(a,b){b=k.LX[b];return a+('<option value="'+b+'">'+b+"</option>");},""),{"class":this.prefix+"-display-select"});a.onchange=this.ekb;return a;};b.prototype.t4a=function(){var a,b,c,f;a=this;b=this.xc.createElement("input","margin:3px;",void 0,{id:"preventRefresh",type:"checkbox",title:"PreventRefresh"});b.checked=this.mL;b.onchange=function(){return a.Xsb();};c=this.xc.createElement("label",void 0,"Prevent Refresh",{"for":"preventRefresh"});f=this.xc.createElement("div",void 0,void 0,{"class":this.prefix+"-display-div"});f.appendChild(b);f.appendChild(c);return f;};b.prototype.kAa=function(){return Promise.resolve(this.l6());};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(h.Ye)),g.__param(1,f.l(p.de)),g.__param(2,f.l(c.JF))],a);d.vAb=a;},function(g,d,a){var p,c,k,q,n,u,y,l,m,x,I,G,N,r;function b(a,b,c,f,d,k,g,n,q){var p;p=this;this.Ta=a;this.app=b;this.xc=c;this.la=f;this.kk=d;this.config=k;this.II=g;this.zsb=n;this.Ag=q;this.Asb=function(){p.UDa.Ib(function(){p.update();});};this.clear=function(){p.entries=[];p.update();};this.wxa=function(){p.rd.FD=!p.rd.FD;p.Kv&&p.Qv&&(p.rd.FD?(p.Kv.style.display="inline-block",p.Qv.style.display="none"):(p.Qv.style.display="inline-block",p.Kv.style.display="none"));p.$z(!1);};this.Bgb=function(a){var b;p.entries.push(a);b=p.config.ND;0<=b&&p.entries.length>b&&p.entries.shift();void 0===p.rd.js[a.Wm]&&(p.rd.js[a.Wm]=!0,p.$z(!1));p.rd.cm&&!p.UCa?p.Asb():p.UDa.Ib();};this.w6a=function(){h.download("all",p.entries.map(function(a){return a.FW(!1,!1);}))["catch"](function(a){console.error("Unable to download all logs to the file",a);});};this.hn=!1;this.rd={cm:!1,FD:!0,GR:!0,i8:m.Ih.PY,js:{}};this.UDa=this.zsb(u.xg(1));this.entries=[];}function f(a){var b;this.elements=[];b=document.createElementNS(f.rM,"svg");b.setAttribute("viewBox",a);this.elements.push(b);}function h(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);p=a(1);c=a(22);k=a(96);q=a(30);n=a(41);u=a(3);y=a(23);l=a(93);m=a(5);x=a(95);I=a(184);G=a(301);N=a(56);r=a(107);h.download=function(a,b){return h.lab(a).then(function(a){return h.ecb(a,b.join("\r\n")).then(function(a){return h.v6a(a.filename,a.text);});});};h.lab=function(a){return new Promise(function(b,c){var f,d,k,g,h,n,q;try{f=new Date();d=f.getDate().toString();k=(f.getMonth()+1).toString();g=f.getFullYear().toString();h=f.getHours().toString();n=f.getMinutes().toString();q=f.getSeconds().toString();1===d.length&&(d="0"+d);1===k.length&&(k="0"+k);1===h.length&&(h="0"+h);1===n.length&&(n="0"+n);1===q.length&&(q="0"+q);b(g+k+d+h+n+q+"."+a+".log");}catch(da){c(da);}});};h.ecb=function(a,b){return new Promise(function(c,f){try{c({filename:a,text:URL.createObjectURL(new Blob([b],{type:"text/plain"}))});}catch(W){f(W);}});};h.v6a=function(a,b){var c;try{c=document.createElement("a");c.setAttribute("href",b);c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c);return Promise.resolve();}catch(Q){return Promise.reject(Q);}};f.prototype.XE=function(){var a;a=document.createElementNS(f.rM,"g");a.setAttribute("stroke","none");a.setAttribute("stroke-width",1..toString());a.setAttribute("fill","none");a.setAttribute("fill-rule","evenodd");a.setAttribute("stroke-linecap","round");this.addElement(a);return this;};f.prototype.YE=function(a,b,c){var d;d=document.createElementNS(f.rM,"path");d.setAttribute("d",a);b&&d.setAttribute("fill",b);c&&d.setAttribute("fill-rule",c);this.addElement(d);return this;};f.prototype.gM=function(a,b,c,d,k){var g;k=void 0===k?"#000000":k;g=document.createElementNS(f.rM,"rect");g.setAttribute("x",a.toString());g.setAttribute("y",b.toString());g.setAttribute("height",c.toString());g.setAttribute("width",d.toString());k&&g.setAttribute("fill",k);this.addElement(g);return this;};f.prototype.nrb=function(){var a;a=document.createElementNS(f.rM,"polygon");a.setAttribute("points","0 0 24 0 24 24 0 24");a.setAttribute("transform","translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000)");this.addElement(a);return this;};f.prototype.end=function(){this.elements.pop();return this;};f.prototype.ho=function(){if(1<this.elements.length)throw new RangeError("Some item wasn't terminated correctly");if(0===this.elements.length)throw new RangeError("Too many items were terminated");return this.elements[0];};f.prototype.addElement=function(a){if(0===this.elements.length)throw new RangeError("Too many items were terminated");this.elements[this.elements.length-1].appendChild(a);this.elements.push(a);};na.Object.defineProperties(f,{background:{configurable:!0,enumerable:!0,get:function(){return"transparent";}},ky:{configurable:!0,enumerable:!0,get:function(){return"#000000";}}});f.rM="http://www.w3.org/2000/svg";b.prototype.gc=function(){var a;a=this;this.yh||(this.yh=new Promise(function(b){M.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==r.Nt.yLa&&a.toggle();});a.kk.yV(I.cga.PHa,a.Bgb);b();}));return this.yh;};b.prototype.show=function(){document.body&&(this.element||(this.Y3a(),this.hn=!0),!this.rd.cm&&this.element&&(document.body.appendChild(this.element),this.rd.cm=!0,this.update(!0)));};b.prototype.zD=function(){this.hn&&this.rd.cm&&this.element&&(document.body.removeChild(this.element),this.rd.cm=!1);};b.prototype.toggle=function(){this.rd.cm?this.zD():this.show();this.$z(!1);};b.prototype.Y3a=function(){var a,b;try{a=this.createElement("DIV","position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",void 0,{"class":"player-log"});b=this.createElement("style");b.type="text/css";b.appendChild(document.createTextNode("button:focus { outline: none; }"));a.appendChild(b);a.appendChild(this.xw=this.z4a());a.appendChild(this.A4a());a.appendChild(this.T3a());this.element=a;}catch(D){console.error("Unable to create the log console",D);}};b.prototype.z4a=function(){var a,b;a=this;b=this.createElement("TEXTAREA","position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");b.setAttribute("wrap","off");b.setAttribute("readonly","readonly");b.addEventListener("focus",function(){a.UCa=!0;a.update();a.xw&&(a.xw.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.86)");});b.addEventListener("blur",function(){a.UCa=!1;a.update();a.xw&&(a.xw.style.cssText="position:absolute;resize:none;box-sizing:border-box;width:100%;height:100%;margin:0;color:#040;font-size:11px;font-family:monospace;overflow:scroll;background-color:rgba(255,255,255,0.6)");});return b;};b.prototype.A4a=function(){var a;a=this.createElement("DIV","float:right;opacity:0.8;background-color:white;display:flex;align-items:center;font-size:small;font-family:sans-serif");a.appendChild(this.l4a());a.appendChild(this.f4a());a.appendChild(this.b4a());a.appendChild(this.C4a());a.appendChild(this.W3a());a.appendChild(this.p4a());a.appendChild(this.o4a());a.appendChild(this.d4a());a.appendChild(this.X3a());return a;};b.prototype.T3a=function(){var a,b,c,f,d,k;a=this;b=this.createElement("DIV","float:right;opacity:0.8;background-color:white;font-size:small;font-family:sans-serif");c=this.createElement("DIV","padding:2px");f=this.createElement("SELECT",this.Wp(22,160,1,2),"<option>Select categories</option>");d=this.createElement("DIV","height:500px;overflow-y:auto;display:none;border:1px #dadada solid");b.appendChild(c);b.appendChild(d);c.appendChild(f);c.addEventListener("mousedown",function(a){a.preventDefault();});k=!1;c.addEventListener("click",function(){k?d.style.display="none":(d.innerHTML="",["all","none"].concat(Object.keys(a.rd.js).sort()).forEach(function(b){d.appendChild(a.U3a(b,c));}),d.style.display="block");k=!k;});return b;};b.prototype.U3a=function(a,b){var c,f,d;c=this;f=this.createElement("LABEL","display: block;margin:1px");f.htmlFor=a;d=this.createElement("INPUT","margin:1px");d.type="checkbox";d.id=a;d.checked=this.rd.js[a];d.addEventListener("click",function(){"all"===a||"none"===a?(Object.keys(c.rd.js).forEach(function(b){c.rd.js[b]="all"===a;}),b.click()):c.rd.js[a]=!c.rd.js[a];c.$z(!0);});f.appendChild(d);f.insertAdjacentText("beforeend",18<a.length?a.slice(0,15)+"...":a);return f;};b.prototype.l4a=function(){var a,b;a=this;b=this.createElement("SELECT",this.Wp(22,NaN,1,2),'<option value="'+m.Ih.ERROR+'">Error</option>'+('<option value="'+m.Ih.f_+'">Warn</option>')+('<option value="'+m.Ih.PY+'">Info</option>')+('<option value="'+m.Ih.Wia+'">Trace</option>')+('<option value="'+m.Ih.Yq+'">Debug</option>'));b.value=this.rd.i8.toString();b.addEventListener("change",function(b){a.rd.i8=parseInt(b.target.value);a.$z(!0);},!1);return b;};b.prototype.f4a=function(){var b,c;function a(a){a=a.target.value;b.rd.filter=a?new RegExp(a):void 0;b.$z(!0);}b=this;c=this.createElement("INPUT",this.Wp(14,150,1,2));c.value=this.rd.filter?this.rd.filter.source:"";c.title="Filter (RegEx)";c.placeholder="Filter (RegEx)";c.addEventListener("keydown",a,!1);c.addEventListener("change",a,!1);return c;};b.prototype.b4a=function(){var a,b,c,f;a=this;b=this.createElement("div",this.Wp(NaN,NaN));c=this.createElement("INPUT","vertical-align: middle;margin: 0px 2px 0px 0px;");c.id="details";c.type="checkbox";c.title="Details";c.checked=this.rd.GR;c.addEventListener("change",function(b){a.rd.GR=b.target.checked;a.$z(!0);},!1);f=this.createElement("label","vertical-align: middle;margin: 0px 0px 0px 2px;");f.setAttribute("for","details");f.innerHTML="View details";b.appendChild(c);b.appendChild(f);return b;};b.prototype.C4a=function(){var a,b,c;a=this;b=this.createElement("BUTTON",this.Wp());c=new f("0 0 24 24").XE().nrb().end().YE("M20,12.3279071 L21.9187618,10.9573629 L23.0812382,12.5848299 L19,15.5 L14.9187618,12.5848299 L16.0812382,10.9573629 L18,12.3279071 L18,12 C18,8.13 14.87,5 11,5 C7.13,5 4,8.13 4,12 C4,15.87 7.13,19 11,19 C12.93,19 14.68,18.21 15.94,16.94 L17.36,18.36 C15.73,19.99 13.49,21 11,21 C6.03,21 2,16.97 2,12 C2,7.03 6.03,3 11,3 C15.97,3 20,7.03 20,12 L20,12.3279071 Z",f.ky,"nonzero").end().end().ho();b.appendChild(c);b.addEventListener("click",function(){a.update();},!1);b.setAttribute("title","Refresh the log console");return b;};b.prototype.W3a=function(){var a,b;a=this.createElement("BUTTON",this.Wp());b=new f("0 0 24 24").XE().gM(0,0,24,24,f.background).end().YE("M19,4 L15.5,4 L14.5,3 L9.5,3 L8.5,4 L5,4 L5,6 L19,6 L19,4 Z M6,19 C6,20.1 6.9,21 8,21 L16,21 C17.1,21 18,20.1 18,19 L18,7 L6,7 L6,19 Z",f.ky).end().end().ho();a.appendChild(b);a.addEventListener("click",this.clear,!1);a.setAttribute("title","Remove all log messages");return a;};b.prototype.p4a=function(){var a;this.Qv=this.createElement("BUTTON",this.Wp());this.Qv.style.display=this.rd.FD?"none":"inline-block";a=new f("0 0 24 24").XE().gM(0,0,24,24,f.background).end().YE("M3,3 L21,3 L21,21 L3,21 L3,3 Z M5,5 L5,19 L19,19 L19,5 L5,5 Z M6,6 L18,6 L18,12 L6,12 L6,6 Z",f.ky,"nonzero").end().end().ho();this.Qv.addEventListener("click",this.wxa,!1);this.Qv.appendChild(a);this.Qv.setAttribute("title","Shrink the log console");return this.Qv;};b.prototype.o4a=function(){var a;this.Kv=this.createElement("BUTTON",this.Wp());this.Kv.style.display=this.rd.FD?"inline-block":"none";a=new f("0 0 24 24").XE().gM(4,4,16,16,f.background).end().YE("M5,5 L5,19 L19,19 L19,5 L5,5 Z M3,3 L21,3 L21,21 L3,21 L3,3 Z",f.ky,"nonzero").end().end().ho();this.Kv.addEventListener("click",this.wxa,!1);this.Kv.appendChild(a);this.Kv.setAttribute("title","Expand the log console");return this.Kv;};b.prototype.d4a=function(){var a,b;a=this.createElement("BUTTON",this.Wp());b=new f("0 0 26 26").XE().gM(0,0,24,24,f.background).end().YE("M20,20 L20,22 L4,22 L4,20 L20,20 Z M7.8,12.85 L12,16 L16.2,12.85 L17.4,14.45 L12,18.5 L6.6,14.45 L7.8,12.85 Z M7.8,7.85 L12,11 L16.2,7.85 L17.4,9.45 L12,13.5 L6.6,9.45 L7.8,7.85 Z M7.8,2.85 L12,6 L16.2,2.85 L17.4,4.45 L12,8.5 L6.6,4.45 L7.8,2.85 Z",f.ky,"nonzero").end().end().ho();a.appendChild(b);a.addEventListener("click",this.w6a,!1);a.setAttribute("title","Download all log messages");return a;};b.prototype.X3a=function(){var a,b,c;a=this;b=this.createElement("BUTTON",this.Wp());c=new f("0 0 24 24").XE().gM(0,0,24,24,f.background).end().YE("M12,10.5857864 L19.2928932,3.29289322 L20.7071068,4.70710678 L13.4142136,12 L20.7071068,19.2928932 L19.2928932,20.7071068 L12,13.4142136 L4.70710678,20.7071068 L3.29289322,19.2928932 L10.5857864,12 L3.29289322,4.70710678 L4.70710678,3.29289322 L12,10.5857864 Z",f.ky,"nonzero").end().end().ho();b.appendChild(c);b.addEventListener("click",function(){a.toggle();},!1);b.setAttribute("title","Close the log console");return b;};b.prototype.$z=function(a){(void 0===a?0:a)&&this.update(!1);};b.prototype.update=function(a){var b;a=void 0===a?!1:a;b=this;this.element&&this.config.CL&&Promise.resolve(this.b0a()+this.mab().join("\r\n")).then(function(c){b.element&&b.xw&&(b.xw.value=c,b.element.style.cssText=b.rd.FD?"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;height:30%;":"position:fixed;left:10px;top:30px;right:10px;z-index:10000;color:#000;bottom:10px;",a&&b.la.cg(u.sf,function(){b.xw.scrollTop=b.xw.scrollHeight;}));})["catch"](function(a){console.error("Unable to update the log console",a);});};b.prototype.mab=function(){var a,b;a=this;b=[];this.entries.forEach(function(c){(c.level||c.level)<=a.rd.i8&&a.rd.js[c.Wm]&&(c=c.FW(!a.rd.GR,!a.rd.GR),a.rd.filter&&!a.rd.filter.test(c)||b.push(c));});return b;};b.prototype.b0a=function(){var a;a=this.II();return"Version: 6.0017.505.011 \n"+((a?"Esn: "+a.xh:"")+"\n")+("JsSid: "+this.app.id+", Epoch: "+this.Ta.Qe.fa(u.Em)+", Start: "+this.app.Vy.fa(u.Em)+", TimeZone: "+new Date().getTimezoneOffset()+"\n")+("Href: "+location.href+"\n")+("UserAgent: "+navigator.userAgent+"\n")+"--------------------------------------------------------------------------------\n";};b.prototype.createElement=function(a,b,c,f){return this.xc.createElement(a,b,c,f);};b.prototype.Wp=function(a,b,c,d){a=void 0===a?26:a;b=void 0===b?26:b;return"display:inline-block;border:"+(void 0===c?0:c)+"px solid "+f.ky+";padding:3px;"+(isNaN(a)?"":"height:"+a+"px")+";"+(isNaN(b)?"":"width:"+b+"px")+";margin:0px 3px;background-color:transparent;"+(d?"border-radius:"+d+"px;":"");};a=b;a.Frb="logDxDisplay";a=g.__decorate([p.L(),g.__param(0,p.l(n.Kj)),g.__param(1,p.l(y.Je)),g.__param(2,p.l(c.Ye)),g.__param(3,p.l(q.hg)),g.__param(4,p.l(x.NA)),g.__param(5,p.l(G.Wfa)),g.__param(6,p.l(l.Lw)),g.__param(7,p.l(k.eB)),g.__param(8,p.l(N.Hn))],a);d.MLa=a;},function(g,d,a){var f,h,p,c,k;function b(a,b){a=p.oe.call(this,a,"LogDisplayConfigImpl")||this;a.Sp=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(33);p=a(36);c=a(27);a=a(169);ba(b,p.oe);na.Object.defineProperties(b.prototype,{CL:{configurable:!0,enumerable:!0,get:function(){return!0;}},ND:{configurable:!0,enumerable:!0,get:function(){return this.Sp.ND;}},jwa:{configurable:!0,enumerable:!0,get:function(){return-1;}}});k=b;g.__decorate([h.config(h.re,"renderDomDiagnostics")],k.prototype,"CL",null);g.__decorate([h.config(h.m7,"logDisplayMaxEntryCount")],k.prototype,"ND",null);g.__decorate([h.config(h.m7,"logDisplayAutoshowLevel")],k.prototype,"jwa",null);k=g.__decorate([f.L(),g.__param(0,f.l(c.cj)),g.__param(1,f.l(a.jO))],k);d.LLa=k;},function(g,d,a){var f,h;function b(){this.Haa="";this.qEa=[[],[]];this.ca=[[],[]];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a(3);h=a(85);b.prototype.downloadRequest=function(a){var b;""===this.Haa&&(this.Haa=a.yg);if(!a.Tb){b=this.Rsb(a);this.ca[a.R].push(b);this.qEa[a.R].forEach(function(a){a.$Db(b);});}};b.prototype.Rsb=function(a){return{id:this.yab(a),yg:a.yg,R:a.R,ko:a.ko,startTime:a.Zs,endTime:a.yE,offset:a.hm,dI:a.dI,cI:a.cI,duration:a.us,O:a.O,state:h.bda.Qqa,ga:a.ga,Bz:!1,GHb:!1,kua:!1,cGb:h.ada.waiting};};b.prototype.yab=function(a){return a.ck();};b.prototype.update=function(a){this.qEa[a.R].forEach(function(b){b.pLb(a);});};na.Object.defineProperties(b.prototype,{yg:{configurable:!0,enumerable:!0,get:function(){return this.Haa;}}});a=b;a=g.__decorate([f.L()],a);d.kFa=a;},function(g,d,a){var f,h;function b(a){this.r6a=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(304);b.prototype.gc=function(){var a;a=this;this.yh||(this.yh=new Promise(function(b,f){var c;c=[];a.r6a.forEach(function(a){c.push(a.gc());});Promise.all(c).then(function(){b();})["catch"](function(a){f(a);});}));return this.yh;};h=b;h=g.__decorate([f.L(),g.__param(0,f.lz(a.lea))],h);d.WIa=h;},function(g,d){function a(a){this.is=a;this.afb="#881391";this.Nrb="#C41A16";this.O_a=this.ljb="#1C00CF";this.feb="#D79BDB";this.Ptb=this.jjb="#808080";}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.ho=function(a){return this.getValue("~~NONAME~~",a);};a.prototype.ov=function(a,f){return'<font color="'+((void 0===f?0:f)?this.feb:this.afb)+'">'+a+": </font>";};a.prototype.xsa=function(a,f){f=f||"";a=""+('<li><a href="#">'+this.ov(a)+"Array["+f.length+"]</a>");a+="<ul>";for(var b=0;b<f.length;++b)a+=this.getValue(b.toString(),f[b]);a+=this.getValue("length",f.length,!0);return a+"</ul></li>";};a.prototype.xta=function(a,f){var b,d,c;b=this;if(f instanceof CryptoKey)return this.J$a(a,f);d=Object.keys(f);c="";c=c+('<li><a href="#">'+("~~NONAME~~"!==a?this.ov(a):"")+"Object</a>");c=c+"<ul>";d.forEach(function(a){c=a.startsWith("$")?c+b.getValue(a,"REMOVED"):c+b.getValue(a,f[a]);});c+="</ul>";return c+="</li>";};a.prototype.J$a=function(a,f){a=""+('<li><a href="#">'+this.ov(a)+"CryptoKey</a>");a=a+"<ul>"+this.xta("algorithm",f.algorithm);a+=this.Esa("extractable",f.extractable);a+=this.Nta("type",f.type);a+=this.xsa("usages",f.usages);return a+"</ul></li>";};a.prototype.ibb=function(a,f,d){return'<li><a href="#">'+this.ov(a,void 0===d?!1:d)+('<font color="'+this.ljb+'">'+f.toString()+"</font>")+"</a></li>";};a.prototype.Esa=function(a,f,d){return'<li><a href="#">'+this.ov(a,void 0===d?!1:d)+('<font color="'+this.O_a+'">'+f.toString()+"</font>")+"</a></li>";};a.prototype.Nta=function(a,f,d){128<f.length&&(f=f.substr(0,128)+"...");return'<li><a href="#">'+this.ov(a,void 0===d?!1:d)+('<font color="'+this.Nrb+'">"'+f+'"</font>')+"</a></li>";};a.prototype.hbb=function(a){return'<li><a href="#">'+this.ov(a)+('<font color="'+this.jjb+'">null</font>')+"</a></li>";};a.prototype.qcb=function(a,f){f="undefined"===typeof f?"":f.toString();255<f.length&&(f=f.substr(0,255)+"...");return'<li><a href="#">'+this.ov(a)+('<font color="'+this.Ptb+'">'+f+"</font>")+"</a></li>";};a.prototype.getValue=function(a,f,d){d=void 0===d?!1:d;return null===f?""+this.hbb(a):this.is.Vr(f)?""+this.xsa(a,f):this.is.Tx(f)?""+this.xta(a,f):this.is.vi(f)?""+this.Nta(a,f,d):this.is.Pf(f)?""+this.ibb(a,f,d):this.is.aC(f)?""+this.Esa(a,f,d):""+this.qcb(a,f);};d.SRa=a;},function(g,d,a){var f,h,p,c,k,q;function b(a,b,c){var f;f=k.oO.call(this,a,b,"idb")||this;f.Ag=c;f.VAa=function(a){f.L5a(a.target.id).then(function(){return f.refresh();});};f.Jjb=function(){f.r1a().then(function(){return f.refresh();});};f.Vjb=function(){f.refresh();};f.Mjb=function(){f.l2a();};return f;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);p=a(20);c=a(161);k=a(303);q=a(107);ba(b,k.oO);b.prototype.gc=function(){var a;a=this;if(this.hn)return Promise.resolve();M.addEventListener("keydown",function(b){b.ctrlKey&&b.altKey&&b.shiftKey&&b.keyCode==q.Nt.oKa&&a.toggle();});return this.Ag.create().then(function(b){a.storage=b;a.hn=!0;});};b.prototype.Tk=function(){return'<tr class="'+this.prefix+'-display-headerrow">'+('<th width="30px"><span class="'+this.prefix+'-display-indexheader">#</span></th>')+('<th width="150px"><span class="'+this.prefix+'-display-keyheader">Name</span></th>')+('<th style="border-right:solid 0px"><span class="'+this.prefix+'-display-valueheader">Value</span></th>')+('<th style="border-left:solid 0px" width="30px"><button id="'+this.prefix+'-display-close-btn">X</button></th>')+"</tr>";};b.prototype.c6=function(a,b,c){var f;a=a.toString();f='<font color="#C41A16">"'+b+'"</font>';c=this.voa.ho({name:b,data:c});return"<tr>"+('<td><span class="'+this.prefix+'-display-indexvalue">'+a+"</span></td>")+('<td><span class="'+this.prefix+'-display-keyvalue">'+f+"</span></td>")+('<td style="border-right:solid 0px"><ul class="'+this.prefix+'-display-tree">'+c+"</ul></td>")+('<td style="border-left:solid 0px"><ul class="'+this.prefix+'-display-item-inline"><button id="'+b+'" class="'+this.prefix+'-display-btn-inline">X</button></ul></td>')+"</tr>";};b.prototype.l6=function(a){for(var b='<table class="'+this.prefix+'-display-table" width="100%">'+this.Tk(),c=Object.keys(a),f=0;f<c.length;++f)b+=this.c6(f,c[f],a[c[f]]);return b+"</table>";};b.prototype.Osa=function(){var a,b,c;a=this.xc.createElement("button",k.GF,"Clear",{"class":this.prefix+"-display-btn"});b=this.xc.createElement("button",k.GF,"Refresh",{"class":this.prefix+"-display-btn"});c=this.xc.createElement("button",k.GF,"Copy",{"class":this.prefix+"-display-btn"});a.onclick=this.Jjb;b.onclick=this.Vjb;c.onclick=this.Mjb;return[a,b,c];};b.prototype.agb=function(){var a;a=this;return this.storage.loadAll().then(function(b){a.Fua=b.reduce(function(a,b){a[b.key]=b.value;return a;},{});return a.Fua;});};b.prototype.L5a=function(a){return this.storage.remove(a);};b.prototype.r1a=function(){return this.storage.removeAll();};b.prototype.kAa=function(){var a;a=this;return this.agb().then(function(b){return a.l6(b);});};b.prototype.l2a=function(){var a;a=JSON.stringify(this.Fua,null,4);this.Cpa(a);};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(h.Ye)),g.__param(1,f.l(p.de)),g.__param(2,f.l(c.SY))],a);d.izb=a;},function(g,d,a){var f,h,p,c,k,q,n,u;function b(a){return function(){return new Promise(function(b,c){var f;f=a.$b.get(h.nea);f.gc().then(function(){b(f);})["catch"](function(a){c(a);});});};}Object.defineProperty(d,"__esModule",{value:!0});g=a(1);f=a(304);a(598);h=a(302);p=a(596);c=a(85);k=a(595);q=a(301);n=a(594);u=a(593);a(592);d.$6a=new g.Wb(function(a){a(q.Wfa).to(n.LLa).$();a(f.lea).to(u.MLa);a(c.hX).to(k.kFa).$();a(h.nea).to(p.WIa).$();a(h.mea).EM(b);});},function(g,d,a){var p,c,k,q;function b(){}function f(a){this.$kb=a;}function h(a){this.blb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);p=a(1);c=a(185);k=a(42);q=a(2);h.prototype.lp=function(a){a.map(this.blb.lp);};a=h;a=g.__decorate([p.L(),g.__param(0,p.l(c.Hha))],a);d.hPa=a;f.prototype.lp=function(a){this.$kb.lp(a.data);};a=f;a=g.__decorate([p.L(),g.__param(0,p.l(c.Eha))],a);d.iPa=a;b.prototype.lp=function(a){if(!a.oa||"string"!==typeof a.oa)throw new k.cc(q.K.Jt,q.H.yt,void 0,void 0,void 0,"Xid value is corrupted.",void 0,a.oa);};c=b;c=g.__decorate([p.L()],c);d.lPa=c;},function(g,d,a){var f,h,p,c;function b(a,b,c){this.jI=b;this.Qr=c;this.log=a.ib("PboEventSenderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(65);h=a(77);p=a(5);a=a(1);b.prototype.Qaa=function(a,b){var c;c=this.jI(h.ol.start);return this.ura(c,a,b);};b.prototype.BBa=function(a){var b,c;b=this;c=this.jI(h.ol.stop);return this.Qr().then(function(f){return c.Sf(b.log,f.qv(a.profileId),a);}).then(function(){})["catch"](function(a){b.log.error("PBO stop event failed",a);throw a;});};b.prototype.TL=function(a,b,c){a=this.jI(a);return this.ura(a,b,c);};b.prototype.ura=function(a,b,c){var f;f=this;return this.Qr().then(function(d){return a.vo(f.log,d.qv(c.profileId),b.Aa.nf,c);}).then(function(){})["catch"](function(a){f.log.error("PBO event failed",a);throw a;});};c=b;c=g.__decorate([a.L(),g.__param(0,a.l(p.kb)),g.__param(1,a.l(h.WX)),g.__param(2,a.l(f.Wq))],c);d.aPa=c;},function(g,d,a){var f,h,p,c,k,q;function b(a,b){a=h.oe.call(this,a,"PlaydataConfigImpl")||this;a.config=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);p=a(27);c=a(33);k=a(3);a=a(52);ba(b,h.oe);na.Object.defineProperties(b.prototype,{oE:{configurable:!0,enumerable:!0,get:function(){return this.config.bn?"unsentplaydatatest":"unsentplaydata";}},Oaa:{configurable:!0,enumerable:!0,get:function(){return!0;}},vBa:{configurable:!0,enumerable:!0,get:function(){return k.zb(1E4);}},d$:{configurable:!0,enumerable:!0,get:function(){return k.zb(4E3);}},Gva:{configurable:!0,enumerable:!0,get:function(){return k.l9(1);}},Hva:{configurable:!0,enumerable:!0,get:function(){return k.xg(30);}}});q=b;g.__decorate([c.config(c.string,"playdataPersistKey")],q.prototype,"oE",null);g.__decorate([c.config(c.re,"sendPersistedPlaydata")],q.prototype,"Oaa",null);g.__decorate([c.config(c.Ug,"playdataSendDelayMilliseconds")],q.prototype,"vBa",null);g.__decorate([c.config(c.Ug,"playdataPersistIntervalMilliseconds")],q.prototype,"d$",null);g.__decorate([c.config(c.Ug,"heartbeatCooldown")],q.prototype,"Gva",null);g.__decorate([c.config(c.Ug,"keepAliveWindow")],q.prototype,"Hva",null);q=g.__decorate([f.L(),g.__param(0,f.l(p.cj)),g.__param(1,f.l(a.ym))],q);d.EPa=q;},function(g,d,a){var p,c,k,q,n,u,y,l,m,x,I,G,N,r;function b(a,b,c,d,k,g,h,n){this.config=a;this.la=c;this.Mq=d;this.Qo=k;this.dV=g;this.ug=h;this.Ty=Promise.resolve();this.closed=!1;this.log=b.ib("PlaydataServices");this.Az=[];this.active=new Set();this.Eob=new f(a,n);}function f(a,b){this.config=a;this.Ta=b;}function h(a,b,c,f,d,k){this.log=a;this.la=b;this.yj=c;this.Qo=f;this.Mq=d;this.xlb=k;this.Cra=this.gI=!1;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);p=a(1);c=a(3);k=a(5);q=a(30);n=a(225);u=a(307);y=a(15);l=a(306);m=a(2);x=a(186);I=a(305);G=a(127);N=a(41);a=a(62);h.prototype.yU=function(a,b){var f;function c(){var a;a=f.Qo.create(f.yj);f.Mq.uca(a)["catch"](function(a){var b;b=f.Cra?k.Ih.f_:k.Ih.ERROR;f.Cra=!0;f.log.write(b,"Unable to save playdata changes to IDB",a);});}f=this;this.log.trace("Adding initial playdata",b);this.Mq.WYa(b).then(function(){f.log.trace("Scheduling monitor",{interval:a});f.Cq=f.la.gBa(a,c);})["catch"](function(d){f.log.error("Unable to add playdata",{error:d,playdata:new x.AZ().encode(b)});f.Cq=f.la.gBa(a,c);});};h.prototype.stop=function(a){var b,c;b=this;if(this.gI)return Promise.resolve();this.Cq.cancel();c=this.Qo.create(this.yj);return this.Mq.uca(c)["catch"](function(a){b.log.error("Unable to update playdata changes during stop",a);}).then(function(){if(a){if(b.yj.background)return b.log.trace("Playback is currently in the background and never played, not sending the playdata",c),Promise.resolve();b.log.trace("Sending final playdata to the server",c);return b.xlb.BBa(c);}b.log.trace("Currently configured to not send play data, not sending the data to the server");}).then(function(){if(a)return b.log.trace("Removing playdata from the persisted store",c),b.Mq.sAa(c);b.log.trace("Currently configured to not send play data, not removing the play data from IDB");}).then(function(){b.log.info("Successfully stopped the playback",c.M);})["catch"](function(a){b.log.error("Unable to remove playdata changes",a);throw a;});};h.prototype.cancel=function(){this.gI=!0;this.Cq.cancel();this.Mq.uca(this.Qo.create(this.yj));};na.Object.defineProperties(f.prototype,{G0a:{configurable:!0,enumerable:!0,get:function(){var a;a=this.Ta.Qe;return!this.Ty||0<=a.sd(this.Ty).Nk(this.config.Hva)?(this.Ty=a,!0):!1;}}});d.uBb=f;b.prototype.gc=function(){var a;a=this;this.yh||(this.log.trace("Starting playdata services"),this.yh=this.Mq.enb().then(function(){return a;})["catch"](function(b){a.log.error("Unable to read the playdata, it will be deleted and not sent to the server",b);return a;}));return this.yh;};b.prototype.close=function(){this.closed=!0;this.Az.forEach(function(a){a.yU.cancel();});};b.prototype.send=function(a){var b;if(this.closed)return Promise.resolve();b=this.config;return b.oE&&b.Oaa?this.zpb(a):Promise.resolve();};b.prototype.krb=function(a){this.closed||this.lrb(a);};b.prototype.yCa=function(a){var b,c,f;b=this;if(this.closed)return Promise.resolve();c=this.Qo.create(a);this.active["delete"](c.oa);a=P(G.Us(function(a){return a.key===c.oa;},this.Az));f=a.next().value;this.Az=a.next().value;return Promise.all(f.map(function(a){a.zCa=!0;return a.yU.stop(b.config.Oaa);})).then(function(){});};b.prototype.MU=function(a,b){var c,f;c=this;f=a.ja;this.tCa(f,b);this.Qaa(f,a.nI)["catch"](function(b){var f;f=b.uy;c.log.error("Start command failed",{playdata:b.qE,error:f});a.md(c.ug(m.K.xia,f));});this.irb(a);};b.prototype.lrb=function(a){var b;b=this;a.addEventListener(y.U.Ls,function(c){void 0!==c.previousIndex&&(b.yCa(a.Yp(c.previousIndex)),new Promise(function(b){var c;if(a.Bz.value)b();else{c=function(f){f.newValue&&(b(),a.Bz.removeListener(c));};a.Bz.addListener(c);}}).then(function(){return b.MU(a,"online");}));});a.addEventListener(y.U.Bh,function(){b.MU(a,"online");});a.background||a.addEventListener(y.U.pK,function(c){b.tCa(a.Yp(c.ga),"online");});a.addEventListener(y.U.se,function(){b.xrb();});a.addEventListener(y.U.iEa,function(){b.Epb(a.ja)["catch"](function(b){(b=b.m$)&&a.md(b);});});a.wc.addListener(function(){a.Za.Y3?b.log.trace("stickiness is disabled for timedtext"):b.ABa(a.ja);});a.Ec.addListener(function(){a.Za.Y3?b.log.trace("stickiness is disabled for audio"):b.ABa(a.ja)["catch"](function(b){(b=b.m$)&&a.md(b);});});};b.prototype.tCa=function(a,b){var c,f;a.Nc("pdb");if(this.config.d$.qva()){c=this.Qo.create(a);f=c.oa;this.Az.some(function(a){return a.key===f;})?this.log.trace("Already collecting "+b+" playdata, ignoring",c):(this.log.info("Starting to collect "+b+" playdata",c),this.active.add(f),this.Az.push({key:f,yU:this.Zab(a,c),aA:!1,zCa:!1}));}};b.prototype.zpb=function(a){var b,c,f,d;b=this;c=this.Mq.qE.filter(function(a){return!b.active.has(a.oa);});f=void 0;d=void 0;a&&Infinity===a?f=c:(c=P(G.Us(function(b){return b.M===a;},c)),f=c.next().value,d=c.next().value);d&&0<d.length&&this.la.cg(this.config.vBa,function(){b.zBa(d);});return f&&0!==f.length?this.zBa(f):Promise.resolve();};b.prototype.zBa=function(a){var c;function b(a){return c.dV.BBa(a).then(function(){return c.Vnb(a);});}c=this;return a.reduce(function(a,c){return a.then(function(){return b(c);});},Promise.resolve());};b.prototype.Vnb=function(a){var b;b=this;return this.Mq.sAa(a).then(function(){})["catch"](function(a){b.log.error("Unble to complete the stop lifecycle event",a);throw a;});};b.prototype.Zab=function(a,b){a=new h(this.log,this.la,a,this.Qo,this.Mq,this.dV);a.yU(this.config.d$,b);return a;};b.prototype.Qaa=function(a,b){var c,f;c=this;f=this.Qo.g4a(a,b);return this.dV.Qaa(a,f).then(function(){c.Az.filter(function(b){return b.key===a.oa.toString();}).forEach(function(a){a.aA=!0;});})["catch"](function(a){throw{qE:f,uy:a};});};b.prototype.Epb=function(a){return this.Eob.G0a?this.TL(I.zZ.gK,a,m.K.WY):Promise.resolve();};b.prototype.ABa=function(a){return this.TL(I.zZ.splice,a,m.K.uia);};b.prototype.TL=function(a,b,c){var d;function f(a){var b;b=d.Az.filter(function(b){return b.key===a.oa.toString();});return 0===b.length?!0:b.reduce(function(a,b){return a||b.zCa||!b.aA;},!1);}d=this;return f(b)?this.Ty:this.Ty=this.Ty["catch"](function(){return Promise.resolve();}).then(function(){var c;if(f(b))return Promise.resolve();c=d.Qo.create(b);return d.dV.TL(a,b,c);}).then(function(a){return a;})["catch"](function(f){var k;d.log.error("Failed to send event",{eventKey:a,xid:b.oa,error:f});f.Sk?k=d.ug(c,f):f.qq===m.gZ.d_&&(k=d.ug(c,f));throw{uy:f,m$:k};});};b.prototype.irb=function(a){this.Pqb(a)&&this.tba(this.Jab(a.ja),a);};b.prototype.tba=function(a,b){var c;c=this;this.H2();this.G7=this.la.cg(a,function(){c.H2();c.TL(I.zZ.gK,b.ja,m.K.WY).then(function(){c.tba(a,b);})["catch"](function(f){var d;d=f.uy;(f=f.m$)&&b.md(f);d.qq===m.gZ.d_&&c.tba(a,b);});});};b.prototype.xrb=function(){this.H2();};b.prototype.Pqb=function(a){return a.state.value==y.lb.$c;};b.prototype.H2=function(){this.G7&&(this.G7.cancel(),this.G7=void 0);};b.prototype.Jab=function(a){return a.Za.F6?c.zb(a.Za.F6):this.config.Gva;};r=b;r=g.__decorate([p.L(),g.__param(0,p.l(l.Wha)),g.__param(1,p.l(k.kb)),g.__param(2,p.l(q.hg)),g.__param(3,p.l(u.vha)),g.__param(4,p.l(n.BZ)),g.__param(5,p.l(I.xha)),g.__param(6,p.l(a.uk)),g.__param(7,p.l(N.Kj))],r);d.kPa=r;},function(g,d,a){var p,c,k,q,n,u,y,l,m,x;function b(){}function f(){}function h(a,c,f,d,g){var h;h=this;this.is=a;this.Ag=c;this.config=f;this.II=d;this.alb=g;this.Kq=function(){return new b().encode({version:h.version,data:h.qE});};this.mub=function(a){a=h.wca(a);h.alb.lp(a);return a;};this.wca=function(a){if(h.is.jj(a))return h.pub(a);if(void 0!=a.version&&h.is.Pf(a.version)&&1==a.version)return h.qub(a);if(void 0!=a.version&&h.is.Pf(a.version)&&2==a.version)return new b().decode(a);if(a.version&&h.is.Pf(a.version))throw new n.cc(k.K.Jt,k.H.sda,void 0,void 0,void 0,"Version number is not supported. Version: "+a.version,void 0,a);throw new n.cc(k.K.Jt,k.H.yt,void 0,void 0,void 0,"The format of the playdata is inconsistent with what is expected.",void 0,a);};this.zn=new u.zfa(2,this.config().gza,""!==this.config().gza&&0<this.config().Ilb,this.Ag,this.Kq);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);p=a(1);c=a(17);k=a(2);q=a(20);n=a(42);u=a(458);y=a(56);l=a(93);m=a(186);a=a(185);h.prototype.enb=function(){return this.zn.load(this.mub)["catch"](function(a){throw new n.cc(k.K.Jt,a.Y||a.Bc,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a);});};h.prototype.WYa=function(a){return this.zn.add(a);};h.prototype.sAa=function(a){return this.zn.remove(a,function(a,b){return a.oa===b.oa;});};h.prototype.uca=function(a){return this.zn.update(a,function(a,b){return a.oa===b.oa;});};h.prototype.toString=function(){return JSON.stringify(this.Kq(),null,"  ");};h.prototype.YDa=function(a){return a?"/events?playbackContextId="+a+"&esn="+this.II().xh:"";};h.prototype.xca=function(a){return a.map(function(a){return{Qc:a.downloadableId,duration:a.duration};});};h.prototype.ZDa=function(a){return a?{total:a.playTimes.total,audio:this.xca(a.playTimes.audio||[]),video:this.xca(a.playTimes.video||[]),text:this.xca(a.playTimes.timedtext||[])}:{total:0,audio:[],video:[],text:[]};};h.prototype.pub=function(a){var b,c,f;b=this;a=JSON.parse(a);c={type:"online",profileId:a.accountKey,href:this.YDa(a.playbackContextId),oa:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,iI:a.timestamp,WL:a.playback?1E3*a.playback.startEpoch:-1,gz:a.mediaId,bL:this.ZDa(a.playback),fb:"",lm:{dummy:"dummy"}};f=JSON.stringify({keySessionIds:a.keySessionIds,movieId:a.movieId,xid:a.xid,licenseContextId:a.licenseContextId,profileId:a.profileId});this.Ag.create().then(function(a){a.save(b.config().RI,f,!1);});if(!c.profileId||""===c.href||""===c.oa)throw new n.cc(k.K.Jt,k.H.yt);return{version:2,data:[c]};};h.prototype.qub=function(a){var b;b=this;if(!a.playdata||!this.is.Vr(a.playdata))throw new n.cc(k.K.Jt,k.H.yt,void 0,void 0,void 0,"The version 1 playdata is corrupted.",void 0,a);return{version:2,data:function(a){return a.map(function(a){return{type:a.type,profileId:a.profileId,href:b.YDa(a.playbackContextId),oa:a.xid?a.xid.toString():"",M:a.movieId,position:a.position,iI:a.timestamp,WL:a.playback?1E3*a.playback.startEpoch:-1,gz:a.mediaId,bL:b.ZDa(a.playback),fb:"",lm:{dummy:"dummy"}};});}(a.playdata)};};na.Object.defineProperties(h.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.zn.version;}},qE:{configurable:!0,enumerable:!0,get:function(){return this.zn.Np;}}});x=h;x=g.__decorate([p.L(),g.__param(0,p.l(q.de)),g.__param(1,p.l(y.Hn)),g.__param(2,p.l(c.gd)),g.__param(3,p.l(l.Lw)),g.__param(4,p.l(a.Fha))],x);d.XOa=x;f.prototype.encode=function(a){var b;b=new m.AZ();return a.map(b.encode);};f.prototype.decode=function(a){var b;b=new m.AZ();return a.map(b.decode);};b.prototype.encode=function(a){return{version:a.version,data:new f().encode(a.data)};};b.prototype.decode=function(a){return{version:a.version,data:new f().decode(a.data)};};},function(g,d,a){var f,h,p,c,k,q,n,u,y,l,m,x;function b(a){return function(){return a.$b.get(f.Gha).gc();};}Object.defineProperty(d,"__esModule",{value:!0});g=a(1);f=a(145);h=a(225);p=a(186);c=a(307);k=a(604);q=a(603);n=a(306);u=a(602);y=a(305);l=a(601);m=a(185);x=a(600);d.qE=new g.Wb(function(a){a(n.Wha).to(u.EPa).$();a(h.BZ).to(p.jPa).$();a(c.vha).to(k.XOa).$();a(f.Gha).to(q.kPa).$();a(f.hO).EM(b);a(y.xha).to(l.aPa).$().$M();a(m.Hha).to(x.lPa).$();a(m.Eha).to(x.hPa).$();a(m.Fha).to(x.iPa).$();});},function(g,d,a){var f,h,p;function b(a){var b;b=p.DN.call(this)||this;b.xc=a;return b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);p=a(327);ba(b,p.DN);b.prototype.decode=function(a){return{M:a.movieId,qn:a.packageId,po:a.drmType,N6a:a.drmVersion,z8a:a.expiration,T0a:this.X4a(a.cdnResponseData),media:this.e5a(a.media),duration:a.duration,Gf:a.playbackContextId,qqa:this.$4a(a.defaultTrackOrderList),$j:a.drmContextId,Zcb:a.hasDrmProfile,Xcb:a.hasClearProfile,hDa:this.k5a(a.timedtexttracks),yDa:this.n5a(a.trickplays),U1:this.W4a(a.audio_tracks),XW:this.s5a(a.video_tracks),An:this.iqa(a.servers),dk:this.c5a(a.locations),Seb:a.isUsingLegacyBatchingAPI,d2:a.bookmark,hua:a.hasDrmStreams,Ycb:a.hasClearStreams,links:a.links,j1a:this.Y4a(a.choiceMap),Lb:a.initialHeader,evb:this.t5a(a.watermarkInfo),Vf:a.isBranching,G6a:a.dpsid,Yub:a.viewableType,GD:a.isSupplemental,Yoa:a.clientIpAddress,nf:a.nf};};b.prototype.encode=function(a){return{movieId:a.M,packageId:a.qn,drmType:a.po,drmVersion:a.N6a,expiration:a.z8a,cdnResponseData:this.E7a(a.T0a),media:this.M7a(a.media),duration:a.duration,playbackContextId:a.Gf,defaultTrackOrderList:this.H7a(a.qqa),drmContextId:a.$j,timedtexttracks:this.S7a(a.hDa),trickplays:this.W7a(a.yDa),audio_tracks:this.D7a(a.U1),video_tracks:this.a8a(a.XW),servers:this.hra(a.An),locations:this.K7a(a.dk),isUsingLegacyBatchingAPI:a.Seb,bookmark:a.d2,hasDrmProfile:a.Zcb,hasClearProfile:a.Xcb,hasDrmStreams:a.hua,hasClearStreams:a.Ycb,links:a.links,choiceMap:this.F7a(a.j1a),initialHeader:a.Lb,watermarkInfo:this.b8a(a.evb),isBranching:a.Vf,dpsid:a.G6a,viewableType:a.Yub,isSupplemental:a.GD,clientIpAddress:a.Yoa,nf:a.nf};};b.prototype.t5a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.b8a=function(a){return a&&{id:a.id,opacity:a.opacity,anchor:a.anchor};};b.prototype.Y4a=function(a){var b;b=this;return a&&{YJ:a.initialSegment,type:a.type,we:a.viewableId,ff:this.YC(a.segments,function(a){return{Cn:a.startTimeMs,ZC:a.endTimeMs,vR:a.defaultNext,next:b.YC(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.F7a=function(a){var b;b=this;return a&&{initialSegment:a.YJ,type:a.type,viewableId:a.we,segments:this.YC(a.ff,function(a){return{startTimeMs:a.Cn,endTimeMs:a.ZC,defaultNext:a.vR,next:b.YC(a.next,function(a){return{weight:a.weight};})};})};};b.prototype.X4a=function(a){return{XU:a.pbcid,Yz:a.sessionABTestCell};};b.prototype.E7a=function(a){return{pbcid:a.XU,sessionABTestCell:a.Yz};};b.prototype.e5a=function(a){return this.Rf(a,this.d5a);};b.prototype.M7a=function(a){return this.Rf(a,this.L7a);};b.prototype.d5a=function(a){return{eca:this.l5a(a.tracks),id:a.id};};b.prototype.L7a=function(a){return{tracks:this.U7a(a.eca),id:a.id};};b.prototype.l5a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,YZ:a.TEXT};};b.prototype.U7a=function(a){return{AUDIO:a.AUDIO,VIDEO:a.VIDEO,TEXT:a.YZ};};b.prototype.$4a=function(a){return this.Rf(a,this.Z4a);};b.prototype.H7a=function(a){return this.Rf(a,this.G7a);};b.prototype.Z4a=function(a){return{jC:a.audioTrackId,gz:a.mediaId,Wub:a.videoTrackId,GCa:a.subtitleTrackId,amb:a.preferenceOrder};};b.prototype.G7a=function(a){return{audioTrackId:a.jC,mediaId:a.gz,videoTrackId:a.Wub,subtitleTrackId:a.GCa,preferenceOrder:a.amb};};b.prototype.k5a=function(a){return this.Rf(a,this.j5a);};b.prototype.S7a=function(a){return this.Rf(a,this.R7a);};b.prototype.j5a=function(a){return this.xc.$k(this.I3(a),{type:a.type,BDa:this.i5a(a.ttDownloadables),Kz:a.rawTrackType,HD:a.languageDescription,language:a.language,id:a.id,ET:a.isNoneTrack,AT:a.isForcedNarrative,Pqa:a.downloadableIds,Koa:this.iqa(a.cdnlist),eK:a.isLanguageLeftToRight});};b.prototype.R7a=function(a){return this.xc.$k(this.r4(a),{type:a.type,ttDownloadables:this.Q7a(a.BDa),rawTrackType:a.Kz,languageDescription:a.HD,language:a.language,id:a.id,isNoneTrack:a.ET,isForcedNarrative:a.AT,downloadableIds:a.Pqa,cdnlist:this.hra(a.Koa),trackType:a.Si,new_track_id:a.Po,isLanguageLeftToRight:a.eK});};b.prototype.i5a=function(a){return this.YC(a,this.h5a);};b.prototype.Q7a=function(a){return this.YC(a,this.P7a);};b.prototype.h5a=function(a){return{Tp:a.downloadUrls,ddb:a.hashAlgo,edb:a.hashValue,height:a.height,width:a.width,web:a.isImage,FK:a.midxOffset,lU:a.midxSize,size:a.size,xsb:a.textKey};};b.prototype.P7a=function(a){return{downloadUrls:a.Tp,hashAlgo:a.ddb,hashValue:a.edb,height:a.height,width:a.width,isImage:a.web,midxOffset:a.FK,midxSize:a.lU,size:a.size,textKey:a.xsb};};b.prototype.n5a=function(a){if(a)return this.Rf(a,this.m5a);};b.prototype.W7a=function(a){if(a)return this.Rf(a,this.V7a);};b.prototype.m5a=function(a){return{interval:a.interval,$ya:a.pixelsAspectY,Zya:a.pixelsAspectX,width:a.width,height:a.height,size:a.size,SC:a.downloadable_id,Yc:a.urls,id:a.id};};b.prototype.V7a=function(a){return{interval:a.interval,pixelsAspectY:a.$ya,pixelsAspectX:a.Zya,width:a.width,height:a.height,size:a.size,downloadable_id:a.SC,urls:a.Yc,id:a.id};};b.prototype.W4a=function(a){return this.Rf(a,this.V4a);};b.prototype.D7a=function(a){return this.Rf(a,this.C7a);};b.prototype.V4a=function(a){return this.xc.$k(this.I3(a),{id:a.id,mc:this.U4a(a.streams),Si:a.trackType,Lk:a.channels,language:a.language,z2:a.channelsFormat,Iba:a.surroundFormatLabel,HD:a.languageDescription,isNative:a.isNative,n6a:a.disallowedSubtitleTracks,GM:a.track_id,C5a:a.defaultTimedText,D$:a.profileType,type:a.type,wba:a.stereo,profile:a.profile,cpa:a.codecName,Kz:a.rawTrackType});};b.prototype.C7a=function(a){return this.xc.$k(this.r4(a),{id:a.id,streams:this.B7a(a.mc),trackType:a.Si,channels:a.Lk,language:a.language,channelsFormat:a.z2,surroundFormatLabel:a.Iba,languageDescription:a.HD,isNative:a.isNative,disallowedSubtitleTracks:a.n6a,track_id:a.GM,defaultTimedText:a.C5a,profileType:a.D$,type:a.type,stereo:a.wba,profile:a.profile,codecName:a.cpa,rawTrackType:a.Kz});};b.prototype.s5a=function(a){return this.Rf(a,this.r5a);};b.prototype.a8a=function(a){return this.Rf(a,this.$7a);};b.prototype.r5a=function(a){return this.xc.$k(this.I3(a),{type:a.type,mc:this.q5a(a.streams),f4:a.drmHeader&&this.hqa(a.drmHeader),W3:a.dimensionsCount,X3:a.dimensionsLabel,Adb:a.ict,chb:a.maxCroppedHeight,dhb:a.maxCroppedWidth,ehb:a.maxCroppedX,fhb:a.maxCroppedY,D$:a.profileType,wba:a.stereo,maxWidth:a.maxWidth,maxHeight:a.maxHeight,Xya:a.pixelAspectX,Yya:a.pixelAspectY,profile:a.profile,rhb:a.max_framerate_value,qhb:a.max_framerate_scale,cib:a.minCroppedHeight,dib:a.minCroppedWidth,eib:a.minCroppedX,fib:a.minCroppedY,minHeight:a.minHeight,minWidth:a.minWidth,z$:a.prkDrmHeaders&&a.prkDrmHeaders.map(this.hqa),lJ:a.flavor,GM:a.track_id});};b.prototype.$7a=function(a){return this.xc.$k(this.r4(a),{type:a.type,streams:this.Z7a(a.mc),drmHeader:a.f4&&this.gra(a.f4),dimensionsCount:a.W3,dimensionsLabel:a.X3,ict:a.Adb,maxCroppedHeight:a.chb,maxCroppedWidth:a.dhb,maxCroppedX:a.ehb,maxCroppedY:a.fhb,profileType:a.D$,stereo:a.wba,maxWidth:a.maxWidth,maxHeight:a.maxHeight,pixelAspectX:a.Xya,pixelAspectY:a.Yya,profile:a.profile,max_framerate_value:a.rhb,max_framerate_scale:a.qhb,minCroppedHeight:a.cib,minCroppedWidth:a.dib,minCroppedX:a.eib,minCroppedY:a.fib,minHeight:a.minHeight,minWidth:a.minWidth,prkDrmHeaders:a.z$&&a.z$.map(this.gra),flavor:a.lJ,track_id:a.GM});};b.prototype.hqa=function(a){return{ba:a.bytes,g1a:a.checksum,hK:a.keyId};};b.prototype.gra=function(a){return{bytes:a.ba,checksum:a.g1a,keyId:a.hK};};b.prototype.I3=function(a){return{Si:a.trackType,Po:a.new_track_id,type:a.type};};b.prototype.r4=function(a){return{trackType:a.Si,new_track_id:a.Po,type:a.type};};b.prototype.U4a=function(a){return this.Rf(a,this.T4a);};b.prototype.B7a=function(a){return this.Rf(a,this.A7a);};b.prototype.T4a=function(a){return{xC:a.content_profile,Si:a.trackType,O:a.bitrate,size:a.size,Wk:a.isDrm,SC:a.downloadable_id,type:a.type,y9:a.new_stream_id,Yc:this.jqa(a.urls),Lk:a.channels,z2:a.channelsFormat,Iba:a.surroundFormatLabel,language:a.language,a_a:a.audioKey};};b.prototype.A7a=function(a){return{content_profile:a.xC,trackType:a.Si,bitrate:a.O,size:a.size,isDrm:a.Wk,downloadable_id:a.SC,type:a.type,new_stream_id:a.y9,urls:this.ira(a.Yc),channels:a.Lk,channelsFormat:a.z2,surroundFormatLabel:a.Iba,language:a.language,audioKey:a.a_a};};b.prototype.q5a=function(a){return this.Rf(a,this.p5a);};b.prototype.Z7a=function(a){return this.Rf(a,this.Y7a);};b.prototype.p5a=function(a){return{xC:a.content_profile,Si:a.trackType,O:a.bitrate,size:a.size,Wk:a.isDrm,SC:a.downloadable_id,type:a.type,y9:a.new_stream_id,Yc:this.jqa(a.urls),dlb:a.peakBitrate,W3:a.dimensionsCount,X3:a.dimensionsLabel,rlb:a.pix_w,qlb:a.pix_h,FAa:a.res_w,EAa:a.res_h,msa:a.framerate_value,lsa:a.framerate_scale,grb:a.startByteOffset,Vb:a.vmaf,Wpa:a.crop_x,Xpa:a.crop_y,Upa:a.crop_h,Vpa:a.crop_w};};b.prototype.Y7a=function(a){return{content_profile:a.xC,trackType:a.Si,bitrate:a.O,size:a.size,isDrm:a.Wk,downloadable_id:a.SC,type:a.type,new_stream_id:a.y9,urls:this.ira(a.Yc),peakBitrate:a.dlb,dimensionsCount:a.W3,dimensionsLabel:a.X3,pix_w:a.rlb,pix_h:a.qlb,res_w:a.FAa,res_h:a.EAa,framerate_value:a.msa,framerate_scale:a.lsa,startByteOffset:a.grb,vmaf:a.Vb,crop_x:a.Wpa,crop_y:a.Xpa,crop_h:a.Upa,crop_w:a.Vpa};};b.prototype.jqa=function(a){return this.Rf(a,this.o5a);};b.prototype.ira=function(a){return this.Rf(a,this.X7a);};b.prototype.o5a=function(a){return{url:a.url,Joa:a.cdn_id};};b.prototype.X7a=function(a){return{url:a.url,cdn_id:a.Joa};};b.prototype.iqa=function(a){return this.Rf(a,this.g5a);};b.prototype.hra=function(a){return this.Rf(a,this.O7a);};b.prototype.g5a=function(a){return{id:a.id,key:a.key,vwa:a.lowgrade,name:a.name,$d:a.rank,type:a.type,u6a:this.a5a(a.dns)};};b.prototype.O7a=function(a){return{id:a.id,key:a.key,lowgrade:a.vwa,name:a.name,rank:a.$d,type:a.type,dns:this.I7a(a.u6a)};};b.prototype.a5a=function(a){if(a)return{host:a.host,ieb:a.ipv4,jeb:a.ipv6,B9a:a.forceLookup};};b.prototype.I7a=function(a){if(a)return{host:a.host,ipv4:a.ieb,ipv6:a.jeb,forceLookup:a.B9a};};b.prototype.c5a=function(a){return this.Rf(a,this.b5a);};b.prototype.K7a=function(a){return this.Rf(a,this.J7a);};b.prototype.b5a=function(a){return{key:a.key,$d:a.rank,weight:a.weight,level:a.level};};b.prototype.J7a=function(a){return{key:a.key,rank:a.$d,weight:a.weight,level:a.level};};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(h.Ye))],a);d.DMa=a;},function(g,d,a){var f,h,p,c,k,q;function b(a,b,c,f,d){this.BYa=a;this.Onb=b;this.CAa=f;this.OAa=d;this.ia=c.ib("LicenseProviderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(5);p=a(312);a(311);c=a(310);k=a(309);a=a(308);b.prototype.bC=function(a,b){var c,f;c=this;f=this.CAa.ftb(a);return this.BYa.vo(this.ia,b,a.nf,f).then(function(a){a.map(function(a){return a.pIb;});return c.OAa.gtb(a);})["catch"](function(a){c.ia.error("PBO license failed",a);return Promise.reject(a);});};b.prototype.release=function(a,b){var c;c=this;a=this.CAa.itb(a);return this.Onb.Sf(this.ia,b,a).then(function(a){return c.OAa.jtb(a);})["catch"](function(a){c.ia.error("PBO release license failed",a);return Promise.reject(a);});};q=b;q=g.__decorate([f.L(),g.__param(0,f.l(p.sha)),g.__param(1,f.l(c.Iha)),g.__param(2,f.l(h.kb)),g.__param(3,f.l(k.yha)),g.__param(4,f.l(a.zha))],q);d.GLa=q;},function(g,d,a){var f,h,p,c;function b(a,b,c){this.Rgb=a;this.Qr=c;this.ia=b.ib("ManifestProviderImpl");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(313);p=a(5);a=a(65);b.prototype.oD=function(a,b){var c;c=this;return this.Qr().then(function(f){return c.Rgb.vo(c.ia,f.profile,b,a);})["catch"](function(a){c.ia.error("PBO manifest failed",a);return Promise.reject(a);});};c=b;c=g.__decorate([f.L(),g.__param(0,f.l(h.Cha)),g.__param(1,f.l(p.kb)),g.__param(2,f.l(a.Wq))],c);d.HMa=c;},function(g,d,a){var f,h,p;function b(a){this.Bfb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(124);p=a(213);b.prototype.decode=function(a){var b;b=this.Qbb(a.cdns);b={movieId:a.movieId,packageId:a.packageId,duration:a.runtime,locations:this.Q5(a.locations),servers:b,audio_tracks:this.getAudioTracks(a.audioTracks),video_tracks:this.getVideoTracks(a.videoTracks,a.videoEncrypted?a.psshb64:void 0),cdnResponseData:a.cdnResponseData,isSupplemental:a.isSupplemental,choiceMap:a.branchMap,watermarkInfo:a.watermark,drmVersion:0,playbackContextId:a.playbackContextId,bookmark:a.bookmark.position/1E3,hasDrmProfile:!0,hasDrmStreams:a.videoEncrypted,hasClearProfile:!1,hasClearStreams:!a.videoEncrypted,defaultTrackOrderList:this.P$a(a),timedtexttracks:this.hcb(a.textTracks,b),media:this.pD(a.media),trickplays:this.ncb(a.trickPlayTracks),drmContextId:a.drmContextId,dpsid:null,isBranching:!!a.branchMap,clientIpAddress:a.clientIpAddress,drmType:"",expiration:this.iab(a),initialHeader:void 0,nf:this.Bfb()};b.Rz=a.Rz;b.CE=a.CE;b.nf.PYa(b);return b;};b.prototype.P$a=function(a){var b,c,f;b=P(a.defaultMedia.split("|"));c=b.next().value;f=b.next().value;b=b.next().value;return[{mediaId:a.defaultMedia,audioTrackId:c,videoTrackId:f,subtitleTrackId:b,preferenceOrder:0}];};b.prototype.Q5=function(a){return a?a.map(function(a){return{key:a.id,rank:a.rank,level:a.level,weight:a.weight};}):[];};b.prototype.Qbb=function(a){return a?a.map(function(a){return{name:a.name,type:a.type,id:Number(a.id),key:a.locationId,rank:a.rank,lowgrade:a.isLowgrade};}):[];};b.prototype.Xta=function(a){return Object.keys(a).map(function(b){return{cdn_id:Number(b),url:a[b]};});};b.prototype.getAudioTracks=function(a){var b;b=this;return a?a.map(function(a){var c;c=a.downloadables;return{type:0,channels:a.channels,language:a.bcp47,languageDescription:a.language,trackType:a.trackType,streams:b.f$a(c,a),channelsFormat:a.channelsLabel,surroundFormatLabel:a.channelsLabel,profile:c&&c.length?c[0].contentProfile:void 0,rawTrackType:a.trackType.toLowerCase(),new_track_id:a.id,track_id:a.id,id:a.id,disallowedSubtitleTracks:[],defaultTimedText:null,isNative:!1,profileType:"",stereo:!1,codecName:"AAC"};}):[];};b.prototype.f$a=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:0,trackType:b.trackType,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,language:b.bcp47,urls:c.Xta(a.urls),isDrm:!!a.isEncrypted,new_stream_id:a.id,size:a.size,channels:b.channels,channelsFormat:"2.0",surroundFormatLabel:"2.0",audioKey:null};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.getVideoTracks=function(a,b){var c;c=this;return a?a.map(function(a){return{type:1,trackType:"PRIMARY",streams:c.ucb(a.downloadables,a.trackType),profile:"",new_track_id:a.id,track_id:a.id,dimensionsCount:2,dimensionsLabel:"2D",drmHeader:b&&b.length?{bytes:b[0],checksum:"",keyId:b[0].substr(b.length-25)}:void 0,prkDrmHeaders:void 0,flavor:void 0,ict:!1,profileType:"",stereo:!1,maxWidth:0,maxHeight:0,pixelAspectX:1,pixelAspectY:1,max_framerate_value:0,max_framerate_scale:256,minCroppedWidth:0,minCroppedHeight:0,minCroppedX:0,minCroppedY:0,maxCroppedWidth:0,maxCroppedHeight:0,maxCroppedX:0,maxCroppedY:0,minWidth:0,minHeight:0};}):[];};b.prototype.ucb=function(a,b){var c;c=this;return a?(a=a.map(function(a){return{type:1,trackType:b,content_profile:a.contentProfile,downloadable_id:a.downloadableId,bitrate:a.bitrate,urls:c.Xta(a.urls),pix_w:a.width,pix_h:a.height,res_w:a.width,res_h:a.height,hdcp:a.hdcpVersions,vmaf:a.vmaf,size:a.size,isDrm:a.isEncrypted,new_stream_id:"0",peakBitrate:0,dimensionsCount:2,dimensionsLabel:"2D",startByteOffset:0,framerate_value:a.framerate_value,framerate_scale:a.framerate_scale,crop_x:a.cropParamsX,crop_y:a.cropParamsY,crop_w:a.cropParamsWidth,crop_h:a.cropParamsHeight};}),a.sort(function(a,b){return a.bitrate-b.bitrate;}),a):[];};b.prototype.hcb=function(a,b){var c;c=this;return a?a.map(function(a){return{type:"timedtext",trackType:"SUBTITLES"===a.trackType?"PRIMARY":"ASSISTIVE",rawTrackType:a.trackType.toLowerCase(),language:a.bcp47||null,languageDescription:a.language,new_track_id:a.id,id:a.id,isNoneTrack:a.isNone,isForcedNarrative:a.isForced,downloadableIds:c.ccb(a.downloadables),ttDownloadables:c.dcb(a.downloadables),isLanguageLeftToRight:!!a.isLanguageLeftToRight,cdnlist:b};}):[];};b.prototype.ccb=function(a){return a?a.reduce(function(a,b){a[b.contentProfile]=b.downloadableId;return a;},{}):{};};b.prototype.sbb=function(a){var b;b=p.XZ.W5();a=a.filter(function(a){return a.isImage;});return 0===a.length?b:0<a.filter(function(a){return a.pixHeight===b;}).length?b:Math.min.apply(Math,[].concat(ga(a.map(function(a){return a.pixHeight;}))));};b.prototype.dcb=function(a){var b;if(a){b=this.sbb(a);return a.reduce(function(a,c){c.isImage&&c.pixHeight!==b||(a[c.contentProfile]={size:c.size,textKey:null,isImage:c.isImage,midxOffset:c.offset,height:c.pixHeight,width:c.pixWidth,downloadUrls:c.urls,hashValue:"",hashAlgo:"sha1",midxSize:void 0});return a;},{});}return{};};b.prototype.pD=function(a){return a?a.map(function(a){return{id:a.mediaId,tracks:{AUDIO:a.tracks.find(function(a){return"AUDIO"===a.type;}).id,VIDEO:a.tracks.find(function(a){return"VIDEO"===a.type;}).id,TEXT:a.tracks.find(function(a){return"TEXT"===a.type;}).id}};}):[];};b.prototype.ncb=function(a){var b;if(a){b=[];a.map(function(a){a.downloadables.map(function(a){b.push({downloadable_id:a.downloadableId,size:a.size,urls:Object.keys(a.urls).map(function(b){return a.urls[b];}),id:a.id,interval:a.interval,pixelsAspectY:a.pixWidth,pixelsAspectX:a.pixHeight,width:a.resWidth,height:a.resHeight});});});return b;}return[];};b.prototype.iab=function(a){var b;b=0;a.videoTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});a.audioTracks.forEach(function(a){a.downloadables&&a.downloadables.forEach(function(a){b=b?Math.min(a.validFor,b):a.validFor;});});return a.clientGenesis+1E3*b;};b.prototype.encode=function(){throw Error("encode not supported");};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(h.sG))],a);d.IMa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.tSa="CAUSwwUKvQIIAxIQ5US6QAvBDzfTtjb4tU/7QxiH8c+TBSKOAjCCAQoCggEBAObzvlu2hZRsapAPx4Aa4GUZj4/GjxgXUtBH4THSkM40x63wQeyVxlEEo1D/T1FkVM/S+tiKbJiIGaT0Yb5LTAHcJEhODB40TXlwPfcxBjJLfOkF3jP6wIlqbb6OPVkDi6KMTZ3EYL6BEFGfD1ag/LDsPxG6EZIn3k4S3ODcej6YSzG4TnGD0szj5m6uj/2azPZsWAlSNBRUejmP6Tiota7g5u6AWZz0MsgCiEvnxRHmTRee+LO6U4dswzF3Odr2XBPD/hIAtp0RX8JlcGazBS0GABMMo2qNfCiSiGdyl2xZJq4fq99LoVfCLNChkn1N2NIYLrStQHa35pgObvhwi7ECAwEAAToQdGVzdC5uZXRmbGl4LmNvbRKAA4TTLzJbDZaKfozb9vDv5qpW5A/DNL9gbnJJi/AIZB3QOW2veGmKT3xaKNQ4NSvo/EyfVlhc4ujd4QPrFgYztGLNrxeyRF0J8XzGOPsvv9Mc9uLHKfiZQuy21KZYWF7HNedJ4qpAe6gqZ6uq7Se7f2JbelzENX8rsTpppKvkgPRIKLspFwv0EJQLPWD1zjew2PjoGEwJYlKbSbHVcUNygplaGmPkUCBThDh7p/5Lx5ff2d/oPpIlFvhqntmfOfumt4i+ZL3fFaObvkjpQFVAajqmfipY0KAtiUYYJAJSbm2DnrqP7+DmO9hmRMm9uJkXC2MxbmeNtJHAHdbgKsqjLHDiqwk1JplFMoC9KNMp2pUNdX9TkcrtJoEDqIn3zX9p+itdt3a9mVFc7/ZL4xpraYdQvOwP5LmXj9galK3s+eQJ7bkX6cCi+2X+iBmCMx4R0XJ3/1gxiM5LiStibCnfInub1nNgJDojxFA3jH/IuUcblEf/5Y0s1SzokBnR8V0KbA==";d.FJa="MIIE2jCCA8KgAwIBAgIIBRGnbPd8z1YwDQYJKoZIhvcNAQEFBQAwfzELMAkGA1UEBhMCVVMxEzARBgNVBAoMCkFwcGxlIEluYy4xJjAkBgNVBAsMHUFwcGxlIENlcnRpZmljYXRpb24gQXV0aG9yaXR5MTMwMQYDVQQDDCpBcHBsZSBLZXkgU2VydmljZXMgQ2VydGlmaWNhdGlvbiBBdXRob3JpdHkwHhcNMTMwMzI3MjEyNjU2WhcNMTUwMzI4MjEyNjU2WjBjMQswCQYDVQQGEwJVUzEUMBIGA1UECgwLTmV0ZmxpeC5jb20xDDAKBgNVBAsMA0VEUzEwMC4GA1UEAwwnRlBTIEFwcGxpY2F0aW9uIENlcnRpZmljYXRlICgyMDEzIHYxLjApMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDfaIdDptThILsQcAbDMvT5FpK4JNn/BnHAY++rS9OFfhg5R4pV7CI+UMZeC64TFJJZciq6dX4/Vh7JDDULooAeZxlOLqJB4v+KDMpFS6VsRPweeMRSCE5rQffF5HoRKx682Kw4Ltv2PTxE3M16ktYCOxq+/7fxevMt3uII+2V0tQIDAQABo4IB+DCCAfQwHQYDVR0OBBYEFDuQUJCSl+l2UeybrEfNbUR1JcwSMAwGA1UdEwEB/wQCMAAwHwYDVR0jBBgwFoAUY+RHVMuFcVlGLIOszEQxZGcDLL4wgeIGA1UdIASB2jCB1zCB1AYJKoZIhvdjZAUBMIHGMIHDBggrBgEFBQcCAjCBtgyBs1JlbGlhbmNlIG9uIHRoaXMgY2VydGlmaWNhdGUgYnkgYW55IHBhcnR5IGFzc3VtZXMgYWNjZXB0YW5jZSBvZiB0aGUgdGhlbiBhcHBsaWNhYmxlIHN0YW5kYXJkIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHVzZSwgY2VydGlmaWNhdGUgcG9saWN5IGFuZCBjZXJ0aWZpY2F0aW9uIHByYWN0aWNlIHN0YXRlbWVudHMuMDUGA1UdHwQuMCwwKqAooCaGJGh0dHA6Ly9jcmwuYXBwbGUuY29tL2tleXNlcnZpY2VzLmNybDAOBgNVHQ8BAf8EBAMCBSAwLQYLKoZIhvdjZAYNAQMBAf8EGwGcLBpLUU8iNtuBsGfgldUUE/I42u6RKyl8uzBJBgsqhkiG92NkBg0BBAEB/wQ3AV+LX+Xo3O4lI5WzFXfxVrna5jJD1GHioNsMHMKUv97Kx9dCozZVRhmiGdTREdjOptDoUjj2ODANBgkqhkiG9w0BAQUFAAOCAQEAmkGc6tT450ENeFTTmvhyTHfntjWyEpEvsvoubGpqPnbPXhYsaz6U1RuoLkf5q4BkaXVE0yekfKiPa5lOSIYOebyWgDkWBuJDPrQFw8QYreq5T/rteSNQnJS1lAbg5vyLzexLMH7kq47OlCAnUlrI20mvGM71RuU6HlKJIlWIVlId5JZQF2ae0/A6BVZWh35+bQu+iPI1PXjrTVYqtmrV6N+vV8UaHRdKV6rCD648iJebynWZj4Gbgzqw7AX4RE6UwiX0Rgz9ZMM5Vzfgrgk8KxOmsuaP8Kgqf5KWeH/LDa+ocftU7zGz1jO5L999JptFIatsdPyZXnA3xM+QjzBW8w==";},function(g,d,a){var f,h,p,c,k,q,n,u,y;function b(a,b,c,f,d){this.xc=a;this.Hl=b;this.SW=c;this.RT=f;this.Qr=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);p=a(40);c=a(98);k=a(65);q=a(168);n=a(78);u=a(610);a=a(146);b.prototype.Ef=function(a){var b;b=this;return this.Qr().then(function(c){return b.xc.Qu(a.Pp[0].data,[8,4])?{ic:[{id:"ddd",Fv:"cert",LD:void 0}],qK:[{sessionId:"ddd",data:new Uint8Array(b.Hl.decode(u.tSa))}]}:b.xc.Qu(a.Pp[0].data,b.SW.decode("certificate"))?{ic:[{id:"ddd",Fv:"cert",LD:void 0}],qK:[{sessionId:"ddd",data:new Uint8Array(b.Hl.decode(u.FJa))}]}:b.RT.bC(b.K9a(a),c.profile).then(function(a){return b.L9a(a);});});};b.prototype.release=function(a){var b;b=this;return this.Qr().then(function(c){return b.RT.release(b.N9a(a),c.profile).then(function(c){return b.O9a(c,a);});});};b.prototype.K9a=function(a){var b;b=this;return{oa:a.oa,Gf:a.Gf,LR:a.LR,zh:n.Vva(a.zh),po:q.Ln[a.po],Pp:a.Pp.map(function(a){return{sessionId:a.sessionId,dataBase64:b.Hl.encode(a.data)};}),AK:a.AK,nf:a.nf};};b.prototype.N9a=function(a){var b;b={};a.Op&&a.ic[0].id&&(b[a.ic[0].id]=this.Hl.encode(a.Op));return a&&a.Op?{oa:a.oa,ic:a.ic,jpb:b}:{oa:a.oa,ic:a.ic};};b.prototype.L9a=function(a){return{ic:a.ic,qK:a.qK};};b.prototype.O9a=function(a,b){return a&&a.response&&a.response.data&&b.ic[0].id&&(a=a.response.data[b.ic[0].id])?{response:this.Hl.decode(a)}:{};};y=b;y=g.__decorate([f.L(),g.__param(0,f.l(h.Ye)),g.__param(1,f.l(p.Jj)),g.__param(2,f.l(c.ox)),g.__param(3,f.l(a.cG)),g.__param(4,f.l(k.Wq))],y);d.QIa=y;},function(g,d,a){var f,h,p,c,k,q,n;function b(a,b,c,f){this.is=b;this.Uc=c;this.vh=f;this.log=a.ib("IdentityProvider");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);p=a(5);c=a(20);k=a(42);q=a(74);a=a(314);b.prototype.ping=function(a,b){var c;c=this;return this.vh.Jqa?new Promise(function(f,d){c.vh.Jqa(c.Eta(a,b)).then(function(){f();})["catch"](function(a){d(new k.cc(h.K.uZ,a.Y,a.qc,a.aD,a.bv,a.Sk,a.Oa,a.so));});}):Promise.reject(new k.cc(h.K.uZ,h.H.qha));};b.prototype.Yy=function(a,b){var c;c=this;return this.vh.Yy?new Promise(function(f,d){c.vh.Yy(c.Eta(a,b)).then(function(a){f({zu:a.zu,Ch:a.Ch,Gi:a.Gi});})["catch"](function(a){d(new k.cc(h.K.bG,a.Y,a.qc,a.aD,a.bv,a.Sk,a.Oa,a.so));});}):Promise.reject(new k.cc(h.K.bG,h.H.qha));};b.prototype.Eta=function(a,b){a={log:this.log,Uc:this.Uc,profile:a};this.reb(b)&&(a.ry=b.ry,a.password=b.password);this.is.aC(b)&&(a.useNetflixUserAuthData=b);this.is.jj(b)&&(a.Ch=b);return a;};b.prototype.reb=function(a){return void 0===a?!1:this.is.pQ(a)?this.is.jj(a.ry):!1;};n=b;n=g.__decorate([f.L(),g.__param(0,f.l(p.kb)),g.__param(1,f.l(c.de)),g.__param(2,f.l(q.cr)),g.__param(3,f.l(a.Nda))],n);d.kLa=n;},function(g,d,a){var b,f,h,p,c,k,q,n,u,y,l,m;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(314);f=a(433);h=a(612);p=a(432);c=a(611);k=a(609);q=a(160);n=a(608);u=a(187);y=a(146);l=a(607);m=a(606);d.Gmb=new g.Wb(function(a){a(b.Nda).lA(function(){return M._cad_global.controlProtocol;});a(f.Afa).to(h.kLa).$();a(p.iea).to(c.QIa).$();a(q.cZ).to(k.IMa).$();a(q.nga).to(m.DMa).$();a(u.bZ).to(n.HMa).$();a(y.cG).to(l.GLa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.xIb=function(a){return a;};d.Pgb=function(a){return a;};d.yIb=function(a){return Object.assign({},a);};},function(g,d,a){var f,h,p,c,k,q,n,u,y;function b(a,b,c){this.Ta=a;this.nvb=b;this.performance=c;h.Yk(this,"performance");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(48);p=a(614);c=a(34);k=a(37);q=a(41);n=a(1);u=a(318);y=a(3);b.prototype.get=function(a,b,d){var k;k=this;return new Promise(function(g,h){var n,q,u;try{n=k.nvb.create();"withCredentials"in n||h(Error("Missing CORS support"));n.open("GET",a,!0);b&&(n.withCredentials=!0);d&&(n.timeout=d.fa(y.na));q=k.Ta.Qe;u=void 0;n.onreadystatechange=function(){var b;switch(n.readyState){case XMLHttpRequest.HEADERS_RECEIVED:u=k.Ta.Qe.sd(q);break;case XMLHttpRequest.DONE:b=k.Ta.Qe.sd(q);g({body:n.responseText,status:n.status,headers:f.Gkb(n.getAllResponseHeaders()),Wc:k.Xab(a,c.ba(n.responseText.length),b,u)});}};n.send();}catch(D){h(D);}});};b.Gkb=function(a){var b,f,d;b={};a=a.split("\r\n");for(var c=0;c<a.length;c++){f=a[c];d=f.indexOf(": ");0<d&&(b[f.substring(0,d).toLowerCase()]=f.substring(d+2));}return b;};b.prototype.Xab=function(a,b,f,d){b={size:b,duration:f,Uba:d};if(!this.performance||!this.performance.getEntriesByName)return b;f=this.performance.getEntriesByName(a);if(0==f.length&&(f=this.performance.getEntriesByName(a+"/"),0==f.length))return b;a=f[f.length-1];b=p.Pgb(b);a.u5a&&(b.size=c.ba(a.u5a));0<a.duration?b.duration=y.timestamp(a.duration):0<a.startTime&&0<a.responseEnd&&(b.duration=y.timestamp(a.responseEnd-a.startTime));0<a.requestStart&&(b.Gqa=y.timestamp(a.domainLookupEnd-a.domainLookupStart),b.Nba=y.timestamp(a.connectEnd-a.connectStart),b.Uba=y.timestamp(a.responseStart-a.startTime),0===a.secureConnectionStart?b.Yba=y.timestamp(0):void 0!==a.secureConnectionStart&&(f=a.connectEnd-a.secureConnectionStart,b.Yba=y.timestamp(f),b.Nba=y.timestamp(a.connectEnd-a.connectStart-f)));return b;};a=f=b;a=f=g.__decorate([n.L(),g.__param(0,n.l(q.Kj)),g.__param(1,n.l(u.wja)),g.__param(2,n.l(k.DZ)),g.__param(2,n.optional())],a);d.nKa=a;},function(g,d,a){var f,h,p,c,k;function b(a,b){this.is=a;this.json=b;h.Yk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(48);p=a(37);c=a(3);a=a(20);b.prototype.parse=function(a){var f;a=this.json.parse(a);if(!this.is.pQ(a))throw Error("FtlProbe: param: not an object");if(a.next&&!this.is.yH(a.next))throw Error("FtlProbe: param.next: not a positive integer");if(!this.is.yH(a.pulses))throw Error("FtlProbe: param.pulses: not a positive integer");if(a.pulse_delays&&!this.is.Vr(a.pulse_delays))throw Error("FtlProbe: param.pulse_delays: not an array");if(!this.is.yH(a.pulse_timeout))throw Error("FtlProbe: param.pulse_timeout: not a positive integer");if(!this.is.Vr(a.urls))throw Error("FtlProbe: param.urls: not an array");if(!this.is.jj(a.logblob))throw Error("FtlProbe: param.logblob: not a string");if(!this.is.Tx(a.ctx))throw Error("FtlProbe: param.ctx: not an object");for(var b=0;b<a.urls.length;++b){f=a.urls[b];if(!this.is.pQ(f))throw Error("FtlProbe: param.urls["+b+"]: not an object");if(!this.is.vi(f.name))throw Error("FtlProbe: param.urls["+b+"].name: not a string");if(!this.is.vi(f.url))throw Error("FtlProbe: param.urls["+b+"].url: not a string");}return{Pmb:a.pulses,Mza:a.pulse_delays?a.pulse_delays.map(c.zb):[],Omb:c.zb(a.pulse_timeout),Fva:a.next?c.zb(a.next):void 0,Yc:a.urls,l8:a.logblob,context:a.ctx};};k=b;k=g.__decorate([f.L(),g.__param(0,f.l(a.de)),g.__param(1,f.l(p.Mt))],k);d.OJa=k;},function(g,d,a){var f,h,p,c,k,q;function b(a,b){this.Ah=a;this.iz=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);p=a(34);c=a(3);k=a(38);a=a(58);b.prototype.DL=function(a){a=this.iz.Nl("ftlProbeError","info",f.jvb({url:a.url,sc:a.status,pf_err:a.f$},a));this.Ah.vc(a);};b.jvb=function(a,b){b.Wc&&(b=b.Wc,f.Gp(a,"d",b.duration),f.Gp(a,"dns",b.Gqa),f.Gp(a,"tcp",b.Nba),f.Gp(a,"tls",b.Yba),f.Gp(a,"ttfb",b.Uba),a.sz=b.size.fa(p.Kn));return a;};b.Gp=function(a,b,f){f&&(a[b]=f.fa(c.na));return a;};q=f=b;q=f=g.__decorate([h.L(),g.__param(0,h.l(k.Mj)),g.__param(1,h.l(a.On))],q);d.kQa=q;},function(g,d,a){var f,h,p,c,k,q;function b(a,b){this.Ah=a;this.iz=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);p=a(34);c=a(3);k=a(38);a=a(58);b.prototype.DL=function(a){a=this.iz.Nl(a.l8,"info",{ctx:a.context,data:a.data.map(function(a){return{name:a.name,url:a.url,data:a.data.map(function(a){return f.kvb({d:a.Wc.duration.fa(c.na),sc:a.status,sz:a.Wc.size.fa(p.Kn),via:a.Oub,cip:a.m1a,err:a.uy},a);})};})});this.Ah.vc(a);};b.kvb=function(a,b){f.Gp(a,"dns",b.Wc.Gqa);f.Gp(a,"tcp",b.Wc.Nba);f.Gp(a,"tls",b.Wc.Yba);f.Gp(a,"ttfb",b.Wc.Uba);return a;};b.Gp=function(a,b,f){f&&(a[b]=f.fa(c.na));return a;};q=f=b;q=f=g.__decorate([h.L(),g.__param(0,h.l(k.Mj)),g.__param(1,h.l(a.On))],q);d.lQa=q;},function(g,d,a){var f,h,p,c,k,q,n,u;function b(a,b,c,f,d,k,g){this.config=a;this.Cua=b;this.la=c;this.u=f;this.iob=d;this.baa=k;this.Zeb=0;this.ia=g.ib("FTL");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);p=a(3);c=a(30);k=a(5);q=a(316);n=a(315);a=a(167);b.prototype.start=function(){this.config.enabled&&!this.Cq&&(this.Cq=this.la.cg(this.config.rCa,this.GE.bind(this)));};b.prototype.stop=function(){this.Cq&&(this.Cq.cancel(),this.Cq=void 0);};b.prototype.GE=function(){var a,b;a=this;b=""+this.config.endpoint+(-1===this.config.endpoint.indexOf("?")?"?":"&")+"iter="+this.Zeb++;this.bcb(b).then(function(b){return Promise.all(b.Yc.map(function(c){return a.Vcb(b,c.url,c.name);})).then(function(c){0<c.length&&a.iob.DL({data:c,context:b.context,l8:b.l8});}).then(function(){return b;});}).then(function(b){a.Cq&&(b.Fva?a.Cq=a.la.cg(b.Fva,a.GE.bind(a)):a.stop());})["catch"](function(b){return a.ia.error("FTL run failed",b);});};b.prototype.bcb=function(a){var b;b=this;return this.Cua.get(a,!1).then(function(c){var f;if(200!=c.status||null==c.body)return b.baa.DL({url:a,status:c.status,f$:"FTL API request failed",Wc:c.Wc}),Promise.reject(Error("FTL API request failed: "+c.status));f=b.u.parse(c.body);return f instanceof Error?(b.baa.DL({url:a,status:4,f$:"FTL Probe API JSON parsing error",Wc:c.Wc}),Promise.reject(f)):Promise.resolve(f);})["catch"](function(c){c instanceof Error&&(b.baa.DL({url:a,status:0,f$:c.message}),b.ia.error("FTL API call failed",c.message));return Promise.reject(c);});};b.prototype.Vcb=function(a,b,c){var d;d=this;return new Promise(function(k,g){var l;for(var h,n,q,u=[],t={},y=0;y<a.Pmb;t={Ad:t.Ad},++y){t.Ad=y<a.Mza.length?a.Mza[y]:p.sf;l=function(c){return function(){return new Promise(function(k,g){d.la.cg(c.Ad,function(){f.wmb(d.Cua,b,a.Omb).then(function(a){function b(a,b,c){a||(a=c.headers[b]);return a;}h=b(h,"via",a);n=b(n,"x-ftl-probe-data",a);q=b(q,"x-ftl-error",a);k({status:a.status,Wc:a.Wc,Oub:h||"",m1a:n||"",uy:q||""});})["catch"](function(a){g(a);});});});};}(t);u.push(0<y?u[y-1].then(l):l());}Promise.all(u).then(function(a){k({url:b,name:c,data:a});})["catch"](function(a){g(a);});});};b.wmb=function(a,b,c){return a.get(b,!1,c).then(function(a){return Object.assign({},a);});};u=f=b;u=f=g.__decorate([h.L(),g.__param(0,h.l(a.Kea)),g.__param(1,h.l(n.Yea)),g.__param(2,h.l(c.hg)),g.__param(3,h.l(q.Jea)),g.__param(4,h.l(a.qia)),g.__param(5,h.l(a.pia)),g.__param(6,h.l(k.kb))],u);d.QJa=u;},function(g,d,a){var b,f,h,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(619);f=a(618);h=a(617);p=a(616);c=a(615);k=a(316);q=a(315);n=a(167);d.Q9a=new g.Wb(function(a){a(n.Lea).to(b.QJa).$();a(n.qia).to(f.lQa).$();a(n.pia).to(h.kQa).$();a(k.Jea).to(p.OJa).$();a(q.Yea).to(c.nKa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.Ip=a;}a.prototype.PK=function(){var a,f,d;a=this.Ip.Gab();f=this.Ip.Hab();d=this.Ip.Iab();if("number"===typeof a&&"number"===typeof f&&"number"===typeof d)return(d-a)/f;};return a;}();d.GNa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f){this.Ip=a;this.PK=f;}a.prototype.Zaa=function(a){return this.Ip.Zaa(a);};a.prototype.zo=function(){return this.Ip.zo();};a.prototype.fbb=function(){return this.PK.PK();};return a;}();d.FNa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.ewa=a;}a.prototype.Zaa=function(a){try{this.ewa.setItem("gtp",JSON.stringify(a));}catch(f){return!1;}return!0;};a.prototype.eta=function(){var a;try{a=this.ewa.getItem("gtp");if(a)return JSON.parse(a);}catch(f){}};a.prototype.zo=function(){var a;a=this.eta();if(a&&a.tp)return a.tp.a;};a.prototype.Gab=function(){var a;a=this.M5();if(a)return a.p25;};a.prototype.Hab=function(){var a;a=this.M5();if(a)return a.p50;};a.prototype.Iab=function(){var a;a=this.M5();if(a)return a.p75;};a.prototype.M5=function(){var a;a=this.eta();if(a&&(a=a.iqr))return a;};return a;}();d.Zca=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(623);f=a(622);h=a(621);d["default"]=function(a){var c;a=new b.Zca(a);c=new h.GNa(a);return new f.FNa(a,c);};},function(g,d,a){var f,h,p,c;function b(a,b,c){this.config=a;this.kgb=b;this.Nd=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(456);h=a(1);p=a(162);a=a(317);b.prototype.k3=function(){if(this.config.dEa)return this.Nd(this.kgb());};c=b;c=g.__decorate([h.L(),g.__param(0,h.l(f.Nga)),g.__param(1,h.l(p.Mga)),g.__param(2,h.l(a.Oga))],c);d.ENa=c;},function(g,d,a){var f;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.create=function(){return new XMLHttpRequest();};f=b;f=g.__decorate([a.L()],f);d.xSa=f;},function(g,d,a){var b,f,h,p,c,k,q;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(626);f=a(74);h=a(318);p=a(625);c=a(188);k=a(317);q=a(624);d.Mib=new g.Wb(function(a){a(h.wja).to(b.xSa).$();a(f.cr).lA(function(){return M._cad_global.http;});a(c.dO).to(p.ENa).$();a(k.Oga).Eh(q["default"]);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Ke={IEa:"aseexception",JEa:"asereport",vFa:"audioswitch",UFa:"bitraterestriction",VFa:"blockedautoplay",RGa:"cdnsel",TGa:"chgstrm",IIa:"dlreport",JIa:"dlreq",uJa:"endplay",tLa:"intrplay",fNa:"midplay",Uha:"playbackaborted",jQa:"renderstrmswitch",nQa:"repos",qQa:"resumeplay",TQa:"securestop",ZQa:"serversel",hRa:"startplay",iRa:"statechanged",pRa:"subtitleerror",rRa:"subtitleqoe",IRa:"timedtextrebuffer",JRa:"timedtextswitch",PRa:"transition"};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.bhb=function(a,b){var c,k;if(0!==a.length){if(1===a.length)return a[0];for(var f=a[0],d=b(f),g=1;g<a.length;g++){c=a[g];k=b(c);k>d&&(f=c,d=k);}return f;}};},function(g,d,a){var f;function b(a,b,c){a=f.OX.call(this,a,b)||this;a.Ou=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(321);ba(b,f.OX);d.PGa=b;},function(g,d,a){var f,h,p,c,k,q,n,u,y,l,m,x,I,G,N,r,S;function b(a,b,c,f,d,k,g,h,n,q,u,p,t,y,l){this.ZCa=a;this.VQ=b;this.Ah=c;this.Y8=f;this.E4=d;this.dl=k;this.Sd=g;this.KR=h;this.Uc=n;this.config=q;this.Hc=u;this.Ta=p;this.Ba=t;this.platform=y;this.tK=l;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(224);h=a(408);p=a(38);c=a(22);k=a(400);q=a(220);n=a(92);u=a(1);y=a(322);l=a(320);m=a(74);x=a(17);I=a(41);G=a(23);N=a(67);r=a(58);a=a(108);b.prototype.create=function(a,b,c){return new y.ULa(a,b,c,this.ZCa,this.VQ,this.Ah,this.Y8,this.E4,this.dl,this.Sd,this.KR,this.Uc,this.config,this.Hc,this.Ta,this.Ba,this.platform,this.tK);};S=b;S=g.__decorate([u.L(),g.__param(0,u.l(f.a_)),g.__param(1,u.l(h.Eda)),g.__param(2,u.l(p.Mj)),g.__param(3,u.l(k.sga)),g.__param(4,u.l(q.Cea)),g.__param(5,u.l(n.cx)),g.__param(6,u.l(c.Ye)),g.__param(7,u.l(l.fea)),g.__param(8,u.l(m.cr)),g.__param(9,u.l(x.gd)),g.__param(10,u.l(a.gB)),g.__param(11,u.l(I.Kj)),g.__param(12,u.l(G.Je)),g.__param(13,u.l(N.Rn)),g.__param(14,u.l(r.On))],S);d.TLa=S;},function(g,d,a){var f,h,p;function b(a){this.wh=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(34);a=a(93);b.prototype.tgb=function(){var a;a=this.wh()?this.wh().xh.length:40;return h.ba(a+33);};p=b;p=g.__decorate([f.L(),g.__param(0,f.l(a.Lw))],p);d.RLa=p;},function(g,d,a){var h,p,c,k,q,n,u,y,l;function b(a,b,c,f,d,g,h,n,q,u){this.platform=b;this.t3=c;this.type=f;this.severity=d;this.timestamp=g;this.data=h;this.Ba=n;this.data.type=f;this.data.sev=d;this.data.devmod=this.platform.ER;this.data.clver=this.platform.version;a&&a.Lp&&(a.Lp.os&&(this.data.osplatform=a.Lp.os.name,this.data.osver=a.Lp.os.version),this.data.browsername=a.Lp.name,this.data.browserver=a.Lp.version);a.B7&&(this.data.tester=!0);a.uv&&!this.data.groupname&&(this.data.groupname=a.uv);a.qC&&(this.data.groupname=this.data.groupname?this.data.groupname+"|"+a.qC:a.qC);a.pA&&(this.data.uigroupname=a.pA);this.data.uigroupname&&(this.data.groupname=this.data.groupname?this.data.groupname+("|"+this.data.uigroupname):this.data.uigroupname);this.data.appLogSeqNum=this.Ba.Pab();this.data.uniqueLogId=q.ssa();this.data.appId=this.Ba.id;u&&(a=this.Ba.ac(),this.data.soffms=a.sd(u.fl).fa(k.na),this.data.mid=u.M,this.data.lvpi=u.k8,this.data.uiLabel=u.ke,this.data["startup"===f?"playbackxid":"xid"]=u.oa,u.Yz&&(f=u.Yz,(u=u.Yz.split("."))&&1<u.length&&"S"!==u[0][0]&&(f="SABTest"+u[0]+".Cell"+u[1]),this.data.groupname=this.data.groupname?this.data.groupname+"|"+f:f));}function f(a,b,c,f,d,k){this.Ta=a;this.t3=b;this.config=c;this.Ba=f;this.Hub=d;this.platform=k;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(34);p=a(1);c=a(41);k=a(3);q=a(424);n=a(52);u=a(23);y=a(325);a=a(67);f.prototype.Nl=function(a,c,f,d){return new b(this.config,this.platform,this.t3,a,c,this.Ta.Qe,f,this.Ba,this.Hub,d);};l=f;l=g.__decorate([p.L(),g.__param(0,p.l(c.Kj)),g.__param(1,p.l(q.Rda)),g.__param(2,p.l(n.ym)),g.__param(3,p.l(u.Je)),g.__param(4,p.l(y.jja)),g.__param(5,p.l(a.Rn))],l);d.QLa=l;na.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){this.Aoa||(this.Aoa=h.ba(this.t3.encode(this.data).length));return this.Aoa;}}});},function(g,d,a){var f,h,p,c;function b(a){this.config=a;this.hhb=f.ba(5E5);this.Apb=h.l9(1);this.cBa=h.xg(5);this.Pwa=f.ba(1E6);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(34);h=a(3);p=a(1);a=a(17);na.Object.defineProperties(b.prototype,{Nqb:{configurable:!0,enumerable:!0,get:function(){return this.config().Oqb;}},j8:{configurable:!0,enumerable:!0,get:function(){return this.config().j8;}},s1:{configurable:!0,enumerable:!0,get:function(){return this.config().s1;}}});c=b;c=g.__decorate([p.L(),g.__param(0,p.l(a.gd))],c);d.JLa=c;},function(g,d,a){var f,h,p;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(189);p=a(34);b.prototype.measure=function(a){var b;b=this;return a.map(function(a){return a.size.add(b.config.tgb());}).reduce(function(a,b){return a.add(b);},p.ba(0));};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(h.Zfa))],a);d.SLa=a;},function(g,d,a){var h,p,c,k,q,n,u,y,l,m,x;function b(a,b,c,f,d,k,g,h){this.Ba=a;this.platform=c;this.wh=f;this.json=d;this.xc=k;this.dl=g;this.zgb=h;p.Yk(this,"json");this.ia=b.ib("LogblobSender");}function f(){this.entries=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);p=a(48);c=a(37);k=a(3);q=a(22);n=a(23);u=a(67);y=a(93);l=a(5);m=a(326);a=a(92);b.prototype.send=function(a,b){var c;c=this;return new Promise(function(a,d){var k;try{k=b.reduce(function(a,b){a.entries.push(c.m4a(b));return a;},new f());a(c.V9a(k));}catch(D){c.ia.error(D.message);d(D);}}).then(function(b){return c.PE(b,a);});};b.prototype.m4a=function(a){return this.xc.$k(this.xc.$k({},a.data),{esn:this.wh().xh,sev:a.severity,type:a.type,lver:this.platform.mwa,jssid:this.Ba.id,devmod:this.platform.ER,jsoffms:a.timestamp.sd(this.Ba.Vy).fa(k.na),clienttime:a.timestamp.fa(k.na),client_utc:a.timestamp.fa(k.Em),uiver:this.dl.oF});};b.prototype.V9a=function(a){var b;b=this;try{return this.json.stringify(a);}catch(S){for(var c={},f=0;f<a.entries.length;c={iM:c.iM,Yd:c.Yd},++f){c.Yd=Object.assign({},a.entries[f]);try{this.json.stringify(c.Yd);}catch(V){c.iM=void 0;this.xc.av(c.Yd,function(a){return function(c,f){try{b.json.stringify(f);}catch(ca){a.iM=ca.message;a.Yd[c]=a.iM;}};}(c));c.Yd.stringifyException=c.iM;c.Yd.originalType=c.Yd.type;c.Yd.type="debug";c.Yd.sev="error";}}return this.json.stringify(a);}};b.prototype.PE=function(a,b){var c;c=this;return this.zgb.Sf(this.ia,b,{logblobs:a}).then(function(){})["catch"](function(a){c.ia.error("PBO logblob failed",a);return Promise.reject(a);});};x=b;x=g.__decorate([h.L(),g.__param(0,h.l(n.Je)),g.__param(1,h.l(l.kb)),g.__param(2,h.l(u.Rn)),g.__param(3,h.l(y.Lw)),g.__param(4,h.l(c.Mt)),g.__param(5,h.l(q.Ye)),g.__param(6,h.l(a.cx)),g.__param(7,h.l(m.Bha))],x);d.VLa=x;},function(g,d,a){var f,h,p;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(3);p=a(34);b.prototype.decode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:h.zb(a.timestamp),size:p.ba(a.size)};};b.prototype.encode=function(a){return{data:a.data,type:a.type,severity:a.severity,timestamp:a.timestamp.fa(h.na),size:a.size.fa(p.Kn)};};a=b;a=g.__decorate([f.L()],a);d.PLa=a;},function(g,d,a){var f,h,p,c,k,q,n,u,y,l,m,x,I,G;function b(a,b,c,f,d,k,g,n){var q;q=this;this.la=a;this.Ag=b;this.wv=f;this.oq=d;this.config=k;this.Ue=g;this.json=n;this.z3=[];h.Yk(this,"json");this.ia=this.Ue.ib("MessageQueue");this.$u=new x.bNa(this.oq);c().then(function(a){q.Lg=a;q.data=new m.cNa(q.oq,a.profile);q.egb(a);})["catch"](function(a){q.ia.error("AccountManagerProvider threw an exception.",a);});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(48);p=a(34);c=a(116);k=a(189);q=a(30);n=a(5);u=a(65);y=a(38);l=a(56);m=a(328);x=a(328);I=a(37);G=a(2);b.prototype.Sr=function(a,b,c){var f;try{f={data:this.json.parse(this.json.stringify(a.data)),severity:a.severity,size:a.size,timestamp:a.timestamp,type:a.type};this.data&&c?(this.data.Sr(c.id,this.qta(b),"logblobs",f),this.ora()):this.z3.push(f);}catch(D){b={};(c=a.data.debugMessage)&&"string"===typeof c&&(b.originalDebugMessage=c);(a=a.data.debugCategory)&&"string"===typeof a&&(b.originalDebugCategory=a);this.ia.error("JSON.stringify error: "+D.message,b);}};b.prototype.Mz=function(a){this.data.Mz(a);this.ora();};b.prototype.p$a=function(){var a,b,c,u;a=[];if(this.data){b=this.config.Pwa.to(p.Kn);for(c in this.data.Zd)for(var f=this.qv(c),d=this.data.Zd[c],k=[],g=[],h=p.ba(0),q=0;q<d.Zd.length;q++){u=d.Zd[q];k.push(u.message);g.push(u.id);h=h.add(this.oq.measure([u.message]));if(0<=h.Nk(b)||q+1===d.Zd.length)this.ia.trace("Batch_"+a.length+": "+k.length+"/"+h,n.Mw),a.push({profile:f,Gua:g.slice(),Zd:k.slice(),size:h}),k=[],g=[],h=p.ba(0);}}return a;};b.prototype.egb=function(a){var b;b=this;this.config.cBa.qva()&&(this.Bna=this.Ag.create(),this.Bna.then(function(a){return a.load("messages");}).then(function(a){b.cgb(a.value);})["catch"](function(a){a.Y===G.H.Sn?b.ia.info("No messages to load."):b.ia.error("Failed to load messages.",a);}));this.z3.forEach(function(c){b.data.Sr(a.profile.id,b.qta(!1),"logblobs",c);});this.z3=[];};b.prototype.cgb=function(a){var b,c,f;b=this;try{c=this.$u.decode(a);f=this.Lg.qv(c.rQ);if(f&&f.Oh.id===this.data.rQ){this.ia.trace("Loading messageQueue.");a={};for(var d in c.Zd)a.profileId=d,c.Zd[a.profileId].Zd.forEach(function(a){return function(c){c.message.data.loadedLogBlobFromPersistence=!0;b.data.Sr(a.profileId,c.id,c.url,c.message);};}(a)),a={profileId:a.profileId};}else this.ia.trace("AcountId does not match, ignoring persisted messages.");}catch(Q){this.ia.error("Load messageQueue failed.",Q);}};b.prototype.Uob=function(){var a,b;a=this;b=this.$u.encode(this.data);this.Bna.then(function(a){return a.save("messages",b,!1);}).then(function(){a.ia.info("MessageQueue: Saved",n.Mw);})["catch"](function(b){a.ia.error("Failed to save messages.",b);});};b.prototype.zrb=function(){this.NV&&(this.NV.cancel(),this.NV=void 0);};b.prototype.ora=function(){this.config.Nqb&&!this.NV&&(this.NV=this.la.cg(this.config.cBa,this.Yjb.bind(this)));};b.prototype.Yjb=function(){this.zrb();this.Uob();};b.prototype.qta=function(a){return a?this.wv.BC():0;};b.prototype.qv=function(a){return this.Lg.qv(a)||this.Lg.profile;};na.Object.defineProperties(b.prototype,{size:{configurable:!0,enumerable:!0,get:function(){var a;a=p.ba(0);if(this.data)for(var b in this.data.Zd)a=a.add(this.data.Zd[b].size);return a;}}});a=b;a=g.__decorate([f.L(),g.__param(0,f.l(q.hg)),g.__param(1,f.l(l.Hn)),g.__param(2,f.l(u.Wq)),g.__param(3,f.l(c.MA)),g.__param(4,f.l(k.$fa)),g.__param(5,f.l(y.YY)),g.__param(6,f.l(n.kb)),g.__param(7,f.l(I.Mt))],a);d.dNa=a;},function(g,d,a){var f,h,p,c,k,q,n,u,y,l,K;function b(a,b,c,f,d,k,g,q){var u;u=this;this.config=a;this.json=c;this.la=f;this.pgb=d;this.DK=g;this.rR=q;this.CT=this.DT=this.hn=!1;this.listeners=[];h.Yk(this,"json");this.ia=k.ib("LogBatcher");this.ws();b().then(function(a){u.Lg=a;u.Lg.DT().subscribe(function(a){return u.DT=a;});})["catch"](function(a){u.ia.error("Unable to initialize the account manager for the log batcher",a,n.Mw);});}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);g=a(1);h=a(48);p=a(37);c=a(330);k=a(65);q=a(30);n=a(5);u=a(38);y=a(329);l=a(2);K=a(72);a(148);d.vzb=function(a,b,c){this.name=a;this.message=void 0===b?a:b;this.cause=c;};b.prototype.gc=function(){this.hn=!0;};b.prototype.vc=function(a,b,c){var f;b=void 0===b?!1:b;f=this;0<a.size.Nk(this.config.hhb)?this.ia.error("Logblob is too large, dropping from the queue",{logblobType:a.type,logblobSize:a.size.toString()}):(!c&&this.Lg&&(c=this.Lg.profile),this.listeners.forEach(function(b){return b.jxa(a);}),b=b||0<=this.config.j8.indexOf(a.type),this.DK.Sr(a,b,c),this.la.Ib(function(){f.n9a();}));};b.prototype.flush=function(a){var b;a=void 0===a?!1:a;b=this;return this.CT?(this.ia.trace("LogBatcher is in error state, ignoring flush"),Promise.reject()):new Promise(function(c,f){b.ia.trace("Flushing",n.Mw);b.Xg();b.la.Ib(function(){b.Naa(a).then(function(){c();})["catch"](function(){f();});});});};b.prototype.addListener=function(a){this.listeners.push(a);};b.prototype.removeListener=function(a){a=this.listeners.indexOf(a);0<=a&&this.listeners.splice(a,1);};b.prototype.Naa=function(a){a=void 0===a?!1:a;return f.__awaiter(this,void 0,void 0,function(){var c,f,d,k,g,h,q,u,p,t,y;function b(b){for(;;)switch(c){case 0:p=t;if(t.hn&&t.DT){c=1;break;}c=-1;return{value:void 0,done:!0};case 1:if(!t.CT){c=2;break;}t.ia.trace("LogBatcher is in error state, ignoring sendLogMessages");c=-1;return{value:void 0,done:!0};case 2:u=t.DK.p$a();q=!1;if(!(0<u.length||a)){c=3;break;}t.Xg();t.listeners.forEach(function(a){return a.CBa();});h={};g=P(u);k=g.next();case 4:if(k.done){c=6;break;}h.cs=k.value;try{return t.Mz(h.cs),t.ia.trace("Sending batch: "+h.cs.size,n.Mw),c=9,{value:t.pgb.send(h.cs.profile,h.cs.Zd),done:!1};}catch(Y){d=Y;c=7;break;}case 9:try{if(void 0===b){c=10;break;}c=-1;throw b;}catch(Y){d=Y;c=7;break;}case 10:try{c=8;break;}catch(Y){d=Y;c=7;break;}case 7:f=d;q=!0;t.ia.warn("Failed to send logblobs.",f,n.Mw);t.Iqb(f)&&(t.ia.trace("re-adding failed batch"),h.cs.Zd.forEach(function(a){return function(b,c){p.DK.Sr(b,0!==a.cs.Gua[c],a.cs.profile);};}(h)));if(!t.Rqb(f)){c=11;break;}t.CT=!0;c=6;break;case 11:case 8:case 5:h={cs:h.cs};k=g.next();c=4;break;case 6:case 3:t.ws();if(!q){c=12;break;}c=-1;throw Error("Send failure.");case 12:c=-1;default:return{value:void 0,done:!0};}}c=0;t=this;y={next:function(){return b(void 0);},"throw":function(a){return b(a);},"return":function(){throw Error("Not yet implemented");}};m();y[Symbol.iterator]=function(){return this;};return y;});};b.prototype.Iqb=function(a){return a.Tf===l.OY.rha?!1:this.config.s1;};b.prototype.Rqb=function(a){return a.Bc===l.H.Nea||a.Bc===l.H.VF||a.Bc===l.H.IA?!0:!1;};b.prototype.n9a=function(){var a;a=this;0<this.DK.size.Nk(this.config.Pwa)?this.Naa()["catch"](function(){return a.ia.warn("failed to send log messages on size threshold");}):this.ws();};b.prototype.Xg=function(){this.Sy&&(this.Sy.cancel(),this.Sy=void 0);};b.prototype.ws=function(){this.Sy||(this.Sy=this.la.cg(this.config.Apb,this.Ss.bind(this)));};b.prototype.Ss=function(){var a;a=this;this.CT=!1;this.Xg();this.Naa()["catch"](function(){return a.ia.warn("failed to send log messages on timer");});};b.prototype.Mz=function(a){this.DK.Mz(a.Gua);};b.prototype.stringify=function(a){var b;b="";try{b=this.json.stringify(a.data,void 0,"  ");}catch(G){}return b;};a=b;a=f.__decorate([g.L(),f.__param(0,g.l(u.YY)),f.__param(1,g.l(k.Wq)),f.__param(2,g.l(p.Mt)),f.__param(3,g.l(q.hg)),f.__param(4,g.l(c.bga)),f.__param(5,g.l(n.kb)),f.__param(6,g.l(y.Bga)),f.__param(7,g.l(K.JF))],a);d.KLa=a;},function(g,d,a){var f,h,p,c,k,q,n;function b(a,b,c,d){var k;k=this;this.Cgb=a;this.tK=b;this.config=d;this.V$=[];this.Cgb.yV(f.EEa,this.Jcb.bind(this));c().then(function(a){var b;b=d().Og.z9a;k.khb=b?n.Ih[b.toUpperCase()]:n.Ih.ERROR;k.Ah=a;k.Dpb();});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);p=a(17);c=a(95);k=a(38);q=a(58);n=a(5);b.prototype.Jcb=function(a,b){this.Ah?this.Pza(a,b):this.V$.push([a,b]);};b.prototype.Dpb=function(){var a,b;a=this;b=this.V$;this.V$=[];b.forEach(function(b){a.Pza(b[0],b[1]);});};b.prototype.Pza=function(a,b){var c;if(this.Ah&&this.Kqb(a)){c={debugMessage:a.message,debugCategory:a.Wm};a.pd.forEach(function(a){return c=Object.assign({},c,a.value);});c=Object.assign({},c,{prefix:"debug"});a=this.tK.Nl("debug",n.Ih[a.level].toLowerCase(),c,b);this.Ah.vc(a);}};b.prototype.Kqb=function(a){var b;b=this.khb;return void 0!==b&&a.level<=b&&!a.pd.find(function(a){return a.$I(n.Mw);});};a=f=b;a.EEa="adaptorAll";a=f=g.__decorate([h.L(),g.__param(0,h.l(c.NA)),g.__param(1,h.l(q.On)),g.__param(2,h.l(k.Vfa)),g.__param(3,h.l(p.gd))],a);d.dFa=a;},function(g,d,a){var b,f,h,p,c,k,q,n,u,y,l,m,x,I,G,N,r,S,V,D,Q,W;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(100);f=a(640);h=a(639);p=a(638);c=a(636);k=a(635);q=a(17);n=a(634);u=a(633);y=a(632);l=a(30);m=a(93);x=a(324);I=a(329);G=a(330);N=a(58);r=a(189);S=a(38);V=a(323);D=a(631);Q=a(320);W=a(319);d.Agb=new g.Wb(function(a){a(S.Mj).to(h.KLa).$();a(I.Bga).to(p.dNa).$();a(G.bga).to(c.VLa).$();a(r.$fa).to(k.SLa).$();a(S.YY).to(n.JLa).$();a(N.On).to(u.QLa).$();a(r.Zfa).to(y.RLa).$();a(V.aga).to(D.TLa).$();a(Q.fea).to(W.KIa).$();a(x.Yca).to(f.dFa).$();a(S.Vfa).EM(function(a){return function(){return new Promise(function(c){var d,k,g,h;function f(){k()&&g()&&h.Ff?c(a.$b.get(S.Mj)):d.Ib(f);}d=a.$b.get(l.hg);k=a.$b.get(q.gd);g=a.$b.get(m.Lw);h=a.$b.get(b.ax);d.Ib(f);});};});});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.CIa=function(a,b,f){this.xh=a;this.cn=b;this.dD=f;};},function(g,d,a){var f,h,p,c,k,q,n,u,y,l,m,x,I,G;function b(a,b,c,f,d,k,g,h,n,q){this.zqa=a;this.Ag=b;this.Da=f;this.s3=d;this.he=k;this.debug=g;this.RM=h;this.r3=n;this.Zkb=q;this.NF=/^(SDK-|SLW32-|SLW64-|SLMAC-|WWW-BROWSE-|.{10})([A-Z0-9-=]{4,})$/;this.log=c.ib("Device");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(2);h=a(20);p=a(642);c=a(5);k=a(336);q=a(40);n=a(88);u=a(22);y=a(1);l=a(56);m=a(333);x=a(332);I=a(86);a=a(331);b.prototype.zra=function(a){try{return a.match(this.NF)[2];}catch(T){}};b.prototype.Bra=function(a){try{return a.match(this.NF)[1];}catch(T){}};b.prototype.create=function(a){var b;b=this;return new Promise(function(c,d){b.Ag.create().then(function(k){var h,n,q,u,t,y;function g(a){b.Da.jj(a)&&b.Da.jj(h)?(n=new p.CIa(a,h,q),c(n)):d({Y:f.H.Uda});}h=a.cn;if(a.z5)q="bind_device",b.Zkb.Sf(b.log,void 0,{}).then(function(a){g(a.esn);})["catch"](function(a){d(a);});else if(a.m5){t=a.xh;if(b.Da.jj(t)){y=b.Bra(t);y!=a.cn&&b.log.error("esn prefix from ui is different",{ui:y,cad:a.cn,ua:a.userAgent});}else a.g8&&b.log.error("esn from ui is missing");y=Promise.resolve({X:!1});a.uJ&&(y=b.$fb(k,a));y.then(function(c){c.X&&c.dD&&c.deviceId?(q=c.dD,g(h+c.deviceId)):k.load(a.DR).then(function(a){u=a.value;b.Da.jj(u)&&(b.Da.jj(t)?(a=b.zra(t),q=a===u?"storage_matched_esn_in_config":"storage_did_not_match_esn_in_config"):q="storage_esn_not_in_config",g(h+u));})["catch"](function(c){var u;function n(){k.save(a.DR,u,!1).then(function(){g(h+u);})["catch"](function(a){d(a);});}c.Y===f.H.Sn?(b.Da.jj(a.xh)?(u=b.zra(a.xh),b.Da.jj(u)?q="config_since_not_in_storage":(q="generated_since_invalid_in_config_and_not_in_storage",b.log.error("invalid esn passed from UI",a.xh),u=b.zqa.qsa())):(q="generated_since_not_in_config_and_storage",u=b.zqa.qsa()),n()):d(c);});})["catch"](d);}else a.e6a&&b.s3&&b.s3.getKeyByName?b.s3.getKeyByName(a.i_a).then(function(a){a=a.id;if(b.Da.vi(a))a=String.fromCharCode.apply(void 0,b.he.decode(a)),b.debug.assert(""!=a),h=b.Bra(a),g(a);else throw"ESN from getKeyByName is not a string";})["catch"](function(a){d({Y:f.H.DX,Oa:b.RM.od(a)});}):a.d6a&&b.r3&&b.r3.Ssa?b.r3.Ssa().then(function(a){var c;a=String.fromCharCode.apply(void 0,a);c=h+a;b.debug.assert(b.NF.test(a));g(c);})["catch"](function(){d({Y:f.H.DX});}):g();})["catch"](function(a){d(a);});});};b.prototype.$fb=function(a,b){var c;c=this;return new Promise(function(f,d){c.fgb(a,b).then(function(d){b.eua?c.uJ(b.eua).then(function(k){var g;if(c.Da.vi(k)&&c.NF.test(b.cn+k)){g=Promise.resolve();c.p8a(d,k)&&(g=c.ltb(a,b));g.then(function(){a.save(b.DR,k,!1)["catch"](function(a){c.log.error("Failed to persist hardware esn",{esn:k,exception:c.RM.od(a)});});f({X:!0,deviceId:k,dD:"hardware_deviceid"});})["catch"](function(a){c.log.error("Exception transitioning hesn",{exception:c.RM.od(a)});f({X:!1});});}else c.log.error("Invalid Hardware ESN",{deviceId:k}),f({X:!1});})["catch"](function(a){c.log.error("Exception generating hardwareId",{exception:c.RM.od(a)});f({X:!1});}):(c.log.error("hardwareDeviceId not provided"),f({X:!1}));})["catch"](d);});};b.prototype.fgb=function(a,b){var c;c=this;return new Promise(function(d){a.load(b.DR).then(function(a){a=a.value;c.Da.vi(a)&&c.NF.test(b.cn+a)?d(a):(d(void 0),c.log.error("Invalid ESN Loaded",{deviceId:a}));})["catch"](function(a){a.Y!==f.H.Sn&&c.log.error("Error loading ESN",a);d(void 0);});});};b.prototype.p8a=function(a,b){return a!==b;};b.prototype.ltb=function(a,b){return a.remove(b.Aib);};b.prototype.uJ=function(a){var b;b=this;return new Promise(function(c,f){try{I.Ca.from(a.hardwareDeviceId).cF(1).subscribe(function(a){b.Da.vi(a)?c(a):f("Hardware deviceId was not a string: "+a);},function(a){f(a);});}catch(D){f(D);}});};G=b;G=g.__decorate([y.L(),g.__param(0,y.l(k.cea)),g.__param(1,y.l(l.Hn)),g.__param(2,y.l(c.kb)),g.__param(3,y.l(h.de)),g.__param(4,y.l(x.Qda)),g.__param(5,y.l(q.Jj)),g.__param(6,y.l(n.At)),g.__param(7,y.l(u.Ye)),g.__param(8,y.l(m.Pda)),g.__param(9,y.l(a.uha))],G);d.DIa=G;},function(g,d,a){var f,h,p,c,k,q;function b(a,b){this.Ta=a;this.tL=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(41);h=a(3);p=a(115);c=a(335);k=a(48);a=a(1);b.prototype.qsa=function(){for(var a="",b=this.Ta.Qe.fa(h.na),f=6;f--;)a="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[b%32]+a,b=Math.floor(b/32);for(;30>a.length;)a+="0123456789ACDEFGHJKLMNPQRTUVWXYZ"[this.tL.L$(new c.nia(0,31,k.mjb))];return a;};q=b;q=g.__decorate([a.L(),g.__param(0,a.l(f.Kj)),g.__param(1,a.l(p.wG))],q);d.BIa=q;},function(g,d,a){var b,f,h,p,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(93);f=a(336);h=a(644);p=a(334);c=a(643);d.wh=new g.Wb(function(a){a(b.Lw).Kf(function(){return function(){return M._cad_global.device;};});a(p.dea).to(c.DIa).$();a(f.cea).to(h.BIa).$();});},function(g,d,a){var f,h;function b(a){this.Ff=a;this.FV=0;this.u7=!1;this.Tz=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(100);b.prototype.send=function(a){var b,f,d;b=this;f=!!a.dK&&0!==this.FV;d=this.Tz.some(function(a){return!!a.zU.dK;});return(f||this.u7||d?new Promise(function(c,f){b.Tz.push({zU:a,resolve:c,reject:f});}):this.PE(a)).then(function(a){b.uya();return a;})["catch"](function(a){b.uya();throw a;});};b.prototype.PE=function(a){this.FV++;a.dK&&(this.u7=!0);return this.Ff.send(a);};b.prototype.yBa=function(a){this.PE(a.zU).then(function(b){a.resolve(b);})["catch"](function(b){a.reject(b);});};b.prototype.uya=function(){var a;this.FV--;this.u7=!1;if(0===this.FV&&0<this.Tz.length){a=this.Tz.shift();this.yBa(a);if(!a.zU.dK)for(;0<this.Tz.length&&!this.Tz[0].zU.dK;)this.yBa(this.Tz.shift());}};h=b;h=g.__decorate([f.L(),g.__param(0,f.l(a.ax))],h);d.nNa=h;},function(g,d,a){var f,h,p,c,k,q,n,u,y,l,m,x,I,G,r,T,S,V,D;function b(a,b,c,f,d,k,g,h,n,q,u,t,y,l){this.platform=a;this.config=b;this.zy=c;this.zfb=f;this.he=d;this.Ba=k;this.Ff=g;this.Gpb=h;this.aF=n;this.um=q;this.xc=u;this.tL=t;this.json=y;this.C1=l;this.Ll=[];p.Yk(this,"json");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);p=a(48);c=a(67);k=a(17);q=a(52);n=a(23);u=a(40);y=a(3);l=a(100);m=a(229);x=a(98);I=a(22);G=a(2);r=a(115);T=a(74);S=a(37);V=a(87);a=a(338);b.prototype.send=function(a,b,c,d){var p,t,l,A;function k(b){return new Promise(function(c,f){function d(a){var f,d;function c(a,c){t.error("Failed to send request",{errorSubCode:a,errorExternalCode:c,request:JSON.stringify({method:b.method,profile:b.dm.profile?b.dm.profile.id:void 0,nonReplayable:b.C9,retryCount:b.hw,userId:b.PM,userTokens:JSON.stringify(p.Ff.Ff.getUserIdTokenKeys())})});return{X:!1,result:{errorSubCode:a,errorExternalCode:c}};}f=p.json.parse(a);if(2!=f.length)return t.trace("The MSL envelope did not have enough array items."),c(G.H.fG);if(!f[1].payload)return t.trace("The MSL envelope did not have a payload."),c(G.H.fG);if(!f[1].status)return t.trace("The MSL envelope did not have a status."),c(G.H.fG);a=f[1].status;d=parseInt(a,10);if(isNaN(d)&&"ok"!=a.toLowerCase()||!(200<=d&&300>d))return f=f[1].payload.data,f=p.he.decode(f),t.error("The MSL status indicated an error",{status:d},p.um.encode(f)),c(G.H.jga,a);f=f[1].payload.data;f=p.um.encode(p.he.decode(f));if(!f)return t.trace("The MSL payload is missing."),c(G.H.kga);try{return p.json.parse(f);}catch(Ab){return t.error("EDGE response this.json parse error: ",Ab,f),c(G.H.kga);}}g(b,b.hw).then(function(k){var g,h;if(k.body)if(k=d(k.body),t.trace("Received EDGE response",{Method:a.method}),k.success){if(p.config().Og.H8a&&p.ueb(a)){g=a.jLb;h=k.profileGuid;if(g&&h!==g){k={Y:G.H.SOa,Oa:JSON.stringify({serverGuid:h,clientGuid:g})};u(k,b);f(k);return;}}A.success=!0;A.profileId=b.PM;A.elapsedtime=p.Ba.ac().fa(y.na)-A.starttime;A.userTokens=JSON.stringify(p.Ff.Ff.getUserIdTokenKeys());c(k.result);}else{h=k.result;k.__logs&&(h.CDb=k.__logs);try{g=p.json.stringify(h.data);}catch(rf){}k=u(h,b);f({Y:h.errorSubCode,qc:h.errorExternalCode,aD:h.errorEdgeCode,Oa:h.errorDetails?[h.errorDetails," ",k].join(""):void 0,Sk:h.errorDisplayMessage,so:g});}else f({Y:G.H.fG,Oa:u({Y:G.H.fG},b)});})["catch"](function(a){var c;c=u(a,b);a.Oa&&(a.Oa=[a.Oa," ",c].join(""));f(a);});});}function g(b,c){return new Promise(function(d,k){function g(b,c,q){return p.Gpb.send(b).then(function(a){d(a);})["catch"](function(d){var u,y;y=d&&d.Dj&&void 0!==d.Dj.maxRetries?Math.min(d.Dj.maxRetries,q):q;(p.zy.qaa||h(d))&&c<=y?u=!0:(t.error("Method failed, retry limit exceeded, giving up",{Method:a.method,Attempt:c,MaxRetries:y},f.Bea(d)),u=!1);if(u)return u=d&&d.Dj&&void 0!==d.Dj.retryAfterSeconds?1E3*d.Dj.retryAfterSeconds:p.tL.L$(1E3,1E3*Math.pow(2,Math.min(c-1,y))),t.warn("Method failed, retrying",{Method:a.method,Attempt:c,WaitTime:u,MaxRetries:y},f.Bea(d)),n(u).then(function(){return g(b,c+1,y);});k(d);});}return g(b,1,c);});}function h(a){return(a=a&&a.Y)&&a>=G.H.IA&&a<=G.H.HA;}function n(a){return new Promise(function(b){setTimeout(function(){b();},a);});}function q(){var f,k;f="";c&&(f+=(0<f.length?"&":"")+"logs=true");d&&(f+=(0<f.length?"&":"")+"debug=true");a.languages=p.config().Og.Dz;a.clientVersion=p.platform.version;a.uiVersion=p.config().Og.oF;k={};p.config().Lxa&&(k["X-Netflix.request.expiry.timeout"]=p.config().Lxa.toString());f=[{},{headers:k,path:p.config().Og.Xqa,payload:{data:p.json.stringify(a)},query:f}];p.config().Og&&(t.debug("Request payload",{Method:a.method},p.aF.vW(f)),t.debug("Request parameters",{Method:a.method},p.aF.vW(a)));return{dm:b,method:a.method,url:""+(p.C1.endpoint+p.config().Og.Fxa)+p.platform.cn+"/cadmium/"+a.method,body:p.json.stringify(f),timeout:l.fa(y.na),PM:b.profile?b.profile.id:void 0,gob:!0,C9:!1,Ql:!0,hw:3,dK:a.isExclusive};}function u(a,b){A.success=!1;A.profileId=b.PM;A.elapsedtime=p.Ba.ac().fa(y.na)-A.starttime;A.userTokens=JSON.stringify(p.Ff.Ff.getUserIdTokenKeys());A.subcode=a.errorSubCode||a.Y;A.extcode=a.errorExternalCode||a.qc;t.error("BladeRunner command history",p.aF.vW(p.Ll));return p.json.stringify(p.Ll);}c=void 0===c?!1:c;d=void 0===d?!1:d;p=this;b=this.xc.$k({Uc:this.zfb},b);t=b.log;l=y.xg(59);A={method:a.method,starttime:this.Ba.ac().fa(y.na)};this.Ll.push(A);this.Ll.length>this.config().J_a&&this.Ll.shift();t.trace("Sending EDGE request",{Method:a.method});return new Promise(function(a,b){var c;c=q();k(c).then(function(b){a(b);})["catch"](function(a){var c;c={X:!1};p.xc.$k(c,a,{uq:!0});c.__logs&&(c.__logs=a.__logs);b(c);});});};b.prototype.ueb=function(a){return 0<=["bind","ping"].indexOf(a.method)?!0:!1;};b.Bea=function(a){var b,c,f;b={};c=a.errorExternalCode||a.qc;f=a.errorDetails||a.Oa;b.ErrorSubCode=a.errorSubCode||a.Y||G.H.ki;c&&(b.ErrorExternalCode=c);f&&(b.ErrorDetails=f);return b;};D=f=b;D=f=g.__decorate([h.L(),g.__param(0,h.l(c.Rn)),g.__param(1,h.l(k.gd)),g.__param(2,h.l(q.ym)),g.__param(3,h.l(T.cr)),g.__param(4,h.l(u.Jj)),g.__param(5,h.l(n.Je)),g.__param(6,h.l(l.ax)),g.__param(7,h.l(a.Gga)),g.__param(8,h.l(m.WZ)),g.__param(9,h.l(x.ox)),g.__param(10,h.l(I.Ye)),g.__param(11,h.l(r.wG)),g.__param(12,h.l(S.Mt)),g.__param(13,h.l(V.xt))],D);d.oNa=D;},function(g,d,a){var b,f,h,p,c;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(100);f=a(647);h=a(337);p=a(338);c=a(646);d.vj=new g.Wb(function(a){a(b.ax).lA(function(){return M._cad_global.msl;});a(h.Hga).to(f.oNa).$();a(p.Gga).to(c.nNa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.y4a=function(a,b,f){return{Fta:function(){return a.T5();},ia:b,request:f,Tg:!1};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.V1a={Rv:["minInitVideoBitrate",-Infinity],h9:["minHCInitVideoBitrate",-Infinity],dz:["maxInitVideoBitrate",Infinity],HK:["minInitAudioBitrate",-Infinity],GK:["minHCInitAudioBitrate",-Infinity],wK:["maxInitAudioBitrate",Infinity],mU:["minAcceptableVideoBitrate",-Infinity],rxa:["minAllowedVideoBitrate",-Infinity],Gwa:["maxAllowedVideoBitrate",Infinity],sxa:["minAllowedVmaf",-Infinity],Hwa:["maxAllowedVmaf",Infinity],tW:["streamFilteringRules",{enabled:!1,profiles:["playready-h264mpl40-dash"],action:"keepLowest"}],tU:["minRequiredBuffer",2E4],sU:["minRequiredAudioBuffer",0],Ji:["minPrebufSize",5800],haa:["requireDownloadDataAtBuffering",!1],iaa:["requireSetupConnectionDuringBuffering",!1],T$:["rebufferingFactor",1],lq:["maxBufferingTime",2E3],yca:["useMaxPrebufSize",!0],VD:["maxPrebufSize",4E4],P8:["maxRebufSize",Infinity],N8a:["fastRebufferRecoveryThreshold",Infinity],M8a:["fastRebufferRecoverBwThrehold",3E3],pT:["initialBitrateSelectionCurve",null],Rua:["initSelectionLowerBound",-Infinity],Sua:["initSelectionUpperBound",Infinity],AW:["throughputPercentForAudio",15],X1:["bandwidthMargin",0],Z1:["bandwidthMarginCurve",[{m:20,b:15E3},{m:17,b:3E4},{m:10,b:6E4},{m:5,b:12E4}]],z_a:["bandwidthMarginCurveAudio",{min:.7135376,max:.85,ks:76376,scale:18862.4,gamma:3.0569}],Y1:["bandwidthMarginContinuous",!1],A_a:["bandwidthMarginForAudio",!0],Jba:["switchConfigBasedOnInSessionTput",!0],Y2:["conservBandwidthMargin",20],lI:["conservBandwidthMarginTputThreshold",6E3],Z2:["conservBandwidthMarginCurve",[{m:25,b:15E3},{m:20,b:3E4},{m:15,b:6E4},{m:10,b:12E4},{m:5,b:24E4}]],LCa:["switchAlgoBasedOnHistIQR",!1],uw:["switchConfigBasedOnThroughputHistory","iqr"],O8:["maxPlayerStateToSwitchConfig",-1],q8:["lowEndMarkingCriteria","iqr"],RY:["IQRThreshold",.5],O6:["histIQRCalcToUse","simple"],Um:["bandwidthManifold",{curves:[{min:.05,max:.82,ks:7E4,scale:178E3,gamma:1.16},{min:0,max:.03,ks:15E4,scale:16E4,gamma:3.7}],threshold:14778,gamma:2.1,niqrcurve:{min:1,max:1,center:2,scale:2,gamma:1},filter:"throughput-sw",niqrfilter:"throughput-iqr",simpleScaling:!0}],Ms:["maxTotalBufferLevelPerSession",0],wua:["highWatermarkLevel",3E4],mDa:["toStableThreshold",3E4],GW:["toUnstableThreshold",0],oba:["skipBitrateInUpswitch",!1],Fca:["watermarkLevelForSkipStart",8E3],H6:["highStreamRetentionWindow",9E4],r8:["lowStreamTransitionWindow",51E4],J6:["highStreamRetentionWindowUp",5E5],t8:["lowStreamTransitionWindowUp",1E5],I6:["highStreamRetentionWindowDown",6E5],s8:["lowStreamTransitionWindowDown",0],G6:["highStreamInfeasibleBitrateFactor",.5],$y:["lowestBufForUpswitch",9E3],UT:["lockPeriodAfterDownswitch",15E3],v8:["lowWatermarkLevel",15E3],az:[["lowestWaterMarkLevel","lowestWatermarkLevel"],3E4],y8:["lowestWaterMarkLevelBufferRelaxed",!1],a9:["mediaRate",1.5],R8:["maxTrailingBufferLen",15E3],Q1:["audioBufferTargetAvailableSize",262144],Dca:["videoBufferTargetAvailableSize",1048576],Ywa:["maxVideoTrailingBufferSize",8388608],Kwa:["maxAudioTrailingBufferSize",393216],hS:["fastUpswitchFactor",3],I4:["fastDownswitchFactor",3],cU:["maxMediaBufferAllowed",27E4],Mv:["maxMediaBufferAllowedInBytes",0],lba:["simulatePartialBlocks",!0],iCa:["simulateBufferFull",!0],a3:["considerConnectTime",!0],X2:["connectTimeMultiplier",1],swa:["lowGradeModeEnterThreshold",12E4],twa:["lowGradeModeExitThreshold",9E4],Lwa:["maxDomainFailureWaitDuration",3E4],Iwa:["maxAttemptsOnFailure",18],vra:["exhaustAllLocationsForFailure",!0],Rwa:["maxNetworkErrorsDuringBuffering",20],J8:["maxBufferingTimeAllowedWithNetworkError",6E4],H4:["fastDomainSelectionBwThreshold",2E3],Rba:["throughputProbingEnterThreshold",4E4],YCa:["throughputProbingExitThreshold",34E3],fwa:["locationProbingTimeout",1E4],Ira:["finalLocationSelectionBwThreshold",1E4],WCa:["throughputHighConfidenceLevel",.75],XCa:["throughputLowConfidenceLevel",.4],d8:["locationStatisticsUpdateInterval",6E4],mgb:["locationSelectorPersistFailures",!0],WC:["enablePerfBasedLocationSwitch",!1],CIb:["maxRateMaxFragmentGroups",4500],h$:["pipelineScheduleTimeoutMs",2],ez:["maxPartialBuffersAtBufferingStart",2],i9:["minPendingBufferLen",3E3],Lv:["maxPendingBufferLen",6E3],Aub:["usePtsUpdateAsSignal",!1],XR:["enableRequestPacing",!1],s7a:["enableNginxRateLimit",!1],GU:["nginxSendingRate",4E4],v7a:["enableRequestPacingToken",!1],Jhb:["mediaRequestPacingSpeedBeforePlayback",.5],Ihb:["mediaRequestPacingSpeed",2],j7:["initialMediaRequestToken",2E4],ZT:["maxActiveRequestsSABCell100",2],eU:["maxPendingBufferLenSABCell100",500],GAa:["resetActiveRequestsAtSessionInit",!0],Q8:["maxStreamingSkew",2E3],Ygb:["maxBufferOccupancyForSkewCheck",Infinity],vub:["useBufferOccupancySkipBack",!0],N8:["maxPendingBufferPercentage",10],fz:["maxRequestsInBuffer",120],dT:["headerRequestSize",4096],gdb:["headerCacheEstimateHeaderSize",!1],w9:["neverWipeHeaderCache",!1],hEa:["useSidxInfoFromManifestForHeaderRequestSize",!1],gS:["fastPlayHeaderRequestSize",0],WD:["maxRequestSize",0],IK:["minRequestSize",65536],oU:["minBufferLenForHeaderDownloading",1E4],kCa:["smartHeaderPreDownloading",!1],nJb:["onlyAllowPtsUpdatePolling",!1],jib:["minVideoBufferPoolSizeForSkipbackBuffer",33554432],GV:["reserveForSkipbackBufferMs",15E3],K9:["numExtraFragmentsAllowed",2],rn:["pipelineEnabled",!0],UD:["maxParallelConnections",3],lCa:["socketReceiveBufferSize",0],T1:["audioSocketReceiveBufferSize",32768],YM:["videoSocketReceiveBufferSize",65536],E6:["headersSocketReceiveBufferSize",32768],j9:["minTimeBetweenHeaderRequests",void 0],KW:["updatePtsIntervalMs",1E3],i2:["bufferTraceDenominator",0],mC:["bufferLevelNotifyIntervalMs",2E3],cra:["enableAbortTesting",!1],Qma:["abortRequestFrequency",8],Cba:["streamingStatusIntervalMs",2E3],uE:["prebufferTimeLimit",6E4],pU:["minBufferLevelForTrackSwitch",2E3],u7a:["enablePenaltyForLongConnectTime",!1],b$:["penaltyFactorForLongConnectTime",2],n8:["longConnectTimeThreshold",200],v1:["additionalBufferingLongConnectTime",2E3],w1:["additionalBufferingPerFailure",8E3],zL:["rebufferCheckDuration",6E4],fra:["enableLookaheadHints",!1],pwa:["lookaheadFragments",2],ro:["enableOCSideChannel",!0],A$:["probeRequestTimeoutMilliseconds",3E4],WJb:["probeRequestConnectTimeoutMilliseconds",8E3],eO:["OCSCBufferQuantizationConfig",{lv:5,mx:240}],NDa:["updateDrmRequestOnNetworkFailure",!0],bU:["maxDiffAudioVideoEndPtsMs",1E3],Xgb:["maxAudioFragmentOverlapMs",80],J5a:["deferAseHeaderCache",!1],yR:["deferAseScheduling",!1],Isb:["timeBeforeEndOfStreamBufferMark",6E3],L8:["maxFastPlayBufferInMs",2E4],K8:["maxFastPlayBitThreshold",2E8],Zgb:["maxBufferingCompleteBufferInMs",Infinity],nU:["minAudioMediaRequestSizeBytes",0],vU:["minVideoMediaRequestSizeBytes",0],bE:["minAudioMediaRequestDuration",0],eE:["minVideoMediaRequestDuration",0],qU:["minMediaRequestDuration",0],aib:["minAudioMediaRequestDurationCache",0],mib:["minVideoMediaRequestDurationCache",0],r7a:["enableMultiFragmentRequest",!1],rF:[["useHeaderCache","usehc"],!0],OW:[["useHeaderCacheData","usehcd"],!0],uR:["defaultHeaderCacheSize",4],M3:["defaultHeaderCacheDataCount",4],N3:["defaultHeaderCacheDataPrefetchMs",0],B6:["headerCacheMaxPendingData",6],C6:["headerCachePriorityLimit",5],fdb:["headerCacheAdoptBothAV",!1],yub:["usePipelineForBranchedAudio",!0],gkb:["onlyDriveSingleChild",!1],i1a:["childBranchBatchedAmount",1E4],wU:["minimumTimeBeforeBranchDecision",2E3],ohb:["maxRequestsToAttachOnBranchActivation",void 0],k9:["minimumJustInTimeBufferLevel",3E3],era:["enableJustInTimeAppends",!1],UI:["enableDelayedSeamless",!1],Q_a:["branchEndPtsIntervalMs",250],Hdb:["ignorePtsJustBeforeCurrentSegment",!1],Nwa:["maxFragsForFittableOnBranching",300],Vkb:["pausePlaylistAtEnd",!0],FYa:["adaptiveParallelTimeoutMs",1E3],Zu:["enableAdaptiveParallelStreaming",!1],l6a:["disableBitrateSelectionOnSingleConnection",!1],MQ:["bufferThresholdToSwitchToSingleConnMs",45E3],h2:["bufferThresholdToSwitchToParallelConnMs",35E3],f7a:["enableAPSForBranching",!1],$W:["waitForPendingConnAdaptation",!1],u9:["networkFailureResetWaitMs",2E3],t9:["networkFailureAbandonMs",6E4],gU:["maxThrottledNetworkFailures",5],zW:["throttledNetworkFailureThresholdMs",200],Pr:["abortUnsentBlocks",!0],k1:["abortStreamSelectionPeriod",2E3],S8:["maxUnsentBlocks",2],u8:["lowThroughputThreshold",400],y4:["excludeSessionWithoutHistoryFromLowThroughputThreshold",!1],Hsb:["timeAtEachBitrateRoundRobin",1E4],Iob:["roundRobinDirection","forward"],Ecb:["hackForHttpsErrorCodes",!1],ydb:["httpsConnectErrorAsPerm",!1],Cxa:["mp4ParsingInNative",!1],bf:["enableManagerDebugTraces",!1],Bwa:["managerDebugMessageInterval",1E3],Awa:["managerDebugMessageCount",20],Zxa:["notifyManifestCacheEom",!0],XI:["enableUsingHeaderCount",!1],mCa:["sourceBufferInOrderAppend",!0],vn:["requireAudioStreamToEncompassVideo",!1],rna:["allowAudioToStreamPastVideo",!1],dC:["allowReissueMediaRequestAfterAbort",!1],Dpa:["countGapInBuffer",!1],z1:["allowCallToStreamSelector",!1],g2:["bufferThresholdForAbort",2E4],Aba:["ase_stream_selector","optimized"],Una:["audiostreamSelectorAlgorithm","selectaudioadaptive"],h7:["initBitrateSelectorAlgorithm","default"],k2:["bufferingSelectorAlgorithm","default"],D3:["ase_ls_failure_simulation",""],B3:["ase_dump_fragments",!1],C3:["ase_location_history",0],E3:["ase_throughput",0],gqa:["ase_simulate_verbose",!1],om:["stallAtFrameCount",void 0],F8:["marginPredictor","simple"],hCa:["simplePercentilePredictorPercentile",25],fCa:["simplePercentilePredictorCalcToUse","simple"],gCa:["simplePercentilePredictorMethod","simple"],uub:["useBackupUnderflowTimer",!0],rLb:["useManifestDrmHeader",!0],sLb:["useOnlyManifestDrmHeader",!0],yfa:["IQRBandwidthFactorConfig",{iur:!0,minr:8E3,maxr:2E4,rlaf:60,flb:.5,fup:.85,fmind:.75,fmaxd:1,fmintp:.25,fmindp:.75}],v9:["networkMeasurementGranularity","video_location"],Kib:["netIntrStoreWindow",36E3],WIb:["minNetIntrDuration",8E3],YTa:["fastHistoricBandwidthExpirationTime",10368E3],yUa:["bandwidthExpirationTime",5184E3],XTa:["failureExpirationTime",86400],Qla:["historyTimeOfDayGranularity",4],TTa:["expandDownloadTime",!0],kVa:["minimumMeasurementTime",500],jVa:["minimumMeasurementBytes",131072],EWa:["throughputMeasurementTimeout",2E3],DWa:["initThroughputMeasureDataSize",262144],SUa:["historicBandwidthUpdateInterval",2E3],iVa:["minimumBufferToStopProbing",1E4],VDb:["throughputPredictor","ewma"],Baa:["secondThroughputEstimator","slidingwindow"],kBa:["secondThroughputMeasureWindowInMs",3E5],UDb:["throughputMeasureWindow",5E3],WDb:["throughputWarmupTime",5E3],TDb:["throughputIQRMeasureWindow",1E3],yDb:["IQRBucketizerWindow",15E3],Owa:["maxIQRSamples",100],vxa:["minIQRSamples",5],PDb:["connectTimeHalflife",10],JDb:["responseTimeHalflife",10],IDb:["historicThroughputHalflife",14400],HDb:["historicResponseTimeHalflife",100],GDb:["historicHttpResponseTimeHalflife",100],Xea:["HistoricalTDigestConfig",{maxc:25,rc:"ewma",c:.5,hl:7200}],vla:["minReportedNetIntrDuration",4E3],SDb:["throughputBucketMs",500],DDb:["bucketHoltWintersWindow",2E3],NTa:["enableFilters","throughput-ewma throughput-sw throughput-iqr throughput-tdigest avtp entropy req-pacer".split(" ")],Q_:["filterDefinitionOverrides",{}],BTa:["defaultFilter","throughput-ewma"],jXa:["secondaryFilter","throughput-sw"],zB:["defaultFilterDefinitions",{"throughput-ewma":{type:"discontiguous-ewma",mw:5E3},"throughput-sw":{type:"slidingwindow",mw:3E5},"throughput-iqr":{type:"iqr",mx:100,mn:5,bw:15E3,iv:1E3},"throughput-iqr-history":{type:"iqr-history"},"throughput-location-history":{type:"discrete-ewma",hl:14400},"respconn-location-history":{type:"discrete-ewma",hl:100},"throughput-tdigest":{type:"tdigest",maxc:25,c:.5,b:1E3,w:15E3,mn:6},"throughput-tdigest-history":{type:"tdigest-history",maxc:25,rc:"ewma",c:.5,hl:7200},"respconn-ewma":{type:"discrete-ewma",hl:10},avtp:{type:"avtp"},entropy:{type:"entropy",mw:2E3,sw:6E4,mins:1,"in":"none",hdl:[150,230,352,539,825,1264,1936,2966,4543,6958],uhdl:[150,230,352,539,825,1264,1936,2966,4543,6958,10657,16322,25E3]},"req-pacer":{type:"req-pacer",sw:1E3,tb:4E4,mb:3E4}}],sy:["enableHudsonFieldTest",!1],U6:["hudsonTitles",["81127954","70125931"]],mhb:["maxPartialBuffersAtHudson",1],L9:["numberOfChunksPerSegment",4],PCa:["targetContentLatency",1E4],tsb:["targetLongContentLatency",3E4],sib:["minimumTimeDelay",1],WI:["enableSessionHistoryReport",!0],j4:["earlyStageEstimatePeriod",1E4],Pva:["lateStageEstimatePeriod",3E4],dU:["maxNumSessionHistoryStored",10],uU:["minSessionHistoryDuration",3E5],jdb:["highAndStableModelName","baseline"],n4:["enableHighAndStablePredictor",!1],rU:["minNumSessionHistory",5],sEb:["baselineHighAndStableThreshold",{bwThreshold:2E4,nethreshold:.15}],eT:["highAndStableLRModelParams",{probThresh:.5,lrParams:{lrMeans:{avtp_b:.6717527000068912,avtp_kurtosis:-.32272653860208733,avtp_last:18162.25923773571,avtp_mean:18374.85489469472,avtp_niqr:.36157000863524086,avtp_p1:15217.082220651864,avtp_p25:16255.438250827538,avtp_p50:18018.48498809834,avtp_p75:20633.64785646099,avtp_p99:23493.017531706773,avtp_skew:-.15988915479533752,avtp_std:3494.2469335662795,fracAbove20Mbps:.36069774394324833,fracBelow20p:.44509094302767843,hour_current:14.88892246562775,intercept:0,neuhd_b:.19944416382669086,neuhd_kurtosis:-.3831651109303816,neuhd_last:.18607356003210967,neuhd_mean:.18446011173649746,neuhd_p1:.08973105578594363,neuhd_p25:.11425784546899986,neuhd_p50:.16178032426296476,neuhd_p75:.24808260501822446,neuhd_p99:.3802747624363075,neuhd_skew:.5015094291572232,neuhd_std:.11460618864890261,session_ct:9.244559018608745},lrStd:{avtp_b:.2163710864106512,avtp_kurtosis:1.3411069011423224,avtp_last:15614.28989483334,avtp_mean:15019.534079778174,avtp_niqr:1.5102894334298487,avtp_p1:13558.687640161155,avtp_p25:14056.082157854784,avtp_p50:14989.029847375388,avtp_p75:16706.411995109334,avtp_p99:19150.29672591333,avtp_skew:.8845810368911663,avtp_std:3980.545705351505,fracAbove20Mbps:.43529176129377334,fracBelow20p:.3274979541369119,hour_current:5.5716567906096826,intercept:1,neuhd_b:2.3749059625699656,neuhd_kurtosis:1.2291306781983045,neuhd_last:.16618636811434156,neuhd_mean:.10880818013405419,neuhd_p1:.11470893745650394,neuhd_p25:.11090914485422533,neuhd_p50:.11733552791484116,neuhd_p75:.1358051961745428,neuhd_p99:.18492685125890918,neuhd_skew:.7361251697238183,neuhd_std:.07376059312467607,session_ct:1.9982003410777347},lrWeights:{avtp_b:-.4168110388005385,avtp_kurtosis:-.008309418872795704,avtp_last:.9636719412610095,avtp_mean:.4596368266505147,avtp_niqr:.004794244204030071,avtp_p1:.04179963884288828,avtp_p25:-.05971214541667236,avtp_p50:-.06609686988077124,avtp_p75:-.021163989843701936,avtp_p99:-.5012233043639935,avtp_skew:.04960520099458782,avtp_std:-.04377297768250326,fracAbove20Mbps:1.4353872225089277,fracBelow20p:.536611494372919,hour_current:-.02151363764568746,intercept:-2.454070409461966,neuhd_b:-.010631811493285886,neuhd_kurtosis:.0392239159548721,neuhd_last:-.26007106077057324,neuhd_mean:-.14989131456288793,neuhd_p1:.03395316119601572,neuhd_p25:-.03267433155107594,neuhd_p50:.016260475942198947,neuhd_p75:.09080546760249925,neuhd_p99:.07570542703705993,neuhd_skew:-.0072781558054514205,neuhd_std:-.06708762681381578,session_ct:.010263062689577421}}}],kdb:["highAndStableParams",{minRequiredBuffer:1E4,bandwidthMarginCurve:[{m:10,b:15E3},{m:5,b:3E4},{m:0,b:12E4}]}],VI:["enableInitThroughputEstimate",!1],G1:["applyInitThroughputEstimate",!1],Tua:["initThroughputPredictor",{bwThreshold:3E4,maxBwPredictionMap:{0:3E3,1:12E3,2:24E3,3:6E4},modelMap:{0:[500,1500],1:[1500,6E3],2:[6E3,12E3],3:[12E3,3E4]},lrParams:{0:{lrMeans:{currentHour:15.137936466264112,currentMonoTime:1.5533592424252495E12,"ens-avtp-b":.38723147282714365,"ens-avtp-last":7.278636833881816,"ens-avtp-mean":7.645354650835756,"ens-avtp-niqr":.9164307950209711,"ens-avtp-p25":7.206789836510741,"ens-avtp-p50":7.5392495750254085,"ens-avtp-p75":7.853195625145457,"ens-avtp-std":1890.0299065442302,"fns-avtp-b":.5156471603720371,"fns-avtp-last":7.394898247043087,"fns-avtp-mean":7.720412581434043,"fns-avtp-niqr":.7607496330326777,"fns-avtp-p25":7.401562072764315,"fns-avtp-p50":7.649474541536431,"fns-avtp-p75":7.887443054414084,"fns-avtp-std":1666.2825157466045,"fns-niqr-b":.18747269665025967,"fns-niqr-last":1.86623885534261,"fns-niqr-mean":4020.0354386780873,"fns-niqr-niqr":1.1631461141579456,"fns-niqr-p25":.53504898923602,"fns-niqr-p50":.726225303229194,"fns-niqr-p75":1.242351052769756,"fns-niqr-std":1666.2825157466045,intercept:0,"lns-avtp-b":.48094880098438736,"lns-avtp-last":7.359237053239481,"lns-avtp-mean":7.741498045478886,"lns-avtp-niqr":.8066874950335725,"lns-avtp-p25":7.387733349631643,"lns-avtp-p50":7.66341466705797,"lns-avtp-p75":7.91817801557748,"lns-avtp-std":1793.4228677873018,prevHour:14.921344184825413,prevMonoTime:1.5533390440510566E12,sessionCnt:24.169388290889998,timeSinceLastSession:2.0198374192701496E7},lrStd:{currentHour:6.865640901500013,currentMonoTime:1.364004355437288E8,"ens-avtp-b":.2584691537920595,"ens-avtp-last":.9989894721766466,"ens-avtp-mean":.9643206027819943,"ens-avtp-niqr":9.217134354074703,"ens-avtp-p25":1.0145221270034994,"ens-avtp-p50":1.0077653263765265,"ens-avtp-p75":1.014384099403048,"ens-avtp-std":3493.8569731733614,"fns-avtp-b":.270872729744521,"fns-avtp-last":.8922256527856904,"fns-avtp-mean":.9631055373892473,"fns-avtp-niqr":9.794120412451006,"fns-avtp-p25":.9696714991336701,"fns-avtp-p50":.9882569618688472,"fns-avtp-p75":1.0192683122081063,"fns-avtp-std":3332.139780244572,"fns-niqr-b":.3192946670619746,"fns-niqr-last":35.40213143776561,"fns-niqr-mean":6660.75906666252,"fns-niqr-niqr":8.550978136730766,"fns-niqr-p25":5.39412423399584,"fns-niqr-p50":8.615628045328721,"fns-niqr-p75":12.8578016592876,"fns-niqr-std":3332.139780244572,intercept:0,"lns-avtp-b":.282072702345461,"lns-avtp-last":.920183181440289,"lns-avtp-mean":.9634177300825915,"lns-avtp-niqr":9.46277236908144,"lns-avtp-p25":.9910526809941116,"lns-avtp-p50":.9973895193027993,"lns-avtp-p75":1.0214924879508251,"lns-avtp-std":3386.49152949358,prevHour:6.8062106735450705,prevMonoTime:1.4676929801573658E8,sessionCnt:27.412941078734494,timeSinceLastSession:5.725906972259589E7},lrWeights:{currentHour:-2.480219988909306E-4,currentMonoTime:-.0019605601123065795,"ens-avtp-b":.030002082172324713,"ens-avtp-last":.006493992808811227,"ens-avtp-mean":.02818971332256211,"ens-avtp-niqr":-.02149596695008564,"ens-avtp-p25":.025503939851905886,"ens-avtp-p50":-.03973590637292906,"ens-avtp-p75":.02654830002677231,"ens-avtp-std":-.005364609238773057,"fns-avtp-b":.003156990018105247,"fns-avtp-last":.014293274537829968,"fns-avtp-mean":.0669381230291235,"fns-avtp-niqr":.03466791553613246,"fns-avtp-p25":.003157582746026505,"fns-avtp-p50":.0523956105905824,"fns-avtp-p75":-.05674782509956824,"fns-avtp-std":.03209560096833295,"fns-niqr-b":-7.473002304028244E-4,"fns-niqr-last":.0019568255931097633,"fns-niqr-mean":-.08633242126981132,"fns-niqr-niqr":-.004089335618740389,"fns-niqr-p25":-.0021751031395086484,"fns-niqr-p50":-.003122331768672313,"fns-niqr-p75":.007288444327184066,"fns-niqr-std":.03209560096833287,intercept:6.862875813114732,"lns-avtp-b":-.0018938413688674922,"lns-avtp-last":.06676606627335506,"lns-avtp-mean":-.07603837147841763,"lns-avtp-niqr":-.016328230093415195,"lns-avtp-p25":.010303828813673513,"lns-avtp-p50":-.03589513366624033,"lns-avtp-p75":.056207400912909336,"lns-avtp-std":-.04520109870414885,prevHour:2.301420369949928E-4,prevMonoTime:.003685054780721308,sessionCnt:.005283216038814869,timeSinceLastSession:-.01411608956380438}},1:{lrMeans:{currentHour:15.134456203928675,currentMonoTime:1.553360459127433E12,"ens-avtp-b":.5283857099864471,"ens-avtp-last":8.262965687637706,"ens-avtp-mean":8.418902076257503,"ens-avtp-niqr":.49412220616859004,"ens-avtp-p25":8.149357473011756,"ens-avtp-p50":8.390031248001916,"ens-avtp-p75":8.59957129630267,"ens-avtp-std":2111.808134194941,"fns-avtp-b":.6226794650801935,"fns-avtp-last":8.40584007519461,"fns-avtp-mean":8.534636048829894,"fns-avtp-niqr":.3857773226390544,"fns-avtp-p25":8.332989060781467,"fns-avtp-p50":8.515032240428152,"fns-avtp-p75":8.675880386526348,"fns-avtp-std":1845.8852285168682,"fns-niqr-b":.21347933677439135,"fns-niqr-last":2.7647096219577483,"fns-niqr-mean":6495.223863385008,"fns-niqr-niqr":1.1972471971744498,"fns-niqr-p25":.417754032656591,"fns-niqr-p50":.5172058446238108,"fns-niqr-p75":1.0125653636288763,"fns-niqr-std":1845.8852285168682,intercept:0,"lns-avtp-b":.6033453099237509,"lns-avtp-last":8.415812181647567,"lns-avtp-mean":8.562171619279262,"lns-avtp-niqr":.41357537819056855,"lns-avtp-p25":8.345181430419174,"lns-avtp-p50":8.54253906247021,"lns-avtp-p75":8.711261794822105,"lns-avtp-std":1974.223790129235,prevHour:14.939649137256517,prevMonoTime:1.5533413406116138E12,sessionCnt:23.78952353498332,timeSinceLastSession:1.911851581933863E7},lrStd:{currentHour:6.915913563406681,currentMonoTime:1.3579546487519038E8,"ens-avtp-b":.2293871112256882,"ens-avtp-last":.7358412399626237,"ens-avtp-mean":.6643093703588823,"ens-avtp-niqr":1.07169360267822,"ens-avtp-p25":.745906641830048,"ens-avtp-p50":.6979613612146783,"ens-avtp-p75":.6885407945843879,"ens-avtp-std":3240.1297333061466,"fns-avtp-b":.23637302256741258,"fns-avtp-last":.6578310492721471,"fns-avtp-mean":.6602179870987327,"fns-avtp-niqr":1.134081009617818,"fns-avtp-p25":.7157365592980294,"fns-avtp-p50":.6876929888153775,"fns-avtp-p75":.6887095950016521,"fns-avtp-std":2989.2531011183996,"fns-niqr-b":.3023989175947571,"fns-niqr-last":188.45413775718876,"fns-niqr-mean":6183.929502016268,"fns-niqr-niqr":33.95026131965199,"fns-niqr-p25":26.357261465915563,"fns-niqr-p50":26.380090045656182,"fns-niqr-p75":43.53044500310377,"fns-niqr-std":2989.2531011183996,intercept:0,"lns-avtp-b":.24596048532404155,"lns-avtp-last":.6833105090588518,"lns-avtp-mean":.6607556120232774,"lns-avtp-niqr":1.6757909759512508,"lns-avtp-p25":.7380275856301542,"lns-avtp-p50":.6936783806450382,"lns-avtp-p75":.6875117220276126,"lns-avtp-std":3048.1088543643054,prevHour:6.8482668340195705,prevMonoTime:1.4556118772689274E8,sessionCnt:53.32066201160346,timeSinceLastSession:5.547356497303553E7},lrWeights:{currentHour:-.011871761229344389,currentMonoTime:-.0036318600724213708,"ens-avtp-b":6.986789202868642E-4,"ens-avtp-last":.011673758427760823,"ens-avtp-mean":.13608518163448968,"ens-avtp-niqr":.003289074114120798,"ens-avtp-p25":.003191593712230237,"ens-avtp-p50":-.0066247650633022084,"ens-avtp-p75":-.02430342458063187,"ens-avtp-std":-.04850809780387416,"fns-avtp-b":.03459494981020932,"fns-avtp-last":.045825189137544194,"fns-avtp-mean":.002906185911093708,"fns-avtp-niqr":-9.691590646234479E-4,"fns-avtp-p25":.01551994942837314,"fns-avtp-p50":.029373577658918765,"fns-avtp-p75":.00768497254533149,"fns-avtp-std":.05890409069070104,"fns-niqr-b":-.008291354205495876,"fns-niqr-last":7.094688122632014E-4,"fns-niqr-mean":-.16946963320808844,"fns-niqr-niqr":-.005836423713579879,"fns-niqr-p25":-.027958020496759037,"fns-niqr-p50":.022488996225378338,"fns-niqr-p75":.006740480962143502,"fns-niqr-std":.058904090690701134,intercept:8.165078062192634,"lns-avtp-b":-.01571675564523532,"lns-avtp-last":.07645655650235457,"lns-avtp-mean":.13252636589021868,"lns-avtp-niqr":.001852705659582087,"lns-avtp-p25":-.02287056515136447,"lns-avtp-p50":-.02727017463885446,"lns-avtp-p75":-.01678871891479746,"lns-avtp-std":-.10684389586829764,prevHour:.006312752532983602,prevMonoTime:7.922263883522697E-4,sessionCnt:-.0014142078702796947,timeSinceLastSession:-.010969324600447576}},2:{lrMeans:{currentHour:14.916476965235244,currentMonoTime:1.5533558212926494E12,"ens-avtp-b":.6033702623818743,"ens-avtp-last":9.07079977798437,"ens-avtp-mean":9.134353655661178,"ens-avtp-niqr":.3623797220515198,"ens-avtp-p25":8.9438379108834,"ens-avtp-p50":9.126032949875686,"ens-avtp-p75":9.286393189864482,"ens-avtp-std":2788.9769968086775,"fns-avtp-b":.6862725810071378,"fns-avtp-last":9.214723527939402,"fns-avtp-mean":9.257360798208294,"fns-avtp-niqr":.2819938242222468,"fns-avtp-p25":9.113237238279646,"fns-avtp-p50":9.252704073743296,"fns-avtp-p75":9.376480490223058,"fns-avtp-std":2363.937261606417,"fns-niqr-b":.3079747845775837,"fns-niqr-last":2.349342977897278,"fns-niqr-mean":11543.162025405922,"fns-niqr-niqr":.8353830501136797,"fns-niqr-p25":.539449003960107,"fns-niqr-p50":.6120488613618988,"fns-niqr-p75":1.025142025238165,"fns-niqr-std":2363.937261606417,intercept:0,"lns-avtp-b":.6777951321565386,"lns-avtp-last":9.242373955945844,"lns-avtp-mean":9.289167926920118,"lns-avtp-niqr":.29268472756928093,"lns-avtp-p25":9.139640688653648,"lns-avtp-p50":9.285271169565624,"lns-avtp-p75":9.411428319974624,"lns-avtp-std":2495.2347425350476,prevHour:14.812242829285893,prevMonoTime:1.5533367650419763E12,sessionCnt:22.706325003650857,timeSinceLastSession:1.9056250672805835E7},lrStd:{currentHour:6.958159398444638,currentMonoTime:1.3765789914884326E8,"ens-avtp-b":.20791212194940575,"ens-avtp-last":.5237134368233782,"ens-avtp-mean":.4313622313318821,"ens-avtp-niqr":1.0298500098014598,"ens-avtp-p25":.5419803486741355,"ens-avtp-p50":.4674794224249036,"ens-avtp-p75":.44107618204776045,"ens-avtp-std":3099.6031967305125,"fns-avtp-b":.2057216706261372,"fns-avtp-last":.4473595901777174,"fns-avtp-mean":.42416638003708,"fns-avtp-niqr":.8234513220640112,"fns-avtp-p25":.5178682322633591,"fns-avtp-p50":.45902338903605194,"fns-avtp-p75":.43391494044292445,"fns-avtp-std":2828.653607227709,"fns-niqr-b":.29378765978740723,"fns-niqr-last":215.29091108169573,"fns-niqr-mean":6147.36771938347,"fns-niqr-niqr":20.95631794508829,"fns-niqr-p25":40.09143302784156,"fns-niqr-p50":40.0917059991872,"fns-niqr-p75":76.46454385633622,"fns-niqr-std":2828.653607227709,intercept:0,"lns-avtp-b":.21393771099754127,"lns-avtp-last":.46019047514559575,"lns-avtp-mean":.42031282188319596,"lns-avtp-niqr":.9217122900046908,"lns-avtp-p25":.5307587654743611,"lns-avtp-p50":.4595139882962286,"lns-avtp-p75":.4282987444285461,"lns-avtp-std":2893.8796852190203,prevHour:6.865014634726103,prevMonoTime:1.469930475404992E8,sessionCnt:57.21379702338944,timeSinceLastSession:5.583272331188057E7},lrWeights:{currentHour:-.005994421348964647,currentMonoTime:-.00211070793241526,"ens-avtp-b":-.02447232547732549,"ens-avtp-last":.006628010901974464,"ens-avtp-mean":.09653723410014291,"ens-avtp-niqr":9.295461659569376E-4,"ens-avtp-p25":.0012695482222228938,"ens-avtp-p50":-.006429946340265358,"ens-avtp-p75":-.0018240666357782521,"ens-avtp-std":-.04861802416956936,"fns-avtp-b":.016168879730690602,"fns-avtp-last":.017384784341611354,"fns-avtp-mean":-.02557658926351166,"fns-avtp-niqr":3.2487392404244254E-4,"fns-avtp-p25":.003054291672231475,"fns-avtp-p50":.006524301521081224,"fns-avtp-p75":-.0010225597375610623,"fns-avtp-std":.018221004183639943,"fns-niqr-b":.007301915471974063,"fns-niqr-last":7.425485364153301E-4,"fns-niqr-mean":-.05147892802271394,"fns-niqr-niqr":-.001940470217320524,"fns-niqr-p25":.036234413553517725,"fns-niqr-p50":-.03524862921191027,"fns-niqr-p75":.0017027379253208021,"fns-niqr-std":.018221004183641903,intercept:9.081622862978675,"lns-avtp-b":-.03489939843656423,"lns-avtp-last":.019705353504600828,"lns-avtp-mean":.09344550455301621,"lns-avtp-niqr":4.5749884272222607E-4,"lns-avtp-p25":-.011722568647814033,"lns-avtp-p50":-.016087594727082558,"lns-avtp-p75":-.010522910223392006,"lns-avtp-std":-.04604219547608363,prevHour:.0031101128704211474,prevMonoTime:-9.098449270365904E-4,sessionCnt:-.0016748630087899665,timeSinceLastSession:-.0028086529149225895}},3:{lrMeans:{currentHour:14.863185390555186,currentMonoTime:1.553353396059636E12,"ens-avtp-b":.6515843728225397,"ens-avtp-last":9.835160560043459,"ens-avtp-mean":9.864626387517605,"ens-avtp-niqr":.30287768062622433,"ens-avtp-p25":9.712383207744509,"ens-avtp-p50":9.860345560485248,"ens-avtp-p75":9.996033168898707,"ens-avtp-std":4643.022907790445,"fns-avtp-b":.7193689607638848,"fns-avtp-last":9.907187981654845,"fns-avtp-mean":9.920454440962963,"fns-avtp-niqr":.24505403012362392,"fns-avtp-p25":9.799839579276911,"fns-avtp-p50":9.917613535901424,"fns-avtp-p75":10.025731269663444,"fns-avtp-std":3732.2129640042217,"fns-niqr-b":.4031678578759487,"fns-niqr-last":1.1753269491098228,"fns-niqr-mean":22052.618058988082,"fns-niqr-niqr":1.5068731631809027,"fns-niqr-p25":.3996162353642051,"fns-niqr-p50":.4644249735352749,"fns-niqr-p75":1.0193721160323532,"fns-niqr-std":3732.2129640042217,intercept:0,"lns-avtp-b":.713092505873196,"lns-avtp-last":9.933609828473625,"lns-avtp-mean":9.945144121988752,"lns-avtp-niqr":.257126639335263,"lns-avtp-p25":9.820890902912648,"lns-avtp-p50":9.94152946492105,"lns-avtp-p75":10.052128345697236,"lns-avtp-std":3896.5986547615607,prevHour:14.828444424077171,prevMonoTime:1.553332738875851E12,sessionCnt:21.279678298925372,timeSinceLastSession:2.0657183784891047E7},lrStd:{currentHour:6.947821212378729,currentMonoTime:1.3756061323794276E8,"ens-avtp-b":.19834188857056692,"ens-avtp-last":.4983372521531976,"ens-avtp-mean":.4192327383097373,"ens-avtp-niqr":.9075762835401722,"ens-avtp-p25":.5329637320560067,"ens-avtp-p50":.45584668612572893,"ens-avtp-p75":.4210250409846772,"ens-avtp-std":4002.7954469984215,"fns-avtp-b":.19090160405133458,"fns-avtp-last":.4348713024155281,"fns-avtp-mean":.40394998021486844,"fns-avtp-niqr":1.0660805112236655,"fns-avtp-p25":.5038688154650198,"fns-avtp-p50":.43801099282043815,"fns-avtp-p75":.40338412512671645,"fns-avtp-std":3543.8600674276213,"fns-niqr-b":.2743590168568854,"fns-niqr-last":141.1281274191549,"fns-niqr-mean":9470.610460587868,"fns-niqr-niqr":225.229351242605,"fns-niqr-p25":37.32547626585716,"fns-niqr-p50":37.325780629523,"fns-niqr-p75":89.23974801142606,"fns-niqr-std":3543.8600674276213,intercept:0,"lns-avtp-b":.1943229807098331,"lns-avtp-last":.4419652079817383,"lns-avtp-mean":.39892829574083294,"lns-avtp-niqr":2.91956505002238,"lns-avtp-p25":.5093223889354195,"lns-avtp-p50":.43503232733698466,"lns-avtp-p75":.39695315415773813,"lns-avtp-std":3599.9571758910874,prevHour:6.829137071943964,prevMonoTime:1.4742574746751267E8,sessionCnt:94.19446337605667,timeSinceLastSession:5.818167162809092E7},lrWeights:{currentHour:-.004389543791532469,currentMonoTime:-.0030344207819728818,"ens-avtp-b":-.09240427960392844,"ens-avtp-last":.010942277460710081,"ens-avtp-mean":.20096895216357133,"ens-avtp-niqr":.0032096847898172324,"ens-avtp-p25":-.005856201042576917,"ens-avtp-p50":.0017945703315946082,"ens-avtp-p75":.013290135779755425,"ens-avtp-std":-.10429624033817943,"fns-avtp-b":.033335456564662004,"fns-avtp-last":.03305046923296899,"fns-avtp-mean":-.09090160395555649,"fns-avtp-niqr":-.0010446812804401641,"fns-avtp-p25":.004912076898000752,"fns-avtp-p50":-.008494083146032963,"fns-avtp-p75":-.002989850542529556,"fns-avtp-std":.023336986139087093,"fns-niqr-b":.0024504601144316397,"fns-niqr-last":7.643316521852407E-4,"fns-niqr-mean":-.009119203062853156,"fns-niqr-niqr":-.0012594157293897756,"fns-niqr-p25":-.0422338795033952,"fns-niqr-p50":.04250587013668825,"fns-niqr-p75":.0017560870617061,"fns-niqr-std":.023336986139088925,intercept:9.861278665882926,"lns-avtp-b":-.0768634513815469,"lns-avtp-last":.019981566044227083,"lns-avtp-mean":.14111887010560764,"lns-avtp-niqr":-4.600304100335705E-4,"lns-avtp-p25":-.010343773714103076,"lns-avtp-p50":-.017237539822589385,"lns-avtp-p75":-.01599941028177654,"lns-avtp-std":-.0740283506738119,prevHour:.0018930816696335491,prevMonoTime:-.003464250273737749,sessionCnt:-.0016713463515894596,timeSinceLastSession:.0016036476749273867}}}}],wQ:["addHeaderDataToNetworkMonitor",!0],uba:["startMonitorOnLoadStart",!1],caa:["reportFailedRequestsToNetworkMonitor",!1],$U:["periodicHistoryPersistMs",0],OV:["saveVideoBitrateMs",0],MK:["needMinimumNetworkConfidence",!0],b2:["biasTowardHistoricalThroughput",!1],vza:["preferCurrentLocationThroughput",!1],uza:["preferCurrentLocationThreshold",0],sgb:["logMemoryUsage",!1],tua:["headerCacheTruncateHeaderAfterParsing",!0],$Za:["audioFragmentDurationMilliseconds",null],Rub:["videoFragmentDurationMilliseconds",null],Uo:["probeServerWhenError",!0],Ur:["allowSwitchback",!0],Fz:["probeDetailDenominator",100],aU:["maxDelayToReportFailure",300],DH:["allowParallelStreaming",!1],Ghb:["mediaPrefetchDisabled",!1],uxa:["minBufferLevelToAllowPrefetch",5E3],vs:["editVideoFragments",!1],$m:["editAudioFragments",!0],cpb:["seamlessAudio",!1],dpb:["seamlessAudioProfiles",[]],epb:["seamlessAudioProfilesAndTitles",{}],Aaa:["seamlessAudioMaximumSyncError",void 0],$J:["insertSilentFrames",0],ava:["insertSilentFramesOnExit",void 0],$ua:["insertSilentFramesOnEntry",void 0],Zua:["insertSilentFramesForProfile",void 0],A9a:["forceDiscontinuityAtTransition",!0],tw:["supportAudioResetOnDiscontinuity",void 0],rw:["supportAudioEasingOnDiscontinuity",void 0],Kp:["audioCodecResetForProfiles",["heaac-2-dash","heaac-2hq-dash"]],c7a:["editCompleteFragments",!0],oib:["minimumAudioFramesPerFragment",1],Vx:["applyProfileTimestampOffset",!1],ao:["applyProfileStreamingOffset",!0],Wy:["lazyParsingSidx",!1],T8:["maximumFragmentsForLazyParsing",6E3],nL:["profileTimestampOffsets",{"heaac-2-dash":{64:{ticks:-3268,timescale:48E3},96:{ticks:-3352,timescale:48E3}},"heaac-2hq-dash":{128:{ticks:-3352,timescale:48E3}}}],ixa:["mediaSourceSupportsNegativePts",!1],cE:["minAudioPtsGap",void 0],b_a:["audioOverlapGuardSampleCount",2],VR:["enablePsd",!1],H$:["psdCallFrequency",6E4],I$:["psdReturnToNormal",!1],pL:["psdThroughputThresh",0],JI:["discardLastNPsdBins",0],Vg:["psdPredictor",{numB:240,bSizeMs:1E3,fillS:"last",fillHl:1E3,bthresh:100,freqave:5,numfreq:26,beta:[-2.57382621685251,1.00514098612371,-.369357559975733,.00999932810065489,.142934270516382,.162644679552085,-.0566219452189998,.022239120872481,-.0668887810950692,-.179565604901062,-.164944450316777,-.269160823754313,-.353934286812968,.127490861540904,-.30639082364227,-.21647101116447,-.0842995352796247,-.0103329141448779,-.12855537458795,.181738862222313,.263672043403025,.0755588656690725,.400401204107367,-.420677412792809,-1.09035458665828,1.27111376831522,.561903634898845,-1.17759977644374],thresh:.22,tol:1E-10,tol2:1E-4}],WR:["enableRecordJSBridgePerf",!1],Ifa:["JSBridgeTDigestConfig",{maxc:25,c:.5}],Fsb:["throughputThresholdSelectorParam",0],rub:["upswitchDuringBufferingFactor",2],qZa:["allowUpswitchDuringBuffering",!1],upa:["contentOverrides",void 0],c3:["contentProfileOverrides",void 0],N6:["hindsightDenominator",0],M6:["hindsightDebugDenominator",0],MJ:["hindsightAlgorithmsEnabled",["htwbr"]],fT:["hindsightParam",{numB:Infinity,bSizeMs:1E3,fillS:"last",fillHl:1E3}],Dna:["appendMediaRequestOnComplete",!1],ZW:["waitForDrmToAppendMedia",!1],Y4:["forceAppendHeadersAfterDrm",!1],yL:["reappendRequestsOnSkip",!1],F3:["declareBufferingCompleteAtSegmentEnd",!1],kq:["maxActiveRequestsPerSession",void 0],Y7:["limitAudioDiscountByMaxAudioBitrate",!1],E1:["appendFirstHeaderOnComplete",!0],uW:["strictBufferCapacityCheck",!1],iC:["aseReportDenominator",0],L1:["aseReportIntervalMs",3E5],gca:["translateToVp9Draft",!1],tM:["switchableAudioProfiles",[]],c_a:["audioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:256,audioBwFactor:5.02}},{profiles:["ddplus-atmos-dash"],override:{maxInitAudioBitrate:448}}]],MCa:["switchableAudioProfilesOverride",[{profiles:["ddplus-5.1-dash","ddplus-5.1hq-dash"],override:{maxInitAudioBitrate:192}},{profiles:["ddplus-atmos-dash"],override:{minInitAudioBitrate:448,maxInitAudioBitrate:448,minAudioBitrate:448}}]],e_a:["audioSwitchConfig",{upSwitchFactor:5.02,downSwitchFactor:3.76,lowestBufForUpswitch:16E3,lockPeriodAfterDownswitch:16E3}],Xwa:["maxStartingVideoVMAF",110],dE:["minStartingVideoVMAF",1],zH:["activateSelectStartingVMAF",!1],UV:["selectStartingVMAFTDigest",-1],LE:["selectStartingVMAFMethod","fallback"],rBa:["selectStartingVMAFMethodCurve",{log_p50:[6.0537,-.8612],log_p40:[5.41,-.7576],log_p20:[4.22,-.867],sigmoid_1:[11.0925,-8.0793]}],$K:["perFragmentVMAFConfig",{enabled:!1,simulatedFallback:!1,fallbackBound:12}],m6a:["disablePtsStartsEvent",!0],U$:["recordFirstFragmentOnSubBranchCreate",!0],cxa:["mediaCacheConvertToBinaryData",!1],X8:["mediaCacheSaveOneObject",!1],Fwa:["markRequestActiveOnFirstByte",!1],RR:["earlyAppendSingleChildBranch",!0],Aw:["useNativeDataViewMethods",!1]};d.Sp=d.V1a;},function(g){g.T="4.1.187";},function(g,d,a){var h,p;function b(){this.Cr=this.QG=this.eP=this.tP=this.aP=null;}function f(a){this.G=a;this.ru=[];this.Hm=new b();this.ZG();}h=a(7);a(11);a(26);p=a(6);new p.Console("ASEJS_SESSION_HISTORY","media|asejs");b.prototype.Wg=function(a){var b;b=!1;a&&h.has(a,"ens")&&h.has(a,"lns")&&h.has(a,"fns")&&h.has(a,"d")&&h.has(a,"t")&&(this.aP=a.ens,this.tP=a.lns,this.eP=a.fns,this.QG=a.d,this.Cr=a.t,b=!0);return b;};b.prototype.Re=function(){var a;if(h.Ra(this.aP)||h.Ra(this.tP)||h.Ra(this.eP)||h.Ra(this.QG)||h.Ra(this.Cr))return null;a={d:this.QG,t:this.Cr};a.ens=this.aP;a.lns=this.tP;a.fns=this.eP;return a;};b.prototype.get=function(){var a,b;a=this.Re();if(a){b=new Date(this.Cr);a.dateint=1E4*b.getFullYear()+100*(b.getMonth()+1)+b.getDate();a.hour=b.getHours();}return a;};f.prototype.ZG=function(){var a;a=p.storage.get("sth");a&&this.Wg(a);};f.prototype.Wg=function(a){var c,f;c=null;f=this.G;a.forEach(function(a){var f;f=new b();f.Wg(a)?(c=!0,this.ru.push(f)):h.Ra(c)&&(c=!1);},this);this.ru=this.ru.filter(function(a){return a.QG>=f.uU;});this.ru.sort(function(a,b){return a.Cr-b.Cr;});return h.Ra(c)?!0:c;};f.prototype.T_=function(){var a;a=[];this.ru.forEach(function(b){a.push(b.Re());},this);return a;};f.prototype.save=function(){var a,f,d;a=this.T_();f=this.G;d=this.Hm.Re();d&&d.d>=f.uU&&(a.push(d),this.ru.push(this.Hm));a.length>f.dU&&(a=a.slice(a.length-f.dU,a.length));this.Hm=new b();a&&p.storage.set("sth",a);};f.prototype.reset=function(){this.Hm=new b();};f.prototype.M$a=function(){return this.Hm.get();};f.prototype.Rbb=function(){return this.ru.length+1;};f.prototype.IYa=function(a){this.Hm.aP=a;this.Hm.Cr=p.time.ea();};f.prototype.RYa=function(a){this.Hm.tP=a;this.Hm.Cr=p.time.ea();};f.prototype.MYa=function(a,b){this.Hm.eP=a;this.Hm.Cr=p.time.ea();this.Hm.QG=b;};g.T=f;},function(g,d,a){var h,p,c,k,q;function b(a){var b;if(!a.c1){b=a.Tta();a.jh.Sx(b["default"].Ha,a.hh);a.jh.sA(b.Fo?b.Fo.ZU:void 0,b.Fo?b.Fo.IE:void 0);h.Ra(a.Kb)||(a.c1=!0);}}function f(a,b,f){var d;this.G=f;this.Bl={};this.zB=f.zB;this.zka=new k(this.zB);this.reset();this.ou=a;this.jh=b;this.$ka=p.bl.name();this.jh.YV(this.$ka);this.nH=this.px=0;this.HG=[];p.events.on("networkchange",function(a){this.$ka=a;this.jh.YV(a);}.bind(this));d=f.E3;d&&(d={Fc:c.vd.RF,va:{Ha:parseInt(d,10),ah:0},wg:{t_a:0,ah:0},Do:{t_a:0,ah:0}},this.get=function(){return d;});}h=a(7);p=a(6);c=a(11);a(26);d=a(24).EventEmitter;k=a(347).Hea;q=new p.Console("ASEJS_NETWORK_MONITOR","media|asejs");f.prototype.constructor=f;f.prototype=Object.create(d);Object.defineProperties(f.prototype,{startTime:{get:function(){return this.ge;}},Fc:{get:function(){return this.hh;}},Fp:{get:function(){return this.px;}},DYa:{get:function(){return this.HG;}}});f.prototype.zTa=function(){var a,b,c;a=this.G;b=a.Q_;c=this.zka;return a.NTa.reduce(function(a,f){a[f]=c.create(f,b);return a;},{});};f.prototype.reset=function(){var a,f,d;a=this.G.Q_;f=this.zka;d=this.G;this.location=null;this.Bl=this.zTa();this.Hr=f.create("respconn-ewma",a);this.yr=f.create("respconn-ewma",a);this.hh=c.vd.HAVE_NOTHING;this.bYa=function(){b(this);}.bind(this);this.mQ=void 0;this.ku=this.Rb=this.Kb=this.ge=null;this.VSa=this.gQ=0;this.AWa=!1;d.GAa&&(this.nH=this.px=0,this.HG=[]);};f.prototype.$V=function(a){var b;b=this.Bl;if(a!==this.location){h.P(this.mQ)||(clearInterval(this.mQ),this.mQ=void 0);h.Ra(this.location)&&(this.gQ=0,this.ge=null);if(!h.Ra(a)){this.hh=c.vd.HAVE_NOTHING;for(var f in b)b[f]&&b[f].reset&&b[f].reset();this.Hr.reset();this.yr.reset();}h.Ra(this.ge)||(this.gQ+=(h.Ra(this.Kb)?p.time.ea():this.Kb)-this.ge);this.Kb=this.ge=null;this.Rb=0;this.location=a;this.jh.$V(a);}};f.prototype.YV=function(a){this.jh.YV(a);};f.prototype.LYa=function(a){this.Bl.QoEEvaluator?q.warn("monitor (QoEEvaluator) already existed."):this.Bl.QoEEvaluator=a;};f.prototype.Snb=function(){delete this.Bl.QoEEvaluator;};f.prototype.cC=function(a,b){var c;c=this.Bl["req-pacer"];c&&c.cC(a,b);};f.prototype.Cbb=function(){return this.Bl["req-pacer"];};f.prototype.uQ=function(a,f,d){var k,g;k=this.G;g=this.Bl;if(h.P(f))q.warn("addDataReceived called with undefined start time");else{k.TTa&&10>d-f?f=d-10:0===d-f&&(f=d-1);for(var n in g)g[n]&&g[n].add&&g[n].add(a,f,d);this.hh=Math.max(this.hh,c.vd.Gt);h.Ra(this.ge)&&(this.ge=f,this.Kb=null,this.c1=!1,this.Rb=0);h.Ra(this.Kb)||(f>this.Kb&&(this.ge+=f-this.Kb),this.Kb=null,this.c1=!1);this.Rb+=a;this.hh<c.vd.op&&(d-this.ge>k.kVa||this.Rb>k.jVa)&&(this.hh=c.vd.op);this.hh<c.vd.RF&&(d-this.ge>k.EWa||this.Rb>k.DWa)&&(!this.AWa||this.VSa>k.iVa)&&(this.hh=c.vd.RF,b(this),this.mQ=setInterval(this.bYa,k.SUa));h.Ra(this.ku)||(f-this.ku>k.vla?this.ou.bva(this.ku,f):d-f>k.vla&&this.ou.bva(f,d));this.ku=Math.max(d,this.ku);}};f.prototype.Tr=function(a){this.Hr.add(a);this.jh.Tr(a);};f.prototype.Rr=function(a){this.yr.add(a);this.jh.Rr(a);};f.prototype.start=function(a){var b;h.Ra(this.ku)&&!h.Ra(this.Kb)&&(this.ku=a);b=this.Bl;if(this.G.uba)for(var c in b)b[c]&&b[c].start&&b[c].start(a);};f.prototype.stop=function(a){var b,c;b=this.Bl;for(c in b)b[c]&&b[c].stop&&b[c].stop(a);this.Kb=h.Ra(this.Kb)?a:Math.min(this.Kb,a);this.ku=null;};f.prototype.flush=function(){var a,b;a=this.Bl;for(b in a)a[b]&&a[b].flush&&a[b].flush();};f.prototype.fail=function(){this.ge=null;};f.prototype.gab=function(){var a,b;a=this.Bl.entropy;a&&(b=a.q0a(),a.reset());return b;};f.prototype.Tta=function(){var a,b,c,f,d,k,g;a=p.time.ea();b={};c=this.Bl;f=this.G;d=f.BTa;k=f.jXa;for(g in c)c[g]&&c[g].get&&(b[g]=c[g].get(a),"iqr"===c[g].type&&(b.Fo=b[g]),"tdigest"===c[g].type&&(b.qm=b[g]));b["default"]=d&&b[d]?b[d]:b["throughput-ewma"];"none"!==f.Baa&&"none"!==k&&(b.lBa=k&&b[k]?b[k]:b["throughput-sw"]);return b;};f.prototype.get=function(){var a,b,c,f,d;a=this.Tta();b=a["default"];c=this.Hr.get();f=this.yr.get();if(a.lBa)d=a.lBa,b=h.qa(b.Ha)&&h.qa(d.Ha)&&b.Ha>d.Ha&&0<d.Ha?d:b;a.Fc=this.hh;a.va=b;a.wg=c;a.Do=f;b=this.gQ+!h.Ra(this.ge)?(h.Ra(this.Kb)?p.time.ea():this.Kb)-this.ge:0;a.time=b;return a;};f.prototype.CV=function(a,b){1===++this.px&&(this.emit("active",a),this.start(a));b&&this.HG.push(b);};f.prototype.gaa=function(){++this.nH;};f.prototype.EV=function(a,b,c){b&&--this.nH;--this.px;this.G.GAa&&(this.px=Math.max(this.px,0),this.nH=Math.max(this.nH,0));0===this.px&&(this.stop(a),this.emit("inactive",a));c&&(a=this.HG.indexOf(c),0<=a&&this.HG.splice(a,1));};g.T=f;},function(g,d,a){var f,h;function b(a){this.G=a;this.ZG();}f=a(7);h=a(6);new h.Console("ASEJS_NETWORK_HISTORY","media|asejs");b.prototype.save=function(){var a;a=this.Re();h.storage.set("nh",a);};b.prototype.prb=function(){this.Nx||(this.Nx=!0,this.Fr=h.time.ea());};b.prototype.Brb=function(){var a;if(this.Nx){a=h.time.ea();this.Kr+=a-this.Fr;this.Fr=a;this.Nx=!1;this.YG=null;}};b.prototype.bva=function(a,b){this.Nx&&(b>this.Fr&&(this.Kr+=b-this.Fr,this.Fr=b),null===this.YG||a>this.YG)&&(a=b-a,this.EB.push([this.Kr-a,a]),this.Z0(),this.YG=b);};b.prototype.Z0=function(){var a;a=this.Kr-this.G.Kib;this.EB=this.EB.filter(function(b){return b[0]>a;});};b.prototype.ZG=function(){var a;a=h.storage.get("nh");this.S0(a)||(this.Fr=h.time.ea(),this.Kr=0,this.Nx=!1,this.YG=null,this.EB=[]);};b.prototype.S0=function(a){if(!(a&&f.has(a,"t")&&f.has(a,"s")&&f.has(a,"i")&&f.qa(a.t)&&f.qa(a.s)&&f.isArray(a.i)))return!1;this.Fr=h.time.J9(1E3*a.t);this.Kr=1E3*a.s;this.Nx=!1;this.EB=a.i.map(function(a){return[1E3*a[0],a[1]];});this.YG=null;return!0;};b.prototype.Re=function(){return this.Nx?{t:h.time.now()/1E3|0,s:(this.Kr+(h.time.ea()-this.Fr))/1E3|0,i:this.EB.map(function(a){return[a[0]/1E3|0,a[1]];})}:{t:h.time.o9(this.Fr)/1E3|0,s:this.Kr/1E3|0,i:this.EB.map(function(a){return[a[0]/1E3|0,a[1]];})};};g.T=b;},function(g){(function(){var j0S,e0S;function d(){var Q0S;Q0S=2;while(Q0S!==5){switch(Q0S){case 2:this.pu=this.Rb=0;this.Qa=this.ge=void 0;Q0S=5;break;}}}j0S=2;while(j0S!==8){e0S="1S";e0S+="I";e0S+="YbZ";e0S+="rNJC";e0S+="p9";switch(j0S){case 2:d.prototype.start=function(a){var Z0S;Z0S=2;while(Z0S!==1){switch(Z0S){case 2:this.ge?a<this.ge?(this.pu+=this.ge-a,this.ge=a):a>this.Qa&&(this.Qa=this.ge=a):this.Qa=this.ge=a;Z0S=1;break;}}};d.prototype.stop=function(a){var u0S;u0S=2;while(u0S!==1){switch(u0S){case 2:this.Qa&&a>this.Qa&&(this.pu+=a-this.Qa,this.Qa=a);u0S=1;break;}}};d.prototype.add=function(a,b,f){var f0S;f0S=2;while(f0S!==4){switch(f0S){case 2:this.start(b);this.stop(f);this.Rb+=a;f0S=4;break;}}};j0S=4;break;case 4:d.prototype.get=function(){var n0S;n0S=2;while(n0S!==1){switch(n0S){case 2:return{Ha:this.pu?Math.floor(8*this.Rb/this.pu):null,Dqa:this.pu?this.pu:0};break;}}};j0S=3;break;case 3:g.T=d;e0S;j0S=8;break;}}}());},function(g,d,a){var f;function b(a){var b,c;b=a.tb;c=a.mb;this.Rx=a.sw||4E3;this.OXa=b;this.hVa=c;this.reset();}f=a(6);new f.Console("ASEJS_REQUEST_PACER","media|asejs");b.prototype.GP=function(a,b){this.Rb+=b;this.Jg.push({t:a,Du:b});this.Jg.sort(function(a,b){return a.t-b.t;});};b.prototype.iH=function(){var a;if(null!==this.fu&&null!==this.Ek&&0!==this.Jg.length)for(;this.fu-this.Ek>this.Rx&&this.Jg.length;){a=this.Jg.shift();this.Rb-=a.Du;this.Ek=a.t;}};b.prototype.reset=function(){this.Jg=[];this.Ek=this.fu=null;this.Rb=0;};b.prototype.setInterval=function(a){this.Rx=a;this.iH();};b.prototype.Ebb=function(){var a;a=f.time.ea();return 8*this.Rb/(a-this.Ek);};b.prototype.I0a=function(a){return null===this.fu||null===this.Ek?!0:a<=this.hVa?!0:this.Ebb()<=this.OXa;};b.prototype.cC=function(a,b){null===this.fu&&(this.fu=a);null===this.Ek&&(this.Ek=a);a>this.fu&&(this.fu=a);a<this.fu-this.Rx||(a<this.Ek&&(this.Ek=a),this.GP(a,b),this.iH());};g.T=b;},function(g,d,a){var f;function b(a){var b,c;b=a.sw;c=a.mw;this.Rx=b;this.s_={uhd:a.uhdl,hd:a.hdl};this.rh=Math.max(Math.ceil(1*b/c),1);this.lVa=a.mins||1;f.call(this,b,c);this.reset();}f=a(126);new(a(6)).Console("ASEJS_NETWORK_ENTROPY","media|asejs");b.prototype=Object.create(f.prototype);b.prototype.flush=function(){this.Cc.map(function(a,b){this.kna(a,this.o5(b));},this);};b.prototype.q0a=function(){var a,b,c,f,d,g,h,x;a=this.s_;for(b in a)if(a.hasOwnProperty(b)){c=a[b];f=this.Y0[b];d=this.W0[b];if(f.first){g=f.first;h=f.Ez;void 0!==h&&(d[g][h]+=1);f.first=void 0;}for(var f=[],g=0,c=h=c.length+1,y=0;y<h;y++){for(var l=0,m=0;m<c;m++)l+=d[m][y];g+=l;f.push(l);}l=-1;if(g>this.lVa){for(y=l=0;y<h;y++)if(0<f[y])for(m=0;m<c;m++){x=d[m][y];0<x&&(l-=x*Math.log(1*x/f[y]));}l/=g*Math.log(2);}this.N_[b]=l;}return this.N_;};b.prototype.kna=function(a,b){var c,g,h;for(var c=this.rh,f=this.s_;this.YO.length>=c;)this.YO.shift();for(;this.ZO.length>=c;)this.ZO.shift();this.YO.push(a);this.ZO.push(b);a=this.YO.reduce(function(a,b){return a+b;},0);b=this.ZO.reduce(function(a,b){return a+b;},0);if(0<b){a=8*a/b;for(var d in f)if(f.hasOwnProperty(d)){b=this.Y0[d];c=this.W0[d];g=this.Smb(a,f[d]);h=b.Ez;void 0!==h?c[g][h]+=1:b.first=g;b.Ez=g;}}};b.prototype.Smb=function(a,b){for(var c=0;c<b.length&&a>b[c];)c+=1;return c;};b.prototype.shift=function(){this.kna(this.Cc[0],this.o5(0));f.prototype.shift.call(this);};b.prototype.reset=function(){var a,b;this.Y0={};this.YO=[];this.ZO=[];this.W0={};this.N_={};a=this.s_;for(b in a)if(a.hasOwnProperty(b)){for(var c=this.W0,d=b,g,h=void 0,u=Array(h),h=g=a[b].length+1,y=0;y<h;y++){u[y]=Array(g);for(var l=0;l<g;l++)u[y][l]=0;}c[d]=u;this.Y0[b]={first:void 0,Ez:void 0};this.N_[b]=0;}f.prototype.reset.call(this);};g.T=b;},function(g,d,a){var f;function b(){this.Ig=void 0;this.qu=0;}f=a(7);b.prototype.Re=function(){return 0!==this.qu&&this.Ig?{p25:this.Ig.wj,p50:this.Ig.ai,p75:this.Ig.xj,c:this.qu}:null;};b.prototype.Wg=function(a){if(!(!f.Ra(a)&&f.has(a,"p25")&&f.has(a,"p50")&&f.has(a,"p75")&&f.has(a,"c")&&f.isFinite(a.p25)&&f.isFinite(a.p50)&&f.isFinite(a.p75)&&f.isFinite(a.c)))return this.Ig=void 0,this.qu=0,!1;this.Ig={wj:a.p25,ai:a.p50,xj:a.p75};this.qu=a.c;};b.prototype.get=function(){return{ZU:this.Ig,km:this.qu};};b.prototype.set=function(a,b){this.Ig=a;this.qu=b;};b.prototype.reset=function(){this.Ig=void 0;this.qu=0;};b.prototype.toString=function(){return"IQRHist("+this.Ig+","+this.qu+")";};g.T=b;},function(g,d,a){var f,h,p,c,k,q,n,u,y,l;function b(a){this.CTa=a;}d=a(346);f=d.GIa;h=d.EIa;p=a(345).FIa;c=a(344);k=a(343);q=a(357);n=a(658);u=a(657);y=a(656);l=a(655);b.prototype.constructor=b;b.prototype.create=function(a,b){var d,g,t,m;g=this.CTa[a];t=b[a];m={};g&&Object.keys(g).forEach(function(a){m[a]=g[a];});t&&Object.keys(t).forEach(function(a){m[a]=t[a];});switch(m.type){case"slidingwindow":d=new p(m.mw);break;case"discontiguous-ewma":d=new h(m.mw);break;case"iqr":d=new c(m.mx,m.mn,m.bw,m.iv);break;case"tdigest":d=new k(m);break;case"discrete-ewma":d=new f(m.hl);break;case"tdigest-history":d=new q(m);break;case"iqr-history":d=new n(m);break;case"avtp":d=new l();break;case"entropy":d=new u(m);break;case"req-pacer":d=new y(m);}d&&(d.type=m.type);return d;};g.T=b;},function(g){function d(a){this.wB=a;this.xd=0;this.TB=null;}d.prototype.add=function(a,b,f){null!==this.TB&&b>this.TB&&(this.xd+=b-this.TB,this.TB=null);this.wB.add(a,b-this.xd,f-this.xd,this.xd);};d.prototype.stop=function(a){null===this.TB&&(this.TB=a);};d.prototype.kL=function(a,b){return this.wB.kL(a,b);};d.prototype.get=function(){return this.wB.get();};d.prototype.reset=function(){this.wB.reset();};d.prototype.toString=function(){return this.wB.toString();};g.T=d;},function(g){function d(a,b,f){this.ZB=a;this.rh=Math.floor((a+b-1)/b);this.pc=b;this.OWa=f;this.reset();}d.prototype.shift=function(){this.Cc.shift();this.Mf.shift();};d.prototype.update=function(a,b){this.Cc[a]+=b;};d.prototype.push=function(a){this.Cc.push(0);this.Mf.push(a?a:0);this.Qa+=this.pc;};d.prototype.add=function(a,b,f,d){var g,c;if(null===this.Qa){g=Math.max(Math.floor((f-b+this.pc-1)/this.pc),1);for(this.Qa=b;this.Cc.length<g;)this.push(d);}for(;this.Qa<f;)if(this.push(d),this.OWa)for(;1<this.Cc.length&&f+d-(this.Qa-this.pc*this.Cc.length+this.Mf[0])>this.ZB;)this.shift();else this.Cc.length>this.rh&&this.shift();if(b>this.Qa-this.pc)this.update(this.Cc.length-1,a);else if(b==f)d=this.Cc.length-Math.max(Math.ceil((this.Qa-f)/this.pc),1),0<=d&&this.update(d,a);else for(d=1;d<=this.Cc.length;++d){g=this.Qa-d*this.pc;c=g+this.pc;if(!(g>f)){if(c<b)break;this.update(this.Cc.length-d,Math.round(a*(Math.min(c,f)-Math.max(g,b))/(f-b)));}}for(;this.Cc.length>this.rh;)this.shift();};d.prototype.reset=function(){this.Cc=[];this.Mf=[];this.Qa=null;};d.prototype.setInterval=function(a){this.rh=Math.floor((a+this.pc-1)/this.pc);};g.T=d;},function(g,d,a){var h,p,c,k;function b(a,b,c){h.call(this,a,b,c);}function f(a,c){p.call(this,new b(a,c,!1));}h=a(661);p=a(660);c=a(60).k$a;k=a(60).tcb;b.prototype=Object.create(h.prototype);b.prototype.Ha=function(){return Math.floor(8*c(this.Cc)/this.pc);};b.prototype.ah=function(){return Math.floor(64*k(this.Cc)/(this.pc*this.pc));};b.prototype.get=function(){return{Ha:this.Ha(),ah:this.ah(),zEb:this.Cc.length};};b.prototype.toString=function(){return"bsw("+this.ZB+","+this.pc+","+this.rh+")";};f.prototype=Object.create(p.prototype);f.prototype.setInterval=function(a){this.wB.setInterval(a);};g.T=f;},function(g,d,a){var f,h,p,c;function b(a){var b;b=nrdp.wh.PKb.match(/android-(\d*)/);b?23<b[1]?(a.tw=!1,a.rw=!1,a.Kp=void 0):(b=nrdp.wh.LBb.aFb.platform.IJb.match(/(\d*)\.(\d*).(\d*)/))?6<b[1]||6==b[1]&&1<b[2]||6==b[1]&&1==b[2]&&1<=b[3]?(a.tw=!0,a.rw=!1,a.Kp=void 0):(a.tw=!1,a.rw=!1,a.Kp=[]):(a.tw=!1,a.rw=!1,a.Kp=[]):(a.tw=!1,a.rw=!1,a.Kp=[]);}f=a(13).assert;a(75);h=a(6);p=h.sk;c=h.XMa;g.T=function(){var a,d,g;new h.Console("ASEJSMONKEY","media|asejs");if(!h.sk.Pc){a=function(a){this.cVa=a;};d=c.prototype.appendBuffer;h.MediaSource.Pc||(h.MediaSource.Pc={});"undefined"!==typeof nrdp&&nrdp.cEb&&(b(h.MediaSource.Pc),h.MediaSource.Pc.apa=!1);h.sk.Pc={EE:{Lca:!0,jx:!0,Lga:!0}};Object.defineProperty(p.prototype,"_response",{get:function(){return this.IXa||this.ATa;},set:function(a){this.ATa=a;}});g=p.prototype.open;p.prototype.open=function(b,c,f,d,k,h,n){1===f&&(this.IXa=new a(this));return g.call(this,b,c,f,d,k,h,n);};p.prototype.AL=function(){this.QB=void 0;};c.prototype.appendBuffer=function(b){if(b instanceof ArrayBuffer)return d.call(this,b);if(b instanceof a)return this.AQ(b.cVa);f(!1);};}};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(7);f=a(11);h=a(6);g=function(){var g0S;g0S=2;while(g0S!==13){switch(g0S){case 14:return a;break;case 5:a.prototype.Pu=function(a,b,d){var M0S,c,l0S,W0S;M0S=2;while(M0S!==8){l0S="s";l0S+="e";l0S+="ek";W0S="p";W0S+="t";W0S+="s";W0S+="changed";switch(M0S){case 5:M0S=b?4:3;break;case 4:return c;break;case 2:c=this.sa.wa.Pu(a,b);M0S=5;break;case 3:c?(this.sa.Ve.set(f.Ia.bB),(a=this.sa.wa.zj.children[a])&&this.sa.emit(W0S,a.tc),this.sa.Ve.set(f.Ia.fh),this.sa.emit(l0S),a&&this.sQ(a.ga),this.sa.TP(1),this.sa.qh(),this.sa.$t()):d||(a=this.sa.wa.Lbb(a),this.KE(a));return c;break;}}};a.prototype.IUa=function(a){var B0S;B0S=2;while(B0S!==1){switch(B0S){case 2:return!!this.sa.Na[a].Ux;break;case 4:return-+this.sa.Na[a].Ux;break;B0S=1;break;}}};a.prototype.sQ=function(a){var J0S,b;J0S=2;while(J0S!==3){switch(J0S){case 2:b=this;a=this.sa.Na[a];a.Ux||(a.Ux=!0,[f.I.VIDEO,f.I.AUDIO].forEach(function(a){var k0S;k0S=2;while(k0S!==1){switch(k0S){case 2:b.sa.Ze[a].resume();k0S=1;break;}}}));J0S=3;break;}}};a.prototype.GWa=function(a,b,f){var C0S,c,d;C0S=2;while(C0S!==14){switch(C0S){case 9:a.Fq(b);a.JAa();this.sa.wf&&0<this.sa.wf.length&&(this.sa.wf.forEach(function(a){var D0S;D0S=2;while(D0S!==1){switch(D0S){case 2:c.sa.qQ(a,!1);D0S=1;break;case 4:c.sa.qQ(a,+5);D0S=2;break;D0S=1;break;}}}),this.sa.wf=void 0);C0S=6;break;case 2:c=this;d=this.sa.G;d.sy&&(this.sa.kP=b+d.PCa,this.sa.lP=h.time.ea());a.LHb=f;C0S=9;break;case 6:this.sa.TC.gma(a);C0S=14;break;}}};a.prototype.O_=function(){var x0S,a,b;x0S=2;while(x0S!==9){switch(x0S){case 1:x0S=this.Rj?5:9;break;case 2:x0S=1;break;case 5:a=this.Rj.ko;b=this.Rj.ga;this.sa.Na[b]&&(this.Rj=void 0,this.KE(a,b));x0S=9;break;}}};a.prototype.Pi=function(a){var E0S,c,d,t0S;function b(a,f,d){var a0S,K0S;a0S=2;while(a0S!==5){K0S="s";K0S+="kip: u";K0S+="nexpected behaviour - a non-presenting b";K0S+="ranch d";K0S+="oesn't have a previous branch";switch(a0S){case 2:a!==c.sa.wa.zj&&(a.Ge?b(a.Ge,f,d):c.sa.Dc(K0S));a.Va[f].Pi(d);a0S=5;break;}}}E0S=2;while(E0S!==6){t0S="s";t0S+="k";t0S+="i";t0S+="p";switch(E0S){case 2:c=this;d=this.sa.G;E0S=4;break;case 4:this.sa.wa.zj.Pi(a);[f.I.AUDIO,f.I.VIDEO].forEach(function(f){var I0S,k,y0S;I0S=2;while(I0S!==8){y0S="ski";y0S+="p:";y0S+=" not resuming bufferManager, audio";y0S+=" track switch in progress";switch(I0S){case 2:I0S=1;break;case 5:k=c.sa.gb.Bb[f];c.sa.qo&&(k.pba=h.time.ea());d.yL?c.sa.Ze[f].reset():k.wF?k.ma(y0S):c.sa.Ze[f].resume();I0S=9;break;case 1:I0S=c.sa.jn(f)?5:8;break;case 9:b(c.sa.wa.af,f,a);I0S=8;break;}}});this.sa.Ve.set(f.Ia.wd);this.sa.wH();this.sa.emit(t0S);E0S=6;break;}}};a.prototype.pC=function(a){var Y0S,b,c;Y0S=2;while(Y0S!==6){switch(Y0S){case 5:c=0<Object.keys(b.ya&&b.ya.nj||{}).length&&!b.ng?b.Pd-this.sa.G.wU:b.Pd;Y0S=4;break;case 7:return b&&a&&b.complete&&a.complete;break;case 2:b=this.sa.wa.zj;Y0S=5;break;case 9:b=this.sa.iD(a,f.I.AUDIO,!0);a=this.sa.iD(a,f.I.VIDEO,!0);Y0S=7;break;case 4:Y0S=a<b.tc||a>=c?3:9;break;case 3:return!1;break;}}};g0S=14;break;case 2:a.prototype.KE=function(a,d){var O0S,c,k,g,h,p,t,l,m3S,s3S,P0S,V0S,b0S,T0S,A0S,R0S,c0S,F0S,X0S,G0S,r0S,q0S;O0S=2;while(O0S!==36){m3S="seekDe";m3S+="l";m3S+="a";m3S+="y";m3S+="ed";s3S="seekF";s3S+="aile";s3S+="d";P0S="afte";P0S+="r seeking, ";P0S+="playerState no longer STARTI";P0S+="N";P0S+="G: ";V0S="seek";V0S+="De";V0S+="layed";b0S="see";b0S+="k";b0S+="F";b0S+="aile";b0S+="d";T0S="seek";T0S+=", no manifest at ";T0S+="manifes";T0S+="tIndex:";A0S="s";A0S+="e";A0S+="e";A0S+="k";R0S=" ";R0S+="pl";R0S+="ayerState: ";c0S=" m";c0S+="ed";c0S+="i";c0S+="a.c";c0S+="urrentPts: ";F0S=" cur";F0S+="rent manifest";F0S+=":";F0S+=" ";X0S=" man";X0S+="i";X0S+="f";X0S+="estIndex: ";G0S="s";G0S+="e";G0S+="e";G0S+="k";G0S+=": ";r0S="s";r0S+="e";r0S+="e";r0S+="k";q0S="pts";q0S+="ch";q0S+="ange";q0S+="d";switch(O0S){case 43:return this.sa.emit(q0S,p),this.sa.emit(r0S),this.sQ(d),d=h&&this.sa.$t()?100:0,this.sa.TP(1,d),this.sa.qh(),p;break;case 23:O0S=this.sa.zk?22:33;break;case 3:p=a;g.bf&&this.sa.Nh(G0S+a+X0S+d+F0S+this.sa.Fd+c0S+h+R0S+this.sa.Ve.value);b.P(d)&&(d=this.sa.Fd);this.sa.wa.IAa();O0S=6;break;case 19:O0S=!this.sa.Sja(d)?18:15;break;case 24:O0S=a>h?23:32;break;case 30:O0S=(h=this.sa.Fd===d&&!this.IUa(d)&&a===g.V)?29:42;break;case 42:this.sa.L0(A0S);t=this.sa.wa.af;l=this.sa.sx(t.ga,a,t).Hz;this.sa.cYa(g,d);O0S=38;break;case 22:O0S=!this.sa.iQ(this.sa.Fd+1)?21:32;break;case 15:O0S=this.Pu(this.sa.wa.d6(d),!1,!0)?27:26;break;case 32:this.sa.Ve.set(f.Ia.fh);this.sa.wa.msb(a,d);O0S=30;break;case 12:O0S=d!=this.sa.Fd?11:26;break;case 11:d<this.sa.Fd&&g.replace&&(g.replace=!1);k=this.sa.Na[this.sa.Fd];this.sa.wa.og.forEach(function(a){var d0S;d0S=2;while(d0S!==1){switch(d0S){case 2:c.sa.tma(a,k.Zk&&k.Zk.Ii);d0S=1;break;}}});O0S=19;break;case 28:O0S=this.sa.Ve.value!=f.Ia.fh?44:43;break;case 37:this.sa.ma(T0S,d),this.sa.emit(b0S);O0S=36;break;case 6:O0S=(g=this.sa.Na[d])?14:37;break;case 18:this.Rj={ga:d,ko:a};this.sa.emit(V0S);return;break;case 38:this.sa.wa.og.forEach(function(b){var w0S,f;w0S=2;while(w0S!==4){switch(w0S){case 2:f=b.R;c.sa.jn(f)&&c.GWa(b,l[f],a);w0S=4;break;}}});O0S=28;break;case 29:[f.I.AUDIO,f.I.VIDEO].forEach(function(a){var v0S;v0S=2;while(v0S!==1){switch(v0S){case 2:c.sa.Ze[a].reset(!0);v0S=1;break;}}});O0S=28;break;case 14:!g.zK&&0<d&&(p=this.sa.Bpa(d,a));this.sa.Ve.set(f.Ia.bB);O0S=12;break;case 44:this.sa.ma(P0S+this.sa.Ve.value),this.sa.emit(s3S);O0S=36;break;case 21:this.Rj={ga:this.sa.Fd+1,ko:a};this.sa.emit(m3S);return;break;case 27:return;break;case 26:h=this.sa.ur(this.sa.wa.og,g.Lb,g.da||Infinity);h=this.sa.Qh?this.sa.eg?Math.min(h[f.I.AUDIO].V,h[f.I.VIDEO].V):h[f.I.AUDIO].V:h[f.I.VIDEO].V;O0S=24;break;case 2:c=this;g=this.sa.G;h=this.sa.cf();O0S=3;break;case 33:a=h,p=a+this.sa.wa.Oc;O0S=32;break;}}};a.prototype.seek=function(a,f){var N0S,c;N0S=2;while(N0S!==8){switch(N0S){case 2:c=a;b.P(f)&&(f=this.sa.Fd);this.sa.wa.IAa();N0S=3;break;case 3:this.sa.Na[f].zK||this.sa.GB||(c=this.sa.zC(f,a));return this.KE(c,f);break;}}};g0S=5;break;}}function a(a){var i0S,H3S;i0S=2;while(i0S!==5){H3S="1SI";H3S+="YbZr";H3S+="NJ";H3S+="C";H3S+="p9";switch(i0S){case 2:this.sa=a;H3S;i0S=5;break;}}}}();d.UQa=g;},function(g,d,a){var b,f,h,p,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(7);f=a(196);h=a(11);p=a(75);c=a(6);k=a(26);a(13);g=function(){var L3S;L3S=2;while(L3S!==54){switch(L3S){case 31:a.prototype.DVa=function(){var y3S,a,b,f,d,g,V3S;y3S=2;while(y3S!==11){V3S="buffer";V3S+="i";V3S+="ngCo";V3S+="mplet";V3S+="e";switch(y3S){case 7:g=b.bI;f={type:V3S,time:c.time.ea(),actualStartPts:g,aBufferLevelMs:f?f.Be:0,vBufferLevelMs:d?d.Be:0,selector:d?d.uBa:f.uBa,initBitrate:b.Tl,skipbackBufferSizeBytes:this.za.ob.Zqb};this.za.pe.V8a({initSelReason:b.Eo,initSelectionPredictedDelay:b.VJ,buffCompleteReason:b.poa,hashindsight:!!this.za.qo,hasasereport:!!this.za.Pl});k.ka(this.za,f.type,f);y3S=12;break;case 2:a=this.za.G;b=this.za.wa.og;f=b[h.I.AUDIO];d=b[h.I.VIDEO];this.yla();b=this.za.eg?this.za.gb.Bb[h.I.VIDEO]:this.za.gb.Bb[h.I.AUDIO];y3S=7;break;case 12:a.yR&&(this.za.B0=!0);y3S=11;break;}}};a.prototype.yla=function(){var t3S,a,b,c,f,d,g,P3S;t3S=2;while(t3S!==10){P3S="upda";P3S+="t";P3S+="eBuf";P3S+="ferLevel";switch(t3S){case 5:t3S=!this.za.ze()?4:10;break;case 2:a=this.za.G;t3S=5;break;case 4:b=this.za.wa.og;c=b[h.I.AUDIO];f=b[h.I.VIDEO];t3S=8;break;case 12:b>a.uxa&&this.za.ob.Sg&&this.za.ob.Sg.EH(!0,this.za.dj.sessionId);k.ka(this.za,c.type,c);t3S=10;break;case 8:d=c?c.Be:0;b=f?f.Be:0;this.za.pe.GYa(d,b);g=this.za.ob.Nd.get(!1);c={type:P3S,abuflbytes:c?c.Hu:0,vbuflbytes:f?f.Hu:0,totalabuflmsecs:d,totalvbuflmsecs:b,predictedFutureRebuffers:0,currentBandwidth:g.Fc?g.va.Ha:0};t3S=12;break;}}};a.prototype.TUa=function(a){var q3S,f,d,k,p8S,S8S,L8S,H8S,m8S,s8S;q3S=2;while(q3S!==13){p8S=", ";p8S+="syst";p8S+="emDelta:";p8S+=" ";S8S="memory";S8S+="Usage at tim";S8S+="e: ";L8S=", ";L8S+="osAllocatorD";L8S+="elt";L8S+="a: ";H8S=",";H8S+=" js";H8S+="HeapDe";H8S+="lta: ";m8S=",";m8S+=" fastMal";m8S+="locDelta: ";s8S="me";s8S+="mor";s8S+="yUsa";s8S+="ge at t";s8S+="ime: ";switch(q3S){case 5:b.qa(a.vM);q3S=4;break;case 8:k=a.Dya-this.HB.Dya;(4194304<f||4194304<k)&&this.za.ma(s8S+c.time.ea()+m8S+f+H8S+d+L8S+k);q3S=6;break;case 1:q3S=!b.P(a)?5:13;break;case 2:q3S=1;break;case 4:q3S=!b.P(this.HB)?3:14;break;case 14:this.HB=a;q3S=13;break;case 3:f=a.Era-this.HB.Era;d=a.vua-this.HB.vua;q3S=8;break;case 6:b.qa(a.vM)&&b.qa(this.HB.vM)&&(f=a.vM-this.HB.vM,4194304<f&&this.za.ma(S8S+c.time.ea(),p8S+f));q3S=14;break;}}};a.prototype.aWa=function(){var r3S,a,U8S;r3S=2;while(r3S!==9){U8S="s";U8S+="t";U8S+="reamin";U8S+="gstat";switch(r3S){case 2:this.za.G.sgb&&c.memory.vab(this.TUa.bind(this));a={type:U8S,time:c.time.ea(),playbackTime:this.za.cf()};this.za.pe.W8a(a);r3S=3;break;case 3:k.ka(this.za,a.type,a);r3S=9;break;}}};a.prototype.xla=function(){var G3S,a,h8S;G3S=2;while(G3S!==4){h8S="asere";h8S+="p";h8S+="ort";switch(G3S){case 1:a={type:h8S};this.za.ima.U8a(a)&&k.ka(this.za,a.type,a);G3S=4;break;case 2:G3S=1;break;case 9:G3S=3;break;G3S=1;break;}}};L3S=43;break;case 43:a.prototype.zVa=function(){var X3S,a,o8S;X3S=2;while(X3S!==4){o8S="as";o8S+="ere";o8S+="po";o8S+="rtenabl";o8S+="ed";switch(X3S){case 2:a={type:o8S};k.ka(this.za,a.type,a);X3S=4;break;}}};a.prototype.JVa=function(a){var F3S,b,c,f,d,g,h,n,q,p,t,l,m,r,W,ca,ia,X,B,Y,da,z8S,u8S,Z8S,Q8S,j8S;F3S=2;while(F3S!==7){z8S="hind";z8S+="sightr";z8S+="eport";switch(F3S){case 2:F3S=1;break;case 5:b={type:z8S};c=this.za.G.MJ;for(f in c){u8S="h";u8S+="v";u8S+="m";u8S+="af";u8S+="dp";Z8S="h";Z8S+="v";Z8S+="ma";Z8S+="f";Z8S+="gr";Q8S="h";Q8S+="v";Q8S+="ma";Q8S+="f";Q8S+="tb";j8S="h";j8S+="t";j8S+="w";j8S+="br";d=c[f];g=0;h=0;n=0;q=0;p=0;t=0;r=!1;W=-1;ca=-1;ia=-1;X=-1;B=-1;Y=-1;for(da in a)m=a[da],void 0===m.nd&&(l=(l=m.sols)&&l[d])&&(r=!0,n+=l.dlvdur,g+=l.dltwbr*l.dlvdur,h+=l.dlvmaf*l.dlvdur),t+=m.pbdur,q+=m.pbtwbr*m.pbdur,p+=m.pbvmaf*m.pbdur,l=m.rr,m=m.ra;0<t&&(W=1*q/t,X=1*p/t);r&&(0<n&&(ca=1*g/n,B=1*h/n),0<n+t&&(ia=1*(g+q)/(n+t),Y=1*(h+p)/(n+t)));switch(d){case j8S:b.htwbr=ia;b.hptwbr=ca;b.pbtwbr=W;l&&(b.rr=l,b.ra=m);break;case Q8S:b.hvmaftb=Y;b.hpvmaftb=B;b.pbvmaftb=X;l&&(b.rrvmaftb=l,b.ravmaftb=m);break;case Z8S:b.hvmafgr=Y;b.hpvmafgr=B;b.pbvmafgr=X;l&&(b.rrvmafgr=l,b.ravmafgr=m);break;case u8S:b.hvmafdp=Y,b.hpvmafdp=B,b.pbvmafdp=X,l&&(b.rrvmafdp=l,b.ravmafdp=m);}}this.za.o4&&(b.report=a);k.ka(this.za,b.type,b);F3S=7;break;case 1:F3S=a?5:7;break;}}};a.prototype.FVa=function(a,b,c){var c3S,e8S,n8S,f8S;c3S=2;while(c3S!==1){e8S="endO";e8S+="fS";e8S+="tream";n8S=" le";n8S+="ngth";n8S+=": ";f8S="notifyEn";f8S+="dOfStream ignored, more manif";f8S+="es";f8S+="ts, index: ";switch(c3S){case 2:a.ar||(b+1<c?a.ma(f8S+b+n8S+c):(this.za.Ze[a.R].QK(),b={type:e8S,mediaType:a.R},k.ka(this.za,b.type,b),a.ar=!0));c3S=1;break;}}};a.prototype.zla=function(a){var R3S,g8S;R3S=2;while(R3S!==5){g8S="cr";g8S+="e";g8S+="a";g8S+="tere";g8S+="quest";switch(R3S){case 2:a={type:g8S,mediaRequest:a};k.ka(this.za,a.type,a);R3S=5;break;}}};a.prototype.rq=function(a){var A3S,O8S,i8S;A3S=2;while(A3S!==1){O8S="a";O8S+="see";O8S+="xcep";O8S+="ti";O8S+="on";i8S="as";i8S+="eexcepti";i8S+="on";switch(A3S){case 2:this.za.emit(i8S,{type:O8S,msg:a});A3S=1;break;}}};a.prototype.djb=function(a,b,f,d){var T3S,v8S,d8S;T3S=2;while(T3S!==5){v8S="ma";v8S+="xvideobi";v8S+="trat";v8S+="echanged";d8S="maxvideob";d8S+="i";d8S+="tratecha";d8S+="nged";switch(T3S){case 2:a={type:d8S,time:c.time.ea(),spts:d,maxvb_old:a,maxvb:b,reason:f};this.za.emit(v8S,a);T3S=5;break;}}};L3S=37;break;case 37:a.prototype.aya=function(){var b3S,a,w8S;b3S=2;while(b3S!==9){w8S="stre";w8S+="ameren";w8S+="d";switch(b3S){case 1:b3S=!this.KXa&&this.za.G.Zxa?5:9;break;case 2:b3S=1;break;case 5:this.KXa=!0;a={type:w8S,time:c.time.ea()};k.ka(this.za,a.type,a);b3S=9;break;}}};return a;break;case 12:a.prototype.UVa=function(a,b){var g3S,N8S;g3S=2;while(g3S!==5){N8S="s";N8S+="eg";N8S+="mentA";N8S+="ppended";switch(g3S){case 2:b={type:N8S,segmentId:a.id,metrics:b};a.sE||k.ka(this.za,b.type,b);g3S=5;break;}}};L3S=11;break;case 4:a.prototype.IVa=function(a,b){var o3S,M8S;o3S=2;while(o3S!==5){M8S="head";M8S+="erCach";M8S+="eHi";M8S+="t";switch(o3S){case 2:a={type:M8S,movieId:a,streamId:b};k.ka(this.za,a.type,a);o3S=5;break;}}};a.prototype.HVa=function(a,b,c,f,d){var z3S,g,B8S;z3S=2;while(z3S!==9){B8S="h";B8S+="eaderCa";B8S+="c";B8S+="h";B8S+="eDataHit";switch(z3S){case 5:this.za.Xka=void 0;a={type:B8S,movieId:a,audio:b,audioFromMediaCache:f,video:c,videoFromMediaCache:d,actualStartPts:g&&g.Gk,headerCount:g&&g.Co,stats:g&&g.Jb};k.ka(this.za,a.type,a);z3S=9;break;case 2:g=this.za.Xka;z3S=5;break;}}};a.prototype.PVa=function(a,b,c){var j3S,J8S;j3S=2;while(j3S!==5){J8S="maxPo";J8S+="si";J8S+="ti";J8S+="on";switch(j3S){case 2:a={type:J8S,index:a,maxPts:b,endPts:c};k.ka(this.za,a.type,a);j3S=5;break;}}};L3S=8;break;case 2:a.prototype.Dr=function(a){var p3S,k8S;p3S=2;while(p3S!==5){k8S="st";k8S+="ar";k8S+="t";k8S+="Eve";k8S+="nt";switch(p3S){case 2:a={type:k8S,event:a,time:c.time.ea()};k.ka(this.za,a.type,a);p3S=5;break;}}};a.prototype.QVa=function(){var U3S,a,C8S;U3S=2;while(U3S!==4){C8S="openCom";C8S+="pl";C8S+="et";C8S+="e";switch(U3S){case 2:a={type:C8S};k.ka(this.za,a.type,a);U3S=4;break;}}};a.prototype.RVa=function(a,b,c,f,d){var h3S,D8S;h3S=2;while(h3S!==1){D8S="p";D8S+="t";D8S+="sStart";D8S+="s";switch(h3S){case 2:this.za.G.m6a||(a={type:D8S,manifestIndex:a,mediaType:b,movieId:f,streamId:c,ptsStarts:d.wCa()},k.ka(this.za,a.type,a));h3S=1;break;}}};L3S=4;break;case 11:a.prototype.VVa=function(a,b,c){var i3S,x8S;i3S=2;while(i3S!==5){x8S="seg";x8S+="me";x8S+="ntComplete";switch(i3S){case 2:a={type:x8S,mediaType:a,manifestIndex:b,segmentId:c.id};k.ka(this.za,a.type,a);i3S=5;break;}}};a.prototype.t0=function(a,b){var O3S,E8S;O3S=2;while(O3S!==5){E8S="l";E8S+="as";E8S+="t";E8S+="SegmentPt";E8S+="s";switch(O3S){case 2:b={type:E8S,segmentId:a.id,pts:Math.floor(b)};a.sE||k.ka(this.za,b.type,b);O3S=5;break;}}};a.prototype.MVa=function(a,b,c,f,d){var d3S,a8S;d3S=2;while(d3S!==5){a8S="manife";a8S+="stR";a8S+="ange";switch(d3S){case 2:a={type:a8S,index:a,manifestOffset:b,startPts:Math.floor(c),endPts:Math.floor(f),maxPts:Math.floor(d)};k.ka(this.za,a.type,a);d3S=5;break;}}};a.prototype.OVa=function(a,b){var v3S,I8S;v3S=2;while(v3S!==5){I8S="ma";I8S+="xB";I8S+="itrates";switch(v3S){case 2:a={type:I8S,audio:a,video:b};k.ka(this.za,a.type,a);v3S=5;break;}}};L3S=18;break;case 24:a.prototype.$Va=function(a,b,c,d){var D3S,Y8S;D3S=2;while(D3S!==4){Y8S="updateStreami";Y8S+="ngP";Y8S+="ts";switch(D3S){case 2:b={type:Y8S,mediaType:a,manifestIndex:b,trackIndex:c,movieTime:Math.floor(d)};f.wm.dn(a);k.ka(this.za,b.type,b);D3S=4;break;}}};a.prototype.GVa=function(a,b){var x3S,W8S;x3S=2;while(x3S!==5){W8S="f";W8S+="irstReque";W8S+="stAppended";switch(x3S){case 2:a={type:W8S,manifestIndex:a.ga,mediatype:b.R,time:c.time.ea()};k.ka(this.za,a.type,a);x3S=5;break;}}};a.prototype.KVa=function(a){var E3S,b,y8S,K8S,l8S;E3S=2;while(E3S!==4){y8S="initialAudioTra";y8S+="c";y8S+="k";K8S="over nu";K8S+="mber of t";K8S+="racks:";l8S="audio";l8S+="Trac";l8S+="kI";l8S+="n";l8S+="dex:";switch(E3S){case 2:b=this.za.yi.Aa.audio_tracks;a>b.length?this.za.ma(l8S,a,K8S,b.length):(a={type:y8S,trackId:b[a].track_id,trackIndex:a},k.ka(this.za,a.type,a));E3S=4;break;}}};a.prototype.BVa=function(a,b){var a3S,c,f,t8S;a3S=2;while(a3S!==14){t8S="audio";t8S+="TrackSw";t8S+="it";t8S+="ch";t8S+="Started";switch(a3S){case 2:c=a.Aa;f=a.GS(0);a=a.FJ(0,b);a3S=3;break;case 3:c=c.audio_tracks;f=c[f];c=c[a];f={type:t8S,oldLangCode:f.language,oldNumChannels:f.channels,newLangCode:c.language,newNumChannels:c.channels};k.ka(this.za,f.type,f);a3S=14;break;}}};L3S=35;break;case 35:a.prototype.AVa=function(a,b){var I3S,c;I3S=2;while(I3S!==4){switch(I3S){case 2:c=this;setTimeout(function(){var Y3S,f,q8S;Y3S=2;while(Y3S!==4){q8S="aud";q8S+="ioTrackSwitchCompl";q8S+="ete";switch(Y3S){case 2:f={type:q8S,trackId:a,trackIndex:b};k.ka(c.za,f.type,f);Y3S=4;break;}}},0);I3S=4;break;}}};a.prototype.XVa=function(a,b){var W3S,r8S;W3S=2;while(W3S!==5){r8S="cu";r8S+="rrentStre";r8S+="amInfeasible";switch(W3S){case 2:a={type:r8S,oldBitrate:a,newBitrate:b};k.ka(this.za,a.type,a);W3S=5;break;}}};a.prototype.EVa=function(a){var l3S,b,X8S,G8S;l3S=2;while(l3S!==9){X8S="star";X8S+="t";X8S+="Buffering";G8S="buf";G8S+="fe";G8S+="ringStar";G8S+="t";G8S+="ed";switch(l3S){case 2:b={type:G8S,time:c.time.ea(),percentage:a||0};k.ka(this.za,b.type,b);this.za.emit(X8S);this.c0=a||0;l3S=9;break;}}};a.prototype.CVa=function(){var K3S,a,b,f,d,F8S;K3S=2;while(K3S!==6){F8S="buffe";F8S+="rin";F8S+="g";switch(K3S){case 2:a=this.za.G;b=c.time.ea();f=this.za.wa.af;K3S=3;break;case 3:f=this.za.eg?f.Qg(h.I.VIDEO):f.Qg(h.I.AUDIO);d=f.Be;a=Math.min(Math.max(Math.round(100*(f.uK?(b-this.za.u_)/a.uE:f.Ni?f.Ni:d/a.Ji)),this.c0),99);a!=this.c0&&(b={type:F8S,time:b,percentage:a},k.ka(this.za,b.type,b),this.c0=a);K3S=6;break;}}};L3S=31;break;case 7:a.prototype.Bla=function(a,b){var Z3S,c8S;Z3S=2;while(Z3S!==5){c8S="segme";c8S+="nt";c8S+="St";c8S+="arting";switch(Z3S){case 2:b={type:c8S,segmentId:a.id,contentOffset:b};a.sE||k.ka(this.za,b.type,b);Z3S=5;break;}}};a.prototype.TVa=function(a){var u3S,b,R8S;u3S=2;while(u3S!==4){R8S="segmen";R8S+="tAborte";R8S+="d";switch(u3S){case 2:b={type:R8S,segmentId:a.id};a.sE||k.ka(this.za,b.type,b);u3S=4;break;}}};a.prototype.qUa=function(a,f){var f3S,d,k,g,s6S,P8S,V8S,b8S,T8S,A8S;f3S=2;while(f3S!==20){s6S="se";s6S+="am";s6S+="l";s6S+="e";s6S+="ss";P8S="res";P8S+="e";P8S+="t";V8S="s";V8S+="k";V8S+="i";V8S+="p";b8S="l";b8S+="o";b8S+="n";b8S+="g";T8S="l";T8S+="o";T8S+="n";T8S+="g";A8S="se";A8S+="a";A8S+="ml";A8S+="e";A8S+="ss";switch(f3S){case 2:d={segment:a,srcsegment:f.kW,srcoffset:f.qCa,seamlessRequested:f.RV,atRequest:{},discard:{}};g=f.Wc[a];g?(k=g.weight,p(g.aI,d.atRequest)):k=this.za.wa.Kta(f.kW,a);d.atRequest.weight=k;f3S=9;break;case 9:b.Rc(f.Wc,function(b,c){var n3S;n3S=2;while(n3S!==1){switch(n3S){case 2:c!=a&&(d.discard[c]={weight:b.weight},p(b.aI,d.discard[c]));n3S=1;break;}}});k=f.RV?f.YS?A8S:T8S:f.Mxa?b8S:f.Pi?V8S:P8S;d.transitionType=k;f3S=6;break;case 6:f.I5a||(d.delayToTransition=f.zR);k=s6S===k?0:c.time.ea()-f.startTime;d.durationOfTransition=k;d.atTransition=f.uDa;d.srcsegmentduration=this.za.wa.Kbb(f.kW);return d;break;}}};a.prototype.WVa=function(a,b,c){var e3S,m6S;e3S=2;while(e3S!==4){m6S="seg";m6S+="me";m6S+="n";m6S+="tPresenting";switch(e3S){case 2:c=c?this.qUa(a.id,c):void 0;a={type:m6S,segmentId:a.id,contentOffset:b,metrics:c,playlistSegment:a.sE,manifestIndex:a.ga};k.ka(this.za,a.type,a);e3S=4;break;}}};L3S=12;break;case 8:a.prototype.ZVa=function(a,b,c,f,d,g){var Q3S,L6S,H6S;Q3S=2;while(Q3S!==4){L6S="notifyStreamin";L6S+="gE";L6S+="rr";L6S+="or: ";H6S="er";H6S+="ro";H6S+="r";switch(Q3S){case 2:a={type:H6S,error:a,errormsg:b,networkErrorCode:c,httpCode:f,nativeCode:d,manifestIndex:void 0!==g?g:this.za.lL};this.za.Dc(L6S+JSON.stringify(a));k.ka(this.za,a.type,a);Q3S=4;break;}}};L3S=7;break;case 18:a.prototype.NVa=function(a,b){var w3S,c,p6S,S6S;w3S=2;while(w3S!==9){p6S="notifyMani";p6S+="f";p6S+="estSelected: ";S6S="m";S6S+="ani";S6S+="festSelect";S6S+="ed";switch(w3S){case 5:a={type:S6S,index:a,replace:b.replace,ptsStarts:b.Hz,streamingOffset:b.V+b.ln};c.bf&&(b=p6S+JSON.stringify(a),c.bf&&this.za.Nh(b));k.ka(this.za,a.type,a);w3S=9;break;case 2:c=this.za.G;w3S=5;break;}}};a.prototype.LVa=function(a,b,c,f,d,g){var N3S,U6S;N3S=2;while(N3S!==4){U6S="manif";U6S+="es";U6S+="tP";U6S+="res";U6S+="enting";switch(N3S){case 2:a={type:U6S,index:a,pts:Math.floor(c),movieId:b.M,replace:b.replace,contentOffset:f};null!=d&&null!=g&&(a.previousMovieId=d,a.previousIndex=g);k.ka(this.za,a.type,a);N3S=4;break;}}};a.prototype.$xa=function(a,b,f,d){var M3S,g,h,n,h6S;M3S=2;while(M3S!==17){h6S="str";h6S+="eamSel";h6S+="ect";h6S+="ed";switch(M3S){case 2:g=a.R;M3S=5;break;case 14:M3S=!h.Ev||h.Ev!==b?13:17;break;case 13:a.$E.Irb(d,h.Ev,b);h.Ev=b;h=0;M3S=10;break;case 5:b=b.Zp(g,f);h=this.za.gb.Bb[g];h.Hi||(h.Hi={});h.Hi.id=b.id;h.Hi.index=b.Jf;h.Hi.O=b.O;M3S=6;break;case 6:h.Hi.location=b.location;M3S=14;break;case 10:b.La&&b.La.Fc&&b.La.va&&(h=b.La.va.Ha);n=a.cd.Oc;a={type:h6S,nativetime:c.time.ea(),mediaType:g,streamId:f,manifestIndex:b.ga,trackIndex:a.e6(),streamIndex:b.Jf,movieTime:Math.floor(d+n),bandwidth:h,longtermBw:h,rebuffer:0};k.ka(this.za,a.type,a);M3S=17;break;}}};a.prototype.YVa=function(a,b,c,f,d){var B3S,o6S;B3S=2;while(B3S!==5){o6S="strea";o6S+="mPresenti";o6S+="n";o6S+="g";switch(B3S){case 2:a={type:o6S,startPts:Math.floor(b),contentStartPts:Math.floor(c),mediaType:a.R,manifestIndex:f,trackIndex:a.e6(),streamIndex:d};k.ka(this.za,a.type,a);B3S=5;break;}}};a.prototype.bWa=function(a){var J3S,z6S;J3S=2;while(J3S!==5){z6S="videoL";z6S+="o";z6S+="op";z6S+="ed";switch(J3S){case 2:a={type:z6S,offset:a};k.ka(this.za,a.type,a);J3S=5;break;}}};a.prototype.Ala=function(a,b,c,f,d,g,q,p){var k3S,u6S,Z6S,Q6S,j6S;k3S=2;while(k3S!==1){u6S="a";u6S+="u";u6S+="d";u6S+="i";u6S+="o";Z6S="v";Z6S+="i";Z6S+="deo";Q6S="lo";Q6S+="cat";Q6S+="ionSel";Q6S+="ec";Q6S+="ted";j6S="locati";j6S+="o";j6S+="n";j6S+="S";j6S+="elected";switch(k3S){case 2:k.ka(this.za,j6S,{type:Q6S,manifestIndex:a,mediatype:b===h.I.VIDEO?Z6S:u6S,location:c,locationlv:f,serverid:d,servername:g,selreason:q,seldetail:p});k3S=1;break;}}};a.prototype.Cla=function(a,b,c,d,g,q){var C3S,n,p,e6S,n6S,f6S;C3S=2;while(C3S!==14){e6S="serve";e6S+="rSw";e6S+="itch";n6S="a";n6S+="u";n6S+="d";n6S+="i";n6S+="o";f6S="v";f6S+="i";f6S+="d";f6S+="e";f6S+="o";switch(C3S){case 2:n=b==h.I.VIDEO?f6S:n6S;p=this.za.ob.Nd.get(!1);a={type:e6S,manifestIndex:a,mediatype:n,server:c,reason:d,location:g,bitrate:q,confidence:p.Fc};p.Fc&&(a.throughput=p.va.Ha);p=this.za.gb.Bb[b];C3S=8;break;case 8:p.Uy&&(a.oldserver=p.Uy);f.wm.dn(b);k.ka(this.za,a.type,a);C3S=14;break;}}};L3S=24;break;}}function a(a){var S3S,g6S;S3S=2;while(S3S!==5){g6S="1S";g6S+="IYbZr";g6S+="NJ";g6S+="C";g6S+="p9";switch(S3S){case 2:this.za=a;g6S;S3S=5;break;case 3:this.za=a;"";S3S=8;break;S3S=5;break;}}}}();d.JNa=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);f=a(26);g=function(){var i6S;i6S=2;while(i6S!==7){switch(i6S){case 8:return a;break;case 2:a.prototype.play=function(){var d6S,a,V2j,g2j;d6S=2;while(d6S!==3){V2j="p";V2j+="l";V2j+="a";V2j+="y";g2j="play";g2j+=" calle";g2j+="d ";g2j+="after pipelines already shutdo";g2j+="wn";switch(d6S){case 2:a=this;d6S=5;break;case 5:this.Sa.Dla++;this.Sa.ze()?this.Sa.ma(g2j):(this.Sa.Ve.set(b.Ia.wd),this.Sa.tXa(),this.Sa.gb.Bb.forEach(function(b){var v6S,R2j;v6S=2;while(v6S!==1){R2j="play: not re";R2j+="su";R2j+="ming bufferManager, audio t";R2j+="rack switch i";R2j+="n progress";switch(v6S){case 2:a.Sa.jn(b.R)&&(b.wF?b.ma(R2j):a.Sa.Ze[b.R].resume());v6S=1;break;}}}),this.Sa.wH(),this.Sa.emit(V2j));d6S=3;break;}}};a.prototype.stop=function(){var w6S,a,c,f2j;w6S=2;while(w6S!==14){f2j="s";f2j+="to";f2j+="p";switch(w6S){case 6:this.Sa.emit(f2j);w6S=14;break;case 3:this.Sa.NO();c!==b.Ia.cB&&c!==b.Ia.bB&&this.Sa.wa.zj.mW(!1);this.Sa.wa.og.forEach(function(a){var N6S;N6S=2;while(N6S!==1){switch(N6S){case 4:a.Cg=~5;N6S=8;break;N6S=1;break;case 2:a.Cg=!1;N6S=1;break;}}});[b.I.VIDEO,b.I.AUDIO].forEach(function(b){var M6S;M6S=2;while(M6S!==1){switch(M6S){case 2:(b=a.Sa.Ze[b])&&b.pause();M6S=1;break;}}});w6S=6;break;case 2:a=this;c=this.Sa.Ve.value;this.Sa.Ve.set(b.Ia.cB);w6S=3;break;}}};a.prototype.suspend=function(){var B6S;B6S=2;while(B6S!==1){switch(B6S){case 4:this.zma=~1;B6S=7;break;B6S=1;break;case 2:this.zma=!0;B6S=1;break;}}};i6S=4;break;case 4:a.prototype.resume=function(){var J6S;J6S=2;while(J6S!==5){switch(J6S){case 2:this.zma=!1;this.Sa.Th.qh();J6S=5;break;}}};a.prototype.close=function(){var k6S,a,b,F2j,m2j,T2j;k6S=2;while(k6S!==17){F2j="end";F2j+="p";F2j+="l";F2j+="a";F2j+="y";m2j="logd";m2j+="at";m2j+="a";T2j="c";T2j+="los";T2j+="e";switch(k6S){case 2:a=this.Sa.G;this.wWa=!0;this.stop();this.Sa.emit(T2j);this.Sa.Ox=!1;k6S=8;break;case 7:this.Sa.$P.ls();k6S=6;break;case 8:k6S=a.WR?7:20;break;case 6:a=this.Sa.$P.sg([.25,.5,.75,.9,.95,.99]),b=0;k6S=14;break;case 13:a[b]=a[b]?a[b].toFixed(1):0;k6S=12;break;case 12:b++;k6S=14;break;case 11:a={type:m2j,target:F2j,fields:{bridgestat:a}};k6S=10;break;case 14:k6S=b<a.length?13:11;break;case 20:this.Sa.ob.Sg&&this.Sa.ob.Sg.EH(!0,this.Sa.dj.sessionId,!0);this.Sa.Ja.aya();this.Sa.Xnb();k6S=17;break;case 10:f.ka(this.Sa,a.type,a);k6S=20;break;}}};a.prototype.flush=function(){var C6S,D6S,a,c,d,g,h,u,K0j,b0j,a0j,E0j,H0j,n0j,Y2j,t2j,S2j,O2j,W2j;C6S=2;while(C6S!==27){K0j="endp";K0j+="l";K0j+="ay";b0j="l";b0j+="og";b0j+="da";b0j+="t";b0j+="a";a0j="endpl";a0j+="a";a0j+="y";E0j="logd";E0j+="a";E0j+="ta";H0j="thro";H0j+="ugh";H0j+="put-";H0j+="sw";n0j="t";n0j+="hr";n0j+="oughpu";n0j+="t-sw";Y2j="th";Y2j+="roughp";Y2j+="u";Y2j+="t-sw";t2j="thr";t2j+="oug";t2j+="hput";t2j+="-";t2j+="sw";switch(C6S){case 17:this.Sa.Pl&&this.Sa.Ja.xla();C6S=16;break;case 11:for(var t in u){S2j="n";S2j+="e";O2j="n";O2j+="e";W2j="n";W2j+="e";u.hasOwnProperty(t)&&(d[W2j+t]=Number(u[t]).toFixed(6),h[O2j+t]=1*d[S2j+t]);}C6S=10;break;case 4:C6S=c?3:17;break;case 3:d={};g=c.get(!0);h={};g&&g.avtp&&g.avtp.Ha&&(d.avtp=g.avtp.Ha,d.dltm=g.avtp.Dqa,h.avtp=d.avtp);C6S=6;break;case 12:C6S=u?11:10;break;case 15:try{D6S=2;while(D6S!==1){switch(D6S){case 2:this.Sa.v4(b.Ia.cB);D6S=1;break;}}}catch(A){var c2j;c2j="Hindsight: Er";c2j+="ror eva";c2j+="luating QoE at stopping: ";p4UU.M2j(0);this.Sa.Ja.rq(p4UU.e2j(A,c2j));}C6S=27;break;case 18:a.WI&&(g&&g[t2j]&&g[Y2j].Ha&&this.Sa.ft.RYa({avtp:g[n0j].Ha,variance:g[H0j].ah}),this.Sa.ft.MYa(h,g.avtp.Dqa),a=this.Sa.ft.M$a(),g=this.Sa.ft.Rbb(),a&&(a.n=g,a={type:E0j,target:a0j,fields:{ibef:a}},f.ka(this.Sa,a.type,a),this.Sa.ft.save()));C6S=17;break;case 10:c&&c.length&&(d.activeRequests=JSON.stringify(c));this.Sa.UR(b.I.VIDEO)&&(d.enableHudson=!0);Object.keys(d).length&&(d={type:b0j,target:K0j,fields:d},f.ka(this.Sa,d.type,d));C6S=18;break;case 6:c.flush();u=c.gab();c=c.DYa;C6S=12;break;case 16:C6S=this.Sa.qo?15:27;break;case 2:a=this.Sa.G;c=this.Sa.ob.Nd;C6S=4;break;}}};i6S=8;break;}}function a(a){var O6S,J0j;O6S=2;while(O6S!==5){J0j="1";J0j+="SIYbZ";J0j+="rNJCp";J0j+="9";switch(O6S){case 3:this.Sa=a;O6S=4;break;O6S=1;break;case 9:"";O6S=1;break;O6S=5;break;case 2:this.Sa=a;O6S=1;break;case 1:J0j;O6S=5;break;}}}}();d.HLa=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(7);f=a(11);h=a(6);g=function(){var h0j;function a(a){var d0j,t4J;d0j=2;while(d0j!==4){t4J="1SIYb";t4J+="Z";t4J+="r";t4J+="NJCp9";switch(d0j){case 7:this.qx=~6;d0j=5;break;d0j=4;break;case 2:this.pa=a;t4J;d0j=5;break;case 5:this.qx=void 0;d0j=4;break;}}}h0j=2;while(h0j!==10){switch(h0j){case 6:a.prototype.pUa=function(a){var y0j;y0j=2;while(y0j!==1){switch(y0j){case 2:return this.pa.wa.ooa.reduce(function(b,c){var z0j;z0j=2;while(z0j!==1){switch(z0j){case 2:return b+c.Bbb(a);break;case 4:return b%c.Bbb(a);break;z0j=1;break;}}},0);break;}}};a.prototype.NG=function(a){var q0j;q0j=2;while(q0j!==1){switch(q0j){case 2:return this.pa.ze()||this.pa.Ve.value==f.Ia.cB||this.pa.Ve.value==f.Ia.bB||this.pa.gb.Bb[a.R].wF||this.pa.l_?!1:!0;break;}}};a.prototype.qh=function(){var B0j,a,b;B0j=2;while(B0j!==3){switch(B0j){case 2:a=this;b=this.pa.G;!this.pa.Rla||this.pa.B0||this.pa.Fx||this.pa.Ox||(this.pa.Fx=setTimeout(function(){var v0j;v0j=2;while(v0j!==4){switch(v0j){case 2:clearTimeout(a.pa.Fx);a.pa.Fx=void 0;a.uka();v0j=4;break;}}},b.h$),b.Zu&&this.pa.eg&&(this.qx||(this.qx=setTimeout(function(){var D0j,b;D0j=2;while(D0j!==9){switch(D0j){case 2:clearTimeout(a.qx);a.qx=void 0;b=a.pa.wa.af.Qg(f.I.VIDEO);D0j=3;break;case 3:b&&a.Bja(b);D0j=9;break;}}},b.FYa))));B0j=3;break;}}};a.prototype.Bja=function(a,b){var P0j,c,f,d,g;P0j=2;while(P0j!==8){switch(P0j){case 2:c=a.R;f=this.pa.gb.Bb[c];d=f.Io;g=f.Ev;P0j=9;break;case 9:d&&g&&(f=f.Zj)&&(this.pa.am(this.pa.Ve.value)||this.pa.pe.EYa(c,f,d.O,g.O,a.xua.O,b));P0j=8;break;}}};h0j=11;break;case 2:a.prototype.NO=function(){var j0j;j0j=2;while(j0j!==1){switch(j0j){case 2:this.qx&&(clearTimeout(this.qx),this.qx=void 0);j0j=1;break;}}};a.prototype.uka=function(){var k0j,a,b,d,L4J;k0j=2;while(k0j!==11){L4J="fi";L4J+="rstDrive";L4J+="Streami";L4J+="n";L4J+="g";switch(k0j){case 1:k0j=!this.pa.Hv.zma&&!this.pa.ze()?5:11;break;case 2:k0j=1;break;case 5:void 0===this.pa.HTa&&(this.pa.HTa=!0,this.pa.Ja.Dr(L4J));a=this.pa.wa.og;b=a[f.I.AUDIO];k0j=9;break;case 14:b&&!b.ar||!a||this.pa.GB||(this.pa.ob.Sg&&this.pa.ob.Sg.EH(!0,this.pa.dj.sessionId),this.pa.Ja.aya());this.ska(this.pa.wa.af);this.pa.am(this.pa.Ve.value)||this.pa.ie.Qgb();k0j=11;break;case 9:a=a[f.I.VIDEO];d=!a||a.Cg;(!b||b.Cg)&&d&&this.pa.GB&&this.pa.wa.y1a(this.pa.Fd,a?a.da:b.da);a=!a||a.ar;k0j=14;break;}}};a.prototype.ska=function(a,b){var o0j,c,d,k,g,h,S4J;o0j=2;while(o0j!==11){S4J="Still in buffering state while pip";S4J+="eline's";S4J+=" are done";switch(o0j){case 2:c=a.ya;d=a.Va[f.I.VIDEO];k=a.Va[f.I.AUDIO];o0j=3;break;case 3:g=!k||k.Cg;h=!d||d.Cg;c.D9||this.pa.wa.Xib(a,c,this.pa.zk&&0===a.ga);o0j=7;break;case 6:o0j=(this.pa.eg&&this.tka(a,d,k),this.pa.Qh&&this.tka(a,k,d),g=!k||k.Cg,h=!d||d.Cg,!h||!g)?14:13;break;case 13:this.pa.am(this.pa.Ve.value)&&(this.pa.ma(S4J),this.pa.$t());b||c.dF||this.pa.zk||!a.$0a()||((b=this.pa.am(this.pa.Ve.value))&&this.pa.G.F3&&(this.pa.sH(),b=!1),a.tS||this.pa.wa.qdb(a,b),a.LH(),d.fua&&k.fua&&(d=Object.keys(a.children),this.pa.G.RR&&1===d.length&&!a.children[d[0]].active&&this.pa.wa.ywa(a,d[0]),this.JTa(a,c)));o0j=11;break;case 14:return;break;case 7:o0j=!h||!g?6:13;break;}}};a.prototype.JTa=function(a,f){var I0j,c,d,k,g,p,t,l,m,H4J;I0j=2;while(I0j!==22){H4J="No subbr";H4J+="anch";H4J+=" cand";H4J+="idates to d";H4J+="rive";switch(I0j){case 5:I0j=this.pa.LB&&a.sB?4:9;break;case 4:g=a.sB.Cj;I0j=3;break;case 25:c.Wc||(c.Wc={qT:h.time.ea(),Qz:0});c.Wc.weight=d;I0j=23;break;case 23:this.ska(c,!0);I0j=22;break;case 16:c=t[0].cd;d=t[0].weight;a.sB=c;I0j=26;break;case 19:I0j=0===t.length?18:16;break;case 12:c=t.reduce(function(a,b){var l0j,Z0j;l0j=2;while(l0j!==4){switch(l0j){case 2:b.Cj=b.cd.Cj;b.txa=Math.min(b.Cj[0],b.Cj[1]);p4UU.A4J(0);Z0j=p4UU.y4J(19,12,30);return[a[0]+b.weight,a[Z0j]+b.txa];break;}}},[0,0]);l=c[0];m=c[1];I0j=20;break;case 18:this.pa.ma(H4J);return;break;case 1:k=this.pa.G;I0j=5;break;case 13:I0j=1<t.length?12:19;break;case 8:p=[];t=[];I0j=6;break;case 6:b.Rc(a.children,function(a,b){var Q0j;Q0j=2;while(Q0j!==5){switch(Q0j){case 1:0!==b&&(b={weight:b,cd:a},a.ZQ(k.Ji,!0)||t.push(b),p.push(b));Q0j=5;break;case 2:b=f.nj[b].weight;Q0j=1;break;}}});0===t.length?t=p:2<t.length&&(t.sort(function(a,b){var L0j;L0j=2;while(L0j!==1){switch(L0j){case 4:return b.weight%a.weight;break;L0j=1;break;case 2:return b.weight-a.weight;break;}}}),t.length=2);I0j=13;break;case 20:0!==l&&0!==m?(b.Rc(t,function(a){var X0j;X0j=2;while(X0j!==4){switch(X0j){case 2:a.gvb=a.weight/l;a.X_a=a.txa/m;a.bEa=a.X_a-a.gvb;X0j=4;break;}}}),t.sort(function(a,b){var A0j;A0j=2;while(A0j!==1){switch(A0j){case 2:return a.bEa-b.bEa;break;case 4:return a.bEa/b.bEa;break;A0j=1;break;}}})):t.sort(function(a,b){var u0j;u0j=2;while(u0j!==4){switch(u0j){case 2:a=Math.min.apply(null,a.cd.Cj);b=Math.min.apply(null,b.cd.Cj);p4UU.W4J(1);return p4UU.y4J(b,a);break;}}});I0j=19;break;case 9:I0j=!c?8:25;break;case 3:Math.min(g[0]-a.Vja[0],g[1]-a.Vja[1])>=k.i1a?a.sB=void 0:(c=a.sB,d=f.nj[c.ya.id].weight);I0j=9;break;case 26:a.Vja=c.Cj;I0j=25;break;case 2:I0j=1;break;}}};a.prototype.tka=function(a,d,g){var U0j,c,k,q,m4J;U0j=2;while(U0j!==33){m4J="driv";m4J+="ePipeline, delaying audio until video actualStartP";m4J+="ts det";m4J+="ermined";switch(U0j){case 2:c=this.pa.G;k=d.R;U0j=4;break;case 9:U0j=q.Zk&&!b.P(q.Zk.Ii)?8:33;break;case 23:g=this.WUa(d,g);U0j=22;break;case 16:return;break;case 10:U0j=this.Uja(d,g)?20:23;break;case 8:U0j=c.vn&&k===f.I.AUDIO&&b.P(this.pa.gb.Bb[f.I.VIDEO].Gk)?7:6;break;case 24:d.lfb=g.O,d.VUa(g,c),a.Wc&&++a.Wc.Qz;U0j=33;break;case 13:U0j=this.NG(d)&&!(c.XR&&!this.pa.am(this.pa.Ve.value)&&(q=this.pa.ob.Nd)&&(k=q.Cbb(),(q=q.get())&&q.va&&k&&!1===k.I0a(q.va.Ha)))?12:33;break;case 12:U0j=c.v7a&&!this.pa.am(this.pa.Ve.value)&&0>=d.hz?11:10;break;case 34:g=d.Gc[g];U0j=25;break;case 4:U0j=!d.Cg&&this.pa.gb.Bb[k].Zj&&(void 0===d.vq||(d.Fq(d.vq),void 0===d.vq))?3:33;break;case 25:U0j=(c=this.pa.jUa(d,g))?24:33;break;case 27:U0j=this.Tja(d,g).ZM?26:25;break;case 26:return;break;case 15:g=d.Gc[g];U0j=27;break;case 20:d.S7=h.time.ea();g=this.pa.gb.PS(d);g=g.Jf;U0j=17;break;case 17:U0j=b.P(g)?16:15;break;case 14:this.pa.zk&&b.P(q.da)&&b.P(a.da)||(d.Cg||this.pa.tma(d),this.pa.Fd<this.pa.Na.length-1&&this.pa.iQ(this.pa.Fd+1));U0j=33;break;case 6:U0j=(b.P(d.rg)&&(d.rg=d.Bf?d.Bf.index:this.pa.dP(k,a.ga,d.ab)),d.Zh&&d.rg>d.Zh.index)?14:13;break;case 7:d.ma(m4J);U0j=33;break;case 3:q=this.pa.Na[this.pa.Fd];U0j=9;break;case 35:g=g.Jf;U0j=34;break;case 22:U0j=!g?21:35;break;case 11:d.Xtb(this.pa.wEa()?c.Jhb:c.Ihb);U0j=33;break;case 21:return;break;}}};a.prototype.WUa=function(a,f){var G0j,c,d,g;G0j=2;while(G0j!==12){switch(G0j){case 5:G0j=!(!c.z1&&!c.Pr||a.S7+c.k1>h.time.ea())?4:12;break;case 14:G0j=g&&g.ca&&(d=this.Tja(a,d),!d.ZM&&d.El&&this.Uja(a,f))?13:12;break;case 4:a.S7=h.time.ea();c=this.pa.gb.PS(a);d=c.Jf;G0j=8;break;case 8:G0j=!b.P(d)?7:12;break;case 2:c=this.pa.G;G0j=5;break;case 7:d=a.Gc[d];g=this.pa.ie.Tk(a.R,d.id);G0j=14;break;case 13:return c;break;}}};h0j=8;break;case 8:a.prototype.Tja=function(a,b){var w0j,c,f,d;w0j=2;while(w0j!==7){switch(w0j){case 2:w0j=1;break;case 1:c=this.pa.G;f=!1;d=function(b){var C0j;C0j=2;while(C0j!==1){switch(C0j){case 2:0!==b.length&&(b=b[0],b.Mc<a.ab&&(b=b.Mc,a.Hob(b)),f=!0);C0j=1;break;}}}.bind(this);c.Pr&&a.$a.sqb(this.pa.Fd,b.O,d);c=this.pa.gb.Bb[a.R];return this.pa.Rla&&b.Qb&&c.Ova&&b.Qb!=c.Ova&&(0<a.$a.Yv||0<a.$a.ip)?{ZM:!0,El:f}:{ZM:!1,El:f};break;}}};a.prototype.Uja=function(a,d){var r0j,c,g,k,h,p,t,l,m,F4J,b4J,U4J,e4J;r0j=2;while(r0j!==31){F4J=" ";F4J+=">";F4J+="=";F4J+=" ";b4J="No va";b4J+="cancy, stalling ";b4J+="due to max frameCount:";U4J="flo";U4J+="ored to ";U4J+="0";e4J="negative scheduledBu";e4J+="fferLev";e4J+="el:";switch(r0j){case 7:l=this.pa.Ve.value;t=a.ab+k.Oc-t;0>t&&(a.ma(e4J,t,U4J),t=0);r0j=13;break;case 35:r0j=(h=this.pa.am(l))?34:32;break;case 34:r0j=(l=1,a.j2<c.ez&&(l=c.ez),a.$a.Yv>=l)?33:32;break;case 18:r0j=d&&(p=a.ab-m,this.pa.jn(d.R)&&!d.Cg&&p>=c.Q8&&t>c.Ji)?17:25;break;case 13:m=d?d.ab:0;r0j=12;break;case 5:g=a.R;k=a.cd;h=this.pa.Na[k.ga];p=a.Be;t=this.pa.cf();r0j=7;break;case 33:return!1;break;case 12:r0j=c.om&&a.Sz>=a.oz?11:10;break;case 22:r0j=!b.P(c.kq)&&p>=c.kq||a.kF+k>=Math.max(c.cU,this.pa.ob.jCa+c.K9*h.vK[g])?21:35;break;case 16:return!1;break;case 17:r0j=this.pa.ob.Reb?16:15;break;case 15:p=d?c.vub?d.W_a:d.V_a:void 0;r0j=27;break;case 32:return c.sy&&a.$a.Yv>=c.mhb||!h&&0<c.Mv&&g===f.I.VIDEO&&a.qt>c.Mv||0<c.Ms&&!h&&a.qt+(d?d.qt:0)>c.Ms||g===f.I.VIDEO&&this.pa.zk&&a.Be>c.L8&&(d=this.pa.ob.Nd.get(!1),d.Fc&&d.va&&d.va.Ha*a.kF>c.K8)?!1:!0;break;case 11:return a.ma(b4J,a.Sz+F4J+a.oz),!1;break;case 19:return!1;break;case 21:return!1;break;case 10:k=a.$a.Nya;r0j=20;break;case 27:r0j=void 0===p||p<c.Ygb?26:25;break;case 23:p=this.pa.wa.atb();r0j=22;break;case 26:return!1;break;case 20:r0j=k>=c.Lv||l===f.Ia.wd&&p>c.Zgb&&!this.pa.zk&&!this.pa.z_&&!this.pa.KJ()||p&&k>Math.max(p*c.N8/100,c.i9)?19:18;break;case 2:c=this.pa.G;r0j=5;break;case 24:return!1;break;case 25:r0j=c.Pr&&a.$a.ip>=c.S8||this.pUa(g)>=c.fz?24:23;break;}}};h0j=6;break;case 11:return a;break;}}}();d.OIa=g;},function(g,d,a){var b,f,h,p;Object.defineProperty(d,"__esModule",{value:!0});b=a(24);f=a(7);h=a(11);p=a(6).Nw;g=function(){var g4J;g4J=2;while(g4J!==7){switch(g4J){case 5:a.prototype.GTa=function(){var G1J,a,b;G1J=2;while(G1J!==8){switch(G1J){case 2:a=this;b=[];this.Af.gb.Bb.forEach(function(a){var k1J;k1J=2;while(k1J!==5){switch(k1J){case 2:f.P(a.Zj)||b.push(a.Zj);a.Zj=void 0;k1J=5;break;}}});this.Af.VG&&(b.push(this.Af.VG),this.Af.VG=void 0);b.forEach(function(b){var B1J;B1J=2;while(B1J!==4){switch(B1J){case 2:b.vI||--a.vx;b.JH.clear();b.oo();B1J=4;break;}}});G1J=8;break;}}};a.prototype.DUa=function(){var d1J;d1J=2;while(d1J!==1){switch(d1J){case 2:this.vx=0;d1J=1;break;case 4:this.vx=7;d1J=6;break;d1J=1;break;}}};a.prototype.FTa=function(a){var x1J,b;x1J=2;while(x1J!==14){switch(x1J){case 2:b=a.R;x1J=5;break;case 5:b==h.I.AUDIO&&(a.IL=!0,this.Af.pe.RE(null));a=this.Af.gb.Bb[b];b=a.Zj;b.vI||--this.vx;x1J=8;break;case 7:b.oo();a.Zj=void 0;x1J=14;break;case 8:b.JH.clear();x1J=7;break;}}};g4J=9;break;case 2:a.prototype.Lka=function(a){var l1J,b,c,f,d;l1J=2;while(l1J!==12){switch(l1J){case 7:c.push({type:p.VIDEO,openRange:!f,pipeline:f,connections:d,socketBufferSize:b.YM,minRequestSize:b.IK});l1J=6;break;case 9:d=1;b.rn?(f=!0,d=b.UD):b.kq&&2<b.kq&&(f=!0,d=b.kq);l1J=7;break;case 4:l1J=!a||-1!=a.indexOf(p.VIDEO)?3:6;break;case 3:f=!1;l1J=9;break;case 2:b=this.Af.G;c=[];l1J=4;break;case 6:a&&-1==a.indexOf(p.AUDIO)||(f=b.rn&&this.Af.Go&&b.yub,c.push({type:p.AUDIO,openRange:!f,pipeline:f,connections:1,socketBufferSize:b.T1,minRequestSize:b.IK}));a&&-1==a.indexOf(p.ON)||c.push({type:p.ON,openRange:!1,pipeline:!0,connections:1,socketBufferSize:b.E6,minRequestSize:b.IK});return c;break;}}};a.prototype.cka=function(a){var E1J,c,d,R1J;E1J=2;while(E1J!==6){R1J="cr";R1J+="eateDlT";R1J+="racksSt";R1J+="art";switch(E1J){case 7:return a;break;case 3:c.vx+=a.length;a=a.map(function(a){var Z1J,g,j1J,V1J,J1J,O1J,i1J;Z1J=2;while(Z1J!==13){j1J="dest";j1J+="ro";j1J+="y";j1J+="e";j1J+="d";V1J="tr";V1J+="an";V1J+="spor";V1J+="treport";J1J="e";J1J+="r";J1J+="r";J1J+="o";J1J+="r";O1J="networkfa";O1J+="ili";O1J+="ng";i1J="cr";i1J+="e";i1J+="a";i1J+="te";i1J+="d";switch(Z1J){case 1:g=new p(a,c.Af.dj);g.JH=new b.Pw();g.JH.on(g,i1J,function(){var p1J,T1J;p1J=2;while(p1J!==5){T1J="createDlTrac";T1J+="ks";T1J+="End";switch(p1J){case 2:--c.vx;0===c.vx&&c.Af.Ja.Dr(T1J);p1J=5;break;}}});g.JH.on(g,O1J,function(){var c1J,Q1J;c1J=2;while(c1J!==5){Q1J="re";Q1J+="portNetw";Q1J+="orkFailing: ";switch(c1J){case 2:d.bf&&c.Af.Nh(Q1J+g.toString());g.I8a&&(c.Af.yi.aJ.im(void 0,g.oj,g.al,g.xGb),c.Af.d1());c1J=5;break;}}});Z1J=9;break;case 6:f.P(g.gc)||g.gc();return g;break;case 9:g.JH.on(g,J1J,function(){var s1J,v1J,C1J,f1J;s1J=2;while(s1J!==5){v1J="NFErr_MC_";v1J+="Streamin";v1J+="gF";v1J+="ailure";C1J="Downloa";C1J+="dTrack fatal ";C1J+="e";C1J+="rror";f1J="Down";f1J+="loadTrack ";f1J+="fatal";f1J+=" error: ";switch(s1J){case 2:d.bf&&c.Af.Nh(f1J+JSON.stringify(a));c.Af.pi(C1J,void 0,v1J,g.oj,0,g.al);s1J=5;break;}}});g.on(V1J,function(a){var q1J,M1J;q1J=2;while(q1J!==1){M1J="trans";M1J+="portr";M1J+="e";M1J+="por";M1J+="t";switch(q1J){case 2:c.Af.emit(M1J,a);q1J=1;break;case 4:c.Af.emit("",a);q1J=2;break;q1J=1;break;}}});g.on(j1J,function(){var h1J;h1J=2;while(h1J!==1){switch(h1J){case 4:g.removeAllListeners();h1J=5;break;h1J=1;break;case 2:g.removeAllListeners();h1J=1;break;}}});Z1J=6;break;case 2:Z1J=1;break;}}});p.Sf();E1J=7;break;case 2:c=this;d=c.Af.G;0===c.vx&&c.Af.Ja.Dr(R1J);E1J=3;break;}}};g4J=5;break;case 9:a.prototype.gma=function(a){var o1J,b,c,f,d,g,k,h,p;o1J=2;while(o1J!==20){switch(o1J){case 2:b=this;c=a.R;f=this.Af.gb.Bb[c];d=f.Zj;o1J=9;break;case 9:o1J=d?8:20;break;case 8:k=[];h=this.Af.ie.nv(c);for(p in h)(g=h[p])&&!g.ca&&g.track==d&&(this.Af.ie.vqa(c,p),k.push({stream:g.stream,offset:g.offset,ba:g.ba,oy:g.oy,ga:g.ga,ys:g.ys,Hs:g.Hs}));this.FTa(a);c=this.Lka([c]);o1J=12;break;case 12:c=this.cka([c[0]]);f.Zj=c[0];k.forEach(function(c){var a1J;a1J=2;while(a1J!==1){switch(a1J){case 2:b.Af.ie.rI(a,b.Af.M,c.stream,c,c.stream.ga);a1J=1;break;}}});o1J=20;break;}}};return a;break;}}function a(a){var N4J,z1J;N4J=2;while(N4J!==5){z1J="1";z1J+="SIYbZrNJC";z1J+="p";z1J+="9";switch(N4J){case 2:this.Af=a;z1J;N4J=5;break;}}}}();d.NIa=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(362);g=function(){var w1J;w1J=2;while(w1J!==4){switch(w1J){case 2:a.prototype.HSa=function(a,f){var Y1J,A1J,y1J,n1J,u1J,X1J,r1J,P1J,K1J;Y1J=2;while(Y1J!==8){A1J="using sab cell >= 100, pipelin";A1J+="eEna";A1J+="bled: ";y1J="using sab cell >= 200, pipelineEnabl";y1J+="ed";y1J+=": ";n1J=",";n1J+=" al";n1J+="lowS";n1J+="witchback";u1J=",";u1J+=" ";u1J+="pr";u1J+="obeDetailDenominator: ";X1J="using ";X1J+="sab";X1J+=" cell ";X1J+=">= 300, probeServerWhenError: ";r1J=",";r1J+=" a";r1J+="llow";r1J+="Switchba";r1J+="ck";P1J=",";P1J+=" ";P1J+="probeDet";P1J+="ailDe";P1J+="nominator: ";K1J="u";K1J+="sing ";K1J+="sab cell >= 400, probeServerWhenError: ";switch(Y1J){case 2:f=b.vpa(f,a);a=a.cdnResponseData;Y1J=5;break;case 5:Y1J=!a?4:3;break;case 3:(a=a.sessionABTestCell)&&(a=a.split("."))&&1<a.length&&(a=parseInt(a[1].replace(/cell/i,""),10),400<=a?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!0})):(f.Uo=!0,f.Fz=1,f.Ur=!0),this.N.trace(K1J+f.Uo+P1J+f.Fz+r1J+f.Ur)):300<=a?(f.set?(f.set({probeServerWhenError:!0}),f.set({probeDetailDenominator:1}),f.set({allowSwitchback:!1})):(f.Uo=!0,f.Fz=1,f.Ur=!1),this.N.trace(X1J+f.Uo+u1J+f.Fz+n1J+f.Ur)):200<=a?(f.set?f.set({pipelineEnabled:!1}):f.rn=!1,this.N.trace(y1J+f.rn)):100<=a&&(f.set?(f.set({pipelineEnabled:!0}),f.set({maxParallelConnections:1}),f.set({maxActiveRequestsPerSession:f.ZT}),f.set({maxPendingBufferLen:f.eU})):(f.rn=!0,f.UD=1,f.kq=f.ZT,f.Lv=f.eU),this.N.trace(A1J+f.rn)));return f;break;case 4:return f;break;}}};a.prototype.JSa=function(a,b){var I1J,f,d,g;I1J=2;while(I1J!==8){switch(I1J){case 2:I1J=1;break;case 5:return b;break;case 1:I1J=!b.c3||a===this.LUa?5:4;break;case 4:this.LUa=a;for(var c in b.c3)if(new RegExp(c).test(a)){f=b.c3[c];for(d in f){g=f[d];f.hasOwnProperty(d)&&g&&(b[d]=g);}}return b;break;}}};return a;break;}}function a(a){var D1J,W1J;D1J=2;while(D1J!==5){W1J="1SI";W1J+="Y";W1J+="bZrNJ";W1J+="C";W1J+="p9";switch(D1J){case 2:this.N=a;W1J;D1J=5;break;case 3:this.N=a;"";D1J=1;break;D1J=5;break;}}}}();d.fHa=g;},function(g,d,a){var f;function b(a){this.Mx=void 0;this.dVa=a;this.P0=[];this.Td=[];}a(7);a(11);f=a(44).Qy;a(26);b.prototype.reset=function(a){this.Mx=void 0;this.P0=[];a&&(this.Td=[]);};b.prototype.add=function(a,b){var c,d;c=b.filter(function(b,c){return f(b)||c===a.qd;});d=c.map(function(a){return a.O;});b=c.indexOf(b[a.qd]);this.Mx&&(this.Mx.length!==d.length||this.Mx.some(function(a,b){return a!==d[b];}))&&(c=this.Psa())&&(this.Td.push(c),this.reset(!1));void 0===this.Mx&&(this.Mx=d);this.P0.push([b,a.ADa,a.ab,a.$_a,a.toa,a.Zlb,a.tjb,a.Ve,a.Fp,a.ko,a.wsb-a.ADa]);};b.prototype.T7a=function(){for(var a=this.P0,b=[],c=[],f=0;f<a.length;f++){for(var d=a[f],g=[],h=0;h<d.length;h++)g.push(d[h]-(c[h]||0));b.push(g);c=d;}return b;};b.prototype.Psa=function(){var a;a=this.T7a();if(0!==a.length)return{dltype:this.dVa,bitrates:this.Mx,seltrace:a};};b.prototype.get=function(){var a,b;a=this.Psa();b=this.Td;a&&b.push(a);if(0!==b.length)return b;};g.T=b;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);f=a(670);g=function(){function a(){this.XP=[];this.XP[b.I.VIDEO]=new f(b.I.VIDEO);this.XP[b.I.AUDIO]=new f(b.I.AUDIO);}a.prototype.aZa=function(a,b,f){this.XP[a].add(b,f);};a.prototype.Wbb=function(){var a;a=[];this.XP.forEach(function(b){var c;if(b){c=b.get();c&&0<c.length&&c.forEach(function(b){a.push(b);});b.reset(!0);}});return a;};a.prototype.U8a=function(a){var b;b=this.Wbb();a.strmsel=b;return 0<b.length;};return a;}();d.mQa=g;},function(g,d,a){var b,f,h,p,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(349);f=a(201);h=a(11);p=a(69);g=function(){function a(a,b){this.G=a;this.N=b;this.p0=this.j0=this.Xt=p.oc.sf;this.wP=void 0;this.dc=this.N.trace.bind(this.N);this.bya=new c(a,b);}a.prototype.zaa=function(a,b,c,f,d,g,k,t,l){var n,q,u,y,m,x,A;n=!1;a=a===h.I.AUDIO&&!!b.Xa&&this.iXa(b.stream);q=p.oc.sf;u=b.$f;if(a){y=b.stream.Ka;m=this.kUa(b.profile,y);x=b.vw+b.hm;if(b.gq)b=new p.oc(b.da-x,1E3),n=this.Xt.add(b).v6(m);else if(void 0!==c){A=b.fV;new p.oc(x-b.V,1E3);x=this.Xt.add(c.sd(A));if(A.add(y).Afb(c)||x.v6(m))n=!0,A.add(y),x=x.sd(y);x.Vxa(this.Xt)&&x.lessThan(p.oc.VK.r9(-8))?(n=a=!1,this.bya.reset(),this.Xt=p.oc.sf,k=f.add(d),t(k),u.Dc("Unexpected seamless audio sync "+x.toString()+" at content pts "+b.Mc+" in stream "+b.stream.Ua+" following "+g.Wd)):(g=f.add(x).add(d),k=this.bya.round(b,k,g,n),t(k),x.Vxa(this.Xt)&&(this.j0=p.oc.max(this.j0,x),this.p0=p.oc.min(this.p0,x),l(this.j0,this.p0),q=x.sd(this.Xt),this.Xt=x));}}return{zaa:a,O6a:n,f_a:q};};a.prototype.iXa=function(a){void 0===this.rH&&(this.rH=f.sna(this.G,a));return this.rH;};a.prototype.kUa=function(a,b){void 0===this.wP&&("object"===typeof this.G.Aaa&&this.G.Aaa[a]?(a=new p.oc(this.G.Aaa[a],1E3).rm(b.ha).add(new p.oc(1,b.ha)),this.wP=p.oc.min(b,a)):this.wP=b);return this.wP;};return a;}();d.SQa=g;c=function(){function a(a,b){this.G=a;this.N=b;this.ZP=0;}a.prototype.round=function(a,b,c,f){this.G.vn||(a=this.dTa(a,c,f),b=b.sd(a),b.v6(p.oc.VK.r9(2))?(c=c.sd(p.oc.VK),++this.ZP):this.ZP&&b.lessThan(p.oc.VK)&&(c=c.add(p.oc.VK),--this.ZP));return c;};a.prototype.reset=function(){this.ZP=0;};a.prototype.dTa=function(a,c,f){var d;d=a.wpa;this.G.ao&&a.stream.gl&&(d=d.sd(a.stream.gl));f&&(d=d.add(a.stream.Ka));return b.Dxa(d).add(b.Dxa(c));};return a;}();},function(g,d,a){var b,f,h,p,c,k,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(7);f=a(11);h=a(6);p=a(44).Qy;c=a(26).TD;k=a(352);g=function(){function a(a,b){var c;c=this;this.S=a;this.G=b;this.VB=[];[f.I.AUDIO,f.I.VIDEO].forEach(function(b){c.S.jn(b)&&(c.VB[b]=new q(a,b));});this.cu=void 0;}Object.defineProperties(a.prototype,{Bb:{get:function(){return this.VB;},enumerable:!0,configurable:!0}});a.prototype.SD=function(a){var c,d,g,k,n,q,p,u,t,l;c=this.G;d=this.S;g=a.R;k=d.bk()[g];n=a.cd.ga;q=d.Na[n];p=this.VB[g];u=g===f.I.VIDEO?c.Q1:c.Dca;t=d.Ve.value;l=d.Pb.cf();c=a.$a.Hta();k={Nu:k,V:c.tc,kf:l,ab:c.Llb||l,Ok:a.ey||l,Fn:c.Fn,Zv:c.Zv,KGb:c.ca.length,ca:[]};q={state:t,Oy:d.Oy()&&!d.wEa(),pw:a.rg,buffer:k,Zr:q.kC[g],H6a:u,Igb:!!d.p8,tGb:d.UTa,Pl:d.Pl,Fp:d.Nd&&d.Nd.Fp};void 0===q.pw&&(q.pw=d.dP(g,n,k.ab));k.ca=c.ca;q.state!==f.Ia.wd||0!==k.ca.length||b.qa(a.$E.sfb)||(n=g=void 0,a.laa&&(n=h.time.ea()-a.laa.time,g=a.laa.reason),a.Dc("makePlayerInfo, PLAYING with 0 fragments,","lastStreamAppended:",p.Io,"lastStreamSelected:",p.Hi,"last pipeline.reset:",g,"delta:",n));b.qa(k.V)?a.seeking&&k.kf!=k.V&&(k.kf=k.V):(k.V=0,k.ab=0);d.Au.d1a(q);d.Au.XYa(q);return q;};a.prototype.c1a=function(a,b,c){var n,q;a=this.VB[a];for(var f=a.Jv,d="manifest",g=this.S,k=0,h=b.length-1;0<=h;h--){n=b[h];q=n.O;if(p(n)){k=Math.max(k,q);break;}else!n.inRange&&n.NC&&Array.isArray(n.NC)?d=n.NC.join("|"):this.G.uW&&!n.zs?d="bc":n.df?n.Rg&&(d="hf"):d="av";}if(void 0===f||k!==f){a.Jv=k;if(g.qo)try{this.cu&&this.Kcb();}catch(V){g.Ja.rq("Hindsight: Error when handling maxbitrate chagned: "+V);}g.Ja.djb(f,k,d,c);}};a.prototype.Nbb=function(a){return this.PS(a).Jf;};a.prototype.PS=function(a){var c,d,g,k,h,n,q,p,u,t,l,m;c=this.G;d=this.S;g=a.R;k=g==f.I.VIDEO;h=0;q=this.VB[g];if(!q.Zj)return{Jf:void 0};p=this.SD(a);u=q.Hi;t=a.cd.ga;l=a.Gc;m=u?u.index:q.kJ;if(u&&(h=u.O,u.WQ)){m=d.Fka(l,h);n=l[m];if(u.O!==n.O||!u.WQ.replace&&g===f.I.VIDEO)p.state=f.Ia.fh;u.index=m;u.O=n.O;}n=d.Yh(t);l=n.Jo.LW(p,l);if(!l)return a.Dc("location selector did not find any urls"),{Jf:void 0};if(!k){t=c.tM;if(!(t&&0<t.length||a.IL)&&m&&l[m]&&u&&u.location===l[m].location)return{Jf:m,mI:!0};a.IL&&(p.state=f.Ia.fh,m=void 0);}if(k&&c.Zu&&c.l6a&&!q.Zj.bm()&&a.Be>c.MQ)return{Jf:a.mdb,mI:!0};d.Au.Foa(p.pw,l);p=a.$E.Laa(p,l,void 0,d.Au.rbb(g),q.Zj.config.$f,c.yca&&0===d.Dla?c.VD:c.P8,n.aJ);if(!p)return a.Dc("stream selector did not find a stream"),{Jf:void 0};d.Pl&&d.job.aZa(a.R,p,l);k&&this.c1a(g,l,a.ab);d.Au.ckb(p);g=p.qd;l=l[g].O;u=a.Be;p.J4a&&u<c.g2&&l<h&&d.Ja.XVa(h,l);g!=m&&(k&&c.Zu&&d.Th.Bja(a,l),k||d.Au.RE(l));b.qa(q.kJ)||(q.kJ=g);a.Mp||(p.Mp?(a.Mp=!0,q.poa=p.reason):(a.uK=p.uK,a.Uz=p.Uz,a.Ni=p.Ni));d.$t();k&&d.ie.bqb(p.rs);return{Jf:g,mI:p.mI};};a.prototype.M4=function(a,b){var c,d,g,k,h;if(this.cu){c=this;d=this.cu;g=this.S;k=g.cf();h=[];b&&(k=b.da);g.wa.og.forEach(function(b){var d,n;d=c.SD(b);n=b.R;d.R=n;d.headers=g.ie.nv(n);d.kf=k;a===f.Ia.St&&(d.cAa=b.$a.B1(k));h[n]=d;});d.Jra||d.Z8a(h,a)||this.jaa();return d;}};a.prototype.Kcb=function(){var a,b,c,d,g;a=this;b=this.cu;c=this.G;d=this.S;g=[];b&&(this.M4(void 0),b&&!b.eC&&d.Au.K$.u4(b));d.wa.og.forEach(function(b){var c,f;c=a.SD(b);f=b.R;c.Jl=h.time.ea();c.Gc=b.Gc;c.R=f;g[f]=c;});b=d.bk();b={xYa:b[f.I.AUDIO],sF:b[f.I.VIDEO],yK:c.fz};this.cu=b=new k(g,h.time.ea(),void 0,d.o4,b,c.MJ);};a.prototype.jaa=function(){this.cu=void 0;};a.prototype.$tb=function(a){var b,c,d,g,n,q;b=this;c=a.oldValue;d=a.newValue;g=this.cu;a=this.G;n=this.S;d===f.Ia.wd&&c!==f.Ia.wd?(g&&n.N.warn("override an existing play segment!"),q=[],n.wa.og.forEach(function(a){var c,f,d;c=b.SD(a);f=a.R;d=b.Bb[f];d.pba?(c.Jl=d.pba,d.pba=void 0):c.Jl=d.Jl;c.Gc=a.Gc;c.R=f;q[f]=c;}),d=n.bk(),d={xYa:d[f.I.AUDIO],sF:d[f.I.VIDEO],yK:a.fz},this.cu=g=new k(q,h.time.ea(),c,n.o4,d,a.MJ)):d!==f.Ia.wd&&c===f.Ia.wd&&g&&(this.M4(d),g&&!g.eC&&n.Au.K$.u4(g),this.jaa());};a.prototype.Mcb=function(a){this.VB.forEach(function(b){b.Hi||(b.Hi={});b.Hi.WQ={replace:a};b.Hi.location=void 0;});};return a;}();d.jRa=g;q=function(){return function(a,b){this.R=b;this.N=c(h,a.N,"["+b+"]");this.Dc=this.N.error.bind(this.N);this.ma=this.N.warn.bind(this.N);this.dc=this.N.trace.bind(this.N);this.cb=this.N.log.bind(this.N);this.du=this.N.debug.bind(this.N);this.Tl=this.kJ=this.Jl=this.bI=this.Gk=this.L7=this.Zj=void 0;this.iL=this.So=0;this.connected=!1;this.U7=this.Uy=this.ID=this.R7=this.Ev=this.Io=this.Hi=void 0;this.wF=!1;this.Jv=this.poa=this.Eo=void 0;};}();d.HCb=q;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(26);g=a(6);f=g.sk;new g.Console("ASEJS_SIDECHANNEL","media|asejs");g=function(){function a(a,c,f){this.S=f;this.qYa=new b.wSa(a);this.pYa=c.oa;this.USa=1E3*c.thb/c.U_a;this.ITa=c.JR;}a.prototype.Nl=function(a){var c;c={tKb:this.pYa,bGb:this.ITa?1:0};a.Be&&(c.bs=b.sC(Math.floor(a.Be/this.USa)+1,1,5));a.GU&&(c.limit_rate=a.GU);a.joa&&(c.bb_reason=a.joa);return this.cWa(c);};a.prototype.Maa=function(a,b){var c,d;try{c=new f(void 0,"notification");d=this.Nl({joa:a});b&&d&&c.open(b,void 0,2,void 0,void 0,void 0,d);}catch(n){this.S.Ja.rq("SideChannel: Error when sending sendBlackBoxNotification. Error: "+n);}};a.prototype.cWa=function(a){var b;try{b=this.mXa(a);return this.qYa.encrypt(b);}catch(k){this.S.Ja.rq("SideChannel: Error when obfuscating msg. Error: "+k);}};a.prototype.mXa=function(a){return Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(JSON.stringify(a[b]));}).join("&");};return a;}();d.aRa=g;},function(g,d,a){(function(){var t1J,f,d,h,c,d4x,P4x;t1J=2;while(t1J!==10){d4x="1SI";d4x+="YbZrNJ";d4x+="C";d4x+="p";d4x+="9";P4x="I";P4x+="T";P4x+="E_A";P4x+="SEJ";P4x+="S";switch(t1J){case 2:f=a(7);d=a(6);t1J=4;break;case 4:h=new d.Console(P4x);c=a(206);b.prototype.Wl=function(){var S1J,a;S1J=2;while(S1J!==4){switch(S1J){case 2:a=d.time.now();return{Ypa:new Date(a).getHours(),w3:a};break;}}};b.prototype.DS=function(){var H1J,a,b;H1J=2;while(H1J!==7){switch(H1J){case 2:H1J=1>this.Eq.length?1:5;break;case 1:return 0;break;case 9:b++;H1J=4;break;case 4:H1J=b<this.Eq.length?3:8;break;case 8:return a/this.Eq.length;break;case 3:a+=this.Eq[b].get().iGb.nEb;H1J=9;break;case 5:a=0,b=0;H1J=4;break;}}};t1J=7;break;case 12:g.T=b;d4x;t1J=10;break;case 7:b.prototype.S5=function(){var m1J,a,b,c,f,d;m1J=2;while(m1J!==14){switch(m1J){case 1:a=this.DS(),b=void 0,c=Object.keys(this.xU),f=0;m1J=5;break;case 2:m1J=1;break;case 3:m1J=a>=this.xU[d][0]&&a<=this.xU[d][1]?9:8;break;case 9:b=d;m1J=7;break;case 5:m1J=f<c.length?4:7;break;case 7:m1J=b?6:14;break;case 4:d=c[f];m1J=3;break;case 8:f++;m1J=5;break;case 6:return{B8:this.QD[b].lrWeights,z8:this.QD[b].lrMeans,A8:this.QD[b].lrStd,$gb:this.ahb[b]};break;}}};b.prototype.GH=function(a,b){var e1J,p4x;e1J=2;while(e1J!==1){p4x="a";p4x+="v";p4x+="t";p4x+="p";switch(e1J){case 2:return p4x==a?0<b?Math.log(b):null:b;break;}}};b.prototype.cta=function(){var U1J,a,b,f,w4x,v4x,L4x,q4x,o4x,U4x,S4x,u4x;U1J=2;while(U1J!==20){w4x="n";w4x+="i";w4x+="q";w4x+="r";v4x="f";v4x+="n";v4x+="s";L4x="a";L4x+="v";L4x+="t";L4x+="p";q4x="f";q4x+="n";q4x+="s";o4x="a";o4x+="vt";o4x+="p";U4x="l";U4x+="n";U4x+="s";S4x="a";S4x+="v";S4x+="t";S4x+="p";u4x="e";u4x+="n";u4x+="s";switch(U1J){case 9:b.HBa=f;U1J=8;break;case 13:b.w3=f.w3;b.$Kb=b.w3-b.pmb;b.NHb=1;return b;break;case 2:a=new c(100);b={};[{eM:u4x,Oq:S4x},{eM:U4x,Oq:o4x},{eM:q4x,Oq:L4x},{eM:v4x,Oq:w4x}].forEach(function(c){var L6k=p4UU;var b1J,f,d,O4x,M4x,l4x,Q4x,T4x,V4x,Y4x,s4x,x4x,N4x,D4x,C4x,j4x,W4x,k4x,y4x,t4x;b1J=2;while(b1J!==17){O4x="s";O4x+="t";O4x+="d";M4x="m";M4x+="e";M4x+="an";l4x="p";l4x+="7";l4x+="5";Q4x="l";Q4x+="a";Q4x+="s";Q4x+="t";T4x="s";T4x+="t";T4x+="d";V4x="m";V4x+="e";V4x+="a";V4x+="n";Y4x="s";Y4x+="t";Y4x+="d";s4x="m";s4x+="e";s4x+="a";s4x+="n";x4x="m";x4x+="e";x4x+="a";x4x+="n";N4x="s";N4x+="t";N4x+="d";D4x="p";D4x+="5";D4x+="0";C4x="p";C4x+="2";C4x+="5";j4x="p";j4x+="7";j4x+="5";W4x="p";W4x+="5";W4x+="0";k4x="n";k4x+="iq";k4x+="r";y4x="p";y4x+="5";y4x+="0";t4x="p";t4x+="2";t4x+="5";switch(b1J){case 1:f=0;b1J=5;break;case 2:b1J=1;break;case 5:b1J=f<this.Eq.length?4:8;break;case 9:f++;b1J=5;break;case 8:f=a.Dy();d=c.eM+"-"+c.Oq+"-";L6k.z4x(0);b[L6k.B4x(t4x,d)]=this.GH(c.Oq,a.Kl(25));L6k.z4x(0);b[L6k.f4x(y4x,d)]=this.GH(c.Oq,a.Kl(50));b1J=13;break;case 10:L6k.G4x(0);b[L6k.f4x(k4x,d)]=0<b[d+W4x]?(b[d+j4x]-b[d+C4x])/b[d+D4x]:0;L6k.z4x(0);b[L6k.f4x("b",d)]=0<b[d+N4x]||0<b[d+x4x]?(b[d+s4x]-b[d+Y4x])/(b[d+V4x]+b[d+T4x]):0;L6k.G4x(0);b[L6k.B4x(Q4x,d)]=this.GH(c.Oq,a.fe[f-1]);b1J=18;break;case 4:d=this.Eq[f].get()[c.eM][c.Oq];d&&a.CH(Number(d));b1J=9;break;case 18:a.fe=[];b1J=17;break;case 13:L6k.z4x(0);b[L6k.B4x(l4x,d)]=this.GH(c.Oq,a.Kl(75));L6k.z4x(0);b[L6k.f4x(M4x,d)]=this.GH(c.Oq,a.SQ());L6k.G4x(0);b[L6k.B4x(O4x,d)]=a.fI();b1J=10;break;}}},this);f=this.Eq.length;U1J=9;break;case 8:b.TJb=this.Eq[f-1].get().yHb;b.pmb=this.Eq[f-1].get().t;f=this.Wl();b.Ypa=f.Ypa;U1J=13;break;}}};b.prototype.bta=function(){var F1J,b,c,d,g,e4x;function a(a,b){var g1J,c;g1J=2;while(g1J!==4){switch(g1J){case 2:c=Object.keys(a).map(function(b){var N1J;N1J=2;while(N1J!==1){switch(N1J){case 4:return a[b];break;N1J=1;break;case 2:return a[b];break;}}});return Object.keys(a).some(function(c){var l0J;l0J=2;while(l0J!==1){switch(l0J){case 2:return a[c][0]>a[c][1]||0>a[c][0]||0>a[c][1]||a[c][0]>b||a[c][1]>b;break;}}})||b!=[].concat.apply([],c).reduce(function(a,b){var E0J;E0J=2;while(E0J!==1){switch(E0J){case 4:return a>=b?a:b;break;E0J=1;break;case 2:return a>b?a:b;break;}}});break;}}}F1J=2;while(F1J!==11){e4x="g";e4x+="e";e4x+="tPar";e4x+="ams:";switch(F1J){case 2:F1J=1;break;case 5:return 0;break;case 1:F1J=2>this.Eq.length||this.DS()>this.woa||0>this.DS()||a(this.xU,this.woa)?5:4;break;case 3:F1J=f.P(b)?9:8;break;case 8:0&h.log(e4x,JSON.stringify(b));F1J=7;break;case 7:c=this.cta();d=0;g=!Object.keys(c).some(function(a){var Z0J,g4x;Z0J=2;while(Z0J!==4){g4x="nu";g4x+="m";g4x+="b";g4x+="e";g4x+="r";switch(Z0J){case 1:d+=(c[a]-b.z8[a])/b.A8[a]*b.B8[a];Z0J=4;break;case 2:Z0J=b.B8.hasOwnProperty(a)&&b.z8.hasOwnProperty(a)&&b.A8.hasOwnProperty(a)&&g4x==typeof c[a]?1:5;break;case 7:return~5;break;Z0J=4;break;case 5:return!0;break;}}});d=Math.exp(d);return 0<d&&d<=b.$gb&&g&&1<c.HBa?d:0;break;case 4:b=this.S5();F1J=3;break;case 9:return 0;break;}}};t1J=12;break;}}function b(a,b){var L1J;L1J=2;while(L1J!==7){switch(L1J){case 2:this.config=a;this.Eq=b;a=a.initThroughputPredictor;L1J=4;break;case 4:this.xU=a.modelMap;this.QD=a.lrParams;this.ahb=a.maxBwPredictionMap;this.woa=a.bwThreshold;L1J=7;break;}}}}());},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.l0=a;this.fe=[];this.Sm=!1;this.Kx=void 0;this.Ig=new Map();}a.prototype.CH=function(a){this.fe.length===this.l0&&this.fe.shift();Array.isArray(a)?this.fe=this.fe.concat(a):this.fe.push(a);this.Sm=!0;};a.prototype.Dy=function(){return this.fe.length;};a.prototype.SQ=function(){var a;a=this.fe;return 0<a.length?a.reduce(function(a,b){return a+b;},0)/this.fe.length:void 0;};a.prototype.fI=function(){var a,f;a=this.fe;f=this.SQ();if(0<a.length&&"undefined"!==typeof f)return a=a.reduce(function(a,b){return a+b*b;},0)/a.length,Math.sqrt(a-f*f);};a.prototype.Kl=function(a){var b,d,g;if(this.Sm||void 0===this.Kx)this.Kx=this.fe.slice(0).sort(function(a,b){return a-b;}),this.Sm=!1;if(void 0===this.Ig.get(a)){b=this.Kx;d=Math.floor(a/100*(b.length-1)+1)-1;g=(a/100*(b.length-1)+1)%1;d===b.length-1?this.Ig.set(a,b[d]):this.Ig.set(a,b[d]+g*(b[d+1]-b[d]));}return this.Ig.get(a);};return a;}();d.CZ=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f,d){this.dQ=f;this.p_=d;this.N=a;}a.prototype.kL=function(a){a=this.aeb(a,this.dQ)+this.p_;return this.E0=isNaN(a)?NaN:this.iba(a);};a.prototype.p1a=function(a){return isNaN(this.E0)?0:this.E0>a?1:0;};a.prototype.aeb=function(a,f){var b;b=0;if(a.length!==f.length)b=NaN;else for(var d=0;d<a.length;d++)b+=a[d]*f[d];return b;};a.prototype.iba=function(a){return 1/(1+Math.exp(-a));};return a;}();d.YLa=g;},function(g,d,a){var b,f,h,p,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(7);h=a(6);p=a(677);c=a(676);g=function(){function a(a,b,c){var d,g,k;this.G=b;this.N=c;this.RP=a;d=this.Hx=this.nB=this.mB=0;g=0;k=0;this.RP.length>=this.G.rU&&(this.RP.forEach(function(a){!(a=a.get().w9a)||f.P(a.avtp)||f.P(a.neuhd)||(d+=a.avtp,g+=1*a.neuhd,k++);}),this.Hx=k,this.mB=d/k,this.nB=g/k);}Object.defineProperties(a.prototype,{r_a:{get:function(){return this.mB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{s_a:{get:function(){return this.nB;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{HBa:{get:function(){return this.Hx;},enumerable:!0,configurable:!0}});a.prototype.BT=function(){return this.Hx>=this.G.rU&&this.mB>=this.G.baselineHighAndStableThreshold.bwThreshold&&this.nB<this.G.baselineHighAndStableThreshold.nethreshold;};return a;}();d.Wea=g;g=function(a){function d(b,d,g){var k;k=a.call(this,b,d,g)||this;k.zja=[];k.ZTa=new Map();k.dQ=[];k.qr=new Map();k.qr.set("avtp",new c.CZ(100));k.qr.set("neuhd",new c.CZ(100));k.RP.length>=k.G.rU&&k.qr.forEach(function(a,b){k.RP.forEach(function(c){c=c.get().w9a;!c||"avtp"!==b&&"neuhd"!==b||f.P(c[b])||a.CH(Number(c[b]));});});return k;}b.__extends(d,a);d.prototype.BT=function(){var a;this.S5();a=new p.YLa(this.N,this.dQ,this.p_);a.kL(this.zja);a=a.p1a(this.G.eT.VJb);return this.hYa&&1===a&&this.Hx>=this.G.rU;};d.prototype.Wl=function(){var a,b,c,f;a=new Map();b=h.time.now();c=new Date(b);f=c.getHours();a.set("currentMonoTime",b);a.set("currentTime",c);a.set("currentHour",f);return a;};d.prototype.Tsa=function(a,b,c){a="avtp"===a?this.mB:this.nB;for(var d=b.fI(),g=0,k="skew"===c?3:4,h=0;h<b.fe.length;h++)f.P(a)||f.P(d)||(g+=Math.pow(b.fe[h]-a,k));g/=b.fe.length;return!f.P(d)&&0<d?g/Math.pow(d,k)-3*("skew"===c?0:1):NaN;};d.prototype.dta=function(a,b,c){var f;f=0;"lte"===c?f=a.reduce(function(a,c){return c<=b?a+1:a;},0)/(1*a.length):"gte"===c&&(f=a.reduce(function(a,c){return c>=b?a+1:a;},0)/(1*a.length));return f;};d.prototype.bbb=function(a){var b,c;b=a.Kl(25);c=a.Kl(50);a=a.Kl(75);return f.P(b)||f.P(c)||f.P(a)?NaN:0<c?(a-b)/c:NaN;};d.prototype.v$a=function(a,b){a="avtp"===a?this.mB:this.nB;b=b.fI();return!f.P(b)&&!f.P(a)&&(0<b||0<a)&&0<a?(a-b)/(a+b):NaN;};d.prototype.CJ=function(a,b){a=a.Kl(b);return f.P(a)?NaN:a;};d.prototype.normalize=function(a,b,c){return!isNaN(a)&&0<c?(a-b)/c:NaN;};d.prototype.S5=function(){var a,b,c,d,g,k,h,q,p,t,l,m;a=this;b=this.G.eT.QD.B8;c=this.G.eT.QD.z8;d=this.G.eT.QD.A8;q=[];m=0;this.hYa=!Object.keys(b).some(function(n){var u;l=NaN;if(!(b.hasOwnProperty(n)&&c.hasOwnProperty(n)&&d.hasOwnProperty(n)&&!f.P(a.qr)&&a.qr.has("avtp")&&a.qr.has("neuhd"))||1>a.Hx||"number"!==typeof b[n]||"number"!==typeof c[n]||"number"!==typeof d[n])return!0;g=b[n];k=c[n];h=d[n];q=n.split("_",2);p=q[0];t=q[1];u=a.qr.get(p);if("avtp"===p||"neuhd"===p){if(u)switch(t){case"last":l=u.fe[a.Hx-1];break;case"mean":l="avtp"===p?a.mB:a.nB;break;case"niqr":l=a.bbb(u);break;case"skew":l=a.Tsa(p,u,"skew");break;case"kurtosis":l=a.Tsa(p,u,"kurtosis");break;case"std":l=u.fI();break;case"b":l=a.v$a(p,u);break;default:-1!==n.search("[p][1-9]?[1-9]")&&(l=a.CJ(u,Number(n.split("_p",2)[1])));}}else switch(n){case"fracAbove20Mbps":u=a.qr.get("avtp");l=f.P(u)?NaN:a.dta(u.fe,2E4,"gte");break;case"fracBelow20p":u=a.qr.get("neuhd");l=f.P(u)?NaN:a.dta(u.fe,.15,"lte");break;case"hour_current":l=a.Wl().get("currentHour");break;case"session_ct":l=a.Hx;break;case"intercept":l=g,a.p_=l;}l=a.normalize(l,k,h);if(isNaN(l))return!0;"intercept"!==n&&(a.zja.push(l),a.dQ.push(g),a.ZTa.set(n,m),m+=1);});};return d;}(g);d.kKa=g;},function(g){function d(a,b,d){var c,f;c=[];d.forEach(function(a){c.push(a[b].ba);});d=c.filter(function(b){return b<=a;});0<d.length?(d=d[d.length-1],f=c.lastIndexOf(d)):(d=c[0],f=0);return{yn:d,qd:f};}function a(a,b,d){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*d*1/8;}function b(a,b,d,c,g){var f,k,h,p,t,l;f=a.zg;k=d+f.V;d=a.nk[f.WJ];a=a.f2;h={SM:!0,waitUntil:void 0,bK:!1};p=d.filter(function(a){return a&&a.V<=k&&a.V+a.duration>k;})[0];if(void 0===p)return{bK:!0};t=g-1-(p.index-1);c=f.UM+c;l=0;l=p.index<f.Bg?l+d.slice(f.kt,p.index).reduce(function(a,b){return a+b.ba;},0):l+f.UM;l=l+b.slice(f.Bg,p.index).reduce(function(a,b){return a+b.yn;},0);c-=l;if(t>=a.yK||c>=a.sF)for(h.SM=!1,p=p.index;p<g&&(t>=a.yK||c>=a.sF);)h.waitUntil=d[p].V+d[p].duration-f.V,c=p<f.Bg?c-d[p].ba:c-b[p].yn,--t,p+=1;return h;}g.T={HJ:function(f){var K,x,I,G,r,T,S,V,D,Q,W,ca,ia;for(var g,h=f.zg,c=f.Rk,k=c.ak,q=f.nk,n=!0,u=[],l,m=k=Math.min(c.mq,k);m>=h.Bg;m--){g=f.nk[0][m].V-f.zg.V;m<k&&(g=Math.min(u[m+1].startTime,g));c=q[0][m].ba;l=h.Cu*q[0][m].duration*1/8;a:{K=void 0;r=c+l;l=f.ep;T=h.sn;S=l.trace;V=1*l.Kk;x=g+T-l.timestamp;I=Math.floor(1*x/V);G=0+(x-I*V)/V*a(S,I,V);if(G>=r)K=x-1*r/G*(x-I*V);else for(x=I;G<r;){--x;if(0>x){K=-1;break a;}I=a(S,x,V);if(G+I>=r){K=1*(r-G)/I*V;K=(x+1)*V-K;break;}G+=I;}K=K+l.timestamp-T;}if(0>K){n=!1;break;}u[m]={startTime:K,endTime:g,pR:g,yn:c,qd:0};}g={Fi:n,Hq:u,cq:!1,Vv:0===u.length};if(!1===g.Fi||!0===g.Vv)return g;a:{h=f.zg;k=f.Rk;q=k.ak;n=f.nk;c=u=0;g=g.Hq;K=m=0;q=Math.min(k.mq,q);for(T=h.Bg;T<=q;T++){G=g[T];r=G.qd;l=n[r][T].duration;V=T===h.Bg?0:g[T-1].endTime;r=b(f,g,V,u,T);if(r.bK){g={Fi:!1,cq:!0};break a;}r.SM||(V=r.waitUntil);I=G.pR;Q=f.ep;D=h.sn;G=0;r=Q.trace;S=1*Q.Kk;x=Math.max(0,V+D-Q.timestamp);Q=I+D-Q.timestamp;if(!(V>=I)){W=Math.max(0,Math.floor(1*x/S));ca=1*Q/S;if(W===Math.floor(ca))G+=(Q-x)/S*a(r,W,S);else for(ca=Math.ceil(ca),D=W,I=ca,W*S<x&&(D++,G+=(W*S+S-x)/S*a(r,W,S)),ca*S>Q&&(G+=(Q-I*S)/S*a(r,ca,S),I--),x=D;x<=I;x++)G+=a(r,x,S);}S=h.Cu*l*1/8;c+=S;r=d(G-S,T,n);G=r.yn;r=r.qd;S=G+S;D=f.ep;I=x=0;Q=D.trace;ca=Math.max(0,V+h.sn-D.timestamp);D=1*D.Kk;ia=W=Math.max(0,Math.floor(1*ca/D));for(ia*D<ca&&(W+=1,ca=ia*D+D-ca,ia=ca/D*a(Q,ia,D),x=S-I<ia?x+(S-I)/ ia*1*ca:x+ca,I+=ia);I<S;)ca=a(Q,W,D),x=S-I<ca?x+(S-I)/ca*1*D:x+D,I+=ca,W+=1;S=x;g[T].startTime=V;g[T].endTime=V+S;g[T].yn=G;g[T].qd=r;T<=k.ak&&(u+=G,K+=l,m+=l*f.Gc[r].O);}g={Fi:!0,cq:!1,Hq:g,s6a:0<K?1*m/K:0,b4:K,a4:u,Z3:c};}return g;}};},function(g){function d(b,f){void 0===b&&(b=[]);void 0===f&&(f=a);this.data=b;this.length=this.data.length;this.compare=f;if(0<this.length)for(b=(this.length>>1)-1;0<=b;b--)this.rka(b);}function a(a,f){return a<f?-1:a>f?1:0;}d.prototype.constructor=d;d.prototype.push=function(a){this.data.push(a);this.length++;this.$Xa(this.length-1);};d.prototype.pop=function(){var a,f;if(0!==this.length){a=this.data[0];f=this.data.pop();this.length--;0<this.length&&(this.data[0]=f,this.rka(0));return a;}};d.prototype.nE=function(){return this.data[0];};d.prototype.$Xa=function(a){for(var b=this.data,d=this.compare,g=b[a],c,k;0<a;){c=a-1>>1;k=b[c];if(0<=d(g,k))break;b[a]=k;a=c;}b[a]=g;};d.prototype.rka=function(a){for(var b=this.data,d=this.compare,g=this.length>>1,c=b[a],k,h,n;a<g;){k=(a<<1)+1;h=b[k];n=k+1;n<this.length&&0>d(b[n],h)&&(k=n,h=b[n]);if(0<=d(h,c))break;b[a]=h;a=k;}b[a]=c;};g.T={UPa:d};},function(g,d,a){var m,K,x,I;function b(a,b,c){this.ioa=this.sTa(a,b,c);}function f(){}function h(){}function p(){}function c(a){this.k1a=a;}function k(){}function q(){}function n(){}function u(){this.V3={};}function l(a){return Array.apply(0,Array(a)).map(function(a,b){return b+1;});}m=a(13).assert;d=a(192).rda;K=a(350).DRa;x=a(192).fGa;new(a(6)).Console("ASEJS_QOE_EVAL","media|asejs");I=a(150).XPa||a(150);b.prototype.constructor=b;b.prototype.sTa=function(a,b,c){m(a<b,"expect min_buffer_sec < max_buffer_sec but got "+a+" and "+b);m(0<c,"expect buffer_step_sec > 0. but got "+c);for(var f=[];a<b;a+=c)f.push(a);f[f.length-1]<b&&f.push(b);return f;};b.prototype.sv=function(a){return this.rUa(a,this.ioa);};b.prototype.rUa=function(a,b){a=this.k6a(a,b);if(0===a)throw new f();if(a===b.length)throw new h();return a;};b.prototype.k6a=function(a,b){m(0<b.length,"expect bins.length > 0 but got "+b.length);if(a<b[0])return 0;if(a>=b[b.length-1])return b.length;for(var c=1;c<b.length;c++)if(b[c-1]<=a&&a<b[c])return c;m(!1,"expect not coming here in digitize()");};b.prototype.WS=function(){return l(this.ioa.length-1);};f.prototype=Error();h.prototype=Error();p.prototype=Error();c.prototype.constructor=c;c.prototype.VERSION="0.5";c.prototype.EHa=-20;c.prototype.DHa=20;c.prototype.CHa=void 0;c.prototype.wHa=new d(void 0);c.prototype.yHa=0;c.prototype.xHa=1;c.prototype.HHa=!1;c.prototype.AHa=!0;c.prototype.zHa=!0;c.prototype.FHa=void 0;c.prototype.uHa=!0;c.prototype.vHa=0;c.prototype.GE=function(a){m(void 0!==a.bDa,"expect recipe.time_varying_bandwidth !== undefined");return this.eXa(this.k1a,a.bDa,void 0!==a.xxa?a.xxa:this.EHa,void 0!==a.$wa?a.$wa:this.DHa,void 0!==a.Zwa?a.Zwa:this.CHa,void 0!==a.foa?a.foa:this.wHa,void 0!==a.mra?a.mra:this.yHa,void 0!==a.roa?a.roa:this.xHa,void 0!==a.arb?a.arb:this.HHa,void 0!==a.Dcb?a.Dcb:this.AHa,void 0!==a.aua?a.aua:this.zHa,void 0!==a.Nza?a.Nza:this.FHa,void 0!==a.tna?a.tna:this.uHa,void 0!==a.Xna?a.Xna:this.vHa);};c.prototype.eXa=function(a,c,d,g,t,l,y,A,r,ia,X,B,Y,da){var N,T,O,D,S,Q,V,M,fa,ga,ha,ka,la,ma,qa,na,pa,ab,Bb,sc;function G(a){return a[Q];}I.Yaa("dp: ");m(d<=l.rf,"expect min_buffer_sec <= bgn_buffer_queue.total_remain_sec");m(l.rf<=g,"expect bgn_buffer_queue.total_remain_sec <= max_buffer_sec");m(d<=y,"expect min_buffer_sec <= end_buffer_sec");m(y<=g,"expect end_buffer_sec <= max_buffer_sec");void 0!==t&&m(l.Ri<=t,"Need bgn_buffer_queue.total_remain_kb <= max_buffer_kb but has got "+l.Ri+" and "+t);N=new b(d,g,A);A=new u();T=0;O=l;A.put([0,N.sv(l.rf)],[T,O,void 0,void 0,c,void 0,void 0,void 0]);D=O=0;c=a.ycb();m(a.xD()==c.length,"expect chunk_map.get_n_epoch() == durations_sec.length");Q=-1;for(V in c){for(var Q=Q+1,ca=!0,W=a.Sh.map(G),ja=N.WS(),F=0;F<ja.length;F++){M=ja[F];if(A.H7([Q,M])){S=A.get([Q,M]);for(var P=S[0],R=S[1],Z=S[4],ba=0;ba<W.length;ba++){c=W[ba];I.update("epoch-ibuf-chunk loop");l=void 0!==B?B(c.rL):c.rL;fa=Z.Rp();try{S=this.STa(R,c,fa,da);ga=S[0];ha=S[1];ka=S[2];la=S[3];ma=S[4];qa=S[5];}catch(Ya){if(Ya instanceof K)continue;else if(Ya instanceof f){O+=1;continue;}else throw Ya;}na=T=!1;try{pa=N.sv(la.rf);ia&&N.sv(ga);X&&N.sv(ha);if(void 0!==t)if(X){if(ka.Ri>t)throw new p();}else if(la.Ri>t)throw new p();}catch(Ya){if(Ya instanceof f)pa=void 0,O+=1;else if(Ya instanceof h)Y?T=!0:D+=1,pa=void 0;else if(Ya instanceof p)Y?na=T=!0:D+=1,pa=void 0;else throw Ya;}try{if(T&&na){m(void 0!==t,"expect max_buffer_kb !== undefined");Bb=X?ka.Ri-t:la.Ri-t;m(0<=Bb,"pause dlnd kb cannot be -ve but is "+Bb);try{ab=la.Alb(Bb);}catch(Ya){if(Ya instanceof x)throw new f();throw Ya;}fa.Oya(ab);ma+=ab;m(la.rf<g,"expect cur_buffer_queue.total_remain_sec < max_buffer_sec");pa=N.sv(la.rf);}else if(T&&!na){ab=X?ka.rf-g+1E-8:la.rf-g+1E-8;m(0<=ab,"pause dlnd kb cannot be -ve but is "+ab);try{la.bza(ab);}catch(Ya){if(Ya instanceof x)throw new f();throw Ya;}fa.Oya(ab);ma+=ab;m(d<=la.rf,"expect min_buffer_sec <= cur_buffer_queue.total_remain_sec");m(la.rf<g,"cur_buffer_queue.total_remain_sec < max_buffer_sec");pa=N.sv(la.rf);}else ab=0;}catch(Ya){if(Ya instanceof f)pa=void 0,O+=1,ab=void 0;else if(Ya instanceof K)continue;else throw Ya;}T=A.H7([Q+1,pa])?A.get([Q+1,pa])[0]:-Infinity;this.eYa(la,pa,c,l,M,Q+1,T,A,P,ba,fa,ma,qa,ab)&&(ca=!1);}}}if(ca){--Q;break;}}try{sc=this.Hka(Q+1,N.sv(y),A,r,N);}catch(Ya){if(Ya instanceof k)try{sc=this.Hka(Q+1,N.sv(y),A,!r,N);}catch(Fe){if(Fe instanceof k){if(O>D)throw new q();throw new n();}throw Fe;}else throw Ya;}M=sc;for(d=[];-1<Q;Q--)S=A.get([Q+1,M]),T=S[0],O=S[1],g=S[3],t=S[5],y=S[6],r=S[7],S=S[2],c=a.Sh[S][Q],ia=c.Es(),l=c.rL,d.unshift({Eua:Q,V6:S,info:{vEb:ia,rL:l,CEb:O.rf,BEb:O.Ri,eGb:t,va:y,DJb:r}}),M=g;return d;};c.prototype.Hka=function(a,b,c,f,d){var g,h;g=!1;h=d.WS()[0];for(d=d.WS()[d.WS().length-1];;){if(b<h||b>d){g=!0;break;}if(c.H7([a,b]))break;else b=f?b-1:b+1;}if(g)throw new k();return b;};c.prototype.eYa=function(a,b,c,f,d,g,k,h,n,q,p,u,t,l){c=n+f*c.xn;return void 0!==b&&c>k?(h.put([g,b],[c,a,q,d,p,u,t,l]),!0):!1;};c.prototype.STa=function(a,b,c,d){var g,k,h;d=(b.Es()+d)*b.xn;c=c.D6a(d);d/=c;g=a.rf-c;k=a.rf+b.xn;h=a.Rp();h.add(b,void 0);a=a.Rp();a.add(b,void 0);try{a.bza(c);}catch(W){if(W instanceof x)throw new f();throw W;}return[g,k,h,a,c,d];};k.prototype=Error();q.prototype=new k();n.prototype=new k();u.prototype={lca:function(a){return a.join(",");},put:function(a,b){this.V3[this.lca(a)]=b;},get:function(a){return this.V3[this.lca(a)];},H7:function(a){return this.lca(a)in this.V3;}};g.T={XIa:c,Dwb:b,Ovb:f,Pvb:h};},function(g,d,a){var x,I,r,N,T,S,V,D,Q,W;function b(a){var b,c,f;c=a.ep;b=a.zg;f=a.Rk.da-b.V;c.timestamp>b.sn&&Q.error("expect playSegment.tput.timestamp <= playSegment.startState.playingStartTime but has "+c.timestamp+" and "+b.sn);a=[];for(var d,g=c.timestamp,k=0;k<c.trace.length;k++)g>=b.sn&&(a.push(c.trace[k]),d=c.trace[k]),g+=c.Kk,f-=c.Kk;for(;0<f;)a.push(d),f-=c.Kk;b=c.Kk;c=a.length;if(0===c)c=[];else{for(b=[b/1E3];2*b.length<=c;)b=b.concat(b);b.length<c&&(b=b.concat(b.slice(0,c-b.length)));c=b;}return new T(a,c,!1);}function f(a,b){return a.bz<b.bz?1:a.bz>b.bz?-1:0;}function h(a){for(var b=a.zg,c=a.Rk,f=c.ak,d=a.nk,g=!0,k,h=[],n,q=f=Math.min(c.mq,f);q>=b.Bg;q--){W.update("backward step loop");k=a.nk[0][q].V-a.zg.V;q<f&&(x(void 0!==h[q+1],"expect solution[(fragIndex + 1)] !== undefined"),k=Math.min(h[q+1].startTime,k));c=d[0][q].ba;n=b.Cu*d[0][q].duration*1/8;n=m(c+n,k,a.ep,b.sn);if(0>n){g=!1;break;}h[q]={startTime:n,endTime:k,pR:k,yn:c,qd:0};}return{Fi:g,Hq:h,cq:!1,Vv:0===h.length?!0:!1};}function p(a,b){var r,G,N,T,D,S,Q;for(var c=a.zg,f=a.Rk,d=f.ak,g=a.nk,k=0,h=0,n=b.Hq,q,p,t=0,y=0,m,A,d=Math.min(f.mq,d),I=c.Bg;I<=d;I++){W.update("forward step loop");q=n[I];b=q.qd;m=g[b][I].duration;A=I===c.Bg?0:n[I-1].endTime;p=0;b=K(a,n,A,k,I);if(b.bK)return{Fi:!1,cq:!0};b.SM||(p=b.waitUntil-A,A=b.waitUntil);x(0<=p,"expect waittime >= 0 but got "+p);r=q.pR;N=a.ep;G=c.sn;q=0;b=N.trace;p=1*N.Kk;T=Math.max(0,A+G-N.timestamp);N=r+G-N.timestamp;if(!(A>=r)){D=Math.max(0,Math.floor(1*T/p));S=1*N/p;if(D===Math.floor(S))q+=(N-T)/p*l(b,D,p);else for(S=Math.ceil(S),G=D,r=S,D*p<T&&(G++,q+=(D*p+p-T)/p*l(b,D,p)),S*p>N&&(q+=(N-r*p)/p*l(b,S,p),r--),T=G;T<=r;T++)q+=l(b,T,p);}p=c.Cu*m*1/8;h+=p;b=u(q-p,I,g);q=b.yn;b=b.qd;p=q+p;G=a.ep;r=T=0;N=G.trace;S=Math.max(0,A+c.sn-G.timestamp);G=1*G.Kk;Q=D=Math.max(0,Math.floor(1*S/G));for(Q*G<S&&(D+=1,S=Q*G+G-S,Q=S/G*l(N,Q,G),T=p-r<Q?T+(p-r)/Q*1*S:T+S,r+=Q);r<p;)W.update("getDownloadTime"),S=l(N,D,G),T=p-r<S?T+(p-r)/S*1*G:T+G,r+=S,D+=1;p=T;n[I].startTime=A;n[I].endTime=A+p;n[I].yn=q;n[I].qd=b;I<=f.ak&&(k+=q,y+=m,t=void 0!=g[b][I].Vb?t+m*g[b][I].Vb:t+m*a.Gc[b].Vb);}return{Fi:!0,cq:!1,Hq:n,Fqa:0<y?1*t/y:0,b4:y,a4:k,Z3:h};}function c(a){a=a.zg.ca;for(var b=[],c,f=0;f<a.length;f++)W.update("get prebuffered chunks loop"),c=a[f],x(void 0!==c.Vb,"expect frag.vmaf !== undefined"),c=new I(c.ba,c.duration/1E3,c.Vb),b.push(c);return b;}function k(a){var b,c,f,d;b=a.nk;c=a.zg;f=a.Rk;d=f.ak;a=a.Gc;for(var g=[],k,d=Math.min(f.mq,d),h=0;h<b.length;h++){for(var f=[],n=c.Bg;n<=d;n++)W.update("get chunk map from play segment"),k=b[h][n],k=new I(k.ba,k.duration/1E3,void 0!==k.Vb?k.Vb:a[h].Vb),f.push(k);g.push(f);}return new r(g,!1);}function q(a,b){x(a.xD()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");for(var c=0,f=0,d,g,k=0;k<b.length;k++)W.update("calculate twvmaf"),x(b[k].Eua===k,"expect stream_choices[idx].i_epoch === idx"),g=a.Sh[b[k].V6][k],d=g.rL,g=g.xn,c+=d*g,f+=g;return{Fqa:c/f,b4:1E3*f};}function n(a,b,c){var f,d;x(a.xD()>=b.length,"expect chunk_map.get_n_epoch() >= stream_choices.length");f=0;d=0;c=c.zg.Cu;for(var g,k=0;k<b.length;k++)W.update("calculate Bytes"),x(b[k].Eua===k,"expect stream_choices[idx].i_epoch === idx"),g=a.Sh[b[k].V6][k],f+=g.ba,d+=c*g.xn*1E3/8;return{a4:f,Z3:d};}function u(a,b,c){var f,d;f=[];c.forEach(function(a){f.push(a[b].ba);});c=f.filter(function(b){return b<=a;});0<c.length?(c=c[c.length-1],d=f.lastIndexOf(c)):(c=f[0],d=0);return{yn:c,qd:d};}function l(a,b,c){b=Math.min(a.length-1,b);b=Math.max(0,b);return a[b]*c*1/8;}function m(a,b,c,f){var d,g,k,h,n;d=c.trace;g=1*c.Kk;n=b+f-c.timestamp;h=Math.floor(1*n/g);b=0+(n-h*g)/g*l(d,h,g);if(b>=a)k=n-1*a/b*(n-h*g);else for(n=h;b<a;){W.update("find download start time");--n;if(0>n)return-1;h=l(d,n,g);if(b+h>=a){a=1*(a-b)/h*g;k=(n+1)*g-a;break;}b+=h;}return k+c.timestamp-f;}function K(a,b,c,f,d){var g,k,h,n,q,p;g=a.zg;k=c+g.V;c=a.nk[g.WJ];a=a.f2;h={SM:!0,waitUntil:void 0,bK:!1};n=c.filter(function(a){return a&&a.V<=k&&a.V+a.duration>k;})[0];if(void 0===n)return{bK:!0};q=d-1-(n.index-1);f=g.UM+f;p=0;p=n.index<g.Bg?p+c.slice(g.kt,n.index).reduce(function(a,b){return a+b.ba;},0):p+g.UM;p=p+b.slice(g.Bg,n.index).reduce(function(a,b){return a+b.yn;},0);f-=p;if(q>=a.yK||f>=a.sF)for(h.SM=!1,n=n.index;n<d&&(q>=a.yK||f>=a.sF);)W.update("check buffer vacancy"),h.waitUntil=c[n].V+c[n].duration-g.V,f=n<g.Bg?f-c[n].ba:f-b[n].yn,--q,n+=1;h.toa=f;h.DEb=q;return h;}x=a(13).assert;I=a(351).WGa;r=a(351).XGa;N=a(681).XIa;T=a(350).CRa;S=a(192).rda;V=a(680).UPa;D=a(39);Q=new(a(6)).Console("ASEJS_QOE_EVAL","media|asejs");W=a(150).XPa||a(150);g.T={yfb:function(a){var b;b=h(a);return!1===b.Fi||!0===b.Vv?b:p(a,b);},HJ:function(a){var b,c,d,g,k,n,q,u,t,l,y,A,K,I,r,N;Q.debug("greedy DEBUG false");W.Yaa("greedy-"+(a.Iaa?"segvmaf":"dlvmaf")+": ");c=a.nk;b=a.nk;d=a.zg;g=a.Rk;k=g.ak;n=a.Gc;k=Math.min(g.mq,k);for(A=d.Bg;A<=k;A++){b[0][A].by=b[0][A].ba;for(y=1;y<b.length;y++)b[y][A].by=b[y][A].ba,b[y-1][A].by===b[y][A].by&&(b[y][A].by=b[y-1][A].by+1);y=0;d=b[y][A];d.bz=Infinity;d.Jf=y;for(y=1;y<b.length;y++)d=b[y][A],g=b[y-1][A],q=8*d.by/d.duration,u=8*g.by/g.duration,a.Iaa&&void 0!==d.Vb?(t=d.Vb,l=g.Vb):(t=n[y].Vb,l=n[y-1].Vb),d.bz=(t-l)/(q-u),d.Jf=y,x(void 0!==g.bz&&!isNaN(g.bz),"expect fragPrev.margUtil !== undefined && !isNaN(fragPrev.margUtil)");}b=h(a);if(!1===b.Fi||!0===b.Vv)return b;k=a.nk;d=a.zg;g=a.Rk;n=g.ak;n=Math.min(g.mq,n);g=[];for(d=d.Bg;d<=n;d++)g.push(k[1][d]);for(k=new V(g,f);0<k.length;){W.update("upgrade frags");n=k.pop();d=a;g=b;q=n;u=d.nk;t=d.zg;r=d.Rk;l=r.ak;y=!0;A=JSON.parse(JSON.stringify(g.Hq));void 0!==q.Jf&&x(A[q.index].qd+1===q.Jf,"expect solution[targetFrag.index].selectedStreamIndex + 1 === targetFrag.streamIndex");l=Math.min(r.mq,l);for(var G=q.index;G>=t.Bg;G--){N=G===q.index?A[G].qd+1:A[G].qd;r=d.nk[N][G].V-d.zg.V;if(G<l)if(x(void 0!==A[G+1],"expect solution[(fragIndex + 1)] !== undefined"),I=A[G+1].startTime,I<r)r=I;else if(G!==q.index)break;I=u[N][G].ba;K=t.Cu*u[N][G].duration*1/8;K=m(I+K,r,d.ep,t.sn);if(0>K){y=!1;break;}A[G]={startTime:K,endTime:r,pR:r,yn:I,qd:N};}d={Fi:y,Hq:A,Vv:g.Vv};!0===d.Fi&&(b=d,n.Jf+1<c.length&&k.push(c[n.Jf+1][n.index]));}return p(a,b);},dp:function(a){var f,d,g,p,u,t;W.Yaa("dp-"+(a.Iaa?"segvmaf":"dlvmaf")+": ");f=h(a);if(!1===f.Fi||!0===f.Vv)return f;d=k(a);g=new N(d);p=c(a);p={bDa:b(a),Xna:a.zg.Cu,xxa:0,$wa:240,Zwa:8*a.f2.sF/1E3,roa:.5,foa:new S(p),mra:0,rHb:void 0,aua:void 0,Nza:void 0,tna:!0};g=g.GE(p);p=q(d,g);d=n(d,g,a);u=[];t=a.zg.Bg;g.forEach(function(a){u[t]={qd:a.V6};t++;});D(p,f);D(d,f);f.Hq=u;return f;}};},function(g,d,a){var h,p;function b(){}function f(a,b){return function(c){c.Iaa=b;return a(c);};}h=a(682);p=a(679);b.prototype.constructor=b;b.prototype.create=function(a){var b;switch(a){case"htwbr":b=p.HJ;break;case"hvmaftb":b=h.yfb;break;case"hvmafgr":b=h.HJ;break;case"hvmafdp":b=h.dp;break;case"hvmafgr-dlvmaf":b=f(h.HJ,!1);break;case"hvmafgr-segvmaf":b=f(h.HJ,!0);break;case"hvmafdp-dlvmaf":b=f(h.dp,!1);break;case"hvmafdp-segvmaf":b=f(h.dp,!0);}return b;};g.T=b;},function(g,d,a){var f,h;function b(a,b,d){this.S=a;this.N=a.N;this.Dc=this.N.error.bind(this.N);this.ma=this.N.warn.bind(this.N);this.dc=this.N.trace.bind(this.N);this.cb=this.N.log.bind(this.N);this.FSa=new h();this.G=d;this.CP=[];this.Ek=void 0;a=d.fT;f.call(this,a.numB*a.bSizeMs,a.bSizeMs);}a(11);a(6);f=a(126);a(352);h=a(683);b.prototype=Object.create(f.prototype);b.prototype.add=function(a,b,d){this.Ek||(this.Ek=b);f.prototype.add.call(this,a,b,d);};b.prototype.y$a=function(){var a;if(0!==this.CP.length){a=[];this.CP.forEach(function(b){b&&b.eC&&a.push(b.Ds());});return a;}};b.prototype.Vd=function(){this.CP=[];};b.prototype.fcb=function(){var a,b,d;a=this.get(this.G.fT.fillS);if(0===a[0]||null===a[0]){a.some(function(a,c){if(a)return b=a,d=c,!0;});if(b)for(var g=0;g<d;g++)a[g]=b;}a={trace:a,timestamp:this.Ek,Kk:this.pc};f.prototype.reset.call(this);this.Ek=void 0;return a;};b.prototype.u4=function(a){var b,f,d,g,h,p;if(a&&!a.eC){f=a.Rk.uva;f&&(a.S$=this.B1(a),a.vV=!1);if((b=this.fcb())&&b.trace&&b.trace.length){d=a.zg.sn;g=b.timestamp;if(g>d){h=b.Kk;p=b.trace[0];d=Math.ceil(1*(g-d)/h);b.timestamp=g-d*h;for(g=0;g<d;g++)b.trace.splice(0,0,p);}b.trace.length&&b.trace.pop();}a.ep=b;b.trace&&0===b.trace.length||void 0===b.timestamp||(b=this.r0a(a),a.xya=b,f&&b&&(a.vV=b.Fi),a.eC=!0,this.CP.push(a));}};b.prototype.r0a=function(a){var g,h;for(var b=this.G.MJ,f={Fi:!1,cq:!1},d=0;d<b.length;d++){g=b[d];h=this.FSa.create(g);h&&(h=h(a),f[g]=h,f.Fi=f.Fi||h.Fi,f.cq=f.cq||h.cq);}return f;};b.prototype.B1=function(a){var b;a=a.Rk;b="";1E3>a.VM&&(b+=a.rEa);1E3>a.l1&&(b=b+(""!==b?",":"")+a.Jna);1E3<=a.VM&&1E3<=a.l1&&(b="media");return b;};g.T=b;},function(g,d,a){var b,f;b=a(194);f=a(193);g.T=function(a){var n;for(var d=[],c=a.length,g=0;g<c;g++){d[g]=[0,0];for(var h=0;h<c;h++){n=f.B4(g*h,c);n=b.multiply([a[h],0],n);d[g]=b.add(d[g],n);}}return d;};},function(g,d,a){var b;b=a(195).K4;g.T={Hua:function(a){for(var f=[],d=0;d<a.length;d++)f[d]=[a[d][1],a[d][0]];a=b(f);f=[];for(d=0;d<a.length;d++)f[d]=[a[d][1]/a.length,a[d][0]/a.length];return f;}};},function(g,d){var b;function a(a){var b;b=32;(a&=-a)&&b--;a&65535&&(b-=16);a&16711935&&(b-=8);a&252645135&&(b-=4);a&858993459&&(b-=2);a&1431655765&&--b;return b;}"use restrict";d.ZKa=32;d.Zyb=2147483647;d.$yb=-2147483648;d.sign=function(a){return(0<a)-(0>a);};d.abs=function(a){var b;b=a>>31;return(a^b)-b;};d.min=function(a,b){return b^(a^b)&-(a<b);};d.max=function(a,b){return a^(a^b)&-(a<b);};d.bIb=function(a){return!(a&a-1)&&!!a;};d.log2=function(a){var b,f;b=(65535<a)<<4;a>>>=b;f=(255<a)<<3;a>>>=f;b|=f;f=(15<a)<<2;a>>>=f;b|=f;f=(3<a)<<1;return b|f|a>>>f>>1;};d.log10=function(a){return 1E9<=a?9:1E8<=a?8:1E7<=a?7:1E6<=a?6:1E5<=a?5:1E4<=a?4:1E3<=a?3:100<=a?2:10<=a?1:0;};d.LJb=function(a){a-=a>>>1&1431655765;a=(a&858993459)+(a>>>2&858993459);return 16843009*(a+(a>>>4)&252645135)>>>24;};d.o2a=a;d.ZIb=function(a){a+=0===a;--a;a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;return(a|a>>>16)+1;};d.UJb=function(a){a|=a>>>1;a|=a>>>2;a|=a>>>4;a|=a>>>8;a|=a>>>16;return a-(a>>>1);};d.sJb=function(a){a^=a>>>16;a^=a>>>8;return 27030>>>((a^a>>>4)&15)&1;};b=Array(256);(function(a){for(var b=0;256>b;++b){for(var f=b,c=b,d=7,f=f>>>1;f;f>>>=1)c<<=1,c|=f&1,--d;a[b]=c<<d&255;}}(b));d.reverse=function(a){return b[a&255]<<24|b[a>>>8&255]<<16|b[a>>>16&255]<<8|b[a>>>24&255];};d.OHb=function(a,b){a&=65535;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b&=65535;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1;};d.WFb=function(a,b){a=a>>>b&1431655765;a=(a|a>>>1)&858993459;a=(a|a>>>2)&252645135;a=(a|a>>>4)&16711935;return((a|a>>>16)&65535)<<16>>16;};d.PHb=function(a,b,d){a&=1023;a=(a|a<<16)&4278190335;a=(a|a<<8)&251719695;a=(a|a<<4)&3272356035;b&=1023;b=(b|b<<16)&4278190335;b=(b|b<<8)&251719695;b=(b|b<<4)&3272356035;d&=1023;d=(d|d<<16)&4278190335;d=(d|d<<8)&251719695;d=(d|d<<4)&3272356035;return(a|a<<2)&1227133513|((b|b<<2)&1227133513)<<1|((d|d<<2)&1227133513)<<2;};d.XFb=function(a,b){a=a>>>b&1227133513;a=(a|a>>>2)&3272356035;a=(a|a>>>4)&251719695;a=(a|a>>>8)&4278190335;return((a|a>>>16)&1023)<<22>>22;};d.YIb=function(b){var f;f=b|b-1;return f+1|(~f&-~f)-1>>>a(b)+1;};},function(g,d,a){g.T={K4:a(195).K4,Hua:a(686).Hua,Gra:a(195).Gra,RM:a(193),f6a:a(685)};},function(g,d,a){(function(){var a4x,f,d,h,K6Y;function b(a){var b4x;b4x=2;while(b4x!==1){switch(b4x){case 4:this.console=a;b4x=9;break;b4x=1;break;case 2:this.console=a;b4x=1;break;}}}a4x=2;while(a4x!==13){K6Y="1S";K6Y+="I";K6Y+="YbZrNJ";K6Y+="Cp";K6Y+="9";switch(a4x){case 2:f=a(688).f6a;d=a(60).Zbb;h=a(60).Tbb;a4x=3;break;case 3:b.prototype.p0a=function(a,b,f){var E4x,c;E4x=2;while(E4x!==3){switch(E4x){case 6:E4x=3==c.length?8:9;break;E4x=0!==c.length?4:3;break;case 5:E4x=0!==c.length?4:3;break;case 2:c=function(a){var H4x,b;H4x=2;while(H4x!==9){switch(H4x){case 2:b=[];a.reduce(function(a,c){var X4x;X4x=2;while(X4x!==4){switch(X4x){case 2:a.push(c);c&&(b.push(a.length),a=[]);return a;break;}}},[]);b.shift();H4x=3;break;case 3:return b;break;}}}(a.map(function(a){var J4x;J4x=2;while(J4x!==1){switch(J4x){case 4:return a>b?8:1;break;J4x=1;break;case 2:return a>=b?1:0;break;}}}));E4x=5;break;case 4:return a=d(c)/c.length,c=h(c),(c-a)/(c+a+f);break;}}};b.prototype.Lmb=function(a,b,g,h){var c4x,c,k,n,q;c4x=2;while(c4x!==13){switch(c4x){case 2:c=f(a);c=c.map(function(a){var U6k=p4UU;var m4x,I8x,K8x,F8x;m4x=2;while(m4x!==1){switch(m4x){case 2:U6k.Y6Y(0);I8x=U6k.f6Y(14,3,19);U6k.G6Y(1);K8x=U6k.j6Y(10,9);U6k.Y6Y(2);F8x=U6k.j6Y(16,15,3918,20,7);return(Math.pow(a[0],I8x)+Math.pow(a[K8x],F8x))/c.length;break;}}});a=[];c4x=3;break;case 7:q+=b;c4x=9;break;case 8:a[k]=d(c.slice(q,q+b)),n+=a[k],k+=1;c4x=7;break;case 3:k=0,n=0,q=0;c4x=9;break;case 9:c4x=q<c.length?8:6;break;case 6:a=a.splice(0,a.length-1).map(function(a){var R6k=p4UU;var A4x;A4x=2;while(A4x!==1){switch(A4x){case 4:R6k.G6Y(3);return R6k.f6Y(n,a,g);break;A4x=1;break;case 2:R6k.G6Y(4);return R6k.j6Y(g,a,n);break;}}});return a.splice(0,h);break;}}};b.prototype.s0a=function(a,b,f,d,g,h,p){var r4x;r4x=2;while(r4x!==7){switch(r4x){case 3:d+=f[h]*g[h];r4x=9;break;case 1:r4x=void 0!==b&&(a=this.Lmb(a,f,h,d),a=a.map(function(a){var i8x;i8x=2;while(i8x!==5){switch(i8x){case 2:a+=p;return Math.log(a);break;}}}),f=[1].concat(a).concat(b),f.length===g.length)?5:7;break;case 2:b=this.p0a(a,b,p);r4x=1;break;case 5:h=d=0;r4x=4;break;case 4:r4x=h<f.length?3:8;break;case 9:h++;r4x=4;break;case 8:return{p:Math.exp(d)/(1+Math.exp(d)),Du:b,z:a};break;}}};b.prototype.kL=function(a,b,f,d,g,h,p,l){var Z8x;Z8x=2;while(Z8x!==5){switch(Z8x){case 2:b=(a=this.s0a(a,b,f,d,g,p,l))?a.p:void 0;return{p:b?b:-1,Du:a?a.Du:-1,r:b?b<=h?1:0:-1,z:a?a.z:void 0};break;}}};g.T={PPa:b};K6Y;a4x=13;break;}}}());},function(g,d,a){(function(){var Q6Y,f,d,h,g29,l29;Q6Y=2;function b(a,b,f){var b6Y;b6Y=2;while(b6Y!==14){switch(b6Y){case 4:this.I9a=f.Vg.freqave;b6Y=3;break;case 6:this.Zsb=f.Vg.tol2;b6Y=14;break;case 2:p4UU.Y29(0);d.call(this,p4UU.D29(b,a),b);this.config=f;this.T_a=f.Vg.bthresh;b6Y=4;break;case 3:this.ojb=f.Vg.numfreq;this.beta=f.Vg.beta;this.VCa=f.Vg.thresh;this.Ysb=f.Vg.tol;b6Y=6;break;}}}while(Q6Y!==10){g29="1SIYbZrN";g29+="JC";g29+="p";g29+="9";l29="PSD";l29+="_";l29+="A";l29+="SEJ";l29+="S";switch(Q6Y){case 2:f=new(a(6)).Console(l29);d=a(126);Q6Y=4;break;case 8:b.prototype.gcb=function(){var d6Y;d6Y=2;while(d6Y!==1){switch(d6Y){case 2:return this.get(this.config.Vg.fillS,this.config.Vg.fillHl);break;}}};b.prototype.wbb=function(){var R6Y,a;R6Y=2;while(R6Y!==9){switch(R6Y){case 2:R6Y=1;break;case 1:a=this.gcb();R6Y=5;break;case 5:this.config.JI&&a.splice(a.length-this.config.JI);R6Y=4;break;case 4:R6Y=a.length===this.config.Vg.numB?3:9;break;case 3:return h.kL(a,this.T_a,this.I9a,this.ojb,this.beta,this.VCa,this.Ysb,this.Zsb);break;}}};b.prototype.stop=function(a){var a6Y;a6Y=2;while(a6Y!==1){switch(a6Y){case 2:d.prototype.stop.call(this,a);a6Y=1;break;}}};b.prototype.reset=function(){var w6Y;w6Y=2;while(w6Y!==1){switch(w6Y){case 2:d.prototype.reset.call(this);w6Y=1;break;case 4:d.prototype.reset.call(this);w6Y=6;break;w6Y=1;break;}}};b.prototype.toString=function(){var C6Y,r29;C6Y=2;while(C6Y!==1){r29="p";r29+="s";r29+="d(";switch(C6Y){case 4:return")"%this.pc*")";break;C6Y=1;break;case 2:return r29+this.pc+")";break;}}};g.T=b;Q6Y=11;break;case 11:g29;Q6Y=10;break;case 4:h=new(a(689)).PPa(f);b.prototype=Object.create(d.prototype);b.prototype.shift=function(){var J6Y;J6Y=2;while(J6Y!==1){switch(J6Y){case 2:d.prototype.shift.call(this);J6Y=1;break;case 4:d.prototype.shift.call(this);J6Y=2;break;J6Y=1;break;}}};Q6Y=8;break;}}}());},function(g,d,a){var b,f,h,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(7);f=a(6);h=a(354);p=a(690);c=a(11);k=a(684);q=a(678);n=a(675);g=function(){var b29;function a(a,b,f,d,g,p){var d29,u,l,t,u29,M29,c0U,A0U,V0U,A10;d29=2;while(d29!==31){c0U="bas";c0U+="e";c0U+="lin";c0U+="e";A0U="L";A0U+="R";V0U="1S";V0U+="I";V0U+="YbZrNJCp9";switch(d29){case 2:this.Nb=f;V0U;this.S=a;this.N=this.S.N;this.Dc=this.N.error.bind(this.N);d29=8;break;case 15:d29=a.qo?27:26;break;case 35:this.BB=new q.kKa(p,d,this.N);d29=22;break;case 23:this.BB=new q.Wea(p,d,this.N);d29=22;break;case 26:this.X_=!1;d29=25;break;case 21:d29=u29===A0U?35:34;break;case 8:this.ma=this.N.warn.bind(this.N);this.dc=this.N.trace.bind(this.N);this.cb=this.N.log.bind(this.N);this.G=d;this.JG=null;p4UU.N0U(1);A10=p4UU.D0U(10999780,8,999981,12);this.gla=0===Math.floor(A10*Math.random())%d.i2;this.pXa();d29=10;break;case 25:d29=p&&1<p.length&&(d.VI&&(this.XJ=new n.jzb(d,p),this.oT=this.XJ.bta()),d.n4)?24:32;break;case 24:u29=d.jdb;d29=u29===c0U?23:21;break;case 27:try{M29=2;while(M29!==3){switch(M29){case 8:l=a.bk();M29=5;break;M29=1;break;case 1:t=new k(a,{bufferSize:l},d);a.Nd.LYa(t);this.bma=t;M29=3;break;case 2:l=a.bk();M29=1;break;}}}catch(V){var G0U;G0U="Hindsight: E";G0U+="rror ";G0U+="when creating QoEEvaluato";G0U+="r:";G0U+=" ";p4UU.N0U(0);a.Ja.rq(p4UU.D0U(V,G0U));}d29=26;break;case 22:this.X_=this.BB.BT();d29=32;break;case 33:this.BB=new q.Wea(p,d,this.N);d29=22;break;case 10:this.MB=h(d,g);f=this.Rka(b);void 0!==f&&void 0!==f.wj&&void 0!==f.ai&&void 0!==f.xj&&(u=(f.xj-f.wj)/f.ai);this.JXa=[d.Una,d.Aba];d29=17;break;case 32:d.$W&&(this.PP=this.OP=!1);d29=31;break;case 17:g=d.MK?c.vd.op:c.vd.Gt;b&&b.Fc>=g&&b.va&&u&&this.EUa(b,f,u);d29=15;break;case 34:d29=33;break;}}}b29=2;while(b29!==33){switch(b29){case 14:a.prototype.rbb=function(a){var E29;E29=2;while(E29!==1){switch(E29){case 2:return 1===a?this.MB.sza:this.MB.rza;break;}}};a.prototype.RE=function(a){var U29;U29=2;while(U29!==5){switch(U29){case 2:this.MB.RE(a);this.JG=a;U29=5;break;}}};a.prototype.Foa=function(a,b){var t29;t29=2;while(t29!==1){switch(t29){case 2:this.MB.lKb&&a&&this.MB.Foa(b,a);t29=1;break;}}};a.prototype.yWa=function(a){var Q10,b;Q10=2;while(Q10!==14){switch(Q10){case 9:Q10=this.PP&&b.rn&&!a.bm()?8:7;break;case 5:Q10=this.OP&&a.bm()?4:3;break;case 2:b=this.G;Q10=5;break;case 3:this.OP&&(this.OP=!1);Q10=9;break;case 4:return!0;break;case 7:this.PP&&(this.PP=!1);return!1;break;case 8:return!0;break;}}};b29=10;break;case 2:Object.defineProperties(a.prototype,{Jrb:{get:function(){var J29;J29=2;while(J29!==1){switch(J29){case 2:return this.JXa;break;case 4:return this.JXa;break;J29=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{BT:{get:function(){var T29;T29=2;while(T29!==1){switch(T29){case 2:return this.X_;break;case 4:return this.X_;break;T29=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{K$:{get:function(){var O29;O29=2;while(O29!==1){switch(O29){case 4:return this.bma;break;O29=1;break;case 2:return this.bma;break;}}},enumerable:!0,configurable:!0}});b29=4;break;case 4:a.prototype.pXa=function(){var K29;K29=2;while(K29!==5){switch(K29){case 2:this.en=this.gT=this.yua=this.dR=this.Ho=void 0;this.x8=this.Lba=this.gW=this.hW=this.Kba=this.SU=this.TU=0;K29=5;break;}}};a.prototype.QBa=function(a,c,f){var F29;F29=2;while(F29!==4){switch(F29){case 2:this.en=a;b.P(c)||(this.yua=c);b.P(f)||(this.gT=f);F29=4;break;}}};a.prototype.rca=function(a){var I29;I29=2;while(I29!==5){switch(I29){case 2:this.G=a;this.MB.rca(a);I29=5;break;}}};a.prototype.Y_=function(a,c,f,d){var Z29,g,y0U,Q0U;Z29=2;while(Z29!==6){y0U="a";y0U+="v";y0U+="g";Q0U="i";Q0U+="q";Q0U+="r";switch(Z29){case 5:Z29=a===Q0U?4:8;break;case 2:g=this.G;Z29=5;break;case 9:return!1;break;case 4:Z29=void 0!==d?3:9;break;case 3:return c.va&&f&&b.qa(d)&&c.va.Ha<g.lI&&d>g.RY;break;case 8:Z29=a===y0U?7:9;break;case 7:return c.va?c.va.Ha<g.lI:!0;break;}}};a.prototype.Rka=function(a){var S29,R29,q0U;S29=2;while(S29!==4){q0U="t";q0U+="dig";q0U+="e";q0U+="s";q0U+="t";switch(S29){case 5:return a;break;case 1:a=a.qm;S29=5;break;case 2:R29=this.G.O6;S29=R29===q0U?1:3;break;case 9:a=a.Fo&&a.Fo.ZU;S29=5;break;case 3:S29=9;break;}}};a.prototype.EUa=function(a,b,c){var m29,f;m29=2;while(m29!==9){switch(m29){case 3:this.Y_(f.q8,a,b,c)&&(this.zeb=!0);m29=9;break;case 2:m29=1;break;case 5:this.Y_(f.uw,a,b,c)?this.Ho=!0:this.Ho=!1;this.dR=0;m29=3;break;case 1:f=this.G;m29=5;break;}}};b29=14;break;case 10:a.prototype.EYa=function(a,b,c,f,d,g){var x10,k;x10=2;while(x10!==4){switch(x10){case 2:k=this.G;k.$W&&this.yWa(b)||!c||!f||!(c=g?Math.min(c,f,g):Math.min(c,f))||(this.Nb.get(!1),a=this.S.Ay(a),b.bm()&&a>k.MQ&&c===d?(k.set?(k.set({pipelineEnabled:!0}),k.set({maxParallelConnections:1}),k.set({maxActiveRequestsPerSession:2}),k.set({maxPendingBufferLen:500})):(k.rn=!0,k.UD=1,k.kq=2,k.Lv=500),b.jAa({type:b.config.type,connections:1,openrange:!1,pipeline:!0,socketBufferSize:k.YM,minRequestSize:k.IK}),this.Kba++,k.$W&&(this.OP=!0)):k.rn&&!b.bm()&&(a<k.h2||c!==d)&&(k.set?(k.set({pipelineEnabled:!0}),k.set({maxParallelConnections:3}),k.set({maxActiveRequestsPerSession:3}),k.set({maxPendingBufferLen:12E3})):(k.rn=!0,k.UD=3,k.kq=3,k.Lv=12E3),b.jAa({type:b.config.type,connections:3,openrange:!1,pipeline:!0,socketBufferSize:k.YM,minRequestSize:k.IK}),this.Lba++,k.$W&&(this.PP=!0)));x10=4;break;}}};a.prototype.GYa=function(a,b){var P10,c,d,g;P10=2;while(P10!==13){switch(P10){case 4:void 0===this.Pj&&(this.Pj={startTime:f.time.ea(),Xr:[],vt:[],T7:void 0,N7:void 0});c=Math.floor((f.time.ea()-this.Pj.startTime)/c.mC);P10=9;break;case 2:c=this.G;P10=5;break;case 7:P10=void 0===d||c>d?6:14;break;case 5:P10=this.gla?4:13;break;case 6:this.Pj.Xr[g]=a,this.Pj.vt[g]=b;P10=14;break;case 9:d=this.Pj.N7;g=this.Pj.T7?c-this.Pj.T7-1:c;P10=7;break;case 14:this.Pj.N7=c;P10=13;break;}}};a.prototype.Rjb=function(){var n10;n10=2;while(n10!==1){switch(n10){case 4:this.uXa();n10=8;break;n10=1;break;case 2:this.uXa();n10=1;break;}}};a.prototype.Hjb=function(){var H10,a,i10;H10=2;while(H10!==9){switch(H10){case 4:H10=a.qo?3:9;break;case 2:a=this.S;this.jH&&(clearInterval(this.jH),this.jH=void 0);H10=4;break;case 3:try{i10=2;while(i10!==5){switch(i10){case 2:a.ob.Nd.Snb();this.bma.Vd();i10=5;break;}}}catch(A){var S0U;S0U="Hin";S0U+="dsight: E";S0U+="rror dur";S0U+="ing clean up:";S0U+=" ";p4UU.N0U(0);a.Ja.rq(p4UU.D0U(A,S0U));}H10=9;break;}}};a.prototype.Sjb=function(a){var e10;e10=2;while(e10!==1){switch(e10){case 2:this.G.Zu&&a===c.I.VIDEO&&(this.Lba=this.Kba=this.gW=this.hW=this.SU=this.TU=0);e10=1;break;}}};a.prototype.Xjb=function(a,b,f,d){var h10;h10=2;while(h10!==1){switch(h10){case 2:this.G.Zu&&a===c.I.VIDEO&&(d?(this.TU+=b,this.SU+=f):(this.hW+=b,this.gW+=f));h10=1;break;}}};a.prototype.Pjb=function(a,b){var a10;a10=2;while(a10!==1){switch(a10){case 2:a===c.I.VIDEO&&(this.Sub=b);a10=1;break;}}};b29=27;break;case 22:a.prototype.XYa=function(a){var o10;o10=2;while(o10!==3){switch(o10){case 2:a.Ho=this.Ho;a.Ys=this.Ys;a.oT=this.oT;a.Gz=this.Gz;o10=3;break;}}};a.prototype.V8a=function(a){var c10,f,d,g,k,h,n,q,p,s0U,U0U;c10=2;while(c10!==35){s0U="start";s0U+="pl";s0U+="a";s0U+="y";U0U="l";U0U+="og";U0U+="da";U0U+="ta";switch(c10){case 3:k={type:U0U,target:s0U,fields:{}};k.fields=f;Object.keys(a).forEach(function(b){var q10;q10=2;while(q10!==1){switch(q10){case 4:f[b]=a[b];q10=3;break;q10=1;break;case 2:f[b]=a[b];q10=1;break;}}});h=this.Nb.get();c10=6;break;case 21:g.emit(k.type,k);c10=35;break;case 6:h&&h.va&&(h=h.va.Ha);f.actualbw=h;f.isConserv=this.Ho;f.ccs=this.dR;c10=11;break;case 19:c10=n?18:25;break;case 2:f={};d=this.G;g=this.S;c10=3;break;case 11:f.isLowEnd=this.zeb;f.histdiscbw=this.en;n=this.gT;c10=19;break;case 18:q=function(a){var G10;G10=2;while(G10!==1){switch(G10){case 2:return b.qa(a)?Number(a).toFixed(2):-1;break;}}};h=[q(n.min||void 0),q(n.U9||void 0),q(n.wj||void 0),q(n.ai||void 0),q(n.xj||void 0),q(n.V9||void 0),q(n.max||void 0)];p=[];n=b.isArray(n.mg)&&n.mg.reduce(function(a,b){var W10,c;W10=2;while(W10!==9){switch(W10){case 2:c=q(b.Ee||void 0);b=q(b.n||void 0);-1<c&&-1<b&&a.push({mean:c,n:b});W10=3;break;case 3:return a;break;}}},p);f.histtdc=n;c10=26;break;case 25:f.histage=this.yua;d.VI&&this.XJ&&(f.histsessionstat=this.XJ.cta(),f.initbwestimate=this.XJ.bta(),f.avghistbw=this.XJ.DS());d.n4&&this.BB&&(f.ishighstable=this.X_,f.avg_avtp=this.BB.r_a,f.avg_ne=Number(this.BB.s_a).toFixed(4));g.ob&&(d=g.bk(),f.maxAudioBufferAllowedBytes=d[c.I.AUDIO],f.maxVideoBufferAllowedBytes=d[c.I.VIDEO]);c10=21;break;case 26:f.histtd=h;c10=25;break;}}};a.prototype.W8a=function(a){var C10,b,f,d,g,k,h,n,q,m0U;C10=2;while(C10!==18){m0U="n";m0U+="o";m0U+="n";m0U+="e";switch(C10){case 14:n=0;q=0;d.Fc&&(h=d.va?d.va.Ha:0,n=d.wg?d.wg.Ha:0,q=d.Do?d.Do.Ha:0);a.location={responseTime:n,httpResponseTime:q,bandwidth:h,confidence:d.Fc,name:this.Sub};C10=10;break;case 2:b=this.G;f=this.S;d=this.Nb.get(!0);g=[];C10=9;break;case 9:k=this;[c.I.VIDEO,c.I.AUDIO].forEach(function(a){var v10,h;v10=2;while(v10!==3){switch(v10){case 7:v10=f.jn(a)?4:5;break;v10=f.jn(a)?5:3;break;case 5:h=k.S.Xbb(a);void 0!==h&&(a===c.I.VIDEO&&(b.Zu&&(h.parallelDownloadMs=k.TU,h.parallelDownloadBytes=k.SU,h.singleDownloadMs=k.hW,h.singleDownloadBytes=k.gW,h.switchFromParallelToSingle=k.Kba,h.switchFromSingleToParallel=k.Lba),d&&d.Fc&&d.va&&(h.asetput=d.va,h.aseiqr=d.Fo,h.tdigest=d.qm&&d.qm.Ds()||void 0),d&&d.avtp&&(h.avtp=d.avtp.Ha)),g.push(h));v10=3;break;case 1:v10=f.jn(a)?5:3;break;case 2:v10=1;break;}}});a.stat=g;h=0;C10=14;break;case 10:this.gla&&(a.bt={startTime:this.Pj.startTime,audioMs:this.Pj.Xr,videoMs:this.Pj.vt},this.Pj.Xr=[],this.Pj.vt=[],this.Pj.T7=this.Pj.N7);b.VR&&(a.psdConservCount=this.$la);m0U!==b.uw&&(a.isConserv=this.Ho,a.ccs=this.dR);C10=18;break;}}};return a;break;case 27:a.prototype.Qjb=function(a){var j10;j10=2;while(j10!==1){switch(j10){case 2:this.Vg&&this.Vg.stop(a);j10=1;break;}}};a.prototype.qya=function(a,b,c){var k10;k10=2;while(k10!==1){switch(k10){case 2:this.Vg&&this.Vg.add(a,b,c);k10=1;break;}}};a.prototype.ckb=function(a){var L10;L10=2;while(L10!==1){switch(L10){case 4:this.x8=a.x8;L10=5;break;L10=1;break;case 2:this.x8=a.x8;L10=1;break;}}};a.prototype.uXa=function(){var N10,a,b;N10=2;while(N10!==3){switch(N10){case 2:a=this;b=this.G;N10=4;break;case 4:b.VR&&(this.jH&&clearInterval(this.jH),this.Gz=void 0,this.$la=0,this.Vg=new p(b.Vg.numB+b.JI,b.Vg.bSizeMs,b),this.jH=setInterval(function(){var f10,d,g,k,h;f10=2;while(f10!==12){switch(f10){case 2:d=a.Vg.wbb();f10=5;break;case 5:f10=d?4:12;break;case 4:g=d.p;k=d.Du;h=d.r;a.Gz={t:f.time.ea(),p:+Number(g).toFixed(2)/1,Du:+Number(k).toFixed(2)/1,wEb:a.S.Ay(c.I.VIDEO),z:d.z};f10=7;break;case 14:a.Ys||a.$la++,a.Ys=!0;f10=12;break;case 7:f10=h?6:13;break;case 6:f10=(d=a.Nb.get(!0),0===b.pL||0<b.pL&&d.va.Ha<b.pL)?14:12;break;case 13:b.I$&&(a.Ys=!1);f10=12;break;}}},b.H$));N10=3;break;}}};a.prototype.d1a=function(a){var s10,b,f,d,g,k,I0U,x0U;s10=2;while(s10!==7){I0U="i";I0U+="q";I0U+="r";x0U="n";x0U+="o";x0U+="n";x0U+="e";switch(s10){case 1:b=this.G;s10=5;break;case 2:s10=1;break;case 5:s10=x0U!==b.uw&&!0!==this.Ho&&a.state<=b.O8?4:7;break;case 4:f=this.Nb.get();I0U===b.uw&&(d=this.Rka(f),void 0!==d&&void 0!==d.wj&&void 0!==d.ai&&void 0!==d.xj&&(g=(d.xj-d.wj)/d.ai));k=b.MK?c.vd.op:c.vd.Gt;f&&f.Fc>=k&&this.Y_(b.uw,f,d,g)&&(this.Ho=!0,this.dR=a.state);s10=7;break;}}};b29=22;break;}}}();d.aFa=g;},function(g,d,a){var b,f,h,p,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(24);f=a(196);h=a(368);p=a(45);c=a(6);a=function(a){function d(b,c,f,d,g,k,h){var n;n=a.call(this,b)||this;n.S=b;n.s0=c;n.J_=f;n.kXa=d;n.N=g;n.fYa=k;n.G=h;n.ej=b;n.zp=[Object.create(null),Object.create(null)];n.dc=n.N.trace.bind(n.N);return n;}b.__extends(d,a);d.prototype.nv=function(a){return this.zp[a];};d.prototype.Tk=function(a,b){return this.zp[a][b];};d.prototype.iua=function(a){return!!this.Tk(1,a);};d.prototype.Xma=function(a){this.zp[a.R][a.Ua]=a;};d.prototype.vqa=function(a,b){delete this.zp[a][b];};d.prototype.bob=function(a){var b,c,f,d;b=this.zp[0];for(c in b){f=b[c];if(f&&f.ut){d=f.aob();a(d,f);}}};d.prototype.Woa=function(a){this.D_===a.Ua&&(this.D_=void 0);};d.prototype.q1a=function(){this.eu=void 0;};d.prototype.bqb=function(a){var b,c;if(a)this.eu=a;else if(!(this.eu&&0<this.eu.length||(a=this.G,a.kCa))){f.wm.dn(1);b=this.S;if(!(b.Ay(1)<a.oU))for(a=b.af.Qg(1).Gc,b=0;b<a.length;++b){c=a[b];if(c.df&&c.inRange&&!c.Rg&&!this.iua(c.id)){this.eu=[b];break;}}}};d.prototype.Qgb=function(){var a,c,d;if(this.eu&&0!==this.eu.length&&!this.D_){a=this.S;f.wm.dn(1);for(var a=a.af,b=a.Qg(1);0<this.eu.length;){c=this.eu.shift();if(c=b.Gc[c]){d=c.id;if(!this.iua(d)&&c.df){this.D_=d;this.rI(b,a.M,c,{offset:0,dM:!0});break;}}}}};d.prototype.eub=function(a,b,c){var f;f=this;b.forEach(function(b){var d;d=f.Tk(a,b.id);d&&!b.Tc&&(d.stream.Tc?b.iR(d.stream):(d.XK||(d.XK=[]),d.XK.push(c)));});};d.prototype.rI=function(a,b,c,d,g,k){var h,n,q,p;h=a.R;f.wm.dn(h);n=c.id;if(!this.nTa(a,c.ga,b,n,d.ys)){b=this.Tk(h,n);if(!b){d.ba=this.PTa(h,c.Bn,c.Vh);n=!!d.oy;b=this.ej.gb.Bb[h];q=void 0!==g&&g!==a.ga;k=!d.ys||n||q||k?this.ej.VG:b.Zj;c.url&&(b.U7=c.url);b=this.A_(h,c,k,d);if(!b.Xv()){this.ej.pi("MediaRequest open failed (2)",a.ga,"NFErr_MC_StreamingFailure");return;}}void 0!==g&&(p=this.S.Yh(g));d.ys&&p&&(p.Lb[h]=b);}this.J_.qh();};d.prototype.A_=function(a,b,c,d){var g,k;g=this;k=this.Tk(a,b.id);if(k)return k;a=f.wm.dn(a);b=new h.cda(b,this.G,c,d,this,!1,a);b.addEventListener("headerRequestCancelled",function(a){g.tUa(a.request);});b.gc(this.S,void 0);this.Xma(b);this.s0.zla(b);return b;};d.prototype.vca=function(a,b){var c,d;c=this;d=[];this.zp.forEach(function(g,k){var n,q;f.wm.dn(k);k=a[k];for(var h in g){n=g[h];if("function"===typeof n.NW){q=n.NW(k,b);1===q||2===q?d.push(n):3===q&&c.pi("swapUrl failure");}}});return d;};d.prototype.$h=function(a){var b,d,g,k;b=a.R;d=f.wm.dn(b);if(this.S.ze())d.warn("header onrequestcomplete ignored, session shutdown:",a.toString());else{g=a.ga;k=this.S.Yh(g);k?(this.S.ka("logdata",{type:"logdata",target:"startplay",pd:{usedNativeDataView:a.Dub}}),a.YK>a.jkb&&(this.ej.gb.Bb[b].L7=a.YK),a.dM&&this.Woa(a),this.Uka(a),a.Ql?this.ej.jQ():a.oy&&(d.warn("drm header header:",a.toString(),"but no headers seen, marking pipeline drmReady"),this.S.NR(k.M)),this.cla=c.time.ea(),this.ej.Ze[b].Zib(),this.J_.uka(),this.S.nob()):d.warn("header onrequestcomplete but unknown manifestIndex:",g);}};d.prototype.Uka=function(a){var b,c,d,g,h;b=this.G;c=f.wm.dn(a.R);d=a.ca;if(b.B3){g=d.length;c.trace("fragment count:",g);for(var k=0;k<g;++k){h=d.get(k);c.trace("fragment: "+k+", startPts: "+h.V+", duration: "+h.duration+", offset: "+h.offset);}}this.Cja(a);if(b.$K&&b.$K.enabled&&void 0===d.Gn&&b.$K.simulatedFallback){g=d.length;b=[];for(k=0;k<g;++k)b[k]=Math.max(0,a.stream.Vb+this.ej.JWa(k));d.yqb(b);}};d.prototype.Cja=function(a){var b,c,d,g,k,h,n,q,p,l,t;b=this;c=this.G;d=a.R;g=f.wm.dn(d);k=a.ga;h=this.S.Yh(k);if(h){n=a.ca;q=a.ut?60:n.length;p=n.get(q-1);l=a.Ua;a.Zk={Ii:p.V+p.duration,ofb:p.V,lastIndex:q-1};h.bua(d,n);a.XK&&(a.XK.forEach(function(c){var f;f=b.S.Yh(c);f?(c=f.Zp(d,l))&&c!==a.stream&&!c.Tc&&c.iR(a.stream):g.warn("otherManifestIndexes bad value:",c);}),a.XK=void 0);q=h.Zp(d,l);p=h.Go()?c.Nwa:0;t=this.S.bk()[d];1===d&&0<c.Mv&&(t=Math.min(t,c.Mv));q.LDa(t,p);h.Lb[d]&&a!==h.Lb[d]?a.ys&&(c=h.Lb[d],q=a.stream,p=c&&c.stream,g.warn("first header received for non-current track (trackId "+q.fb+"streamId "+q.Ua+"), expected track "+(p&&p.fb)+", stream "+(p&&p.Ua)+", "+c)):(h.Lb[d]=a,c=this.S.af,0===k&&this.ej.sx(k,this.S.eg?c.Qg(1).ab:c.Qg(0).ab,c),h.uL=!1,this.ej.aTa(h,k),this.ej.wa.maa(c),this.ej.jQ());this.kXa.O_();a.ut||this.s0.RVa(k,d,l,h.M,n);this.J_.qh();}else g.warn("addFragments for stale manifestIndex:",k);};d.prototype.nTa=function(a,b,c,f,d){return this.fYa&&this.ej.ob.Sg&&(c=this.ej.ob.Sg.o8(c,f))&&this.Yma(a,b,c,!1,d)?!0:!1;};d.prototype.Yma=function(a,b,c,d,g){f.wm.dn(a.R);b=this.S.Yh(b);if(!b)return!1;b=b.Zp(a.R,c.Ua);if(d!==!!c.Ql)return!1;this.Xma(c);c.kZa(b);this.Cja(c);c.Ql&&this.ej.jQ();g&&this.s0.IVa(c.M,c.Ua);void 0!==a.vq&&a.Fq(a.vq);return!0;};d.prototype.PTa=function(a,b,c){var f;f=this.G;if(c)return f.gS?f.gS:f.dT;if(f.hEa&&b)return b.offset+b.size;a=this.ej.gb.Bb[a];return a.L7?a.L7+128:2292+12*Math.ceil(this.ej.Jm/2E3);};d.prototype.tUa=function(a){this.vqa(a.R,a.Ua);};d.prototype.pi=function(a,b){a={type:"streamingFailure",msg:a,manifestIndex:b};this.ka(a.type,a);};return d;}(a(84));d.jKa=a;p.Ti(g.EventEmitter,a);},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(24);h=a(6).kr;g=function(a){function c(b){var c;c=a.call(this)||this;c.NB=b;c.iP=b.groupId;c.Lf=new f.Pw();c.Lf.on(c,h.ud.nG,c.zP);c.Lf.on(c,h.ud.bx,c.dH);return c;}b.__extends(c,a);c.prototype.ikb=function(a,b,c){h.prototype.open.call(this,a,b,c);};c.prototype.eqb=function(a){this.iP=a;};Object.defineProperties(c.prototype,{groupId:{get:function(){return this.iP;},enumerable:!0,configurable:!0}});c.prototype.Vd=function(){this.Lf&&this.Lf.clear();h.prototype.Vd.call(this);};c.prototype.zP=function(a){this.NB.umb(a.probed,a.affected);this.Vd();};c.prototype.dH=function(a){this.NB.rmb(a.probed,a.affected);this.Vd();};return c;}(h);d.sFa=g;},function(g,d,a){var f,h,p;function b(a,b){this.$G=a;this.Bx=0===Math.floor(1E6*Math.random())%b.Fz;this.groupId=1;this.config=b;this.xs={};this.fw={};}f=a(7);h=a(6);new h.Console("ASEJS_PROBE_MANAGER","asejs");p=a(693).sFa;b.prototype.constructor=b;b.prototype.tmb=function(a,b){var c,d,g,k,p,l,t,m,r,N,T;c=this.$G;d=a.Xc;g=c.DCa(a.url);k=c.TT(a.url);p=this.config;l=h.time.ea();m=b;r=[];N=g.dk[0];T=!1;t=this.xs[d];if(!t)t=this.xs[d]={count:0,Df:l,ct:!1,error:b,Waa:[],B$:{}};else if(t.Df>=l-p.zW)return;t.ct||(N&&k.id===N.id&&(a.isPrimary=!0),t.Df=l,t.ct=!1,t.error=b,++t.count,g&&g.Yc&&0!==g.Yc.length&&(f.forEach(g.Yc,function(b){var c,f,g;c=b.Qb.id;f=c+"-"+d;g=this.fw[f];if(void 0===g||void 0===g.lV)g&&g.ml&&clearTimeout(g.ml),b=this.Mpa(b.url,a,c),this.fw[f]={X:!1,count:0,lV:b.ck()},r.push(b.ck()),T=!0;-1===t.Waa.indexOf(c)&&t.Waa.push(c);},this),this.Bx&&0<r.length&&(g={type:"logdata",target:"endplay",fields:{}},b=m,m={ts:h.time.ea(),es:b.pna,fc:b.oj,fn:b.Dra,nc:b.al,pb:r,gid:this.groupId},b.OJ&&(m.hc=b.OJ),g.fields.errpb={type:"array",value:m,adjust:["ts"]},c.qz(g)),T&&this.groupId++));};b.prototype.Mpa=function(a,b,f){var c,d,g;c=this.$G.TT(b.url);c&&c.La&&c.La.Do&&c.La.Do.Ha||Math.random(0,1);c=new p(this);d=a.split("?");g="random="+parseInt(1E7*Math.random(),10);c.ikb(1<d.length?a+"&"+g:a+"?"+g,b,f);return c;};b.prototype.umb=function(a,b){var c,f,d,g,k,p,l,t;c=this.$G;f=this.config;d=b.Xc;g=this.xs[d];p=a.url;l=this.fw[a.Xc+"-"+d];if(g&&(k=g.error,l)){l&&l.ml&&clearTimeout(l.ml);l.X=!0;l.count=0;l.lV=void 0;g.B$[a.Xc]=!0;(l=this.xs[a.Xc])&&!0===l.ct&&f.Ur&&(c.KAa(a.Xc,l.error.KM[1]),this.Bx&&(l={type:"logdata",target:"endplay",fields:{}},l.fields.errst={type:"array",value:{ts:h.time.ea(),id:a.requestId,servid:b.Xc,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.qz(l)),this.xs[a.Xc]=void 0);if(p!==b.url){t=this.fw[d+"-"+d];t&&t.X||(d=(d=c.TT(p))&&d.La&&d.La.Do&&d.La.Do.Ha||Math.random(0,1)*f.aU,d=Math.min(d,f.aU),setTimeout(function(){var f;if(!(!1!==g.ct||t&&t.X)&&(g.ct=!0,c.im(k.KM[0],k.KM[1],b.url,k),this.Bx)){f={type:"logdata",target:"endplay",fields:{}};f.fields.erep={type:"array",value:{ts:h.time.ea(),id:a.requestId,servid:b.Xc,gid:a.groupId?a.groupId:-1},adjust:["ts"]};c.qz(f);}}.bind(this),d));}this.Bx&&(l={type:"logdata",target:"endplay",fields:{}},l.fields.pbres={type:"array",value:{ts:h.time.ea(),id:a.requestId,result:1,servid:a.Xc,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.qz(l));}};b.prototype.rmb=function(a,b){var c,d,g,k,p,l,t,m,r,N;c=this.$G;d=parseInt(b.Xc,10);g=this.xs[d];k=parseInt(a.Xc,10);p=this.fw[k+"-"+d];l=0;r=this.config;if(p&&g){p.X=!1;p.lV=void 0;g.B$[k]=!1;m=g.Waa;if(r.Ur&&k===d&&b.isPrimary){N=c.TT(b.url);N=N&&N.La&&N.La.Do&&N.La.Do.Ha||300*Math.random(0,1);N=N*Math.pow(2,p.count);N=Math.min(N,12E4);N=N+Math.random(0,1)*(1E4>N?100:1E4);p.ml=setTimeout(function(){var c;p.ml=void 0;c=this.Mpa(a.url,b,k);c.eqb(a.groupId);p.lV=c.ck();}.bind(this),N);}++p.count;k===d&&(l=0,m.forEach(function(a){!1===g.B$[a]&&l++;}),m.length===l&&g.count>=r.gU&&(t=g.error,g.ct=!0,f.forEach(c.DCa(b.url).Yc,function(a){var b;c.im(t.KM[0],t.KM[1],a.url,t);if(this.Bx){b={type:"logdata",target:"endplay",fields:{}};b.fields.erep={type:"array",value:{ts:h.time.ea(),id:-1,servid:a.Qb.id},adjust:["ts"]};c.qz(b);}},this)));this.Bx&&(d={type:"logdata",target:"endplay",fields:{}},d.fields.pbres={type:"array",value:{ts:h.time.ea(),id:a.requestId,result:0,servid:a.Xc,gid:a.groupId?a.groupId:-1},adjust:["ts"]},c.qz(d));}};b.prototype.sca=function(a){var b,c,f;b=a.url||a.mediaRequest.url;if(b){a=this.$G;b=a.EBa(b);c=this.xs[b];f=this.fw[b+"-"+b];c&&c.ct&&this.config.Ur&&(a.KAa(c.error.pna,!1),this.Bx&&(c={type:"logdata",target:"endplay",fields:{}},c.fields.errst={type:"array",value:{ts:h.time.ea(),id:-1,servid:b},adjust:["ts"]},a.qz(c)),this.xs[b]=void 0,f&&f.ml&&clearTimeout(f.ml));}};b.prototype.reset=function(){var a,b,f;a=this.fw;for(f in a)a.hasOwnProperty(f)&&(b=a[f+"-"+f])&&b.ml&&clearTimeout(b.ml);this.fw={};this.xs={};};g.T=b;},function(g,d,a){var f,h,p,c,k,q,n,l,y,m,r,x,I,G,N,T;function b(a,b,c){var f,d;this.Jo=b;this.config=c;N[G.IY]=c.ydb?m:I;this.Jo.on("networkFailed",this.Lcb.bind(this));this.JD=p.time.ea();this.mR=0;f=this.sca.bind(this);d=this.Gjb.bind(this);a.on("underflow",this.Q9.bind(this));a.on("requestProgress",f);a.on("requestComplete",f);a.on("startBuffering",d);this.Qba={};this.NB=new n(b,c);this.Vdb();}d=a(39);f=a(24).EventEmitter;h=a(7);p=a(6);c=new p.Console("ASEJS_ERROR_DIRECTOR","asejs");k=a(11);q=p.sk;n=a(694);a=[k.uf.dr,!1];l=[k.uf.dr,!0];y=[k.uf.ix,!1];m=[k.uf.ix,!0];r=[k.uf.URL,!0];x=[];I=[k.uf.ix,!1];G=q.Ct;N={};N[G.zvb]=y;N[G.ZHa]=y;N[G.Xda]=y;N[G.kIa]=y;N[G.cIa]=m;N[G.vGa]=m;N[G.wda]=I;N[G.uX]=I;N[G.wGa]=x;N[G.xGa]=I;N[G.yGa]=I;N[G.sGa]=y;N[G.uGa]=y;N[G.vda]=a;N[G.tGa]=y;N[G.rGa]=I;N[G.Lwb]=m;N[G.fKa]=I;N[G.Uea]=I;N[G.Tea]=I;N[G.IY]=I;N[G.Rea]=I;N[G.eKa]=r;N[G.KY]=m;N[G.QN]=r;N[G.LY]=l;N[G.MY]=m;N[G.hKa]=r;N[G.RN]=I;N[G.Vea]=m;N[G.gKa]=m;N[G.fIa]=m;N[G.$Ha]=y;N[G.FQa]=y;N[G.QHa]=y;N[G.RHa]=y;N[G.SHa]=y;N[G.THa]=y;N[G.UHa]=y;N[G.VHa]=y;N[G.WHa]=y;N[G.XHa]=y;N[G.YHa]=y;N[G.aIa]=y;N[G.bIa]=y;N[G.dIa]=y;N[G.eIa]=y;N[G.gIa]=y;N[G.hIa]=y;N[G.iIa]=y;N[G.jIa]=y;N[G.lIa]=y;N[G.mIa]=y;N[G.EQa]=I;N[G.TIMEOUT]=a;T={};T[G.wda]=!0;T[G.Uea]=!0;T[G.Tea]=!0;T[G.Rea]=!0;T[G.Xda]=!0;d(f,b.prototype);b.prototype.tqb=function(a){this.Xn=a;};b.prototype.im=function(a,b,f,d){var g,n,p,l,u,t,m;g=q.Ct.name[b];n=N[b];t=this.config;m=this.Jo;c.warn("Failure "+g+" on "+JSON.stringify(d)+" : critical error count = "+this.mR);this.KT={OJ:a,oj:b,Dra:g,al:f};T[b]&&++this.mR;if(!h.isArray(n))c.error("Unmapped failure code in JSASE error director : "+b);else if(n!==x){if(d.url)u={},u[m.EBa(d.url)]=[d.url];else if(d.host)u=m.Tpb(d.host,d.port);else{c.error("Invalid affected for network failure");return;}p=n[0];l=n[1];t.Uo?h.forEach(u,function(c,h){n===I||n===y?this.NB.tmb({url:d.url?d.url:c[0],Xc:h},{pna:h,KM:n,OJ:a,oj:b,Dra:g,al:f}):c.some(function(a){m.im(p,l,a);return p===k.uf.ix;});!t.ro||0!==a&&void 0!==a||(c=void 0!==d.url?d.url:c[0],this.Xn&&c&&this.Xn.Maa("error",c));},this):h.forEach(u,function(b,c){if(n!==I||this.hob(c))b.some(function(a){m.im(p,l,a);return p===k.uf.ix;}),!t.ro||0!==a&&void 0!==a||(b=void 0!==d.url?d.url:b[0],this.Xn&&b&&this.Xn.Maa("error",b));},this);}};b.prototype.hob=function(a){var b,c,f;b=p.time.ea();f=this.config;if(c=this.Qba[a])if(c.Df<this.JD)c.Df=b,c.count=1;else{if(!(c.Df>=b-f.zW||c.ct||(c.Df=b,++c.count,c.count<f.gU)))return c.ct=!0;}else this.Qba[a]={Df:b,count:1};};b.prototype.Lcb=function(a){var b,f,d,g,k,h;b=p.time.ea()-this.JD;f=a;h=this.config;c.warn("Network has failed "+(a?"permanently":"temporarily")+" last success was "+b+" ms ago");!a&&b>h.t9&&(f=!0);f?(this.DE&&(clearTimeout(this.DE),this.DE=void 0),this.Xoa(),this.NB.reset(),this.KT&&(d=this.KT.oj,g=this.KT.OJ,k=this.KT.al),this.emit("streamingFailure",{Eeb:a,kkb:d,lkb:g,mkb:k})):this.DE||(this.DE=setTimeout(function(){this.DE=void 0;this.GL();}.bind(this),h.u9));};b.prototype.GL=function(a){this.DE||(this.Jo.GL(!!a),this.Qba={},this.emit("networkFailureReset"));};b.prototype.sca=function(a){var b;b=this.config;this.JD=Math.max(a.timestamp||p.time.ea(),this.JD);this.Xoa();b.Uo&&this.NB.sca(a);};b.prototype.Gjb=function(){this.mR=0;};b.prototype.Q9=function(a){var b,f;b=this.config;f=b.J8;this.JD=Math.max(a||p.time.ea(),this.JD);b.uub&&!this.LM&&(c.info("Setting underflow timeout in "+f+"ms"),this.LM=setTimeout(function(){c.info("Forcing permanent network failure after "+f+"ms, since underflow with no success");this.LM=void 0;this.Jo.im(k.uf.dr,!0);}.bind(this),f));};b.prototype.Xoa=function(){this.LM&&(clearTimeout(this.LM),this.LM=void 0,c.info("Cleared underflow timeout"));};b.prototype.Vdb=function(){var b,f,d,g;function a(a){for(var b=a.length,c,f;b;)f=Math.floor(Math.random()*b--),c=a[b],a[b]=a[f],a[f]=c;return a;}b=this.Jo;f=this;d=this.config.D3;g={};switch(d){case"1":b.on("manifestAdded",function(){var c;c=[];g.n=g.n||0;b.csa(function(a,b,f,d){g[d.id]||(g[d.id]=!0,c.push(d.id));});a(c).forEach(function(a){setTimeout(function(){f.im(q.Ct.MY,{url:a});},4E3+g.n);g.n+=1E3;});});break;case"2":b.on("manifestAdded",function(){var a;a=[];b.csa(function(b,c,f,d){g[d.id]||(g[d.id]=!0,a.push({O:f.O,url:d.id}));});a.sort(function(a,b){return b.O-a.O;}).map(function(a){return a.url;}).forEach(function(a){setTimeout(function(){b.vy()||f.im(q.Ct.QN,{url:a});},5E3*Math.random());});});break;default:return;}c.warn('Initialized network failure simulation "'+d+'"');};g.T.xJa=b;},function(g,d,a){var b,f,h,p,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(39);f=a(7);h=a(366);p=a(363);c=a(11);k=a(353);g=function(){function a(b,c){var f,d,g;f=this;this.kC=[];this.vK=[];this.Wn=1;this.y5a=function(){f.Wn--;0>=f.Wn&&f.QTa();};d=b.Aa;this.id=d.movieId;this.Aa=d;this.QTa=c;b=a.Z9(b);c=b.z6;d=b.cz;g=b.M1;this.zba=b.zba;this.cz=d;this.z6=c;this.M1=g;}a.Z9=function(a){var d,g,n,q,l,t,m,r,T,S,V,D;d=a.ga;g=a.Aa;n=a.skb;q=a.Qkb;l=a.Vh;t=a.IQ;m=a.config;r=a.N;T=[];S=[];V=[];D=!1;["audio_tracks","video_tracks"].forEach(function(a,u){var y,x,A;y=u===c.I.VIDEO;x=0;if(!(u===c.I.AUDIO&&!n||y&&!q)){A={};g[a].forEach(function(a){var c,n;c=p.eda.sJ(d,g,a,u,r);V.push(c);a=a.streams;n={};m.tW.enabled&&m.tW.profiles&&m.tW.profiles.forEach(function(a){n[a]={action:m.tW.action,applied:!1};});a.forEach(function(a,d){var g,p,q,u,K,I;p=a.downloadable_id;q=a.bitrate;u=a.vmaf;K=a.content_profile;I={inRange:!0,df:!0};if(y){g=-1===a.content_profile.indexOf("none");I.df=l&&!g||!l&&g;I.df&&t&&b(k.Ena(a.content_profile,a.bitrate,t),I);if(q<m.rxa||q>m.Gwa)I.inRange=!1;!f.Ra(u)&&(u<m.sxa||u>m.Hwa)&&(I.inRange=!1);n.hasOwnProperty(K)&&"keepLowest"===n[K].action&&(n[K].applied?I.inRange=!1:n[K].applied=!0);D=D||g;}I.inRange&&I.df&&q>x&&(x=q);A[p]=h.dda.nsa(c,a,d,I,m,r);});});T[u]=A;S[u]=x;}});return{z6:D,zba:T,cz:S,M1:V};};a.prototype.Go=function(){return void 0!==this.Aa.choiceMap;};a.prototype.TS=function(a){var b;this.M1.some(function(c){return c.fb===a?(b=c,!0):!1;});return b;};a.prototype.Zp=function(a,b){return(a=this.yo(a))&&a[b];};a.prototype.yo=function(a){return this.zba[a];};return a;}();d.tFa=g;},function(g,d,a){var b,f,h,p,c,k,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(24);f=a(151);h=a(696);p=a(11);c=a(695);k=a(26);q=a(13);g=function(){function a(a,b,c,f,d,g,k,h,n){void 0===b&&(b=!1);void 0===d&&(d=0);this.ln=0;this.Lb=[];this.ti=a;this.replace=b;this.tj=c;this.O0=f;this.V=d;this.da=g;this.a8=k;this.Jo=h;this.aJ=n;}a.sJ=function(b,c,f){var d,g,k,n;d=f.tBa;g=b.jn(0);k=b.jn(1);n=new h.tFa({ga:f.ga,Aa:c,skb:g,Qkb:k,Vh:f.Vh,IQ:f.IQ,config:b.G,N:b.N},function(){});g=a.Zja(n,c,d,!k,!g);n.z6&&g[1]&&g[1].Gc&&g[1].Gc.forEach(function(a){a.Wk||(a.Vh=!0);});return a.bka(b,c,n,g,d,f);};a.p6=function(a,b){return b.map(function(b,c){return(c=a[0===c?"audio_tracks":"video_tracks"])&&b<c.length?c[b].track_id:void 0;});};a.Coa=function(a,b){var c;c=b[a];0===a||c.replace?c.ln=0:(a=b[a-1],c.ln=a.ln+a.ita()-c.V);};a.bka=function(f,d,g,h,n,p){var q,l,u,t,m,y,x,A;q=p.V;l=p.da;u=p.i3;t=p.y6;m=p.gba;p=p.wAa;y=f.G;p?(x=p.a8,u=p.Jo,A=p.aJ,u.AH(d)):(x=new b.Pw(),u=u(d),x.on(u,"logdata",function(a){k.ka(f,a.type,a);}),A=new c.xJa(f,u,y),x.on(A,"streamingFailure",function(b){a.wUa(b,f,A);},f),x.on(A,"networkFailureReset",t,f));y.ro&&m&&A.tqb(m);return new a(g,!!p,h,n,q,l,x,u,A);};a.Zja=function(a,b,c,f,d){var g,k;g=[];d||g.push(0);f||g.push(1);k=[];g.forEach(function(f){var d,g,h,n,p;d=a.yo(f);if(d){g=b[0===f?"audio_tracks":"video_tracks"];h=c[f];q.assert(void 0!==h,"Expected selected track id, but got "+h);n=a.TS(h);g.some(function(a){return a.track_id===h?(p=a,!0):!1;});q.assert(n&&p,"Expected a valid selectedTrackId for mediaType: "+f+". "+("TrackId "+h+" not found in ")+("manifestTracks: "+JSON.stringify(g.map(function(a){return a.track_id;}))));g=p.streams.map(function(a){return d[a.downloadable_id];});k[f]={Gc:g,sBa:n,ypb:p,get yba(){return a.yo(f);}};}});return k;};a.dXa=function(a,b,c,f){var d,g;d=b;g=Math.abs(a.Ii-b.Ii);g<=c.bU?d=a.Ii>b.Ii?a:b:g>c.bU&&(d=a.Ii<b.Ii?a:b,f("maxPts between streams is largely different. Choosing lower maxPts:",d));return d;};a.wUa=function(a,b,c){var f,d,g;f=a.Eeb;d=a.kkb;g=a.lkb;a=a.mkb;b.ma("Streaming failure, state is "+p.Ia.name[b.Ve.value]+" is permanent: "+f+", last error code: "+d+", last http code: "+g+", last native code: "+a);f?(b.ma(" > Permanent failure, done"),b.pi("Permanent failure",void 0,"NFErr_MC_StreamingFailure",d,g,a)):b.am(b.Ve.value)?(b.ma(" > We are buffering, calling it!"),b.pi("Temporary failure while buffering",void 0,"NFErr_MC_StreamingFailure",a,g,a)):(b.ma(" > Resetting failures"),c.GL());};Object.defineProperties(a.prototype,{M:{get:function(){return this.ti.id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Aa:{get:function(){return this.ti.Aa;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{kC:{get:function(){return this.ti.kC;},set:function(a){this.ti.kC=a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{vK:{get:function(){return this.ti.vK;},set:function(a){this.ti.vK=a;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{cz:{get:function(){return this.ti.cz.map(function(a){return a;});},enumerable:!0,configurable:!0}});a.prototype.Zp=function(a,b){return this.ti.Zp(a,b);};a.prototype.yo=function(a){return this.ti.yo(a);};a.prototype.TS=function(a){return this.ti.TS(a);};a.prototype.Rsa=function(a){return this.tj[a].sBa.fb;};a.prototype.GS=function(a){return this.FJ(a,this.Rsa(a));};a.prototype.Z9a=function(a,b){return this.FJ(a,b)+(0===a?this.Aa.video_tracks.length:0);};a.prototype.FJ=function(a,b){var c;c=-1;(a=this.Aa[0===a?"audio_tracks":"video_tracks"])&&a.some(function(a,f){if(a.track_id===b)return c=f,!0;});return c;};a.prototype.Vd=function(){this.ti.y5a();delete this.ti;};a.prototype.Go=function(){return this.ti.Go();};a.prototype.Vtb=function(a,b){this.Lb[a]=b;b.ca&&this.bua(a,b.ca);};a.prototype.bua=function(a,b){this.ti.kC[a]=b.Zr;this.ti.vK[a]=b.M8;};a.prototype.clone=function(b){return a.bka(b,this.Aa,this.ti,this.tj,this.O0,{V:this.V,da:this.da,i3:function(a){return b.UO(a);},y6:b.U_,gba:b.Xn,wAa:this.replace?b.Na[b.Na.length-1]:void 0});};a.prototype.pca=function(b){this.O0[0]=b;b=a.Zja(this.ti,this.Aa,this.O0,!0);this.tj[0]=b[0];};a.prototype.ita=function(){return this.Zk?this.Zk.Ii:this.da?this.da:this.Aa.duration;};a.prototype.C0a=function(a,b,c){var f,d,g;f=this.Lb[a];if(f&&f.stream.Tc){if(this.wo&&this.wo[a]&&this.wo[a].V<=b&&this.wo[a].da>b)return this.wo[a].tc;a=f.ca;d=a.Bi(b,void 0,!0);g=void 0;c&&(b=f.stream.pg(d).kS(b))&&(g=b.Cd);void 0===g&&(g=a.dg(d));return g;}};a.prototype.QQ=function(b,c,d,g,k,h,n,p,q,l,t){var u,m,y;if(!this.uL){u=this.Lb[0]&&this.Lb[0].stream.Tc;m=this.Lb[1]&&this.Lb[1].stream.Tc;if(!(g&&!u||k&&!m)){this.tca(b,d,g,k,h,p,q,t);u=[0,0];0===b||this.zK||this.replace||(y=f.HH(this.M,c[b-1].M),y=n(b,this.V,h.af,h.af,y),u=y.Hz);this.V=u[1];this.Hz=u;this.wo=y&&y.wo;a.Coa(b,c);q.MVa(b,this.ln,this.V,this.Zk.Ii,k?this.Lb[1].Zk.Ii:this.Lb[0].Zk.Ii);this.uL=!0;for(b+=1;b<c.length;++b)y=c[b],y.uL=!1,y.QQ(b,c,d,g,k,h,n,p,q,l,t);}}};a.prototype.tca=function(b,c,f,d,g,k,h,n){var p,q,l,t,u;p=this;q=this.Lb[0];l=this.Lb[1];if((!f||q&&q.stream.Tc)&&(!d||l&&l.stream.Tc)){t=this.da||Infinity;u=k(g.af.Va,this.Lb,t);f=u.map(function(a){return{Ii:a.da,ofb:a.V,lastIndex:a.index};});this.Zk=c=d?!c.vn||c.$m?f[1]:a.dXa(f[0],f[1],c,n):f[0];h.PVa(b,d?this.Lb[1].Zk.Ii:this.Lb[0].Zk.Ii,c.Ii);b=g.N4(b);0<b.length&&b.forEach(function(a){var b;b=a.ya.da;b&&b<t&&(u=k(a.Va,p.Lb,b));b=a.Va[1];a=a.Va[0];b&&b.ZV(u[1]);a&&a.ZV(u[0]);});}};return a;}();d.PA=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a,f,d,g,c,k,h,n,l,m){this.id=a;this.ga=f;this.V=d;this.BI=c;this.nj=k;this.dF=h;this.co=n;this.ktb=l;this.jza=m;this.da=g||Infinity;this.co="number"===typeof n?n:this.da;}a.prototype.toString=function(){return"segmentId: "+this.id+"playlistSegmentId: "+this.jza+" manifestIndex: "+this.ga+" pts: "+this.V+"-"+this.da+" defaultKey: "+this.BI+" dests: "+JSON.stringify(this.nj)+" terminal: "+!!this.dF;};a.prototype.toJSON=function(){return{id:this.id,manifestIndex:this.ga,"startPts:":this.V,endPts:this.da,defaultKey:this.BI,"dests:":this.nj,terminal:!!this.dF,beginJITPts:this.co,playlistSegmentId:this.jza};};return a;}();d.VQa=g;},function(g,d,a){var b,f,h,p,c,k,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(13);a(6);h=a(59);p=a(26);c=a(209);k=a(94);q=a(202);g=function(a){function d(b,c,f,g,h,n){c=a.call(this,b,g,h,n)||this;c.$O=f;c.yk=void 0;c.P_=d.GA.INIT;c.ODb=g.offset;c.$_=k.pk.prototype.toString.call(c)+" multiple";c.SB(b.url,g.offset,8,0);return c;}b.__extends(d,a);Object.defineProperties(d.prototype,{data:{get:function(){return this.yk;},enumerable:!0,configurable:!0}});d.prototype.$h=function(a){var b,g;this.yk=this.yk?p.io(this.yk,a.response):a.response;a.AL();switch(this.P_){case d.GA.INIT:b=new DataView(this.yk);g=b.getUint32(0);b=b.getUint32(4);h.QO(b);this.SB(a.url,a.offset+a.ba,g,0);c.xA.prototype.$h.call(this,a);this.P_=d.GA.gga;break;case d.GA.gga:b=new DataView(this.yk);g=b.getUint32(this.Nja-8);b=b.getUint32(this.Nja-4);h.QO(b);this.SB(a.url,a.offset+a.ba,g-8,0);this.P_=d.GA.ega;c.xA.prototype.$h.call(this,a);break;case d.GA.ega:c.xA.prototype.$h.call(this,a);break;default:f.assert(!1);}};d.prototype.SB=function(a,b,c,f){a=new q.hN(this.stream,this.$O,this.$_+" ("+this.xa.length+")",{M:this.M,R:this.R,Ua:this.Ua,O:this.O,offset:b,ba:c,url:a,location:this.location,Xc:this.Xc,responseType:f},this,this.N);this.push(a);this.Nja=this.xa.reduce(function(a,b){return a+b.ba;},0);};d.GA={INIT:0,gga:1,ega:2,name:["INIT","MOOF","MDAT"]};return d;}(c.xA);d.rFa=g;},function(g,d,a){var b,f,h,p,c,k,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(13);f=a(7);g=a(45);h=a(6);p=a(94);c=a(207);k=a(156);q=h.sk;a=function(a){function c(b,c,f,d,g,k,h){c=this;c=["cache","edit"].filter(function(a,b){return[k,d.Xa][b];});c=c.length?"("+c.join(",")+")":"";void 0===d.responseType&&(d.responseType=q.Pc&&!q.Pc.EE.jx?0:1);c=a.call(this,b,f,c,d,g,h)||this;p.pk.call(c,b,d);c.OUa=d.vfb;c.Lf.on(c,q.ud.NAb,c.eWa);c.Lf.on(c,q.ud.MAb,c.dWa);return c;}b.__extends(c,a);c.prototype.gc=function(a,b){k.Dw.prototype.gc.call(this,a,b);this.Nb||!a.G.wQ&&this.Tb||(this.Nb=a.ob.Nd);};c.prototype.Xv=function(){var a;a={start:this.offset,end:this.offset+this.ba-1};void 0!==this.Mc&&0<=this.Mc&&void 0!==this.Wd&&(this.AO=this.sla(this.AO,!0),a={start:0,end:-1});return q.prototype.open.call(this,this.AO,a,this.zO,{},void 0,void 0,this.xja);};c.prototype.NW=function(a,b){var c,f;if(this.complete)return 0;c=this.kma;f=a[c];if(!f)return this.N.warn("updateUrl, missing stream for streamId:",c,"mediaRequest:",this,"streamMap:",a),1;if(!f.url)return this.N.warn("updateurl, missing url for streamId:",c,"mediaRequest:",this,"stream:",f),2;a=this.sla(f.url,!1);return this.url===a||(b(this,f.location,f.Qb),this.sM(a))?0:(this.N.warn("swapUrl failed: ",this.fD),3);};c.prototype.AP=function(){this.Jc||(this.Jc=!0,this.bm=this.track.bm(),this.yy(this),this.Mi=0,this.Aj=this.jc);};c.prototype.Gla=function(){var a;a=this.jc;this.wl=h.time.ea()-this.jc;this.xy(this);this.Aj=a;};c.prototype.Ila=function(){var a;a=this.jc;this.wl=h.time.ea()-this.jc;this.jD(this);this.Aj=a;this.Mi=this.Gd;};c.prototype.eWa=function(){var a;a=this.nfb;this.Kg=!0;this.Nb&&(this.Nb.CV(a,this.iu()),this.Nb.gaa());};c.prototype.dWa=function(){this.Nb&&(this.Nb.uQ(this.nIb,this.nfb,this.mfb),this.Nb.EV(this.mfb,this.Kg,this.iu()));this.Kg=!1;};c.prototype.zP=function(){var a;a=this.jc;this.wl=h.time.ea()-this.jc;this.Nb&&this.Kg&&this.Nb.EV(h.time.ea(),this.Kg,this.iu());this.Kg=this.Jc=!1;this.fv(this);this.Aj=a;this.Mi=this.Gd;this.Vd();};c.prototype.gTa=function(a,b,c,f){return void 0===a||void 0===b||void 0===c?0:b<c?0:a<c?f:a-c;};c.prototype.sla=function(a,b){var c,d;if(f.P(this.Mc)||0>this.Mc||f.P(this.Wd))return a;c=[];d=this.gTa(this.Mc,this.Wd-1,this.OUa,this.Sa.G.sib);c.push("ptsRange/"+this.Mc+"-"+(this.Wd-1));0<d&&b&&c.push("timeDelay/"+d);a=a.split("?");b=a[0];for(var d="",g=0;g<c.length;g++)d+="/"+c[g];return a[1]?b+(d+"?"+a[1]):b+d;};return c;}(c.BF);d.oFa=a;g.Ti(p.pk,a,!1);},function(g,d,a){var b,f,h,p,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(13);g=a(55);h=a(45);p=a(208);a=a(154);c=function(){function a(b,c){this.ta=[];this.Hg=void 0;this.Rb=0;this.N=b;c&&c.length&&(Array.isArray(c)?(this.ta=c.slice(),this.IG(0,this.ta.length)):c instanceof a&&(this.ta=c.ta.slice(),this.IG(0,this.ta.length)));}a.prototype.get=function(a){0>a&&(a+=this.ta.length);return this.ta[a];};a.prototype.push=function(a){this.ta.push(a);this.IG(this.ta.length-1);return this.length;};a.prototype.unshift=function(a){this.ta.unshift(a);this.IG(0,1);return this.length;};a.prototype.pop=function(){if(0!==this.ta.length)return this.J0(this.ta.length-1),this.ta.pop();};a.prototype.shift=function(){if(0!==this.ta.length)return this.J0(0),this.ta.shift();};a.prototype.splice=function(a,b){for(var c,f=[],d=2;d<arguments.length;d++)f[d-2]=arguments[d];0>a&&(a+=this.ta.length);0>a&&(a=0);a>this.ta.length&&(a=this.ta.length);if(void 0===b||0>b)b=0;b=Math.min(b,this.ta.length-a);0<b&&this.J0(a,a+b);d=(c=this.ta).splice.apply(c,[a,b].concat(f));0<f.length&&this.IG(a,a+arguments.length-2);return d;};a.prototype.slice=function(b,c){void 0===b&&(b=0);void 0===c&&(c=this.ta.length);0>b&&(b+=this.ta.length);if(b>=this.ta.length)return new a(this.N);c>this.ta.length&&(c=this.ta.length);0>c&&(c+=this.ta.length);return new a(this.N,this.ta.slice(b,c));};a.prototype.$l=function(a){if(0===this.ta.length||a.eb>=this.nb)this.push(a);else if(a.nb<=this.eb)this.unshift(a);else{for(var b=0,c=this.ta.length-1,d;b<c-1;)d=Math.floor((c+b)/2),f.assert(d!==c&&d!==b),a.eb>=this.ta[d].nb?b=d:c=d;f.assert(b!==c);f.assert(this.ta[b].nb<=a.eb&&this.ta[c].eb>=a.nb);this.splice(c,0,a);}};a.prototype.remove=function(a){a=this.ta.indexOf(a);if(0>a)return!1;this.splice(a,1);return!0;};a.prototype.concat=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=b.map(function(a){return a.ta;});return new a(this.N,Array.prototype.concat.apply(this.ta,b));};a.prototype.forEach=function(a){var b;b=this;this.ta.forEach(function(c,f){return a(c,f,b);});};a.prototype.some=function(a){var b;b=this;return this.ta.some(function(c,f){return a(c,f,b);});};a.prototype.every=function(a){var b;b=this;return this.ta.every(function(c,f){return a(c,f,b);});};a.prototype.map=function(a){var b;b=this;return this.ta.map(function(c,f){return a(c,f,b);});};a.prototype.reduce=function(a,b){var c;c=this;return this.ta.reduce(function(b,f,d){return a(b,f,d,c);},b);};a.prototype.indexOf=function(a){return this.ta.indexOf(a);};a.prototype.find=function(a){var b,c;b=this;return this.ta.some(function(f,d){c=d;return a(f,d,b);})?this.ta[c]:void 0;};a.prototype.findIndex=function(a){var b,c;b=this;return this.ta.some(function(f,d){c=d;return a(f,d,b);})?c:-1;};a.prototype.filter=function(b){var c;c=this;return new a(this.N,this.ta.filter(function(a,f){return b(a,f,c);}));};a.prototype.qS=function(a){for(var b=this.ta.length-1;0<=b;--b)a(this.ta[b],b,this);};a.prototype.rba=function(a){for(var b=this.ta.length-1;0<=b;--b)if(a(this.ta[b],b,this))return!0;return!1;};a.prototype.jS=function(a){if(this.empty||a<this.Mc||a>=this.Wd)return-1;for(var b=0,c=this.ta.length-1,f;c>b;){f=Math.floor((c+b)/2);if(a>=this.ta[f].Mc&&a<this.ta[f].Wd){c=f;break;}a<this.ta[f].Wd?c=f-1:b=f+1;}return c;};a.prototype.hD=function(a){if(this.empty||a<this.tc||a>=this.Pd)return-1;for(var b=0,c=this.ta.length-1,f;c>b;){f=Math.floor((c+b)/2);if(a>=this.ta[f].tc&&a<this.ta[f].Pd){c=f;break;}a<this.ta[f].Pd?c=f-1:b=f+1;}return c;};a.prototype.Nra=function(a){a=this.jS(a);return 0<=a?this.ta[a]:void 0;};a.prototype.Ora=function(a){a=this.hD(a);return 0<=a?this.ta[a]:void 0;};a.prototype.lQ=function(a){var b;b=this.ta[a].nb;for(a+=1;a<this.ta.length&&b===this.ta[a].eb;++a)b=this.ta[a].nb;a<this.ta.length?void 0===this.Hg?this.Hg=new p.CF(this,{nb:b}):this.Hg.Xaa(b):void 0===this.Hg?this.Hg=new p.CF(this,{}):this.Hg.G2();};a.prototype.jB=function(a,b){for(var c=a;c<b;++c)this.Rb+=this.ta[c].ba;void 0===this.Hg||0===a?this.lQ(0):this.Hg.nb===this.nb?this.lQ(a-1):this.ta[a].eb===this.Hg.nb&&this.lQ(a);};a.prototype.Gr=function(a,b){var c;if(0===a)this.Hg=void 0,b<this.length&&this.lQ(b);else{c=this.Hg;c.nb>this.ta[a-1].nb&&(b<this.length?c.Xaa(this.ta[a-1].nb):c.G2());}for(;a<b;++a)this.Rb-=this.ta[a].ba;};a.prototype.IG=function(a,b){void 0===b&&(b=a+1);this.jB(a,b);};a.prototype.J0=function(a,b){void 0===b&&(b=a+1);this.Gr(a,b);};return a;}();d.iX=c;(function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);return c;}(c));g.Yj(c.prototype,g.nZa({length:{get:function(){return this.ta.length;}},first:{get:function(){return this.ta[0];}},Df:{get:function(){return this.ta[this.ta.length-1];}},empty:{get:function(){return 0===this.ta.length;}},eb:{get:function(){return this.first&&this.first.eb;}},nb:{get:function(){return this.Df&&this.Df.nb;}},Qp:{get:function(){return this.Hg;}},ba:{get:function(){return this.Rb;}},ha:{get:function(){return this.first&&this.first.ha;}},Yo:{get:function(){return this.first&&this.first.Yo;}},ca:{get:function(){return this.ta;}},kFb:{get:function(){return this.Qp&&this.Qp.nb;}},mFb:{get:function(){return this.Qp&&this.Qp.rE;}},jFb:{get:function(){return this.Qp&&this.Qp.Wd;}},lFb:{get:function(){return this.Qp&&this.Qp.Pd;}}}));h.Ti(a.iN,c);},function(g,d,a){var f;function b(){f.assert(!1);}Object.defineProperty(d,"__esModule",{value:!0});f=a(13);g=a(55);a=function(){function a(a,b){this.Zb=a;this.tB=b;this.Br();}a.prototype.P9a=function(){return this.AB&&this.AB.get(0);};a.prototype.w_a=function(){return this.oB&&this.oB.get(this.oB.length-1);};a.prototype.get=function(a){0>a&&(a+=this.length);for(var b=0;b<this.Zb.length;++b)if(this.Mf[b+1]>a)return this.Zb[b].get(a-this.Mf[b]);};a.prototype.push=function(a){this.Zb[this.tB(a)].push(a);this.Br();return this.mu;};a.prototype.shift=function(){var a;if(this.AB){a=this.AB.shift();this.Br();return a;}};a.prototype.pop=function(){var a;if(this.oB){a=this.oB.pop();this.Br();return a;}};a.prototype.unshift=function(a){this.Zb[this.tB(a)].unshift(a);this.Br();return this.mu;};a.prototype.$l=function(a){var b;b=this.tB(a);this.Zb[b].$l(a);this.Br();};a.prototype.remove=function(a){var b;b=this.Zb.some(function(b){return b.remove(a);});b&&this.Br();return b;};a.prototype.splice=function(a,b){var l,t,m,r;for(var c,f=[],d=2;d<arguments.length;d++)f[d-2]=arguments[d];for(var d=[],g,h=a+Math.max(0,b),p=0;p<this.Zb.length;++p){l=this.Zb[p];t=this.Mf[p];m=this.Mf[p+1];if(a<m){r=a-t;t=Math.min(h-t,l.length);void 0===g&&0<r&&t<l.length?Array.prototype.push.apply(d,l.splice.apply(l,[r,t-r].concat(f))):(Array.prototype.push.apply(d,l.splice(r,t-r)),void 0===g&&(g=0<p&&0===r?p-1:p));a=m;if(a>=h)break;}}if(f.length&&void 0!==g){for(h=this.tB(f[0]);0<g&&h<g&&this.Zb[g].empty;)--g;for(;f.length&&h===g;){this.Zb[g].push(f.shift());if(!f.length)break;h=this.tB(f[0]);}for(;f.length&&++g<this.Zb.length&&this.Zb[g].empty;)for(;f.length&&h===g;){this.Zb[g].push(f.shift());if(!f.length)break;h=this.tB(f[0]);}f.length&&(c=this.Zb[g]).splice.apply(c,[0,0].concat(f));}this.Br();return d;};a.prototype.find=function(a){var b,f;b=this;return this.Zb.some(function(c,d){f=c.find(b.xu(a,d));return void 0!==f;})?f:void 0;};a.prototype.findIndex=function(a){var f;for(var b=0;b<this.Zb.length;++b){f=this.Zb[b].findIndex(this.xu(a,b));if(-1!==f)return f+this.Mf[b];}return-1;};a.prototype.indexOf=function(a){var f;for(var b=0;b<this.Zb.length;++b){f=this.Zb[b].indexOf(a);if(-1!==f)return f+this.Mf[b];}return-1;};a.prototype.map=function(a){var b,f;b=this;f=this.Zb.map(function(c,f){return c.map(b.xu(a,f));});return Array.prototype.concat.apply([],f);};a.prototype.reduce=function(a,b){var c;c=this;return this.Zb.reduce(function(b,f,d){return f.reduce(c.nYa(a,d),b);},b);};a.prototype.forEach=function(a){var b;b=this;this.Zb.forEach(function(c,f){c.forEach(b.xu(a,f));});};a.prototype.qS=function(a){for(var b=this.Zb.length-1;0<=b;--b)this.Zb[b].qS(this.xu(a,b));};a.prototype.some=function(a){var b;b=this;return this.Zb.some(function(c,f){return c.some(b.xu(a,f));});};a.prototype.rba=function(a){for(var b=this.Zb.length-1;0<=b;--b)if(this.Zb[b].rba(this.xu(a,b)))return!0;return!1;};a.prototype.every=function(a){var b;b=this;return this.Zb.every(function(c,f){return c.every(b.xu(a,f));});};a.prototype.x9a=function(a,b){var h,p;function c(b){return b.reduce(function(b,c,f,d){return void 0===c?b:void 0===b?f:0>a(c,d[b])?f:b;},void 0);}for(var f=this,d=this.Zb.map(function(){return 0;}),g=this.Zb.filter(function(a){return a.empty;}).length;g<this.Zb.length;){h=d.map(function(a,b){return a<f.Zb[b].length?f.Zb[b].get(a):void 0;});p=c(h);b(h[p],this.Mf[p]+d[p],this);++d[p];d[p]===this.Zb[p].length&&++g;}};a.prototype.move=function(a){return this.remove(a)?(this.$l(a),!0):!1;};a.prototype.Hqb=function(){var a;if(this.Zb[1].length){a=this.Zb[1].shift();this.Zb[0].push(a);this.Br();}};a.prototype.Pra=function(a){for(var b=-1,f=0;f<this.Zb.length;++f)if(b=a(this.Zb[f]),-1!==b){b+=this.Mf[f];break;}return b;};a.prototype.toJSON=function(){return this.map(function(a){return a.toJSON();});};a.prototype.Br=function(){var b;this.mu=0;this.Mf=[0];this.oB=this.AB=void 0;for(var a=0;a<this.Zb.length;++a){b=this.Zb[a];this.mu+=b.length;this.Mf.push(this.Mf[this.Mf.length-1]+b.length);!this.AB&&b.length&&(this.AB=b);b.length&&(this.oB=b);}};a.prototype.xu=function(a,b){var c,f;c=this;f=this.Mf[b];return function(b,d){return a(b,f+d,c);};};a.prototype.nYa=function(a,b){var c,f;c=this;f=this.Mf[b];return function(b,d,g){return a(b,d,f+g,c);};};return a;}();d.cHa=a;g.Yj(a.prototype,{length:{get:function(){return this.mu;},set:b},empty:{get:function(){return 0===this.mu;},set:b}});},function(g,d,a){var b,f,h,p,c,k,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);a(13);f=a(702);g=a(55);h=a(701);p=a(154);c=a(84);k=a(45);q=a(208);a=function(a){function f(b,f){var d,g;d=this;g=[new h.iX(b),new h.iX(b),new h.iX(b)];d=a.call(this,g,function(a){return a.complete?d.empty||a.eb<=d.T2?0:1:a.active?1:2;})||this;d.Eb=g[0];d.Jc=g[1];d.Zn=g[2];d.zl=0;d.BO=0;d.N=b;c.call(d,f);return d;}b.__extends(f,a);f.prototype.jB=function(a){var b;a.El?++this.BO:this.zl+=a.Gd;if(this.empty)this.Hg=new q.CF(this,{});else if(a.eb!==this.nb&&a.eb===this.Hg.nb){b=a.nb;this.x9a(function(a,b){return a.eb-b.eb;},function(a){b=a.eb===b?a.nb:b;});b===this.nb&&this.Hg.G2();}a.rqb(this);};f.prototype.Gr=function(a){a.El?--this.BO:this.zl-=a.Gd;this.empty?this.Hg=void 0:a.eb!==this.nb&&a.nb<this.Hg.nb&&a.eb>=this.Hg.eb&&this.Hg.Xaa(a.eb);a.Voa();};f.prototype.push=function(b){this.jB(b);return a.prototype.push.call(this,b);};f.prototype.shift=function(){var b;b=a.prototype.shift.call(this);b&&this.Gr(b);return b;};f.prototype.pop=function(){var b;b=a.prototype.pop.call(this);b&&this.Gr(b);return b;};f.prototype.unshift=function(b){this.jB(b);return a.prototype.unshift.call(this,b);};f.prototype.$l=function(b){this.jB(b);a.prototype.$l.call(this,b);};f.prototype.remove=function(b){if(!a.prototype.remove.call(this,b))return!1;this.Gr(b);return!0;};f.prototype.splice=function(b,c){for(var f=[],d=2;d<arguments.length;d++)f[d-2]=arguments[d];d=a.prototype.splice.apply(this,[b,c].concat(f));f.forEach(this.jB.bind(this));d.forEach(this.Gr.bind(this));return d;};f.prototype.Hmb=function(a){var b;b=this;this.reduce(function(c,f,d){f.El&&(a&&a(f,d,b),0===c.length||c[0].end!==d?c.unshift({start:d,end:d+1}):c[0].end+=1);return c;},[]).forEach(function(a){return b.splice(a.start,a.end-a.start);});};f.prototype.jS=function(a){return this.Pra(function(b){return b.jS(a);});};f.prototype.hD=function(a){return this.Pra(function(b){return b.hD(a);});};f.prototype.Nra=function(a){a=this.jS(a);return-1!==a?this.get(a):void 0;};f.prototype.Ora=function(a){a=this.hD(a);return-1!==a?this.get(a):void 0;};f.prototype.vz=function(a){this.move(a);this.yy(a);};f.prototype.WK=function(a){this.zl+=a.Gd-a.Mi;this.jD(a);};f.prototype.$h=function(a){for(this.zl+=a.Gd-a.Mi;this.Jc.first&&this.Jc.first.complete&&(this.Eb.empty?this.Jc.first===this.h4:this.Jc.first.eb===this.Eb.nb);)this.Hqb();this.fv(a);};f.prototype.OU=function(a,b){this.zl-=a.Gd;++this.BO;this.uS(a,b);};return f;}(f.cHa);d.nFa=a;k.Ti(c,a,!1);k.Ti(p.iN,a);g.Yj(a.prototype,{ba:g.Z({get:function(){return this.Eb.ba+this.Jc.ba+this.Zn.ba;}}),IDa:g.Z({get:function(){return this.Zn;}}),active:g.Z({get:function(){return this.Jc;}}),complete:g.Z({get:function(){return this.Eb;}}),jnb:g.Z({get:function(){return this.zl;}}),kpa:g.Z({get:function(){return this.Eb.ba;}}),Zv:g.Z({get:function(){return this.Eb.ba+this.Jc.ba-this.zl;}}),nLb:g.Z({get:function(){return this.Zn.ba;}}),jKb:g.Z({get:function(){return this.ba-this.zl;}}),first:g.Z({get:function(){return this.P9a();}}),Df:g.Z({get:function(){return this.w_a();}}),h4:g.Z({get:function(){return!this.Eb.empty||this.Zn.empty||this.Jc.empty?this.first:this.Jc.eb<this.Zn.eb?this.Jc.first:this.Zn.first;}}),Qva:g.Z({get:function(){return this.Zn.empty||this.Jc.empty?this.Df:this.Jc.nb<this.Zn.nb?this.Zn.Df:this.Jc.Df;}}),Xra:g.Z({get:function(){return this.Zn.first;}}),eb:g.Z({get:function(){return this.h4&&this.h4.eb;}}),nb:g.Z({get:function(){return this.Qva&&this.Qva.nb;}}),ha:g.Z({get:function(){return this.first&&this.first.ha;}}),Yo:g.Z({get:function(){return this.first&&this.first.Yo;}}),YEb:g.Z({get:function(){return this.Eb.Qk;}}),AJb:g.Z({get:function(){return this.Ukb-this.T2||0;}}),IHb:g.Z({get:function(){return this.nb-this.T2||0;}}),K1a:g.Z({get:function(){return this.Eb.duration;}}),Tkb:g.Z({get:function(){return this.Jc.duration;}}),Sdb:g.Z({get:function(){return this.Wd-this.J1a||0;}}),ZEb:g.Z({get:function(){return this.Eb.Df;}}),T2:g.Z({get:function(){return this.Eb.empty?this.eb:this.Eb.nb;}}),J1a:g.Z({get:function(){return this.Eb.empty?this.Mc:this.Eb.Wd;}}),U2:g.Z({get:function(){return this.Eb.empty?this.tc:this.Eb.Pd;}}),L1a:g.Z({get:function(){return this.Eb.ba;}}),BJb:g.Z({get:function(){return this.Jc.Df||this.Eb.Df;}}),Ukb:g.Z({get:function(){return this.Jc.nb||this.Eb.nb;}}),zJb:g.Z({get:function(){return this.Jc.Wd||this.Eb.Wd;}}),a$:g.Z({get:function(){return this.Jc.Pd||this.Eb.Pd;}}),ip:g.Z({get:function(){return this.Zn.length;}}),Fp:g.Z({get:function(){return this.Jc.length;}}),$Eb:g.Z({get:function(){return this.Eb.length;}}),XDb:g.Z({get:function(){return this.BO;}}),WV:g.Z({get:function(){return this.Eb.concat(this.Jc);}}),Qp:g.Z({get:function(){return this.Hg;}})});},function(g,d,a){var f,h,p,c,k,q,n,l,m,r;function b(a,c){var f;f=a.Ge?b(a.Ge,c):[];f.push({cd:a.ya.id,nxa:a.Va[c].$a});return f;}f=a(0);h=a(13);p=a(7);c=a(11);k=a(6);d=a(24);q=a(210);n=a(703);l=a(700);m=a(699);r=a(84);a=a(75);r=function(a){function d(b,c,f,d,g){var k;k=a.call(this,f)||this;k.S=b;k.Yb=c;k.fH=f;k.Bk=d;k.G=g;k.LBa(f.N);k.lma();return k;}f.__extends(d,a);Object.defineProperties(d.prototype,{aA:{get:function(){return 0<this.Qz;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{vba:{get:function(){return!this.xx;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Qz:{get:function(){return this.xa.length;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ip:{get:function(){return this.xa.ip;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ey:{get:function(){return this.xa.U2||(this.bi?this.bi.ey:0);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Be:{get:function(){return this.Oja();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Hu:{get:function(){return this.v_();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Cj:{get:function(){return this.fTa();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Gu:{get:function(){return this.$Sa();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{kF:{get:function(){return this.xa.K1a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{qt:{get:function(){return this.Pja();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Yv:{get:function(){return this.lUa();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Nya:{get:function(){return this.y0a();},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bT:{get:function(){return this.xa.length>this.xa.ip;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Fp:{get:function(){return this.xa.Fp;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bi:{get:function(){return this.Yb.Ge&&this.Yb.Ge.Va[this.Bk].$a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{elb:{get:function(){return this.xa.length-this.Om;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ca:{get:function(){return this.xa;},enumerable:!0,configurable:!0}});d.prototype.LBa=function(a){this.N=a;this.Dc=this.N.error.bind(this.N);this.ma=this.N.warn.bind(this.N);this.dc=this.N.trace.bind(this.N);this.cb=this.N.log.bind(this.N);};d.prototype.y0a=function(){return this.G.Pr?this.xa.Tkb:this.xa.Sdb;};d.prototype.v4a=function(a,b,c,f){var d,g;d=this.G;this.G.WD&&a.bk()[this.Bk]-this.Tka()<b.ba&&(b.WD=this.G.WD);p.P(f)||(b.location=f.location,b.Xc=f.Qb,b.Vaa=f.kl);if(d.ro){g=this.S&&this.S.Xn;g&&(b.eW=g.Nl({Be:this.fH.Be,GU:d.s7a?d.GU:void 0}));}h.assert(!b.aq);b=d.r7a?new m.rFa(f,d,c,b,this.xa,this.N):a.UR(this.Bk)?new l.oFa(f,d,c,b,this.xa,!1,this.N):q.jX.create(f,d,c,b,this.xa,!1,this.N);b.gc(a,this.fH);this.cC(b);a.Ja.zla(b);return b;};d.prototype.lZa=function(a,b){var c;c=this.fH;b.gc(a,this.fH);b.x1=!0;this.cC(b);b.complete?(this.y_(b),a.Ja.$xa(c,a.Na[b.ga],b.Ua,b.tc),this.mF(),this.fv(b)):(b.active&&this.yy(b),b.iAa&&this.xy(b));};d.prototype.reset=function(){this.xa.forEach(function(a){a.Vd();});this.lma();};d.prototype.LAa=function(){this.xx=!1;};d.prototype.tYa=function(){this.xa.forEach(function(a){a.abort();});this.reset();};d.prototype.cC=function(a){this.xa.$l(a);this.y_(a);a.gq&&(this.xx=!1);};d.prototype.mF=function(){var a,b,c;b=this.fH.R;a=this.Yb;if(a.active&&this.Om!==this.xa.length){if(a=a.Ge){c=a.yta(b);if(0!==c&&(a.Va[b].LH(),c=a.yta(b),0!==c))return;}for(var c=this.G.ohb,f=0;this.Om<this.xa.length;){if(a=this.xa.get(this.Om)){if(this.xa.Xra&&this.xa.Xra.eb<a.eb)break;if(!a.My())break;this.S.Ze[b].XZa(a);++f;p.qa(this.tc)||(this.tc=a.tc);}++this.Om;if(!p.P(c)&&f>=c)break;}}};d.prototype.hnb=function(a){var f;for(var b,c=0;c<this.xa.length;++c){f=this.xa.get(c);f&&a<f.Pd&&(p.P(b)&&(b=c),f.Ph=!1);}p.P(b)||(this.Om=b,this.mF());};d.prototype.sqb=function(a,b,c){var f;f=this.G;0!==this.xa.ip&&this.xa.IDa.first.O!==b&&(f.bf&&this.Nh("setSelectedBitrate new bitrate: "+b),this.vYa(a,c));};d.prototype.uYa=function(a){a=this.xa.hD(a);if(-1!==a)for(;++a<this.xa.length;)this.Wt(this.xa.get(a));this.G0();this.mF();};d.prototype.vYa=function(a,b){var c,f,d;c=this;f=[];if(0!==this.xa.ip){d=this.xa.a$;this.xa.IDa.rba(function(b){if(!p.P(a)&&b.ga!==a||b.gq||d>b.tc)return!0;b.mS&&(c.xx=!1);if(!c.Wt(b))return c.ma("request abort failed:",b.toString()),!0;f.unshift(b);});this.G0();f.length&&"function"===typeof b&&b(f);}};d.prototype.BV=function(){this.G0();};d.prototype.Jmb=function(a,c){var f,d,g,k;f=this.G;d=a;g=this.S.ob.jCa;if(a>g){d=a-g;k=function(a,b){var g,k,h;g=!1;k=0;h=b.some(function(b){if(d<b.Pd)return g&&a.y_(b),!0;++k;b.Ph||(a.ma("pruning unappended request:",b&&b.toString()),f.bf&&a.Nh("prune pts:"+d+" unappended request:"+(b&&b.toString())),b.mS&&(a.xx=!1,g=!0),a.Wt(b,c)||a.Dc("MediaRequest.abort error:",b.oj));});0<k&&(b.splice(0,k),a.Om-=Math.min(k,a.Om));return h;};b(this.Yb,this.Bk).some(function(a){a=a.nxa;return k(a,a.xa);});return d;}};d.prototype.dbb=function(){return this.xa.empty?null:Math.min(this.xa.Qp.Pd,this.xa.a$);};d.prototype.Hta=function(){var a,c,f,d,g,k;a=this.G;c=null;f=null;d=0;g=0;k=[];b(this.Yb,this.Bk).forEach(function(b){var h;b=b.nxa.xa;p.qa(b.tc)&&(null===f||b.tc<f)&&(f=b.tc);h=a.Pr?b.a$:b.Pd;p.qa(h)&&(null===c||h>c)&&(c=h);d+=b.Zv;g=a.lba?g+b.jnb:g+b.kpa;Array.prototype.push.apply(k,b.WV.ca);});return{Llb:c,tc:f,Zv:d,Fn:g,ca:k};};d.prototype.iD=function(a,b,c){return this.Gka(a,!1,b,c);};d.prototype.f9a=function(a){return this.Gka(a,!0,void 0,void 0);};d.prototype.vca=function(a,b){var c,f;c=this;f=[];this.xa.forEach(function(d){var g;g=d.NW(a,b);1===g||2===g?f.push(d):3===g&&c.pi("swapUrl failure");});return f;};d.prototype.Pi=function(a){this.G.yL&&this.hnb(a);};d.prototype.Wv=function(a){a.Ny&&a.My()&&this.mF();this.xy(a);};d.prototype.$h=function(a){a.Ny&&!a.Ph&&this.mF();this.fv(a);};d.prototype.B1=function(a){var b,f,d;b=this.Bk===c.I.VIDEO?"v_":"a_";f=this.xa;d=f.hD(a);a=0<=d?f.get(d):void 0;return(f=0<=d&&d+1<f.length?f.get(d+1):void 0)&&a?a.Pd!==f.tc?b+"rg":a.complete&&f.complete?b+"uk":b+"fd":b+"rm";};d.prototype.lUa=function(){return this.xa.Fp+(this.G.Pr?0:this.xa.ip);};d.prototype.fTa=function(){return void 0===this.xa.tc?0:this.xa.Pd-this.xa.tc;};d.prototype.$Sa=function(){var a,b;a=this.v_(!0);b=this.Oja(0,!0);return{ba:a,Zf:b};};d.prototype.Oja=function(a,b){void 0===a&&(a=this.S.cf());a=b?Math.max(this.xa.tc,a):a;return Math.max(this.xa.U2-a,0)||0;};d.prototype.v_=function(a){var b;b=this.xa.L1a;return a||!this.bi?b:b+(this.bi.xa.U2>=this.xa.tc?this.bi.v_():0);};d.prototype.Pja=function(){return this.xa.kpa+(this.bi?this.bi.Pja():0);};d.prototype.Tka=function(a){return(this.Yb.Ge&&this.Yb.Ge.Va&&void 0!==a&&this.Yb.Ge.Va[a]?this.Yb.Ge.Va[a].$a.Tka(a):0)+this.xa.ba;};d.prototype.lma=function(){this.xa=new n.nFa(this.N,this);this.Om=0;this.tc=null;this.xx=!1;};d.prototype.y_=function(a){this.xx?a.mS=!1:this.xx=a.mS=!0;};d.prototype.Wt=function(a,b){if(!a.abort())return!1;"function"===typeof b&&b(a);return!0;};d.prototype.G0=function(){var a,b;a=this;b=0;this.xa.Hmb(function(c,f){f<a.Om&&++b;});this.Om-=b;};d.prototype.Gka=function(a,b,c,f){for(var d,g=this;g;){d=g.xa;if(d.length&&(d=b?d.Nra(a):d.Ora(a))&&(void 0===c||c===d.ga))return d;if(f)break;g=g.bi;}};d.prototype.pi=function(a){a={type:"streamingFailure",msg:a};this.ka(a.type,a);};d.prototype.Nh=function(a){a={type:"managerdebugevent",message:"@"+k.time.ea()+", "+a};this.ka(a.type,a);};return d;}(r);a(d.EventEmitter,r.prototype);g.T=r;},function(g,d,a){var b,f,h,p,c,k,q,n,l,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(84);f=a(6);h=a(704);p=a(7);c=a(201);k=a(11);q=a(69);n=a(358);l=a(26);m=a(13);a=function(a){function d(b,c,d,g,k,p,q){var t;t=a.call(this,c)||this;t.S=b;t.cd=c;t.R=d;t.ab=g;t.uBa=p;t.G=q;t.yja=!1;t.ob=b.ob;t.YUa(c.ya.id);t.ab=g;t.$E=new n.UZ(void 0,p,q,c.Ge?c.Ge.Va[d].$E:void 0);t.S7=f.time.ea();t.lfb=void 0;t.$a=new h(b,c,t,d,q);t.$a.addEventListener("streamingFailure",function(a){b.pi(a.msg,t.ga);});q.bf&&t.$a.addEventListener("managerdebugevent",function(a){l.ka(b,a.type,a);});t.hib=1===d?q.vU:q.nU;t.qU=(1===d?q.eE:q.bE)||q.qU;t.Mp=!1;t.j2=0;t.hz=q.j7;t.Bza=f.time.ea();t.rH=!1;q.om&&(t.oz=0,t.Sz=0,t.gy=0);return t;}b.__extends(d,a);Object.defineProperties(d.prototype,{aA:{get:function(){return this.$a.aA;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{vba:{get:function(){return this.$a.vba;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{yg:{get:function(){return this.cd.ya.id;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ey:{get:function(){return this.$a.ey;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Be:{get:function(){return this.$a.Be;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Hu:{get:function(){return this.$a.Hu;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Cj:{get:function(){return this.$a.Cj;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Gu:{get:function(){return this.$a.Gu;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{kF:{get:function(){return this.$a.kF;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{qt:{get:function(){return this.$a.qt;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{V_a:{get:function(){var a;a=this.S.bk()[this.R];return this.$a.qt/a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{W_a:{get:function(){var a;a=this.S.bk()[this.R];return this.$a.Hta().Fn/a;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ga:{get:function(){return this.cd.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bT:{get:function(){return this.$a.bT;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Qz:{get:function(){return this.$a.Qz;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Gc:{get:function(){return this.cd.Mta(this.R);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{yba:{get:function(){return this.i0.yo(this.R);},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Cg:{get:function(){return this.S.jn(this.R)?this.yja:!0;},set:function(a){this.yja=a;},enumerable:!0,configurable:!0}});d.prototype.reset=function(a,b){this.Mp=!1;this.seeking=void 0;this.Cg=!1;this.$a.reset();a&&(this.IL=!0);this.laa={reason:b,time:f.time.ea()};};d.prototype.Pi=function(a){this.$a.Pi(a);this.hz=this.G.j7;};d.prototype.LH=function(){this.$a.mF();};d.prototype.e6=function(){return this.i0.Z9a(this.R,this.qma.fb);};d.prototype.hqb=function(a,b){var f,d;f=b.tj[this.R];if(f){this.i0=b;this.qma=f.sBa;b=this.S;d=this.R;b.ie.eub(d,f.Gc,a);0===d&&(this.rH=c.sna(this.G,f.Gc[0]));b.vUa(this,f.ypb);this.w0a(f.Gc);b.ie.q1a();this.Cg=!1;}};d.prototype.lqb=function(a,b){var c;if(this.G.dC){c=this.$a.dbb();null!==c?(this.ab=c,this.rg=c===a?b:this.S.dP(this.R,this.cd.ga,this.ab)):(this.ma("nextPts from requestManager returns null,","fall back to linear increasing streamingPts"),this.ab=a,this.rg=b);}else this.ab=a,this.rg=b;};d.prototype.Fq=function(a){var b,c,f;if(this.Bf&&this.Bf.V===a)b=this.Bf.index,c=a;else{f=this.S.Yh(this.ga);b=f.Lb[this.R];if(!b||!b.stream.Tc){this.vq=a;return;}c=b.ca;this.Bf=this.Mra(b.stream,a,void 0,void 0);if(void 0===this.Bf){if(b=c.length-1,c=c.dg(b),this.ma("setStreamingPts out of range of fragments, pts:",a,"last startPts:",c,"fragment index:",b,"fastplay:",f.Vh),f.Vh){this.vq=a;return;}}else b=this.Bf.index,c=this.Bf.V;}this.rg=b;this.ab=c;this.vq=void 0;};d.prototype.vob=function(a){this.Fq(a);this.Cg=!1;this.da=void 0;this.$a.LAa();};d.prototype.uob=function(a){this.Bf=a;this.Cg=!1;this.da=void 0;this.rg=this.Bf.index;this.ab=this.Bf.V;this.vq=void 0;this.$a.LAa();};d.prototype.Hob=function(a){var b;b=this.S.Yh(this.ga).Lb[this.R];if(b&&b.stream.Tc){for(var c=b.ca;0<this.rg&&this.ab>a;)this.ab=c.dg(--this.rg);this.rg<this.Bf.index&&(this.Bf=b.stream.pg(this.rg));this.vq=void 0;}else this.vq=a;};d.prototype.Nub=function(a){var b,c,f;b=this.i0.Zp(this.R,a);c=this.qma.fb;f="verifying streamId: "+a+" stream's track: "+(b?b.id:"unknown")+" currentTrack: "+c;if(!b)return this.S.Nh("unknown streamId: "+a),!1;b.fb!==c&&this.S.Nh(f);return b.fb===c;};d.prototype.w0a=function(a){this.xua=a.reduce(function(a,b){return b.inRange&&b.df&&!b.Rg&&b.O>a.O?b:a;},a[0]);this.mdb=a.indexOf(this.xua);};d.prototype.d8a=function(a){return 1===this.R?0:this.rH?0:this.G.vn?a&&a.Zf||0:this.G.$m&&a?-a.Zf:0;};d.prototype.$L=function(){return 1===this.R&&this.G.vs||0===this.R&&this.G.$m;};d.prototype.Mra=function(a,b,c,f,d){var g,k,h,n,p,q,l;m.assert(b>=a.ca.dg(0));g=this.G;k=this.$L();h=a.ca;n=b+0;0===this.R&&void 0===f&&k&&g.ao&&!g.Vx&&a.gl&&(b=Math.max(a.ca.dg(0),b+a.gl.Zf));p=h.Bi(n,void 0,!0);this.S.UR(this.R)&&(p=Math.floor(p/g.L9)*g.L9);q=a.pg(p);if(q.da<b)return q;if(k){n=1===this.R?n:b;l=q.kS(n);l?(0<l.jk&&q.Fj({start:l.jk}),0!==this.R||g.ixa||l.Cd<(g.ao&&!g.Vx&&a.gl?Math.floor(a.gl.Zf):0)&&q.Sqa()):n>=q.da&&p<h.length-1&&(q=a.pg(p+1));}1===this.R&&c&&q.da===c&&p<h.length-1?q=a.pg(p+1):0===this.R&&!k&&void 0!==f&&!g.vn&&(c=b+f,c-q.V>g.Xgb||q.V<c-d)&&(q=a.pg(p+1));k&&0===this.R&&!q.Xa&&(g.$J||g.ava||g.c7a)&&void 0!==f&&q.Fj({});q.XL(b);return q;};d.prototype.d9a=function(a,b){var c,f,d,g,k;f=this.G;if(f.om&&(c=this.$Ta(a,b)))return c;c=a.ca;d=c.Ka;g=b?b+this.d8a(d):c.$C(c.length-1);d=c.Bi(g,void 0,!0);c=a.pg(d);0===d||c.V!==b||1!==this.R&&f.vn||(--d,c=a.pg(d));if(this.$L()){g=1===this.R?g:b;if(g<c.da){k=c.Sra(g);k&&0!==k.jk?c.Fj({end:k.jk}):0===this.R&&(k||g<c.V)&&0!==d?c=a.pg(d-1):1===this.R&&k&&0!==d&&(c=a.pg(d-1));}0!==this.R||c.Xa||!f.$J&&!f.$ua||c.Fj();}else 0===this.R&&!f.vn&&b-c.V<c.duration/2&&0!==d&&(c=a.pg(d-1));c.XL(b);return c;};d.prototype.ZV=function(a){this.Zh=a;this.da=a.da;};d.prototype.VUa=function(a,b){var c,d,g,k,h,n;c=this.G;d=this.cd;g=a.url;k=this.R;h=this.S.gb.Bb[k];b=b.ca;n=this.rg;n>=b.length?this.ma("makeRequest nextFragmentIndex:",n,"past fragments length:",b.length,"fastplay:",this.S.zk):(b=this.S.UR(k)?this.fUa(a,b,n):this.gUa(a,b,n))?(n=b.QR.QC(a.Ka),this.Sz+=n,this.S.am(this.S.Ve.value)&&++this.j2,b.gq&&1===k&&this.S.Ja.t0(d.ya,b.da),this.S.Q0(k,b.V),b.UBa(new q.oc(d.Oc,1E3)),f.time.ea(),d=this.$a.v4a(this.S,b,h.Zj,a),d.Xv()?(d.Sz=n,h.Ova=a.Qb,p.qa(h.Tl)||(h.Eo=a.kl,h.VJ=a.VJ||-1,h.Tl=a.O,h.Ydb=a.Kaa,p.P(a.Kaa)||this.S.pe.QBa(a.Kaa,a.Zl,a.Vk)),g&&(h.U7=b.url),c.XR&&this.ob.Nd.cC(f.time.ea(),b.ba),this.S.NG(this)||this.ma("!continueDriving in requestCreated"),this.lqb(d.Wd,b.NK),this.S.qTa(this),this.S.qh()):(this.ma("MediaRequest.open error: "+d.oj+" native: "+d.al),7!==d.readyState&&(this.ma("makeRequest caught:",d.oj),this.S.pi("MediaRequest open failed (1)",this.ga,"NFErr_MC_StreamingFailure")))):this.ma("makeRequest unable to get valid fragment");};d.prototype.vz=function(a){a.da&&a.V&&(this.hz-=a.da-a.V);this.yy(a);};d.prototype.Wv=function(a){this.xy(a);};d.prototype.$h=function(a){this.fv(a);};d.prototype.Xtb=function(a){var b;b=f.time.ea();this.hz+=a*(b-this.Bza);this.Bza=b;};d.prototype.JAa=function(){this.hz=this.G.j7;};d.prototype.YQ=function(a){var b,c;b=this.G;if(!b.om){c=this.cd;!c.ya.dF||this.S.GB||this.S.DP||(p.P(a)&&(a=this.S.cf()||0),a-=c.Oc,this.Cg&&!this.ar&&a+b.Isb>=this.da&&0===this.$a.Yv&&0===this.$a.ip&&this.S.Ja.FVa(this,this.S.Fd,this.S.Na.length));}};d.prototype.Rcb=function(a){var b;b=this.cd;this.G.om&&(this.gy+=a.Sz,this.ma("handleRequestDone, adding frames:",a.Sz,"total frames:",this.gy,"needed frames:",b.Qg(a.R).oz));this.S.$t()||(a=b.Qg(k.I.VIDEO))&&!a.Mp&&a.bT&&this.S.gb.PS(a);this.YQ();};d.prototype.toJSON=function(){return{started:this.aA,startOfSequence:this.vba,segmentId:this.yg,requestedBufferLevel:this.Cj,manifestIndex:this.ga,hasFragments:this.bT};};d.prototype.YUa=function(a){a=a&&a.length?"{"+a+"} ":"";a+="["+this.R+"]";this.N=l.TD(f,this.S.N,a);this.Dc=this.N.error.bind(this.N);this.ma=this.N.warn.bind(this.N);this.dc=this.N.trace.bind(this.N);this.cb=this.N.log.bind(this.N);this.du=this.N.debug.bind(this.N);this.$a&&this.$a.LBa(this.N);};d.prototype.gUa=function(a,b,c){var f;b=a.ca;f=c===this.Bf.index;c===this.Zh.index?(a=a.ata(this.Zh),a.XL(this.Zh.vw),a.G8()):f?(a=a.ata(this.Bf),a.XL(this.Bf.vw)):a=a.pg(c);a.NK=c+1;if(!a.Xa&&!this.S.Go)for(++c;c<b.length&&c<this.Zh.index&&(a.ba<this.hib||a.duration<this.qU);++c)a.y1(b.get(c)),a.NK=c+1;return a;};d.prototype.fUa=function(a,b,c){var d;d=this.G;b=a.ca;a=a.pg(c);a.NK=c+1;if(!a.Xa)for(++c;c<b.length&&c<this.Zh.index&&(a.duration<this.qU||0!==c%d.L9);++c)a.y1(b.get(c)),a.NK=c+1;a.vfb=this.S.kP+(f.time.ea()-this.S.lP);return a;};d.prototype.$Ta=function(a,b){var f,d;f=this.G;if(f.om){d=a.ca;if(d){if(1===this.R)b=d.Bi(f.om*a.Ka.Zf,void 0,!0),d=a.pg(b),a=d.QR.QC(a.Ka),d.Fj({start:0,end:f.om-b*a}),this.oz=f.om;else{f=c.rta(f,this.S.Ov)+f.b_a*a.Ka.Zf;f=b+f;b=d.Bi(f,void 0,!0);d=a.pg(b);f=d.Sra(f);if(!f)return;d.Fj({end:f.jk});a=d.QR.QC(a.Ka);this.oz=f.jk+b*a;}d.G8();return d;}}};return d;}(g);d.oPa=a;},function(g,d,a){var b,f,h,p,c,k,q;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(39);h=a(7);p=a(705);g=a(84);c=a(11);k=a(6);q=a(26).TD;a=function(a){function d(b,f,d,g,n,l,t,u){var m,y;m=a.call(this,b)||this;m.S=b;m.ob=f;m.ya=g;m.V=n;m.ga=l;m.Ge=t;m.G=b.G;f=b.N;m.Ge=t;m.ya=g;m.V=n;m.co=g.co;m.children=Object.create(null);m.Lq=[];m.CWa=g.id&&g.id.length?"{"+g.id+"}":void 0;m.N=q(k,f,m.CWa);m.Dc=m.N.error.bind(m.N);m.ma=m.N.warn.bind(m.N);m.dc=m.N.trace.bind(m.N);m.cb=m.N.log.bind(m.N);m.du=m.N.debug.bind(m.N);g=b.Yh(l);m.Oc=g.ln;m.q0=g.M;m.ga=l;m.Wc=void 0;h.qa(u)||(u=n);m.Va=[];y=d.Jrb;[c.I.AUDIO,c.I.VIDEO].forEach(function(a){var c;if(b.jn(a)){c=new p.oPa(b,m,a,u,b,y[a],m.G);m.Va[a]=c;}});m.i7(l);return m;}b.__extends(d,a);Object.defineProperties(d.prototype,{M:{get:function(){return this.q0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Cj:{get:function(){return[this.Va[0].Cj,this.Va[1].Cj];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Gu:{get:function(){return[this.Va[0].Gu,this.Va[1].Gu];},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ln:{get:function(){return this.S.Na[this.ga].ln;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Mc:{get:function(){return this.V;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Wd:{get:function(){return this.da;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{da:{get:function(){return h.qa(this.xka)?this.xka:this.ya.da;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{tc:{get:function(){return this.V+this.Oc;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Pd:{get:function(){return this.da+this.Oc;},enumerable:!0,configurable:!0}});d.prototype.toJSON=function(){return{segment:this.ya.id,active:this.active,branchOffset:this.Oc,manifestIndex:this.ga,contentStartPts:this.V,contentEndPts:this.da,playerStartPts:this.tc,playerEndPts:this.Pd,pipelines:this.Va,previousBranch:this.Ge};};d.prototype.iqb=function(a){this.ga=a;};d.prototype.Qg=function(a){return this.Va[a];};d.prototype.Mta=function(a){return this.S.Yh(this.ga).tj[a].Gc;};d.prototype.Bbb=function(a){return this.Va[a].Qz;};d.prototype.Ay=function(a){return this.Va[a].Be;};d.prototype.i7=function(a){var b;b=this.S.Yh(a);this.Va.forEach(function(c){c.hqb(a,b);});};d.prototype.LH=function(){this.Va.forEach(function(a){a.LH();});};d.prototype.Vd=function(){this.Ge&&(this.Ge=this.Ge.children[this.ya.id]=void 0);h.Rc(this.children,function(a){a&&a.Ge&&(a.Ge=void 0);});this.children=Object.create(null);this.sB=void 0;};d.prototype.yta=function(a){return this.Va[a].$a.elb;};d.prototype.v0a=function(a){var b,c;b=this.eUa();b=this.Oka(a,b);if(0>b)return-1;b=a.$C(b);c=this.da;c=this.Oka(a,this.co||c);return 0>c?-1:Math.max(b,a.dg(c));};d.prototype.Qoa=function(){var a,b;if(!("number"!==typeof this.co||this.co>=this.da)){a=this.S.Yh(this.ga).Lb[c.I.VIDEO];if(a){a=a.ca;b=this.v0a(a);if(!(0>b)&&(b=a.Bi(b,0,!0),!(0>b)&&(b=this.Pka(b,a),(a=b<a.length&&a.$C(b))&&a<this.da)))return a;}}};d.prototype.Utb=function(a){this.Oc+=a;};d.prototype.ODa=function(a){var b,f,d;b=this;this.xka=a;f=this.S;d=f.Yh(this.ga);this.Va.forEach(function(g){var k,h,n;k=g.R;h=d.Lb[k];n=h.ca.Bi(a-1,0,!0);h=h.stream.pg(n);g.ZV(h);if(n=g.$a.f9a(h.Mc))n.G8(),k===c.I.VIDEO&&f.Ja.t0(b.ya,h.da);g.$a.uYa(a);f.Ze[k].J0a(b.ya.id,a);g.ab>h.da&&g.Fq(h.da);});};d.prototype.A2=function(a,b,f,d,g,h){var n,p,q,l,t,u;n=this.G;p=this.S;q=this.Va[c.I.AUDIO];l=this.Va[c.I.VIDEO];t=q?q.Be:0;u=l?l.Be:0;if(!d&&!g)return!0;if(f&&a.So>=n.Ji&&(n.haa&&(h=a.So+1E3),n.iaa&&(!b.connected||!a.connected)))return!1;n.bf&&p.Nh("Branch checkBufferingComplete, audio: "+t+" video: "+u);if(n.om){if(this.YSa){this.ma("checkBufferingComplete ignored because stallAtFrameCount already hit");return;}a=l&&l.gy<l.oz;if(!(q&&q.gy<q.oz||a))return this.ma("checkBufferingComplete with enough frames, declare bufferingComplete","audio:",q?q.gy:"n/a","video:",l?l.gy:"n/a"),this.YSa=!0,p.sH(),!0;}h=this.ZQ(h);g&&(t>=n.Ji||h)&&(g=p.lB.fb,this.NSa(g,p.yi.FJ(0,g)),p.lB=void 0);if(h)return p.sH(),!0;if(d){d=!l||u>n.Ji;if((!q||t>n.Ji)&&d&&(q=k.time.ea()-p.u_,q>=n.uE))return this.ma("buffering longer than limit: "+q+" >= "+n.uE+", audio buffer: "+t+" ms, video buffer: "+u+" ms"),p.sH(),!0;p.Ja.CVa();}return!1;};d.prototype.ZQ=function(a,b){var f,d,g,k,h,n,p,q;f=this.G;d=this.S;g=this.Va[c.I.AUDIO];k=this.Va[c.I.VIDEO];h=g?b?g.Cj:g.Be:0;b=k?b?k.Cj:k.Be:0;a||(a=f.Ji);n=!d.Qh||g.Cg&&0===g.$a.Yv;p=!d.eg||k.Cg&&0===k.$a.Yv;q=n&&p;n=!n&&h<f.Ji;if(!q&&(n||!p&&b<a))return!1;if(k&&k.Mp||!d.eg)return!0;a=g?g.$a.ip:0;k=k?k.$a.ip:0;f=f.Pr&&(0!==a||0!==k);if(q&&!f)if(this.S.DP&&0===h&&0===b)this.ma("playlist mode with nothing buffered, waiting for next manifest");else return!0;return!1;};d.prototype.Ypb=function(a){var b,c;b=this.G;c=this.S;this.Va.forEach(function(a){a.seeking=void 0;});a&&(b.bf&&this.Va.forEach(function(a){var b;if(a){b=c.Ze[a.R]||{};a="bufferingComplete: , mediaType: "+a.R+", bufferLevelBytes: "+a.Hu+", totalBufferMs: "+a.kF+", totalBufferBytes: "+a.qt+", partials: "+a.$a.Yv+", streamingPts: "+a.ab+", completeStreamingPts: "+a.ey+", fragments: "+JSON.stringify(a.$a.ca)+", toAppend: "+JSON.stringify(b.ri)+", nextAppendPts: "+b.xVa;c.Nh(a);}}),c.Ja.DVa());};d.prototype.Fsa=function(){var a,b;a=!0;b={};this.Va.map(function(f){var d;d=f.R===c.I.VIDEO?"v":"a";f=f.Gu;b[d+"buflmsec"]=f.Zf;b[d+"buflbytes"]=f.ba;a=a&&0<f.Zf;});return{YS:a,aI:b};};d.prototype.mW=function(a,b){var c,f,d;c=this;f=k.time.ea();d={};h.Rc(this.children,function(a){var b,g;if(a){a.Wc?(a.Wc.I6a=f-a.Wc.qT,a.Wc.qT=void 0,b=a.Wc.weight):b=c.ob.Kta(c.ya.id,a.ya.id);g=a.Fsa();d[a.ya.id]={weight:b,aI:g.aI,YS:g.YS};}});b={requestTime:f,RV:a,I5a:b,kW:this.ya.id,Wc:d};a||(a=this.S.cf(),b.qCa=a-this.V+this.Oc,b.zR=0,b.startTime=f);this.Lq.unshift(b);return b;};d.prototype.N1a=function(a){var b,c;b=this.Lq[0];b.RV&&(b.qCa=this.da-this.V);c=a.Fsa();b.uDa={};f(c.aI,b.uDa);b.YS=a.Gu.every(function(a){return 0<a.Zf;});this.Lq=[];return b;};d.prototype.Pi=function(a){var b;b=this.ya;a-=this.Oc;if(b.V<a&&a<b.da)this.Lq.shift();else if(b=this.Lq[0])b.Pi=!0;};d.prototype.$0a=function(){var a,b,c,f;a=this;b=this.ob;c=this.S;f=!0;h.Rc(this.ya.nj,function(d,g){(d=b.sD(g))?(g=d.ga,d=c.Na[g],d.Lb[0]&&d.Lb[1]&&d.Lb[0].stream.Tc&&d.Lb[1].stream.Tc||(f=!1),c.KJ(d.M,g)||(f=!1)):a.ma("invalid segment:",g,"in dests:",a.ya.nj);});return f;};d.prototype.reset=function(a,b){this.Va.forEach(function(c){(h.P(b)||c.R===b)&&c.reset(!1,a);});this.Ge&&this.Ge.reset(a,b);};d.prototype.NSa=function(a,b){this.S.Ja.AVa(a,b);};d.prototype.eUa=function(){var a,b;a=this.S;b=0;this.Va.forEach(function(c){c=a.Ze[c.R].Lab()||0;c>b&&(b=c);});return b;};d.prototype.Oka=function(a,b){return a.Bi(b-1,0,!0);};d.prototype.Pka=function(a,b){var c,f;c=this.ya.ktb;f=a>=b.length-1;if(!c||f)return f?b.length-1:a;this.HUa(c,b.$C(a))&&(a=this.Pka(a+1,b));return a;};d.prototype.HUa=function(a,b){var f,d;if(!a)return!1;for(var c=0;c<a.length;c++){f=a[c][0];d=a[c][1];if(b<f)break;if(b>=f&&b<d)return!0;}return!1;};return d;}(g);d.bGa=a;},function(g,d,a){var b,f,h,p,c,k,q,n,l,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(7);f=a(11);h=a(39);p=a(6);c=a(706);k=a(698);q=a(353);n=a(151);l=a(26);m=a(13);g=function(){function a(a,b,c,f,d){this.S=a;this.pe=b;this.G=d;this.N=a.N;this.Dc=this.N.error.bind(this.N);this.ma=this.N.warn.bind(this.N);this.dc=this.N.trace.bind(this.N);this.cb=this.N.log.bind(this.N);this.ul=[];this.Tj={};c?(this.t_=!0,this.qWa(c,f)):(this.Ak=this.B_("",0,0,void 0,void 0,{},!0),this.Ak.D9=!0,this.Ak.da=Infinity,this.bQ=[this.Ak]);this.Yb=this.SO(this.Ak,this.Ak.V,0,void 0,f);this.Yb.active=!0;this.EP=this.qP=void 0;}Object.defineProperties(a.prototype,{Go:{get:function(){return!!this.t_;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{oeb:{get:function(){return 0===this.Yb.Va.length;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{YJ:{get:function(){return this.Ak;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zi:{get:function(){return this.Yb.ya.id;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{FC:{get:function(){return this.Yb.ga;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{af:{get:function(){return this.Yb;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{og:{get:function(){return this.Yb.Va;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{ooa:{get:function(){return this.ul;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Oc:{get:function(){return this.Yb.Oc;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{Ze:{get:function(){return this.S.Ze;},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{zj:{get:function(){return this.qP?this.qP:this.ooa[0];},enumerable:!0,configurable:!0}});a.prototype.sD=function(a){return this.Tj[a];};a.prototype.d6=function(a){return"m"+a;};a.prototype.Ay=function(a){return(a=this.Yb.Va[a])?a.Be:0;};a.prototype.Kta=function(a,b){var c;c=this.Tj[a];if(c)return(a=c.nj[b])&&a.weight;this.ma("getSegmentWeight, unknown segment:",a);};a.prototype.Lbb=function(a){var b;b=this.Tj[a];if(b)return b.V;this.ma("getSegmentStartPts, unknown segment:",a);};a.prototype.ubb=function(){var a;a=this.zj.ya;return a&&("number"===typeof a.co?a.co:a.da);};a.prototype.Kbb=function(a){var c;c=this.Tj[a];if(!c)this.ma("getSegmentDuration, unknown segment:",a);else if(b.qa(c.da)&&isFinite(c.da)&&b.qa(c.V)&&isFinite(c.V))return c.da-c.V;};a.prototype.N4=function(a){return this.ul.filter(function(b){if(b.ga===a)return!0;});};a.prototype.b9a=function(a,b){return this.Bka(a,!1,b);};a.prototype.a9a=function(a,b){return this.Bka(a,!0,b);};a.prototype.cob=function(a,c){b.Rc(this.ul,function(b){b.ga===a&&(b.ga=c);});b.Rc(this.Tj,function(b){b.ga===a&&(b.ga=c);});};a.prototype.IAa=function(){var a;a=this;b.Rc(this.ul,function(b){b.Oc=a.S.Yh(b.ga).ln;});};a.prototype.bW=function(a){b.Rc(this.ul,function(b){b.Mta(f.I.VIDEO).forEach(function(b){h(q.Ena(b.Pe,b.O,a),b);});});};a.prototype.P4a=function(){this.ul.forEach(function(a){a.active=!1;});};a.prototype.Imb=function(){var a;for(;0<this.ul.length;){a=this.ul[0];if(!a.active)break;if(a===this.Yb)break;if(!a.Va.every(function(a){return 0===a.Qz;}))break;a.Vd();this.ul.shift();}};a.prototype.y1a=function(a,b){var c,f;c=this.Yb;if(c.rwa)a=c.rwa;else{f=this.Yb.Oc;a=this.SO(c.ya,0,a,c);a.Va.forEach(function(a){a.Fq(0);a.ZV(c.Va[a.R].Zh);});a.Oc=f+b;c.rwa=a;}this.iB(a,c);};a.prototype.YYa=function(a,b,c){var f,d;if(!this.t_){this.t_=!0;f=this.d6(0);this.Ak.id=f;this.Tj[f]=this.Ak;this.Ak.da=this.S.Cab().ita();this.Ak.sE=!0;}d=this.d6(a);a=this.B_(d,a,b,c,void 0,{},!0);a.sE=!0;this.bQ.forEach(function(a){a.nj={};a.nj[d]={weight:100};a.BI=d;a.dF=!1;});this.bQ=[a];};a.prototype.Pu=function(a,c){var f,d,g,k;f=this.zj;d=f.mW(c);g=f.ya;k=f.children[a];if(c){if(!g.nj[a])return this.Yb.ma("chooseNextSegment, invalid destination:",a,"for current segment:",g.id),!1;if(f.ng)return f.ng===a;f.ng=a;k&&f.tS?this.iB(k,f):this.G.UI&&(a=f.Qoa(),b.P(a)||f.ODa(a));return!0;}if(void 0!==f.ng)return!1;if(!k)return d.Mxa=!0,!1;c||(d.Mxa=!k.ZQ());this.S.L0("chooseNextSegment");f.tS=void 0;f.ng=a;this.iB(k,f);return!0;};a.prototype.qdb=function(a,c){var f,d,g,k,h,n,p;f=this;k=a.ya;c&&!a.ng&&(a.ng=k.BI,a.mW(!0,!0));a.children=Object.create(null);if(this.G.gkb)if(a.ng)d=this.Tj[a.ng],g=this.C_(d,a),a.children[a.ng]=g;else{b.Rc(k.nj,function(a,c){d=f.Tj[c];a=d.weight;if(b.P(p)||a>p)h=d,n=c,p=a;});h&&(g=this.C_(h,a),a.children[n]=g);}else b.Rc(k.nj,function(b,c){a.ng&&c!==a.ng||(d=f.Tj[c],g=f.C_(d,a),a.children[c]=g);});a.ng&&(c=a.children[a.ng])&&this.iB(c,a);a.tS=!0;};a.prototype.atb=function(){var a;a=0;b.Rc(this.ul,function(b){b.Va.forEach(function(b){a+=b.$a.Fp;});});return a;};a.prototype.msb=function(a,b){var c,f;c=this.aUa(a,b);if(c){c!==this.Yb.ya&&(this.P4a(),f=this.SO(c,a,b,this.Yb),f.Ge=void 0,this.wma(f,void 0,!0),this.ySa(this.Yb),this.iB(f,this.Yb));c===this.zj.ya&&(this.zj.Lq.shift(),f&&(f.Lq=this.zj.Lq,f.ng=this.zj.ng));this.S.Ja.Bla(c,this.Yb.Oc);this.Yb.tS=void 0;}else this.ma("findSegment no segment for manifestIndex:",b);};a.prototype.ywa=function(a,b){var c;c=a.ya;b||(b=c.BI);l.PL(c.id);a.ng||(a.ng=b,a.mW(!0,!0));(b=a.children[a.ng])&&this.iB(b,a);};a.prototype.MBa=function(a,b){if(this.Yb!==a){if(b)for(b=this.Yb;b&&b!==a;)b.active=!1,b=b.Ge;this.Yb=a;}};a.prototype.HAa=function(a){var c;c=this;b.Rc(a.children,function(a){var b;if(a){b=a.Va[f.I.AUDIO];b.reset(!0,"audioTrackChange");b.ab=b.Wua;b.rg=b.Uua;b.Bf=void 0;b.Zh=void 0;c.HAa(a);}});};a.prototype.maa=function(a){var c;c=this;b.Rc(a.children,function(b){b&&(c.cXa(b,a),c.maa(b));});};a.prototype.jp=function(a,b){var c,f,d,g,k;c=this;if(this.Go){f=this.G;d=this.zj;g=d.ya;k=l.PL(g.id);!d.ng&&!g.dF&&d.da-b<=f.wU&&(this.ma(k+"updatePts making fork decision at playerPts:",a,"contentPts:",b),this.ywa(d));}this.Yb.Va.forEach(function(a){c.S.jn(a.R)&&c.Ze[a.R].jp(b);});};a.prototype.gjb=function(a,b){var c,d;if(this.Go){c=this.qP;if(this.G.Hdb&&a&&this.EP&&a.V===this.EP)this.dc("Ignoring pts that wiggled back into previous segment",this.EP);else if(a=a.$f.cd,!c||a.ya.id!==c.ya.id){d=c&&c.Va[f.I.VIDEO].Zh;this.EP=d&&d.V;this.qP=a;this.TSa(c);c=c&&c.N1a(a);this.S.Ja.WVa(a.ya,b,c);}}};a.prototype.Vd=function(){this.ETa(this.Yb);};a.prototype.Xib=function(a,b,c){b.D9||(b.V=this.S.wta(a,b.V,!0),c||(b.da=this.S.wta(a,b.da,!1)),b.D9=!0);};a.prototype.qca=function(a,c){var f;l.PL(a);f=this.Tj[a];f?(b.Rc(f.nj,function(a,b){a.weight=c[b]||0;}),a=this.Nka(f.nj),f.co="number"===typeof a?f.V+a:f.da):this.ma("updateChoiceMapEntry, unknown segment:",a);};a.prototype.bla=function(a,b,c){var f;f=b?c.Wd:c.Pd;return(b?c.Mc:c.tc)<=a&&a<f;};a.prototype.Bka=function(a,c,f){var h;for(var d=this.S,g=this.Yb;g;){if((!b.qa(f)||d.s7(f,g.ga))&&this.bla(a,c,g))return g;g=g.Ge;}if(c)for(var g=Object.keys(this.Yb.children),k=0;k<g.length;k++){h=this.Yb.children[g[k]];if((!b.qa(f)||d.s7(f,h.ga))&&this.bla(a,c,h))return h;}};a.prototype.wma=function(a,b,c){var d,g,k,h,p;d=a.ya;g=a.ga;k=this.S.Yh(g);h=n.HH(k.M,this.S.M);g=this.S.sx(g,d.V,a,b,h);b=g.Hz;p=g.wo;g=a.Va[f.I.VIDEO];h=a.Va[f.I.AUDIO];c&&(g.Bf=p[f.I.VIDEO],h.Bf=p[f.I.AUDIO]);a=this.S.ur(a.Va,k.Lb,d.da);g.Zh=a[f.I.VIDEO];h.Zh=a[f.I.AUDIO];return b;};a.prototype.C_=function(a,b){var c,d;c=this.SO(a,a.V,a.ga,b);d=this.wma(c,b,this.G.U$);[f.I.VIDEO,f.I.AUDIO].forEach(function(a){var g,k;g=c.Va[a];k=b.Va[a];a===f.I.VIDEO&&(k=k.ab+b.Oc,c.Oc=k-d[a],c.V=d[a]);g.Fq(d[a]);g.Wua=g.ab;g.Uua=g.rg;});this.S.Ja.Bla(a,c.Oc);return c;};a.prototype.cXa=function(a,b){var c,d,g;c=a.ya;d=this.S.Yh(c.ga);g=n.HH(d.M,this.S.M);g=this.S.sx(a.ga,c.V,a,b,g);b=g.Hz;a.Va[f.I.AUDIO].Bf=g.wo[f.I.AUDIO];c=this.S.ur(a.Va,d.Lb,c.da);a.Va[f.I.AUDIO].Zh=c[f.I.AUDIO];a=a.Va[f.I.AUDIO];a.Fq(b[f.I.AUDIO]);a.Wua=a.ab;a.Uua=a.rg;};a.prototype.ySa=function(a){for(var b=[a.ya.id];a.Ge;)a=a.Ge,b.unshift(a.ya.id);this.j_(a);};a.prototype.j_=function(a){var c,f,d;c=this;f=a.ya;b.Rc(a.children,function(a){a&&c.j_(a);});a.Va.forEach(function(a){a.$a.tYa();});a.active=!1;a.Vd();d=-1;this.ul.some(function(b,c){return b===a?(d=c,!0):!1;});-1!==d?this.ul.splice(d,1):this.ma("Unable to find branch:",a,"in branches array");this.S.Ja.TVa(f);};a.prototype.iB=function(a,c){var f,d,g,k,h,n;f=this;d=c.ya;c.ga!==a.ga&&this.S.ila(a.ga);a.active=!0;if(this.G.UI&&this.Yb.active){g=this.Yb.Qoa();if(!b.P(g)){k=this.Yb.da;this.Yb.ODa(g);a.Utb(this.Yb.da-k);}}a.Va.forEach(function(a){a.LH();});h=p.time.ea();n={};b.Rc(c.children,function(b){b&&(b.Wc&&(b.Wc.Be=b.Va.map(function(a){return a.Gu.Zf;}),b.Wc.I6a=h-b.Wc.qT,b.Wc.qT=void 0,n[b.ya.id]=b.Wc),b.ya.id!==a.ya.id&&f.j_(b));});c.children=Object.create(null);c.children[a.ya.id]=a;c.sB=void 0;this.MBa(a);this.S.Ja.UVa(a.ya,n);1<Object.keys(d.nj).length&&a.ZQ();};a.prototype.ETa=function(a){var b;b=this;0!==a.Va.length&&(a.Va.forEach(function(a){a.$a.reset();a.$E=void 0;a.active&&b.Dc("Destroying active pipeline!");}),a.Va=[],a.Vd());};a.prototype.TSa=function(a){var b,c;if(a){b=p.time.ea();c=a.Lq[0];c&&void 0===c.zR?c.zR=b-c.requestTime:c||(this.ma("missing metrics for branch:",a.ya.id),c={kW:a.ya.id,RV:!0,zR:0,Wc:{}},a.Lq.unshift(c));void 0===c.startTime&&(c.startTime=b);}};a.prototype.aUa=function(a,c){var f,d,k,h;m.assert(0<=a);for(var g in this.Tj){k=this.Tj[g];if(this.S.s7(k.ga,c)){if(k.V<=a&&(Infinity===k.da||void 0===k.da||a<k.da))return k;h=Math.min(Math.abs(a-k.V),Math.abs(a-k.da));if(b.P(f)||h<f)f=h,d=k;}}return d;};a.prototype.B_=function(a,b,c,f,d,g,h,n,p){b=new k.VQa(a,b,c,f,d,g,h,n,p);return this.Tj[a]=b;};a.prototype.qWa=function(a,c){var f,d,g;f=this;this.Ak=void 0;this.bQ=[];d=null;g=null;b.Rc(a.segments,function(a,k){var h,n,p,q,l,t;h=a.startTimeMs;n=a.endTimeMs;p={};b.Rc(a.next,function(b,c){p[c]={weight:b.weight||0,gLb:b.transitionHint||a.transitionHint,a7a:"number"===typeof b.earliestSkipRequestOffset?b.earliestSkipRequestOffset:a.earliestSkipRequestOffset};});l=f.Nka(p);"number"===typeof l&&(q=h+l);t=a.defaultNext;b.P(t)&&(t=Object.keys(p)[0]);l=b.P(t);q=f.B_(k,0,h,n,t,p,l,q,a.transitionDelayZones);h<=c&&(c<n||b.P(n))?f.Ak=q:h>c&&(!d||h<g)&&(d=k,g=h);l&&f.bQ.push(q);});this.Ak||(this.Ak=d?this.Tj[d]:this.Tj[a.initialSegment]);};a.prototype.Nka=function(a){var c,d;d=0;b.Rc(a,function(a){var b,g;b=a.weight||0;d+=0<b?1:0;g=a.earliestSkipRequestOffset;0<b&&a.transitionHint===f.xQa.IHa&&"number"===typeof g&&(void 0===c||c>g)&&(c=g);});return 1<d&&c;};a.prototype.SO=function(a,b,f,d,g){a=new c.bGa(this.S,this,this.pe,a,b,f,d,g);this.ul.push(a);return a;};return a;}();d.cGa=g;},function(g,d,a){var b,f,h,p,c,k,q,n,l,m,r,K,x,I,G,N,T,S,V,D,Q,W,ca,B,F,ja,Y,da,ea;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(7);h=a(707);p=a(196);c=a(697);k=a(11);q=a(692);n=a(24);l=a(361);m=a(691);r=a(674);K=a(673);x=a(349);I=a(671);G=a(151);N=a(6);T=N.Nw;S=N.sk;V=N.Promise;D=N.MediaSource;Q=a(84);W=a(26);a(13);ca=a(669);B=a(668);F=a(667);ja=a(666);Y=a(665);da=a(664);g=a(45);ea=a(197).OCb;a=function(a){var b0U;b0U=2;function d(b,d,g,p,l,t,u,y,A){var W0U,x,k7o,C7o,w7o,s7o,X7o,L7o,W7o,m7o,E5U;W0U=2;while(W0U!==84){k7o="m";k7o+="anagerd";k7o+="ebug";k7o+="event";C7o="m";C7o+="e";C7o+="diacache";w7o="s";w7o+="treamin";w7o+="gFailure";s7o="me";s7o+="d";s7o+="ia|as";s7o+="ej";s7o+="s";X7o="A";X7o+="S";X7o+="E";X7o+="J";X7o+="S";L7o="1";L7o+="SIYbZrN";L7o+="JCp9";W7o="SideChannel:";W7o+=" pbcid/xid i";W7o+="s missing.";m7o="i";m7o+="nac";m7o+="tive";switch(W0U){case 70:W0U=A.n4&&x.pe.BT?69:66;break;case 34:x.jg=new W.rZ(k.Ia.fh);x.Jm=d.duration;x.tH=p||0;W0U=31;break;case 37:x.ap=new da.UQa(x);x.Th=new F.OIa(x);x.TC=new B.NIa(x);W0U=53;break;case 51:W0U=(A.zca||A.zw)&&x.ob.Sg?50:49;break;case 31:x.kP=0;x.lP=0;x.Fd=0;x.n_=u;x.Ox=!1;x.QP=!1;x.VG=void 0;W0U=41;break;case 69:l=A.kdb;for(var O in l){g=l[O];l.hasOwnProperty(O)&&g&&(x.G[O]=g);}W0U=67;break;case 75:g.Ux=!0;x.Na=[g];x.pe=new m.aFa(x,t,x.ob.Nd,A,x.Jwa(),p);W0U=72;break;case 41:x.Dla=0;x.rP=-1;x.g0=Object.create(null);x.Lf=new n.Pw();W0U=37;break;case 72:x.ula=x.pe.Qjb.bind(x.pe);x.Nd.addEventListener(m7o,x.ula);W0U=70;break;case 53:W0U=A.bf&&x.ob.Sg?52:51;break;case 49:A.ro&&(t&&t.XU&&t.oa?x.Xn=new r.aRa(t.XU,{oa:t.oa,JR:t.JR,thb:A.eO.mx,U_a:A.eO.lv},x):x.Ja.rq(W7o));A.sy&&(x.kP=x.tH+A.PCa,x.lP=N.time.ea());p=Math.floor(1E6*Math.random());x.qo=0===p%A.N6&&0<A.MJ.length;t&&t.Vf&&(x.qo=!1,A.Zu&&!A.f7a&&(A.set?A.set({enableAdaptiveParallelStreaming:!1}):A.Zu=!1));x.o4=x.qo&&0===p%A.M6;x.Pl=0===p%A.iC;W0U=63;break;case 20:x.dj=t;x.gH=y;A=x.xpa.HSa(d,A);A.sy&&(f.P(A.U6)||0===A.U6.length||-1===A.U6.indexOf(String(d.movieId)))&&(A.sy=!1);W0U=16;break;case 2:x=a.call(this)||this;L7o;x.N=new N.Console(X7o,s7o,"("+t.sessionId+")");W0U=3;break;case 88:p4UU.G7o(0);E5U=p4UU.V7o(14,4,999990);x.Pl=0===Math.floor(E5U*Math.random())%A.iC;x.Pl&&(x.ima=new I.mQa(x,A));Q.call(x);W0U=85;break;case 63:x.ie=new q.jKa(x,x.Ja,x.Th,x.ap,x.N,b,x.G);x.Lf.on(x.ie,w7o,function(a){var J0U;J0U=2;while(J0U!==1){switch(J0U){case 2:x.pi(a.msg,a.manifestIndex);J0U=1;break;}}});x.Ze=[];t=x.UO(d).Vbb();p=null;W0U=58;break;case 3:x.Dc=x.N.error.bind(x.N);x.ma=x.N.warn.bind(x.N);x.dc=x.N.trace.bind(x.N);W0U=7;break;case 13:x.Hv=new ja.HLa(x);x.Yn=[!0,!0];l.ALb?x.Yn[k.I.AUDIO]=!1:l.jEb&&(x.Yn[k.I.VIDEO]=!1);x.ob=b;W0U=20;break;case 58:A.WI&&(p=x.ob.ft.ru);A.WR&&(x.$P=new ea(A.Ifa.c,A.Ifa.maxc));g=c.PA.p6(d,g);W0U=55;break;case 67:x.pe.rca(x.G);W0U=66;break;case 7:x.cb=x.N.log.bind(x.N);x.Ja=new Y.JNa(x);x.xpa=new ca.fHa(x.N);W0U=13;break;case 85:return x;break;case 55:g=c.PA.sJ(x,d,{ga:0,tBa:g,Vh:l.Vh,IQ:x.Lja,V:0,da:l.da,i3:function(a){var g0U;g0U=2;while(g0U!==1){switch(g0U){case 2:return x.UO(a);break;case 4:return x.UO(a);break;g0U=1;break;}}},y6:x.U_,gba:x.Xn});g.Vh=l.Vh;g.Wx=!0;W0U=75;break;case 26:x.z_=l.tC;b=l.rF;x.gYa=l.OW;x.GB=l.p8;x.LB=l.aV;x.Fx=void 0;x.UTa=N.time.ea()+l.sGb;W0U=34;break;case 50:x.Lf.on(x.ob.Sg,C7o,function(a){var Z0U,U7o;Z0U=2;while(Z0U!==1){U7o="me";U7o+="d";U7o+="i";U7o+="aca";U7o+="che";switch(Z0U){case 2:W.ka(x,U7o,a);Z0U=1;break;case 4:W.ka(x,"",a);Z0U=6;break;Z0U=1;break;}}});W0U=49;break;case 66:x.wa=new h.cGa(x,x.pe,d.choiceMap,x.tH,A);x.gb=new K.jRa(x,A);x.qo&&x.jg.addListener(function(a){var o1U,P1U;o1U=2;while(o1U!==1){switch(o1U){case 2:try{P1U=2;while(P1U!==1){switch(P1U){case 2:x.gb.$tb.bind(x.gb)(a);P1U=1;break;}}}catch(Xa){var y7o;y7o="Hindsight: Error when adding ";y7o+="updateP";y7o+="laySegment";y7o+=" Listener: ";p4UU.G7o(1);x.Ja.rq(p4UU.a7o(y7o,Xa));}o1U=1;break;}}});W0U=88;break;case 52:x.Lf.on(x.ob.Sg,k7o,function(a){var H0U;H0U=2;while(H0U!==1){switch(H0U){case 4:W.ka(x,a.type,a);H0U=8;break;H0U=1;break;case 2:W.ka(x,a.type,a);H0U=1;break;}}});W0U=51;break;case 16:x.G=A;x.DP=l.p$;x.zk=l.Vh;W0U=26;break;}}}while(b0U!==121){switch(b0U){case 46:d.prototype.play=function(){var d2U;d2U=2;while(d2U!==1){switch(d2U){case 4:this.Hv.play();d2U=7;break;d2U=1;break;case 2:this.Hv.play();d2U=1;break;}}};d.prototype.stop=function(){var F2U;F2U=2;while(F2U!==1){switch(F2U){case 4:this.Hv.stop();F2U=3;break;F2U=1;break;case 2:this.Hv.stop();F2U=1;break;}}};d.prototype.KE=function(a,b){var R2U;R2U=2;while(R2U!==1){switch(R2U){case 4:return this.ap.KE(a,b);break;R2U=1;break;case 2:return this.ap.KE(a,b);break;}}};d.prototype.seek=function(a,b){var f2U;f2U=2;while(f2U!==1){switch(f2U){case 2:return this.ap.seek(a,b);break;case 4:return this.ap.seek(a,b);break;f2U=1;break;}}};d.prototype.Mtb=function(a){var e2U,b,c,d,f,w2U,n7o,J7o,b7o,R7o,M7o;e2U=2;while(e2U!==17){n7o="unde";n7o+="r";n7o+="flow";J7o="bran";J7o+="chO";J7o+="ffset:";b7o="entry";b7o+=".ma";b7o+="n";b7o+="ifestOffset:";R7o="con";R7o+="tentP";R7o+="t";R7o+="s:";M7o="unde";M7o+="rflow: go";M7o+="ing to BUFFERING a";M7o+="t player pts:";switch(e2U){case 8:this.Ze.forEach(function(b){var K2U;K2U=2;while(K2U!==1){switch(K2U){case 2:f=Math.max(0,Math.min(f,b.Mab-a));K2U=1;break;}}});c.sy&&(this.kP=d+c.tsb,this.lP=N.time.ea());this.wa.og.forEach(function(d){var v2U,f,g,o7o,f7o,F7o,O7o,t7o,u7o,r7o,g7o,D7o,v7o,j7o,S7o;v2U=2;while(v2U!==8){o7o="r";o7o+="eb";o7o+="u";o7o+="ffer";f7o=", next";f7o+="Ap";f7o+="pend";f7o+="P";f7o+="ts: ";F7o=", to";F7o+="Ap";F7o+="pe";F7o+="n";F7o+="d: ";O7o=", fr";O7o+="a";O7o+="gments: ";t7o=", complet";t7o+="e";t7o+="Stre";t7o+="am";t7o+="ingPts: ";u7o=",";u7o+=" str";u7o+="eamin";u7o+="gPts:";u7o+=" ";r7o=", pa";r7o+="r";r7o+="tials: ";g7o=", ";g7o+="totalBuff";g7o+="erB";g7o+="yt";g7o+="es: ";D7o=", to";D7o+="talBufferM";D7o+="s: ";v7o=", buf";v7o+="f";v7o+="erLevelBytes";v7o+=": ";j7o=",";j7o+=" mediaTy";j7o+="p";j7o+="e";j7o+=": ";S7o="u";S7o+="n";S7o+="de";S7o+="rfl";S7o+="ow: ";switch(v2U){case 2:f=d.R;c.bf&&(g=b.Ze[f],g=S7o+a+j7o+f+v7o+d.Hu+D7o+d.kF+g7o+d.qt+r7o+d.$a.Yv+u7o+d.ab+t7o+d.ey+O7o+JSON.stringify(d.$a.ca)+F7o+JSON.stringify(g.ri)+f7o+g.xVa);c.bf&&b.Nh(g);d.Mp=!1;c.ro&&b.Xn&&(d=b.Xn,f=b.gb.Bb[f],d.Maa(o7o,f.U7));v2U=8;break;}}});e2U=14;break;case 2:b=this;c=this.G;d=this.zC(this.lL,a);this.ma(M7o,a,R7o,d,b7o,this.yi.ln,J7o,this.wa.Oc);f=c.cU;e2U=8;break;case 14:this.emit(n7o);this.TP(2);this.Th.qh();e2U=11;break;case 11:e2U=this.qo?10:20;break;case 10:try{w2U=2;while(w2U!==1){switch(w2U){case 2:this.v4(k.Ia.Ij);w2U=1;break;case 4:this.v4(k.Ia.Ij);w2U=0;break;w2U=1;break;}}}catch(Jb){var H7o;H7o="H";H7o+="indsight: Error w";H7o+="hen evaluating QoE at ";H7o+="Buf";H7o+="fering: ";p4UU.l7o(1);this.Ja.rq(p4UU.V7o(H7o,Jb));}e2U=20;break;case 20:d=this.ob.Nd.get(!1);d=d.Fc?d.va.Ha:0;f>c.N8a&&d>c.M8a&&this.sH();e2U=17;break;}}};d.prototype.Pi=function(a){var O2U;O2U=2;while(O2U!==1){switch(O2U){case 4:this.ap.Pi(a);O2U=5;break;O2U=1;break;case 2:this.ap.Pi(a);O2U=1;break;}}};d.prototype.Pu=function(a,b,c){var M2U;M2U=2;while(M2U!==1){switch(M2U){case 4:return this.ap.Pu(a,b,c);break;M2U=1;break;case 2:return this.ap.Pu(a,b,c);break;}}};d.prototype.ila=function(a){var j2U,b;j2U=2;while(j2U!==9){switch(j2U){case 2:this.Fd=a;b=this.Na[a];this.Ja.NVa(a,b);this.gb.Mcb(b.replace);j2U=9;break;}}};d.prototype.AH=function(a,b){var T2U,d,g,h,n,p,q,l,t,u,i2o,N2o,Y2o,d2o,A7o,q7o,I7o,E7o,e7o,c7o,x7o,P7o;T2U=2;while(T2U!==38){i2o="addManifest in fastpl";i2o+="ay but not dr";i2o+="m manifest";i2o+=", leaving space";i2o+=" for it";N2o=",";N2o+=" ";Y2o=") la";Y2o+="st";Y2o+="StreamAppended:";Y2o+=" (";d2o=",";d2o+=" ";A7o=" st";A7o+="r";A7o+="e";A7o+="am";A7o+="Count: (";q7o=" p";q7o+="la";q7o+="yerS";q7o+="tate";q7o+=": ";I7o="addManifes";I7o+="t,";I7o+=" currentPts:";I7o+=" ";E7o="bo";E7o+="ole";E7o+="a";E7o+="n";e7o="vi";e7o+="deo_t";e7o+="racks";c7o="aud";c7o+="io_tra";c7o+="cks";x7o="addManifest: pi";x7o+="peli";x7o+="nes already shut";x7o+="down";P7o="addManifest i";P7o+="gnored, pipel";P7o+="ines alre";P7o+="ady se";P7o+="t EOS:";switch(T2U){case 4:T2U=this.ze()?3:9;break;case 14:this.ma(P7o,n.ar,h.ar);T2U=38;break;case 6:T2U=this.Qh&&n.ar||this.eg&&h.ar?14:13;break;case 9:h=this.wa.og;n=h[k.I.AUDIO];T2U=7;break;case 19:p=b.V||0;q=b.da;T2U=17;break;case 43:T2U=this.Qh&&f.P(b)||this.eg&&f.P(p)?42:41;break;case 3:this.ma(x7o);T2U=38;break;case 42:return!0;break;case 17:this.ie.bob(function(a,b){var z2U;z2U=2;while(z2U!==1){switch(z2U){case 2:a?d.ie.Uka(b):d.iE(b);z2U=1;break;}}});l=b.btb||[this.yi.GS(0),this.yi.GS(1)];l=c.PA.p6(a,l);T2U=27;break;case 1:d=this;g=this.G;T2U=4;break;case 27:t=c.PA.sJ(this,a,{ga:n,tBa:l,Vh:!1,IQ:this.Lja,V:p,da:q,i3:function(a){var C2U;C2U=2;while(C2U!==1){switch(C2U){case 4:return d.UO(a);break;C2U=1;break;case 2:return d.UO(a);break;}}},y6:this.U_,gba:this.Xn,wAa:b.replace?this.Na[this.Na.length-1]:void 0});a=[c7o,e7o];u=this.R5();T2U=24;break;case 22:a=t.tj;t.zK=t.replace;t.tC=b.tC;E7o===typeof b.Wx?(t.Wx=b.Wx,t.Ux=b.Wx):(t.Wx=!0,t.Ux=!0);T2U=33;break;case 28:p=this.gb.Bb[k.I.VIDEO].Io;g.bf&&this.Nh(I7o+this.cf()+q7o+this.jg.value+A7o+a[0].Gc.length+d2o+a[1].Gc.length+Y2o+b+N2o+p+")");T2U=43;break;case 2:T2U=1;break;case 33:this.Na[n]&&this.Na[n].Vd();this.Na[n]=t;c.PA.Coa(n,this.Na);b.replace||this.wa.YYa(n,p,q);b=this.gb.Bb[k.I.AUDIO].Io;T2U=28;break;case 7:h=h[k.I.VIDEO];T2U=6;break;case 24:b.replace&&a.forEach(function(a,b){var D2U,c,f;D2U=2;while(D2U!==9){switch(D2U){case 5:D2U=c?4:9;break;case 2:c=t.yo(b);D2U=5;break;case 4:f=d.Na[0].yo(b);f&&Object.keys(c).forEach(function(a){var t2U,d;t2U=2;while(t2U!==4){switch(t2U){case 2:d=f[a];d&&d.Tc&&(c[a].iR(d),a=t.cz,a[b]>u[b]&&(u[b]=a[b]));t2U=4;break;}}});D2U=9;break;}}});a.forEach(function(a,b){var N2U,c;N2U=2;while(N2U!==4){switch(N2U){case 2:c=t.yo(b);c&&Object.keys(c).forEach(function(a){var i2U,f;i2U=2;while(i2U!==3){switch(i2U){case 4:c[a].LDa(f,t.Go()?g.Nwa:0);i2U=3;break;case 2:f=d.bk(u)[b];1===b&&0<g.Mv&&(f=Math.min(f,g.Mv));i2U=4;break;}}});N2U=4;break;}}});T2U=22;break;case 13:b||(b={});b.p$&&(this.DP=!0);n=this.Na.length;b.replace&&1!==n?n=1:this.zk&&!b.replace&&1===n&&(this.ma(i2o),n=this.Na[0].clone(this),n.K8a=!0,this.Na.push(n),n=this.Na.length);h=String(a.movieId);T2U=19;break;case 41:this.LP(h,n,a);this.jQ();return!0;break;}}};d.prototype.sQ=function(a){var V2U;V2U=2;while(V2U!==1){switch(V2U){case 4:return this.ap.sQ(a);break;V2U=1;break;case 2:return this.ap.sQ(a);break;}}};d.prototype.NR=function(a){var A2U,b,c,d,g,h2o,T2o,Q2o,Z2o;A2U=2;while(A2U!==13){h2o=" ready";h2o+="State:";h2o+=" ";T2o=" for m";T2o+="ovieI";T2o+="d:";T2o+=" ";Q2o=",";Q2o+=" ";Z2o="drmReady at stream";Z2o+="ing p";Z2o+="ts: ";switch(A2U){case 8:d=d[k.I.VIDEO];c.bf&&this.Nh(Z2o+g.ab+Q2o+d.ab+T2o+a+h2o+b);A2U=6;break;case 1:c=this.G;A2U=5;break;case 2:A2U=1;break;case 5:A2U=!this.ze()?4:13;break;case 6:A2U=(this.g0[a+""]=b)?14:13;break;case 4:f.P(b)&&(b=!0);d=this.wa.og;g=d[k.I.AUDIO];A2U=8;break;case 14:this.Ze.forEach(function(a){var c2U;c2U=2;while(c2U!==5){switch(c2U){case 2:c.Y4&&a.y9a();c.ZW&&a.resume();c2U=5;break;}}}),this.zk&&this.iQ(this.ap.Rj?this.ap.Rj.ga:this.Fd+1),this.ap.O_();A2U=13;break;}}};d.prototype.KJ=function(a,b){var G2U;G2U=2;while(G2U!==5){switch(G2U){case 2:a||(a=this.M);return(b=b&&0<=b?this.Na[b]:this.Na[this.Fd])&&b.tC||this.g0[a];break;}}};d.prototype.Sja=function(a){var Q2U,b,c,d;Q2U=2;while(Q2U!==10){switch(Q2U){case 1:Q2U=a>=this.Na.length?5:4;break;case 4:b=this.wa.og;c=b[k.I.AUDIO];b=b[k.I.VIDEO];Q2U=8;break;case 5:return!1;break;case 2:Q2U=1;break;case 8:c=!c||c.Cg;d=!b||b.Cg;b=this.Na[a];Q2U=14;break;case 13:return!1;break;case 12:a=!this.eg||b.Lb[k.I.VIDEO]&&b.Lb[k.I.VIDEO].stream.Tc;return(!this.Qh||b.Lb[k.I.AUDIO]&&b.Lb[k.I.AUDIO].stream.Tc)&&a?!0:!1;break;case 14:Q2U=!(a===this.Fd+1&&b.replace||c&&d)||!this.g0[b.M]&&!b.tC?13:12;break;}}};b0U=77;break;case 89:d.prototype.zC=function(a,b){var Y3U,c,d;Y3U=2;while(Y3U!==8){switch(Y3U){case 2:void 0===a&&(a=this.lL);d=this.wa.b9a(b,a);Y3U=4;break;case 4:d?c=d.Oc:(d=this.wa.N4(a),0<d.length&&(d=d[0],c=d.Oc));f.qa(c)||(c=this.Na[a].ln);p4UU.G7o(2);return p4UU.V7o(b,c);break;}}};d.prototype.Bpa=function(a,b){var l3U,c,d;l3U=2;while(l3U!==8){switch(l3U){case 9:p4UU.G7o(1);return p4UU.V7o(b,c);break;case 2:void 0===a&&(a=this.lL);d=this.wa.a9a(b,a);d?c=d.Oc:(d=this.wa.N4(a),0<d.length&&(d=d[0],c=d.Oc));f.qa(c)||(c=this.Na[a].ln);l3U=9;break;}}};d.prototype.wta=function(a,b,c){var E3U;E3U=2;while(E3U!==9){switch(E3U){case 5:return b;break;case 1:E3U=!a.length?5:4;break;case 2:a=(c?this.Dka:this.ur).call(this,a.Va,this.Yh(a.ga).Lb,b);E3U=1;break;case 4:b=a[k.I.VIDEO];return c?b.V:b.da;break;}}};d.prototype.Jma=function(a){var u3U,b;u3U=2;while(u3U!==7){switch(u3U){case 2:u3U=1;break;case 1:u3U=a?5:7;break;case 5:b=a[k.I.VIDEO];a=a[k.I.AUDIO];a=!this.Yn[k.I.AUDIO]||a&&a.stream.Tc;u3U=9;break;case 8:return!0;break;case 9:u3U=(!this.Yn[k.I.VIDEO]||b&&b.stream.Tc)&&a?8:7;break;}}};d.prototype.Dka=function(a,b,c,d,f,g){var X3U,h;X3U=2;while(X3U!==4){switch(X3U){case 2:h=this;return this.Jma(b)?[k.I.VIDEO,k.I.AUDIO].map(function(k){var h3U;h3U=2;while(h3U!==9){switch(h3U){case 2:h3U=!h.Yn[k]?1:5;break;case 5:k=a[k].Mra(b[k].stream,c,d,f,g);c=k.V;return k;break;case 1:return{};break;}}}).reverse():[];break;}}};d.prototype.ur=function(a,b,c){var p3U,d;p3U=2;while(p3U!==4){switch(p3U){case 2:d=this;p3U=5;break;case 5:return this.Jma(b)?[k.I.VIDEO,k.I.AUDIO].map(function(f){var k3U;k3U=2;while(k3U!==9){switch(k3U){case 5:f=a[f].d9a(b[f].stream,c);c=f.da;return f;break;case 1:return{};break;case 2:k3U=!d.Yn[f]?1:5;break;}}}).reverse():[];break;}}};d.prototype.jUa=function(a,b){var B3U,c,d;B3U=2;while(B3U!==14){switch(B3U){case 7:B3U=f.P(c.j9)||f.P(this.ie.cla)||f.P(this.ie.dla)||(d=N.time.ea(),!(d-this.ie.cla<c.j9||d-this.ie.dla<c.j9))?6:14;break;case 4:B3U=d&&!d.ca?3:9;break;case 8:return d;break;case 2:c=this.G;d=this.ie.Tk(a.R,b.id);B3U=4;break;case 3:d.dM&&this.ie.Woa(d);B3U=14;break;case 6:this.ie.rI(a,this.M,b,{url:b.url,offset:0}),this.ie.dla=N.time.ea();B3U=14;break;case 9:B3U=d?8:7;break;}}};d.prototype.$t=function(){var a3U;a3U=2;while(a3U!==1){switch(a3U){case 2:return this.wa.af.A2(this.gb.Bb[k.I.VIDEO],this.gb.Bb[k.I.AUDIO],this.eg,this.am(this.jg.value),void 0!==this.lB,this.G.Ji);break;}}};d.prototype.sH=function(){var r3U;r3U=2;while(r3U!==9){switch(r3U){case 2:this.wa.af.Ypb(this.am(this.jg.value));this.wH();this.qB&&(clearTimeout(this.qB),this.qB=void 0);this.jg.set(k.Ia.wd);this.Th.qh();r3U=9;break;}}};d.prototype.tma=function(a,b){var L3U,n3U;L3U=2;while(L3U!==7){switch(L3U){case 9:L3U=this.qo&&a.R===k.I.VIDEO?8:7;break;case 2:a.Cg=!0;a.da=f.qa(b)?b:a.ab;a.ar=!1;a.YQ();this.$t();L3U=9;break;case 8:try{n3U=2;while(n3U!==1){switch(n3U){case 2:this.v4(k.Ia.cB,{da:a.da});n3U=1;break;}}}catch(Aa){var K2o;K2o="Hindsight: Error evaluating";K2o+=" QoE at endOfStrea";K2o+="m: ";p4UU.l7o(1);this.Ja.rq(p4UU.V7o(K2o,Aa));}L3U=7;break;}}};d.prototype.UWa=function(){var d3U,a;d3U=2;while(d3U!==4){switch(d3U){case 2:a=this.ob.Nd;a&&(a=a.get())&&a.avtp&&this.ft.IYa({avtp:a.avtp.Ha});d3U=4;break;}}};d.prototype.FXa=function(a){var F3U,b,c,p2o,z2o,B2o;F3U=2;while(F3U!==8){p2o="startup,";p2o+=" playerStat";p2o+="e no long";p2o+="er";p2o+=" STARTING:";z2o="f";z2o+="ailed to start ";z2o+="au";z2o+="di";z2o+="o pipeline";B2o="faile";B2o+="d to ";B2o+="start video p";B2o+="ipe";B2o+="line";switch(F3U){case 2:this.jg.set(k.Ia.fh);b=this.wa.og;F3U=4;break;case 4:c=b[k.I.AUDIO];b=b[k.I.VIDEO];this.eg&&!this.yma(a,b)?this.ma(B2o):this.Qh&&!this.yma(a,c)?this.ma(z2o):(this.Rla=!0,this.Na[0].D6=!0,c=this.gb.Bb[k.I.VIDEO],b=this.gb.Bb[k.I.AUDIO],(c&&0<c.So||b&&0<b.So)&&this.Ja.HVa(a,b?b.So:0,c?c.So:0,b?b.iL:0,c?c.iL:0),this.jg.value!=k.Ia.fh?this.ma(p2o,this.jg.value):(this.TP(0),this.Qh&&this.Ja.KVa(this.yi.GS(0))));F3U=8;break;}}};d.prototype.yma=function(a,b){var R3U,c,d,a2o,V2o;R3U=2;while(R3U!==13){a2o="NFErr_";a2o+="M";a2o+="C_Str";a2o+="eamingIn";a2o+="itFailure";V2o="startP";V2o+="ipelin";V2o+="e";V2o+=" faile";V2o+="d";switch(R3U){case 4:R3U=f.P(d)?3:9;break;case 3:return this.ze()||this.pi(V2o,b.ga,a2o),!1;break;case 7:return!0;break;case 2:c=b.R;d=this.gb.Nbb(b);R3U=4;break;case 9:d=b.Gc[d];R3U=8;break;case 8:R3U=this.ie.Tk(c,d.id)?7:6;break;case 6:this.ie.rI(b,a,d,{offset:0,oy:!this.zk&&!this.z_&&c===k.I.VIDEO,ys:!this.gb.Bb[c].o9a},d.ga);return!0;break;}}};b0U=103;break;case 2:b.__extends(d,a);Object.defineProperties(d.prototype,{af:{get:function(){var Y1U;Y1U=2;while(Y1U!==1){switch(Y1U){case 2:return this.wa.af;break;case 4:return this.wa.af;break;Y1U=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{M:{get:function(){var l1U;l1U=2;while(l1U!==1){switch(l1U){case 4:return String(this.yi.M);break;l1U=1;break;case 2:return String(this.yi.M);break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{oa:{get:function(){var E1U,l2o;E1U=2;while(E1U!==1){l2o="d";l2o+="epr";l2o+="e";l2o+="cat";l2o+="ed";switch(E1U){case 2:throw Error(l2o);E1U=1;break;case 4:throw Error("");E1U=5;break;E1U=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ve:{get:function(){var u1U;u1U=2;while(u1U!==1){switch(u1U){case 2:return this.jg;break;case 4:return this.jg;break;u1U=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Go:{get:function(){var X1U;X1U=2;while(X1U!==1){switch(X1U){case 4:return this.wa.Go;break;X1U=1;break;case 2:return this.wa.Go;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Ov:{get:function(){var h1U;h1U=2;while(h1U!==1){switch(h1U){case 2:return this.Ne.Pc;break;case 4:return this.Ne.Pc;break;h1U=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Qh:{get:function(){var p1U;p1U=2;while(p1U!==1){switch(p1U){case 2:return this.Yn[k.I.AUDIO];break;case 4:return this.Yn[k.I.AUDIO];break;p1U=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{eg:{get:function(){var k1U;k1U=2;while(k1U!==1){switch(k1U){case 4:return this.Yn[k.I.VIDEO];break;k1U=1;break;case 2:return this.Yn[k.I.VIDEO];break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{attributes:{get:function(){var B1U;B1U=2;while(B1U!==1){switch(B1U){case 2:return this.n_;break;case 4:return this.n_;break;B1U=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{a8:{get:function(){var a1U;a1U=2;while(a1U!==1){switch(a1U){case 4:return this.Lf;break;a1U=1;break;case 2:return this.Lf;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ga:{get:function(){var r1U;r1U=2;while(r1U!==1){switch(r1U){case 2:return this.Fd;break;case 4:return this.Fd;break;r1U=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{lL:{get:function(){var L1U;L1U=2;while(L1U!==1){switch(L1U){case 4:return 4>=this.rP?this.rP:4;break;L1U=1;break;case 2:return 0<=this.rP?this.rP:0;break;}}},enumerable:!0,configurable:!0}});b0U=10;break;case 106:d.prototype.qXa=function(a,b){var t4U;t4U=2;while(t4U!==1){switch(t4U){case 2:this.gb.Bb[a.R].Io={id:b.id,index:b.Jf,O:b.O,va:b.La&&b.La.Fc&&b.La.va?b.La.va.Ha:0,location:b.location};t4U=1;break;}}};d.prototype.o7=function(a){var N4U,b,c,d,f;N4U=2;while(N4U!==13){switch(N4U){case 6:a&&d&&(a=d[k.I.VIDEO],d=d[k.I.AUDIO],a&&d&&(b.atoappend=JSON.stringify(a.ri),b.vtoappend=JSON.stringify(d.ri)));N4U=14;break;case 2:b={};N4U=5;break;case 3:N4U=c?9:14;break;case 5:c=this.wa.og;d=this.Ze;N4U=3;break;case 9:f=c[k.I.VIDEO];c=c[k.I.AUDIO];f&&c&&(b.vspts=f.ab,b.aspts=c.ab,b.vbuflbytes=f.Hu,b.abuflbytes=c.Hu,b.vbuflmsec=f.Be,b.abuflmsec=c.Be,a&&(b.a=c.$a.ca.toJSON(),b.v=f.$a.ca.toJSON()));N4U=6;break;case 14:return b;break;}}};d.prototype.Xbb=function(a){var y4U,b,c,d,f,g,k;y4U=2;while(y4U!==13){switch(y4U){case 5:y4U=b?4:13;break;case 4:c=this.gb.Bb[a];d=b.qt;c=c.Io?c.Io.O:0;f=b.$a.Nya;y4U=7;break;case 7:g=this.wa.Oc;k=this.bk()[a];return{type:a,availableMediaBuffer:k-d,completeBuffer:b.Be,incompleteBuffer:f,playbackBitrate:b.dza,streamingBitrate:c,streamingTime:b.ab+g,usedMediaBuffer:d,toappend:b.avb};break;case 2:b=this.wa.af.Qg(a);y4U=5;break;}}};d.prototype.nob=function(){var q4U,a,G2o;q4U=2;while(q4U!==4){G2o="requestGarbageColl";G2o+="e";G2o+="ct";G2o+="ion";switch(q4U){case 2:a={type:G2o,time:N.time.ea()};W.ka(this,a.type,a);q4U=4;break;}}};d.prototype.Nh=function(a){var S4U,W2o,m2o;S4U=2;while(S4U!==5){W2o=",";W2o+=" ";m2o="mana";m2o+="gerd";m2o+="ebug";m2o+="e";m2o+="vent";switch(S4U){case 2:a={type:m2o,message:"@"+N.time.ea()+W2o+a};W.ka(this,a.type,a);S4U=5;break;}}};d.prototype.pi=function(a,b,c,d,g,k){var U4U,L2o;U4U=2;while(U4U!==1){L2o="NFErr_";L2o+="MC_Stream";L2o+="ingFailure";switch(U4U){case 2:this.Ox||(f.P(c)&&(c=L2o),this.Ox=!0,this.Ja.ZVa(c,a,d,g,k,b));U4U=1;break;}}};d.prototype.U_=function(){var s4U,X2o;s4U=2;while(s4U!==3){X2o="N";X2o+="etwork";X2o+=" failures reset!";switch(s4U){case 2:this.ma(X2o);this.Ox=!1;this.d1();s4U=4;break;case 4:this.Th.qh();s4U=3;break;case 14:this.Th.qh();s4U=8;break;s4U=3;break;}}};d.prototype.JWa=function(a){var m4U,b;m4U=2;while(m4U!==9){switch(m4U){case 3:return this.oQ[a];break;case 2:b=this.G.$K.fallbackBound;void 0===this.oQ&&(this.oQ=[]);void 0===this.oQ[a]&&(this.oQ[a]=Math.floor(2*Math.random()*b)-b);m4U=3;break;}}};d.prototype.vUa=function(a,b){var x4U;x4U=2;while(x4U!==1){switch(x4U){case 2:this.n_[a.R]=this.ob.Asa(b);x4U=1;break;}}};d.prototype.oTa=function(a,b,c,d){var I4U,f,g,h,n,q,w2o,s2o;I4U=2;while(I4U!==20){w2o="st";w2o+="a";w2o+="r";w2o+="t";w2o+="play";s2o="l";s2o+="ogd";s2o+="ata";switch(I4U){case 2:p.wm.dn(a);f=this.Na[b];g=f.Jo;I4U=3;break;case 6:f=h.location===h.jV;n=h.Qb===h.y$;d&&h.Qb&&!c.Uy?(q=k.Le.Ut,h.kl=k.Le.name[q],this.Ja.Cla(b,a,h.Qb,h.kl,h.location,h.O),c.Uy=h.Qb):!d&&h.Qb&&h.Qb!==c.Uy&&(q=h.kl,q=n?void 0===c.Uy?k.Le.Ut:g.NE===k.Le.yZ?k.Le.zQa:k.Le.nX:k.Le.yQa,h.kl=k.Le.name[q],this.Ja.Cla(b,a,h.Qb,h.kl,h.location,h.O),c.Uy=h.Qb);c.ID||(n={type:s2o,target:w2o,fields:{}},a===k.I.AUDIO?n.fields.alocid=h.location:a===k.I.VIDEO&&(n.fields.locid=h.location),this.emit(n.type,n));d&&h.location&&!c.ID?(q=k.Le.Ut,h.kl=k.Le.name[q],this.Ja.Ala(b,a,h.location,h.e8,h.Qb,h.Xz,h.kl,h.wq),c.ID=h.location):!d&&h.location&&h.location!==c.ID&&(q=h.kl,q=f?void 0===c.ID?k.Le.Ut:g.NE===k.Le.yZ?k.Le.BLa:k.Le.nX:k.Le.ALa,h.kl=k.Le.name[q],this.Ja.Ala(b,a,h.location,h.e8,h.Qb,h.Xz,h.kl,h.wq),h.wq=void 0,c.ID=h.location);I4U=10;break;case 3:h=f.Zp(a,c);c=this.gb.Bb[a];I4U=8;break;case 7:f=g.Q5().filter(function(a){var b4U,u5U;b4U=2;while(b4U!==1){switch(b4U){case 4:p4UU.G7o(3);u5U=p4UU.a7o(76,16,6,8,7,43);return u5U===a.mc[h.id];break;b4U=1;break;case 2:return void 0!==a.mc[h.id];break;}}})[0],n=f.children.filter(function(a){var W4U;W4U=2;while(W4U!==1){switch(W4U){case 2:return a.Yc.some(function(a){var Z4U;Z4U=2;while(Z4U!==1){switch(Z4U){case 4:return a.stream.id!=h.id;break;Z4U=1;break;case 2:return a.stream.id===h.id;break;}}});break;}}})[0],h.jV=f.id,h.y$=n.id;I4U=6;break;case 8:I4U=void 0===h.jV||void 0===h.y$?7:6;break;case 10:this.G.Uo||(h.Mva=h.location,h.Nva=h.Qb);I4U=20;break;}}};d.prototype.vz=function(a){var J4U,C2o;J4U=2;while(J4U!==1){C2o="req";C2o+="uestError ignored,";C2o+=" pipelines shutdown, mediaRequest:";switch(J4U){case 2:this.ze()?this.ma(C2o,a):(a.Tb||this.Ja.$xa(a.$f,this.Na[a.ga],a.Ua,a.tc),this.oTa(a.R,a.ga,a.Ua,a.Tb),this.R0(a,a.location,a.Xc));J4U=1;break;}}};d.prototype.Wv=function(a){var o5U,U2o;o5U=2;while(o5U!==1){U2o="o";U2o+="nfirstbyte ignored";U2o+=", pipelines";U2o+=" shutdown, mediaRequest:";switch(o5U){case 2:this.ze()?this.ma(U2o,a):a.x1||(this.gb.Bb[a.R].connected=!0);o5U=1;break;}}};d.prototype.WK=function(a){var P5U,b,k2o,y2o;P5U=2;while(P5U!==7){k2o="onprogress ignored, pipelines s";k2o+="hut";k2o+="do";k2o+="wn, me";k2o+="diaRequest:";y2o="requestPr";y2o+="o";y2o+="gr";y2o+="ess";switch(P5U){case 2:P5U=1;break;case 1:P5U=this.ze()?5:4;break;case 9:this.G.WR&&this.$P.push(a.JT);this.emit(y2o,{timestamp:b,url:a.url});P5U=7;break;case 5:this.ma(k2o,a);P5U=7;break;case 4:b=this.jc;this.pe.qya(this.Gd-this.Mi,a.Aj,b);P5U=9;break;}}};b0U=124;break;case 77:d.prototype.jQ=function(){var y2U;y2U=2;while(y2U!==1){switch(y2U){case 2:this.iQ(this.Fd+1);y2U=1;break;case 4:this.iQ(this.Fd%2);y2U=3;break;y2U=1;break;}}};d.prototype.iQ=function(a){var q2U,b;q2U=2;while(q2U!==14){switch(q2U){case 5:return!1;break;case 1:q2U=!this.Sja(a)?5:4;break;case 3:q2U=b.K8a||!b.replace?9:8;break;case 4:b=this.Na[a];q2U=3;break;case 9:return!1;break;case 8:this.LXa(a);this.Th.qh();return!0;break;case 2:q2U=1;break;}}};d.prototype.LXa=function(a){var S2U,b,c,d,f,v2o,j2o,S2o;S2U=2;while(S2U!==15){v2o=",";v2o+=" ";j2o=",";j2o+=" streami";j2o+="ngPts: ";S2o="switc";S2o+="hMa";S2o+="nifest manifestIndex: ";switch(S2U){case 2:b=this.Na[a];c=this.wa.af;S2U=4;break;case 17:this.ap.O_();this.Th.qh();S2U=15;break;case 10:c.i7(a);[k.I.VIDEO,k.I.AUDIO].forEach(function(a){var U2U,d;U2U=2;while(U2U!==4){switch(U2U){case 2:d=c.Qg(a);d&&!b.replace&&(b.wo?d.uob(b.wo[a]):(a=b.Hz[a],d.vob(a)));U2U=4;break;}}}.bind(this));this.ila(a);b.tca(a,this.G,this.Qh,this.eg,this.wa,this.ur.bind(this),this.Ja,this.ma);S2U=17;break;case 4:d=c.Qg(k.I.AUDIO);d=d?d.ab:void 0;f=c.Qg(k.I.VIDEO);f=f?f.ab:void 0;this.G.bf&&this.Nh(S2o+a+j2o+d+v2o+f);d=this.zk;S2U=14;break;case 14:this.zk=!1;b.Wx&&(b.Ux=!0);f=this.Fd;d?this.wa.cob(f,a):c.iqb(a);S2U=10;break;}}};d.prototype.Ejb=function(){var s2U,a,b,c,D2o;s2U=2;while(s2U!==13){D2o="onAudioTrackSwitchStarted ignored";D2o+=", no";D2o+=" audio pipeline";switch(s2U){case 5:s2U=a?4:14;break;case 8:this.FWa(a);c.wF=!1;s2U=6;break;case 4:b=this.cf();c=this.gb.Bb[a.R];(b=a.$a.iD(b))&&b.$f!=a&&(a=b.$f);s2U=8;break;case 6:this.Th.qh();s2U=13;break;case 2:a=this.wa.af.Qg(k.I.AUDIO);s2U=5;break;case 14:this.ma(D2o);s2U=13;break;}}};d.prototype.osb=function(a){var m2U,b,c,d,f,o2o,f2o,F2o,O2o,t2o,u2o,r2o,g2o;m2U=2;while(m2U!==22){o2o="switchTracks rejected, audio dis";o2o+="a";o2o+="bled";f2o="sw";f2o+="itchTracks rejected";f2o+=",";f2o+=" bufferLevelMs";F2o="switchTracks ca";F2o+="n't find";F2o+=" ";F2o+="trac";F2o+="kId:";O2o="switchTracks rejected, previous";O2o+=" switch st";O2o+="ill waiting to start";t2o="switchTracks reject";t2o+="ed, previous swit";t2o+="ch still ";t2o+="in progress:";t2o+=" ";u2o=" ";u2o+="t";u2o+="o: ";r2o="sw";r2o+="itchTracks c";r2o+="urre";r2o+="nt: ";g2o="switchT";g2o+="ra";g2o+="cks reje";g2o+="cted, b";g2o+="uffering";switch(m2U){case 27:return!1;break;case 12:d=this.wa.Ay(k.I.VIDEO);m2U=11;break;case 7:return this.ma(g2o),!1;break;case 26:b.bf&&this.Nh(r2o+f+u2o+d.fb);c.EU={fb:a};this.EXa(this.wa.af.Qg(k.I.AUDIO));m2U=23;break;case 16:f=this.yi.Rsa(0);m2U=15;break;case 9:return this.ma(t2o+JSON.stringify(this.lB)),!1;break;case 14:m2U=c.wF?13:12;break;case 20:a=a.jC;d=this.yi.TS(a);m2U=18;break;case 13:return this.ma(O2o),!1;break;case 2:b=this.G;m2U=5;break;case 17:return this.ma(F2o,a),!1;break;case 6:c=this.gb.Bb[k.I.AUDIO];m2U=14;break;case 10:return this.ma(f2o,d,"<",b.pU),!1;break;case 4:return this.ma(o2o),!1;break;case 8:m2U=this.am(this.jg.value)?7:6;break;case 23:return!0;break;case 3:m2U=this.lB?9:8;break;case 11:m2U=d<b.pU?10:20;break;case 15:m2U=f===d.fb?27:26;break;case 18:m2U=!d?17:16;break;case 5:m2U=!this.Qh?4:3;break;}}};d.prototype.bW=function(a){var x2U;x2U=2;while(x2U!==5){switch(x2U){case 2:this.Lja=a;this.wa.bW(a);x2U=5;break;}}};d.prototype.iD=function(a,b,c){var I2U;I2U=2;while(I2U!==1){switch(I2U){case 2:return this.wa.zj.Va[b].$a.iD(a,void 0,c);break;}}};d.prototype.pC=function(a){var b2U;b2U=2;while(b2U!==1){switch(b2U){case 2:return this.ap.pC(a);break;case 4:return this.ap.pC(a);break;b2U=1;break;}}};d.prototype.v4=function(a,b){var W2U,c,d;W2U=2;while(W2U!==8){switch(W2U){case 2:c=this.gb;a=c.M4(a,b);W2U=4;break;case 4:d=this.pe.K$;a&&!a.eC&&d.u4(a);b?c.jaa():(b=d.y$a(),this.Ja.JVa(b));W2U=8;break;}}};d.prototype.Fka=function(a,b){var i6k=p4UU;var H2U,c,d,f,R2o,M2o,X5U;H2U=2;while(H2U!==14){R2o=" ";R2o+="returning index:";R2o+=" ";M2o="findNewStreamIndex unable";M2o+=" to find stre";M2o+="am for bitrate: ";switch(H2U){case 5:H2U=(d=a[f],d.df&&!d.Rg&&d.inRange)?4:8;break;case 2:i6k.l7o(4);X5U=i6k.a7o(16,111,7);f=a.length-X5U;H2U=1;break;case 1:H2U=0<=f?5:7;break;case 4:H2U=d.O<=b?3:9;break;case 3:return f;break;case 9:c=f;H2U=8;break;case 8:--f;H2U=1;break;case 7:i6k.G7o(5);this.ma(i6k.V7o(M2o,c,b,R2o));H2U=6;break;case 6:return c;break;}}};d.prototype.qTa=function(a){var Z2U,b;Z2U=2;while(Z2U!==3){switch(Z2U){case 2:b=this.gb.Bb[a.R];b.Hi&&b.Hi.WQ&&(b.Hi.WQ=void 0);Z2U=4;break;case 4:a.IL&&(b.Io=void 0,b.Hi=void 0,b.kJ=void 0,b.Tl=void 0,a.IL=void 0);Z2U=3;break;}}};d.prototype.D0a=function(a,b,c){var J2U;J2U=2;while(J2U!==1){switch(J2U){case 2:return this.Na[b].C0a(k.I.VIDEO,a,c||!1);break;}}};d.prototype.sx=function(a,b,c,d,f){var g2U,g,h,n,p,q;g2U=2;while(g2U!==8){switch(g2U){case 2:g=this.Na[a];d&&(n=d.Va[k.I.VIDEO].Zh.da,p=d.Va[k.I.AUDIO].Zh,d=p.da,h=d-n,f||(n=void 0),p=d-p.V);q=this.Dka(c.Va,g.Lb,b,n,h,p);g2U=3;break;case 3:a===this.wa.FC&&[k.I.VIDEO,k.I.AUDIO].forEach(function(a){var o3U,b;o3U=2;while(o3U!==4){switch(o3U){case 2:b=c.Qg(a);b&&(b.Bf=q[a]);o3U=4;break;}}});return{Hz:q.map(function(a){var P3U;P3U=2;while(P3U!==1){switch(P3U){case 4:return a.V;break;P3U=1;break;case 2:return a.V;break;}}}),wo:q};break;}}};b0U=89;break;case 103:d.prototype.TP=function(a,b){var f3U,c,d,f,g;f3U=2;while(f3U!==20){switch(f3U){case 2:c=this;d=this.G;f=this.gb.Bb[k.I.AUDIO]||{};g=this.gb.Bb[k.I.VIDEO]||{};f.bI=void 0;f3U=8;break;case 8:g.bI=void 0;this.QP=!1;f3U=6;break;case 6:this.jg.set(2===a?k.Ia.St:k.Ia.Ij);this.Ja.EVa(b);this.wa.og.forEach(function(b){var e3U;e3U=2;while(e3U!==5){switch(e3U){case 2:b.j2=0;b.seeking=0===a||1===a;e3U=5;break;}}});this.u_=N.time.ea();f.Jl=g.Jl=this.u_;f3U=10;break;case 10:0===a&&(!this.eg||0<g.So)&&(!this.Qh||0<f.So)&&(b=this.$t())&&d.yR?(this.Fx&&(clearTimeout(this.Fx),this.Fx=void 0),this.B0=!0):(d.WI&&(this.K_=setTimeout(function(){var K3U;K3U=2;while(K3U!==1){switch(K3U){case 2:c.UWa();K3U=1;break;case 4:c.UWa();K3U=2;break;K3U=1;break;}}},d.j4)),this.am(this.jg.value)&&(this.qB=setTimeout(function(){var v3U;v3U=2;while(v3U!==1){switch(v3U){case 4:c.$t();v3U=5;break;v3U=1;break;case 2:c.$t();v3U=1;break;}}},d.uE)),this.Th.qh());f3U=20;break;}}};d.prototype.am=function(a){var w3U;w3U=2;while(w3U!==1){switch(w3U){case 2:return a===k.Ia.Ij||a===k.Ia.St;break;}}};d.prototype.kQ=function(a){var O3U,b,b2o;O3U=2;while(O3U!==4){b2o="wipeH";b2o+="eaderC";b2o+="ache:";switch(O3U){case 2:b=this.G;b.w9||(b.bf&&this.Nh(b2o+a),this.ob.yoa(),this.wf&&(this.wf=void 0));O3U=4;break;}}};d.prototype.Rja=function(a){var M3U,b,c,d,g,E2o,n2o;M3U=2;while(M3U!==14){E2o="c";E2o+="a";E2o+="t";E2o+="c";E2o+="h";n2o="checkForH";n2o+="c";n2o+="dStart";switch(M3U){case 3:return this.ob.k0a(),V.resolve();break;case 2:b=this;M3U=5;break;case 5:c=this.G;M3U=4;break;case 9:d=function(a,b){var j3U,c,d,g,h,n,p,J2o;j3U=2;while(j3U!==13){J2o="adoptPipeline ";J2o+="no";J2o+=" header for streamI";J2o+="d:";switch(j3U){case 2:g=a.R;j3U=5;break;case 6:j3U=this.ie.Yma(a,this.Fd,p.aq,n,!0)?14:13;break;case 5:h=this.gb.Bb[g];n=!this.zk&&!this.z_&&g===k.I.VIDEO;p=b[g];j3U=9;break;case 9:j3U=p&&(d=p.Ua,c=p.aq.stream,f.P(b.en)||this.pe.QBa(b.en,b.Zl,b.Vk),h.Eo=b.Eo,h.Tl=b.Tl,h.Ydb=b.en,a.Nub(d))?8:13;break;case 7:a.Dc(J2o,d);j3U=13;break;case 8:j3U=!p.aq?7:6;break;case 14:return b=this.ie.Tk(g,d).ca,b=b.Bi(a.ab,void 0,!0),n=c.pg(b),c=n.V,a.$L()&&(n=n.kS(a.ab))&&0<n.Cd&&(c=n.Cd),a.ab!==c&&(a.ab=c,a.rg=b,this.Q0(g,c)),this.DSa(a,p.data),h.o9a=!0,g===k.I.AUDIO&&this.pe.RE(p.aq.O),d;break;}}}.bind(this);this.Ja.Dr(n2o);this.Na.forEach(function(b){var T3U;T3U=2;while(T3U!==1){switch(T3U){case 2:G.HH(b.M,a)&&(g=b);T3U=1;break;}}});return this.ob.Sg.Fgb(a,g?g.tj:[]).then(function(a){var z3U,g,h,n,c2o,x2o,P2o,H2o;z3U=2;while(z3U!==10){c2o="a";c2o+="do";c2o+="ptHcdEn";c2o+="d";x2o="c";x2o+="heck";x2o+="ForH";x2o+="c";x2o+="dEnd";P2o="ad";P2o+="o";P2o+="ptHcd";P2o+="Start";H2o="heade";H2o+="r";H2o+="CacheDataNotFound";switch(z3U){case 4:c.DH||b.kQ(H2o);z3U=10;break;case 3:g=b.wa.og;h=g[k.I.AUDIO];g=g[k.I.VIDEO];z3U=7;break;case 7:b.Ja.Dr(P2o);n=!0;b.eg&&(n=d(g,a));z3U=13;break;case 2:b.Ja.Dr(x2o);z3U=5;break;case 11:b.Ja.Dr(c2o);z3U=10;break;case 5:z3U=f.P(a)?4:3;break;case 13:!b.Qh||c.fdb&&!n||d(h,a);b.Xka=a;z3U=11;break;}}}).then(function(){var C3U,e2o;C3U=2;while(C3U!==1){e2o="adopted";e2o+="CompletedReque";e2o+="s";e2o+="ts";switch(C3U){case 2:c.DH||b.wf&&0!==b.wf.length||b.kQ(e2o);C3U=1;break;}}})[E2o](function(a){var D3U,I2o;D3U=2;while(D3U!==1){I2o="headerCache";I2o+=":lookupDataPromis";I2o+="e caught error:";switch(D3U){case 4:b.ma("",a);D3U=8;break;D3U=1;break;case 2:b.ma(I2o,a);D3U=1;break;}}});break;case 4:M3U=!this.gYa||!this.ob.Sg?3:9;break;}}};d.prototype.DSa=function(a,b){var t3U,d,n,p,c,g,h,q,A2o,q2o;t3U=2;while(t3U!==19){A2o="ado";A2o+="ptData, not adopting fa";A2o+="iled mediaRequ";A2o+="est:";q2o="ado";q2o+="ptData, not ";q2o+="adopting aborted ";q2o+="mediaRequest:";switch(t3U){case 7:d=a.R,n=this.gb.Bb[d];t3U=6;break;case 5:c=this.Na[0];d=a.cd;g=d.ya;t3U=9;break;case 9:h=Math.min(c.da||Infinity,d.da||Infinity);this.l_=!0;t3U=7;break;case 12:p&&this.Wka(p);this.l_=!1;t3U=10;break;case 6:t3U=0<b.length?14:12;break;case 10:t3U=p||this.wf&&this.wf.length?20:19;break;case 13:7===q.readyState?a.ma(q2o,q.toString()):6===q.readyState?(a.ma(A2o,q.toString()),this.Wt(a,q,!1)):a.ab>=q.Mc&&a.ab<q.Wd&&(a.ab<h||!f.qa(h))?(this.ESa(a,q),a.ab=q.Wd,f.qa(h)&&a.ab>=h&&this.Ja.t0(g,q.Wd),d===k.I.AUDIO&&this.pe.RE(q.O),q.complete?(n.So+=q.duration,q.hgb&&(n.iL+=q.duration),p=q):(this.wf||(this.wf=[]),this.wf.push(q))):this.Wt(a,q,!1);t3U=6;break;case 2:t3U=1;break;case 14:q=b.shift();t3U=13;break;case 1:t3U=0!==b.length?5:19;break;case 20:b=this.dP(d,a.cd.ga,a.ab),void 0!==b?(a.rg=b,a.Bf=c.Lb[d].stream.pg(a.rg)):a.rg=a.Zh?a.Zh.index+1:a.rg+1;t3U=19;break;}}};d.prototype.ESa=function(a,b){var N3U,c,N8o,Y8o,d8o;N3U=2;while(N3U!==9){N8o=", ";N8o+="p";N8o+="ts";N8o+=":";N8o+=" ";Y8o=",";Y8o+=" s";Y8o+="tate: ";d8o="adoptMediaRequest: ty";d8o+="pe:";d8o+=" ";switch(N3U){case 2:c=a.R;this.G.bf&&this.Nh(d8o+c+Y8o+b.readyState+N8o+b.Mc);this.Q0(c,b.Mc);N3U=3;break;case 3:a.$a.lZa(this,b);N3U=9;break;}}};d.prototype.LP=function(a,b,c,d,g){var i3U,h,n,p;i3U=2;while(i3U!==7){switch(i3U){case 2:h=this;n=this.Na[b];p=n.Jo;i3U=3;break;case 3:this.wa.og.forEach(function(q){var V3U,l,t,u,Z8o,i8o;V3U=2;while(V3U!==6){Z8o="requestHeaders";Z8o+="FromManifes";Z8o+="t, unable";Z8o+=" to update urls";i8o="reque";i8o+="stHeade";i8o+="rsFromManifest, shutdown";i8o+=" detected";switch(V3U){case 4:t=c[l];V3U=3;break;case 2:l=q.R;V3U=5;break;case 5:V3U=h.Yn[l]&&(f.P(g)||l===g)?4:6;break;case 3:V3U=h.ze()?9:8;break;case 9:h.ma(i8o);V3U=6;break;case 8:u=h.gb.SD(q);(u=p.LW(u,t.Gc))?(t.Gc=u,u=h.gb.Bb[l],u=h.Fka(t.Gc,u.Io?u.Io.O:0),t=t.Gc[u],(u=h.ie.Tk(l,t.id))&&u.ca?n.Vtb(q.R,u):h.ie.rI(q,a,t,{offset:0,dM:!1,oy:l===k.I.VIDEO,ys:!0},b,d)):q.ma(Z8o);V3U=6;break;}}});n.D6=!0;n.QQ(b,this.Na,this.G,this.Qh,this.eg,this.wa,this.sx.bind(this),this.ur.bind(this),this.Ja,this.dc,this.ma);i3U=7;break;}}};d.prototype.dP=function(a,b,c){var A3U,d;A3U=2;while(A3U!==6){switch(A3U){case 2:b=this.Na[b];d=b.Lb[a];A3U=4;break;case 3:A3U=(c=d.ca.Bi(c),-1!==c)?9:6;break;case 8:A3U=(a=b.kC[a])?7:6;break;case 9:return c;break;case 4:A3U=d&&d.stream.Tc?3:8;break;case 7:p4UU.G7o(6);return Math.round(p4UU.a7o(a,c));break;}}};d.prototype.aTa=function(a,b){var c3U;c3U=2;while(c3U!==1){switch(c3U){case 2:a.QQ(b,this.Na,this.G,this.Qh,this.eg,this.wa,this.sx.bind(this),this.ur.bind(this),this.Ja,this.dc,this.ma);c3U=1;break;}}};d.prototype.cYa=function(a,b){var G3U;G3U=2;while(G3U!==1){switch(G3U){case 2:a.tca(b,this.G,this.Qh,this.eg,this.wa,this.ur.bind(this),this.Ja,this.ma);G3U=1;break;}}};d.prototype.L0=function(a,b){var Q3U,c;Q3U=2;while(Q3U!==3){switch(Q3U){case 2:c=this;this.wa.af.reset(a,b);(void 0===b?[k.I.AUDIO,k.I.VIDEO]:[b]).forEach(function(a){var y3U;y3U=2;while(y3U!==4){switch(y3U){case 2:c.Ze[a].reset();c.bXa(a);c.pe.Sjb(a);y3U=4;break;}}});Q3U=3;break;}}};d.prototype.bXa=function(a){var q3U;q3U=2;while(q3U!==8){switch(q3U){case 2:a=this.gb.Bb[a];a.Ev=void 0;a.R7=void 0;a.So=0;q3U=3;break;case 3:a.iL=0;a.connected=!1;q3U=8;break;}}};d.prototype.Q0=function(a,b){var S3U,c,d,Q8o;S3U=2;while(S3U!==8){Q8o="pts";Q8o+="c";Q8o+="h";Q8o+="ang";Q8o+="ed";switch(S3U){case 4:d=this.gb.Bb[a];f.P(d.Gk)&&(d.Gk=b,a===k.I.VIDEO&&this.Qh&&(a=this.gb.Bb[k.I.AUDIO],f.P(a.Gk)&&(c=c.Qg(k.I.AUDIO),c.Fq(b)),this.emit(Q8o,b)));f.P(d.bI)&&(d.bI=b);S3U=8;break;case 5:S3U=c.Qg(a)?4:8;break;case 2:c=this.wa.af;S3U=5;break;}}};b0U=119;break;case 10:Object.defineProperties(d.prototype,{yi:{get:function(){var n1U;n1U=2;while(n1U!==1){switch(n1U){case 2:return this.Na[this.Fd];break;case 4:return this.Na[this.Fd];break;n1U=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Nd:{get:function(){var d1U;d1U=2;while(d1U!==1){switch(d1U){case 2:return this.ob.Nd;break;case 4:return this.ob.Nd;break;d1U=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ft:{get:function(){var F1U;F1U=2;while(F1U!==1){switch(F1U){case 2:return this.ob.ft;break;case 4:return this.ob.ft;break;F1U=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Au:{get:function(){var R1U;R1U=2;while(R1U!==1){switch(R1U){case 4:return this.pe;break;R1U=1;break;case 2:return this.pe;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{job:{get:function(){var f1U;f1U=2;while(f1U!==1){switch(f1U){case 2:return this.ima;break;case 4:return this.ima;break;f1U=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Pb:{get:function(){var e1U;e1U=2;while(e1U!==1){switch(e1U){case 4:return this.gH;break;e1U=1;break;case 2:return this.gH;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{p8:{get:function(){var K1U;K1U=2;while(K1U!==1){switch(K1U){case 4:return this.GB;break;K1U=1;break;case 2:return this.GB;break;}}},enumerable:!0,configurable:!0}});d.prototype.jn=function(a){var v1U;v1U=2;while(v1U!==1){switch(v1U){case 4:return this.Yn[a];break;v1U=1;break;case 2:return this.Yn[a];break;}}};d.prototype.aV=function(){var w1U;w1U=2;while(w1U!==1){switch(w1U){case 4:this.LB=~1;w1U=6;break;w1U=1;break;case 2:this.LB=!0;w1U=1;break;}}};d.prototype.R5=function(){var O1U;O1U=2;while(O1U!==1){switch(O1U){case 2:return(this.Na||[]).reduce(function(a,b){var M1U;M1U=2;while(M1U!==5){switch(M1U){case 2:[k.I.AUDIO,k.I.VIDEO].forEach(function(c){var j1U;j1U=2;while(j1U!==1){switch(j1U){case 2:b.cz[c]>a[c]&&(a[c]=b.cz[c]);j1U=1;break;}}});return a;break;}}},[0,0]);break;}}};d.prototype.bk=function(a){var T1U;T1U=2;while(T1U!==5){switch(T1U){case 2:a=a||this.R5();return this.ob.bk(a[0],a[1]);break;}}};d.prototype.Jwa=function(){var z1U,a;z1U=2;while(z1U!==3){switch(z1U){case 4:return a;break;case 2:a=0;f.forEach(this.yi.Aa.audio_tracks,function(b){var C1U;C1U=2;while(C1U!==1){switch(C1U){case 2:f.forEach(b.streams,function(b){var D1U;D1U=2;while(D1U!==1){switch(D1U){case 2:a=Math.max(a,b.bitrate);D1U=1;break;}}});C1U=1;break;}}});z1U=4;break;case 14:return a;break;z1U=3;break;}}};d.prototype.cf=function(){var t1U;t1U=2;while(t1U!==1){switch(t1U){case 4:return this.gH.cf();break;t1U=1;break;case 2:return this.gH.cf();break;}}};b0U=21;break;case 119:d.prototype.Wka=function(a){var U3U,b,c,d,T8o;U3U=2;while(U3U!==9){T8o="a";T8o+="llCompl";T8o+="eted";switch(U3U){case 2:b=this.G;c=a.$f;d=a.ga;this.jg.value!=k.Ia.cB&&this.jg.value!=k.Ia.bB&&(this.Ja.$Va(a.R,d,c.e6(),c.ey),c.Rcb(a),this.wf&&(a=this.wf.indexOf(a),-1!=a&&this.wf.splice(a,1),0===this.wf.length&&(this.wf=void 0,b.DH||this.l_||this.kQ(T8o))),this.Th.NG(c)&&this.Th.qh());U3U=9;break;}}};d.prototype.wH=function(){var s3U,a,b,c,d,g,h,n,p,K8o;s3U=2;while(s3U!==16){K8o="nu";K8o+="m";K8o+="b";K8o+="er";switch(s3U){case 4:c=this.lL;d=this.Na[c];g=this.wa.af;h=this.cf()||0;s3U=7;break;case 7:n=this.zC(c,h);s3U=6;break;case 2:a=this;b=this.G;s3U=4;break;case 13:s3U=b.UI||b.era?12:11;break;case 11:this.ob.Sg&&d.Zk&&d.Zk.Ii-h<=b.uxa&&this.ob.Sg.EH(!0,this.dj.sessionId);this.jg.value===k.Ia.wd&&([k.I.VIDEO,k.I.AUDIO].forEach(function(b){var m3U,c,d,q,l,t,u,h8o;m3U=2;while(m3U!==13){h8o="U";h8o+="nab";h8o+="le t";h8o+="o find request ";h8o+="presenting at playerPts:";switch(m3U){case 1:m3U=a.Yn[b]?5:13;break;case 3:t=c;c.YQ(h);(u=c.$a.iD(h))&&!u.Ph&&(u=a.Ze[b].ifb);u?(t=u.Pd-h,t<p&&(p=t),l=a.gb.Bb[b],q=u.ga,t=u.$f,a.eg&&b!==k.I.VIDEO||(a.wa.gjb(u,u.hm),q>a.rP?(a.rP=q,d=0<q?q-1:null,a.Ja.LVa(q,a.Na[q],h,u.hm,null!==d?a.Na[d].M:null,d),n=a.zC(q,h)):a.GB&&u.hm!=l.rfb&&a.Ja.bWa(u.hm)),l.rfb=u.hm,d=u.Ua,d!=l.R7&&(l.R7=d,b=a.Na[q].Zp(b,d),q=a.zC(q,u.tc),a.Ja.YVa(t,u.tc,q,b.ga,b.Jf)),u=u.O,f.P(u)||u==c.dza||(c.dza=u)):c.ma(h8o,h);m3U=6;break;case 2:m3U=1;break;case 5:c=g.Qg(b);m3U=4;break;case 4:m3U=c?3:13;break;case 6:a.HWa(t,h);a.wa.Imb();m3U=13;break;}}}),this.B0=!1,this.wa.jp(h,n));this.Th.qh();p=Math.max(p,1);this.wu&&clearTimeout(this.wu);this.wu=setTimeout(this.wH.bind(this),p);s3U=16;break;case 6:this.QP=!0;p=b.KW;s3U=13;break;case 12:c=this.wa.ubb(),K8o===typeof c&&c-b.k9<=n&&(p=Math.min(p,b.Q_a));s3U=11;break;}}};d.prototype.NG=function(a){var x3U;x3U=2;while(x3U!==1){switch(x3U){case 2:return this.Th.NG(a);break;case 4:return this.Th.NG(a);break;x3U=1;break;}}};d.prototype.qh=function(){var I3U;I3U=2;while(I3U!==1){switch(I3U){case 4:return this.Th.qh();break;I3U=1;break;case 2:return this.Th.qh();break;}}};d.prototype.qQ=function(a,b){var b3U;b3U=2;while(b3U!==1){switch(b3U){case 4:return this.Wt(a.$f,a,b);break;b3U=1;break;case 2:return this.Wt(a.$f,a,b);break;}}};d.prototype.Wt=function(a,b,c){var W3U,d,f;W3U=2;while(W3U!==14){switch(W3U){case 6:return f;break;case 2:d=this.G;f=b.abort();b.Vd();W3U=3;break;case 3:b.Lf&&b.Lf.clear();d.dC||a.$a.BV(b);this.Ze[a.R].BV(b);!0===c&&this.Th.qh();W3U=6;break;}}};d.prototype.EXa=function(a){var H3U,b,c,B8o;H3U=2;while(H3U!==3){B8o="no newAu";B8o+="dioT";B8o+="rack s";B8o+="et";switch(H3U){case 2:b=a.R;c=this.gb.Bb[b];f.P(c.EU)?a.ma(B8o):(this.Ze[b].pause(),c.wF=!0,this.Ja.BVa(this.yi,c.EU.fb));H3U=3;break;}}};d.prototype.FWa=function(a){var Z3U,b,d,f,g,h,n,p,q,p8o,z8o;Z3U=2;while(Z3U!==32){p8o="a";p8o+="udio";p8o+="Switc";p8o+="h";z8o="a";z8o+="udioTrack";z8o+="Chang";z8o+="e";switch(Z3U){case 10:g.Io=void 0;g.Hi=void 0;g.kJ=void 0;g.Tl=void 0;this.L0(z8o,k.I.AUDIO);Z3U=16;break;case 8:h=this.yi.FJ(0,this.lB.fb);n=this.cf();p=this.yi;Z3U=14;break;case 21:a.Fq(q);a.JAa();this.wa.af.i7(this.Fd);p.Lb[k.I.AUDIO]&&p.Lb[k.I.AUDIO].stream.Tc&&this.wa.maa(this.wa.af);Z3U=32;break;case 26:d=function(b){var g3U,d,f,g,n;g3U=2;while(g3U!==12){switch(g3U){case 7:g=f.tj[k.I.AUDIO].Gc.some(function(a){var o4U;o4U=2;while(o4U!==4){switch(o4U){case 5:return n;break;case 2:n=d.ie.Tk(k.I.AUDIO,a.id);o4U=1;break;case 7:return n;break;o4U=4;break;case 1:o4U=!(n&&n.stream&&n.stream.ca&&q<n.stream.ca.dg(0))?5:4;break;}}});a.Bf=void 0;a.Zh=void 0;g?(f.Lb[k.I.AUDIO]=n,f.uL=!1,n.stream.Tc&&f.QQ(this.Fd,this.Na,this.G,this.Qh,this.eg,this.wa,this.sx.bind(this),this.ur.bind(this),this.Ja,this.dc,this.ma)):(f.Lb[k.I.AUDIO]=void 0,f.uL=!1,this.LP(f.M,b,f.tj,!0,k.I.AUDIO));g3U=12;break;case 8:g3U=f.D6?7:12;break;case 2:d=this;f=this.Na[b];g=c.PA.p6(f.Aa,[h])[0];f.pca(g);g=!1;g3U=8;break;}}}.bind(this);Z3U=25;break;case 16:this.wa.MBa(f,!0);this.wa.HAa(f);this.n_[k.I.AUDIO]=this.ob.zsa(this.yi.Aa,[h],k.I.AUDIO)[k.I.AUDIO];Z3U=26;break;case 14:q=n-f.Oc;g.EU=void 0;this.wf&&0<this.wf.length&&(this.wf=this.wf.filter(function(c){var J3U;J3U=2;while(J3U!==4){switch(J3U){case 7:b.Wt(a,c,~2);J3U=5;break;J3U=4;break;case 1:return!0;break;case 5:b.Wt(a,c,!1);J3U=4;break;case 2:J3U=c.R===k.I.VIDEO?1:5;break;}}}),0===this.wf.length&&(this.wf=void 0,d.DH||this.kQ(p8o)));this.TC.gma(a);Z3U=10;break;case 5:d=this.G;f=a.cd;g=this.gb.Bb[a.R];this.lB=g.EU;Z3U=8;break;case 25:f=this.Fd;Z3U=24;break;case 24:Z3U=f<this.Na.length?23:21;break;case 23:d(f);Z3U=22;break;case 22:++f;Z3U=24;break;case 2:b=this;Z3U=5;break;}}};d.prototype.R0=function(a,b,c){var Y4U,d,a8o,V8o;Y4U=2;while(Y4U!==4){a8o="video_loc";a8o+="at";a8o+="io";a8o+="n";V8o="lo";V8o+="catio";V8o+="n";switch(Y4U){case 5:f.P(b)||f.P(c)||(a.location=b,a.Xc=c,(V8o===d||a8o===d&&a.R===k.I.VIDEO)&&this.ob.Nd.$V(b),this.pe.Pjb(a.R,b));Y4U=4;break;case 2:d=this.G.v9;Y4U=5;break;}}};d.prototype.d1=function(){var E4U,a,b,c,d,g,k,h,G8o,l8o;E4U=2;while(E4U!==17){G8o="man";G8o+="ifes";G8o+="t";G8o+="s:";l8o="up";l8o+="dateRequestUrls";l8o+=", no man";l8o+="i";l8o+="festEntry:";switch(E4U){case 2:a=this;b=[];c=0;d=this.yi;E4U=9;break;case 8:return this.Dc(l8o,this.Fd,G8o,this.Na.length),!1;break;case 7:g=d.Jo;this.wa.og.forEach(function(c){var a4U,d,W8o,m8o;a4U=2;while(a4U!==8){W8o="locat";W8o+="ion selector retu";W8o+="rned null streamList";m8o="location select";m8o+="or is gone, session has bee";m8o+="n closed";switch(a4U){case 1:a4U=a.jn(c.R)?5:8;break;case 2:a4U=1;break;case 5:a4U=g?4:9;break;case 9:c.ma(m8o);a4U=8;break;case 4:d=a.gb.SD(c);g.LW(d,c.Gc)?(k=c.$a.vca(c.yba,a.R0.bind(a)),0<k.length&&b.push.apply(b,k)):c.ma(W8o);a4U=8;break;}}});k=this.ie.vca([d.yo(0),d.yo(1)],this.R0.bind(this));0<k.length&&b.push.apply(b,k);E4U=12;break;case 11:h={};b.forEach(function(b){var r4U,d;r4U=2;while(r4U!==4){switch(r4U){case 2:d=b.ga;b.Tb&&d>a.Fd&&(h[b.ga]=!0,++c);r4U=4;break;}}});f.Rc(h,function(b,c){var f4U;f4U=2;while(f4U!==5){switch(f4U){case 2:b=a.Na[c];a.LP(b.M,c,b.tj);f4U=5;break;}}});E4U=19;break;case 12:E4U=0<b.length?11:18;break;case 9:E4U=!d?8:7;break;case 19:return c===b.length?!0:!1;break;case 18:return!0;break;}}};d.prototype.HWa=function(a,b){var e4U,c;e4U=2;while(e4U!==3){switch(e4U){case 4:f.P(a)||this.Th.qh();e4U=3;break;case 2:c=this.Ze[a.R];a=a.$a.Jmb(b,function(a){var v4U;v4U=2;while(v4U!==1){switch(v4U){case 2:c.BV(a);v4U=1;break;case 4:c.BV(a);v4U=6;break;v4U=1;break;}}});e4U=4;break;}}};d.prototype.sUa=function(a){var T4U,b,c;T4U=2;while(T4U!==7){switch(T4U){case 2:b=this;T4U=5;break;case 5:c=a.mediaType;a=this.Na[a.manifestIndex].Zp(c,a.streamId);this.qXa(this.wa.af.Qg(c),a);this.G=this.xpa.JSa(a.Pe,this.G);this.Na.forEach(function(a,c){var z4U;z4U=2;while(z4U!==1){switch(z4U){case 2:a.D6||0===c||b.LP(a.M,c,a.tj);z4U=1;break;}}});T4U=7;break;}}};d.prototype.uUa=function(a){var D4U,b;D4U=2;while(D4U!==8){switch(D4U){case 4:b.fua=!0;a.mS&&this.Ja.GVa(b,a);a.gq&&this.Ja.VVa(b.R,a.ga,b.cd.ya);D4U=8;break;case 2:a=a.request;b=a.$f;D4U=4;break;}}};b0U=106;break;case 21:d.prototype.Oy=function(){var N1U,L8o;N1U=2;while(N1U!==1){L8o="fun";L8o+="ct";L8o+="io";L8o+="n";switch(N1U){case 2:return L8o===typeof this.gH.Oy?this.gH.Oy():this.jg.value===k.Ia.wd;break;}}};d.prototype.wEa=function(){var i1U;i1U=2;while(i1U!==1){switch(i1U){case 4:return this.G.Aub?+this.QP:+0;break;i1U=1;break;case 2:return this.G.Aub?!this.QP:!1;break;}}};d.prototype.UR=function(a){var V1U;V1U=2;while(V1U!==1){switch(V1U){case 4:return this.G.sy||a!=k.I.VIDEO;break;V1U=1;break;case 2:return this.G.sy&&a===k.I.VIDEO;break;}}};d.prototype.Ay=function(a){var A1U;A1U=2;while(A1U!==1){switch(A1U){case 2:return this.wa.Ay(a);break;case 4:return this.wa.Ay(a);break;A1U=1;break;}}};d.prototype.Yh=function(a){var c1U;c1U=2;while(c1U!==1){switch(c1U){case 4:return this.Na[a];break;c1U=1;break;case 2:return this.Na[a];break;}}};d.prototype.Cab=function(){var G1U,a;G1U=2;while(G1U!==4){switch(G1U){case 2:a=this.Na[0];return a.Vh?this.Na[1]:a;break;}}};d.prototype.s7=function(a,b){var Q1U;Q1U=2;while(Q1U!==9){switch(Q1U){case 2:Q1U=a===b?1:5;break;case 1:return!0;break;case 5:a=this.Na[a];b=this.Na[b];return a.Vh&&b.zK||b.Vh&&a.zK;break;}}};d.prototype.x5=function(a){var y1U;y1U=2;while(y1U!==5){switch(y1U){case 1:return{Oc:a.Oc,tc:a.tc,Pd:a.Pd,Mc:a.Mc,Wd:a.Wd};break;case 2:y1U=(a=this.wa.zj.children[a])?1:5;break;}}};d.prototype.X5=function(){var q1U,a;q1U=2;while(q1U!==4){switch(q1U){case 1:a=this.wa.zj;q1U=5;break;case 5:return{id:a.ya.id,Oc:a.Oc,tc:a.tc,Pd:a.Pd,Mc:a.Mc,Wd:a.Wd};break;case 9:q1U=8;break;q1U=1;break;case 2:q1U=1;break;}}};d.prototype.pqb=function(){var S1U;S1U=2;while(S1U!==5){switch(S1U){case 2:this.DP=!1;this.wa.og.forEach(function(a){var U1U;U1U=2;while(U1U!==1){switch(U1U){case 2:a.YQ();U1U=1;break;case 4:a.YQ();U1U=8;break;U1U=1;break;}}});S1U=5;break;}}};d.prototype.qca=function(a,b){var s1U;s1U=2;while(s1U!==1){switch(s1U){case 4:return this.wa.qca(a,b);break;s1U=1;break;case 2:return this.wa.qca(a,b);break;}}};d.prototype.pTa=function(){var m1U,a,b;m1U=2;while(m1U!==9){switch(m1U){case 5:a=this.Na[b],a.a8.clear(),a.Vd();m1U=4;break;case 2:b=0;m1U=1;break;case 1:m1U=b<this.Na.length?5:3;break;case 4:++b;m1U=1;break;case 3:this.Na.length=0;m1U=9;break;}}};d.prototype.UO=function(a){var x1U,b;x1U=2;while(x1U!==3){switch(x1U){case 2:b=new l.Tfa(this,this.ob.Nd,this.ob.MD,!this.zk,this.G);b.AH(a);return b;break;}}};b0U=40;break;case 40:d.prototype.open=function(){var I1U,a,b,c,d,g,h,n,p,q,v8o,j8o,S8o,k8o,y8o,U8o,C8o,w8o,s8o,X8o;I1U=2;while(I1U!==43){v8o="createMediaSourceS";v8o+="tar";v8o+="t";j8o="Er";j8o+="ro";j8o+="r";j8o+=":";S8o="c";S8o+="reat";S8o+="eMed";S8o+="iaSourceEn";S8o+="d";k8o="NFErr_MC";k8o+="_Str";k8o+="eam";k8o+="i";k8o+="ngInitFailure";y8o="s";y8o+="tartPts must ";y8o+="be a positi";y8o+="ve number, not ";U8o="N";U8o+="FErr_MC_Streamin";U8o+="gInitFailu";U8o+="re";C8o="ex";C8o+="ception in";C8o+=" ini";C8o+="t";w8o="E";w8o+="r";w8o+="r";w8o+="or:";s8o="s";s8o+="tart";s8o+="pl";s8o+="ay";X8o="l";X8o+="o";X8o+="gda";X8o+="ta";switch(I1U){case 29:d={type:X8o,target:s8o,fields:{audiogapconfig:b.cE,audiogapdpi:this.Ne.Pc&&this.Ne.Pc.cE}};this.emit(d.type,d);I1U=43;break;case 44:this.dc(w8o,p.error),this.pi(C8o,void 0,U8o);I1U=43;break;case 3:b=this.G;c=this.M;d=[];g=[T.ON];I1U=6;break;case 4:this.pi(y8o+this.tH,void 0,k8o);I1U=43;break;case 26:this.Ja.Dr(S8o);p.Pc||(p.Pc=D.Pc);this.Ne=p;I1U=23;break;case 22:throw this.dc(j8o,p.error),p.error;I1U=21;break;case 17:g.forEach(function(b,c){var b1U;b1U=2;while(b1U!==1){switch(b1U){case 2:b.type==T.ON?a.VG=n[c]:a.gb.Bb[b.type].Zj=n[c];b1U=1;break;}}});this.Ja.Dr(v8o);p=new D(this.gH);I1U=27;break;case 1:a=this;I1U=5;break;case 27:I1U=1===p.readyState?26:44;break;case 32:this.Ja.OVa(d[k.I.AUDIO],d[k.I.VIDEO]);q=function(){var g1U,D8o;g1U=2;while(g1U!==5){D8o="shu";D8o+="tdown det";D8o+="ecte";D8o+="d be";D8o+="fore startRequests";switch(g1U){case 2:a.Ja.QVa();a.ze()?a.ma(D8o):a.FXa(c);g1U=5;break;}}};b.J5a?setTimeout(function(){var o2U;o2U=2;while(o2U!==1){switch(o2U){case 2:a.Rja(c).then(q);o2U=1;break;case 4:a.Rja(c).then(q);o2U=4;break;o2U=1;break;}}},0):this.Rja(c).then(function(){var P2U;P2U=2;while(P2U!==1){switch(P2U){case 2:setTimeout(q,0);P2U=1;break;case 4:setTimeout(q,9);P2U=9;break;P2U=1;break;}}});I1U=29;break;case 18:n=this.TC.cka(g);I1U=17;break;case 23:I1U=!p.u1(d)?22:21;break;case 10:this.QP=!1;h=b.DH;this.ob.Sg&&this.ob.Sg.EH(h,this.dj.sessionId);I1U=18;break;case 6:this.eg&&(d.push(1),g.push(T.VIDEO));this.Qh&&(d.push(k.I.AUDIO),g.push(T.AUDIO));g=this.TC.Lka(g);this.TC.DUa();this.vXa();I1U=10;break;case 21:p.sourceBuffers.forEach(function(c){var W1U,d,F8o,O8o,u8o,r8o,g8o;W1U=2;while(W1U!==14){F8o="ma";F8o+="nagerd";F8o+="ebu";F8o+="geve";F8o+="nt";O8o="l";O8o+="o";O8o+="gd";O8o+="a";O8o+="ta";u8o="er";u8o+="r";u8o+="o";u8o+="r";r8o="r";r8o+="eq";r8o+="uestAppended";g8o="h";g8o+="ea";g8o+="derApp";g8o+="ended";switch(W1U){case 2:d=c.R;W1U=5;break;case 5:c=new x.eGa(a,a.gb.Bb[d].N,d,p,c,a.ie.nv(d),b);c.addEventListener(g8o,a.sUa.bind(a));c.addEventListener(r8o,a.uUa.bind(a));c.addEventListener(u8o,function(b){var H1U,t8o;H1U=2;while(H1U!==1){t8o="NFErr_MC_St";t8o+="ream";t8o+="i";t8o+="ngF";t8o+="ailure";switch(H1U){case 2:a.pi(b.errorstr,void 0,t8o);H1U=1;break;}}});c.addEventListener(O8o,function(b){var Z1U;Z1U=2;while(Z1U!==1){switch(Z1U){case 4:W.ka(a,b.type,b);Z1U=9;break;Z1U=1;break;case 2:W.ka(a,b.type,b);Z1U=1;break;}}});b.bf&&c.addEventListener(F8o,function(b){var J1U;J1U=2;while(J1U!==1){switch(J1U){case 2:W.ka(a,b.type,b);J1U=1;break;case 4:W.ka(a,b.type,b);J1U=6;break;J1U=1;break;}}});W1U=6;break;case 6:a.Ze[d]=c;W1U=14;break;}}});this.Pl&&this.Ja.zVa();this.pe.Rjb();d=this.R5();I1U=32;break;case 5:I1U=!f.qa(this.tH)||0>this.tH?4:3;break;case 2:I1U=1;break;}}};d.prototype.flush=function(){var Y2U;Y2U=2;while(Y2U!==1){switch(Y2U){case 4:this.Hv.flush();Y2U=7;break;Y2U=1;break;case 2:this.Hv.flush();Y2U=1;break;}}};d.prototype.paused=function(){var l2U;l2U=2;while(l2U!==1){switch(l2U){case 2:this.jg.value===k.Ia.wd&&this.jg.set(k.Ia.gi);l2U=1;break;}}};d.prototype.HDa=function(){var E2U;E2U=2;while(E2U!==1){switch(E2U){case 2:this.jg.value===k.Ia.gi&&this.jg.set(k.Ia.wd);E2U=1;break;}}};d.prototype.close=function(){var u2U;u2U=2;while(u2U!==1){switch(u2U){case 2:this.Hv.close();u2U=1;break;case 4:this.Hv.close();u2U=9;break;u2U=1;break;}}};d.prototype.Xnb=function(){var X2U;X2U=2;while(X2U!==1){switch(X2U){case 4:this.ob.QWa(this);X2U=8;break;X2U=1;break;case 2:this.ob.QWa(this);X2U=1;break;}}};d.prototype.Vd=function(){var h2U,a,o8o,f8o;h2U=2;while(h2U!==11){o8o="in";o8o+="activ";o8o+="e";f8o="Error on Med";f8o+="iaSo";f8o+="urce ";f8o+="destroy: ";switch(h2U){case 3:this.wa.Vd();this.TC.GTa();h2U=8;break;case 8:this.jg.set(k.Ia.bB);this.pTa();this.Lf.clear();a=this.Ne;h2U=13;break;case 13:this.Ne=void 0;f.P(a)||a.oo()||this.ma(f8o,a.error);h2U=11;break;case 2:this.Nd.removeEventListener(o8o,this.ula);this.pe.Hjb();this.NO();h2U=3;break;}}};d.prototype.suspend=function(){var p2U;p2U=2;while(p2U!==1){switch(p2U){case 2:this.Hv.suspend();p2U=1;break;case 4:this.Hv.suspend();p2U=2;break;p2U=1;break;}}};d.prototype.resume=function(){var k2U;k2U=2;while(k2U!==1){switch(k2U){case 4:this.Hv.resume();k2U=2;break;k2U=1;break;case 2:this.Hv.resume();k2U=1;break;}}};d.prototype.ze=function(){var B2U;B2U=2;while(B2U!==1){switch(B2U){case 2:return this.Hv.wWa||this.wa.oeb;break;case 4:return this.Hv.wWa&&this.wa.oeb;break;B2U=1;break;}}};d.prototype.tXa=function(){var a2U,a;a2U=2;while(a2U!==7){switch(a2U){case 2:a=this.G;this.wu&&clearTimeout(this.wu);this.wu=setTimeout(this.wH.bind(this),a.KW);a2U=3;break;case 3:this.HO||(this.HO=setInterval(this.Ja.yla.bind(this.Ja),a.mC));this.WP||(this.WP=setInterval(this.Ja.aWa.bind(this.Ja),a.Cba));this.Pl&&!this.FO&&(this.FO=setInterval(this.Ja.xla.bind(this.Ja),a.L1));a2U=7;break;}}};d.prototype.vXa=function(){var r2U,a,b,c;r2U=2;while(r2U!==7){switch(r2U){case 2:a=this;b=this.G;r2U=4;break;case 4:r2U=b.OV?3:7;break;case 3:this.KG&&clearInterval(this.KG);c=-1;this.KG=setInterval(function(){var L2U,b,M8o;L2U=2;while(L2U!==4){M8o="v";M8o+="b";switch(L2U){case 2:b=a.gb.Bb[k.I.VIDEO];(b=b.Ev&&b.Ev.O)&&c!==b&&(N.storage.set(M8o,b),c=b);L2U=4;break;}}},b.OV);r2U=7;break;}}};d.prototype.NO=function(){var n2U;n2U=2;while(n2U!==6){switch(n2U){case 2:this.wu&&(clearTimeout(this.wu),this.wu=void 0);this.HO&&(clearInterval(this.HO),this.HO=void 0);n2U=5;break;case 5:this.WP&&(clearInterval(this.WP),this.WP=void 0);this.FO&&(clearInterval(this.FO),this.FO=void 0);this.qB&&(clearTimeout(this.qB),this.qB=void 0);this.K_&&(clearTimeout(this.K_),this.K_=void 0);this.KG&&(clearInterval(this.KG),this.KG=void 0);this.Th.NO();n2U=6;break;}}};b0U=46;break;case 124:d.prototype.$h=function(a){var Y5U,b8o,R8o;Y5U=2;while(Y5U!==1){b8o="r";b8o+="equestComp";b8o+="let";b8o+="e";R8o="oncomplete i";R8o+="gnored, pipelines shutd";R8o+="own, mediaRequest:";switch(Y5U){case 2:this.ze()?this.ma(R8o,a):(this.Ox&&(this.Ox=!1,this.Na[a.ga].aJ.GL(!0)),a.x1||(this.pe.qya(this.Gd-this.Mi,a.Aj,a.jc),a.Tb||this.pe.Xjb(a.R,a.duration,a.Gd,a.bm)),a.Tb||this.Wka(a),this.G.WR&&this.$P.push(a.JT),this.emit(b8o,{timestamp:a.jc,mediaRequest:a}));Y5U=1;break;}}};d.prototype.iE=function(a){var l5U,b,x8o,P8o,H8o,n8o,J8o;l5U=2;while(l5U!==4){x8o="NFErr_";x8o+="MC_Str";x8o+="eam";x8o+="ingFailure";P8o="u";P8o+="nk";P8o+="nown";H8o=", ";H8o+="er";H8o+="ror";H8o+="m";H8o+="sg: ";n8o="MP4 parsi";n8o+="ng";n8o+=" err";n8o+="or on: ";J8o="requestError ign";J8o+="ored, pipelines shutdown, mediaRequ";J8o+="est:";switch(l5U){case 2:b=a.oj;this.ze()?this.ma(J8o,a):a.Tb&&a.parseError?(this.ma(n8o+a+H8o,a.parseError),this.pi(a.parseError)):(this.G.Ecb&&b===S.Ct.IY&&0<a.Gd&&(b=S.Ct.uX),this.Na[a.ga].aJ.im(a.status,b,a.al,{url:a.url}),this.d1()||this.pi(a.fD||P8o,void 0,x8o,b,a.status,a.al));l5U=4;break;}}};return d;break;}}}(Q);d.$Qa=a;g.Ti(n.EventEmitter,a);},function(g,d,a){var f,h,p,c,k,q;function b(a,b,d){k=d;q=d.map(function(a,b){return a.df&&a.inRange&&!a.Rg?b:null;}).filter(function(a){return null!==a;});if(null===c)return a=h(d),c=d[a].O,new p(a);if(!q.length)return null;a=q.filter(function(a){return d[a].O==c;})[0];return void 0===a?(f.log("Defaulting to first stream due to unvalid bitrate requested: "+c),new p(q[0])):new p(a);}a(7);a(11);d=a(44);a=a(6);f=d.console;h=d.P4;p=d.up;c=null;k=null;q=null;a.W0a&&(a.W0a.$E={gc:function(){q=k=c=null;},Laa:function(a){c=a;},pHb:function(){return{all:k,aEa:q};}});g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){(function(){var c8o,b,i2S;c8o=2;while(c8o!==8){i2S="1SIYb";i2S+="Zr";i2S+="NJCp9";switch(c8o){case 2:a(7);b=a(11);a(44);g.T={checkBuffering:function(a,d,g,c,k){var u6k=p4UU;var e8o,h,p,l,t,m,r,I,p2S,t2S,K2S,j2S,q8o,A8o;function f(a){var E8o;E8o=2;while(E8o!==5){switch(E8o){case 2:a=d.ca.iS(h.kf+a,void 0,!0);return(m-h.Zv)/(m+(a.offset+a.ba)-r);break;}}}e8o=2;while(e8o!==38){p2S="ou";p2S+="t";p2S+="ofrange";t2S="hi";t2S+="g";t2S+="htp";K2S="n";K2S+="or";K2S+="e";K2S+="buff";j2S="ma";j2S+="xsi";j2S+="ze";switch(e8o){case 8:return{complete:!0,reason:j2S};break;case 30:c=d.ca.get(k);u6k.z2S(0);q8o=u6k.S2S(104,11,10,14);I=q8o*I/l-c.V-t;e8o=28;break;case 43:I=c.offset;e8o=42;break;case 32:--k;e8o=31;break;case 16:return l<d.O&&(t=Math.min(g,Math.max(k.zL*(d.O/l-1),t))),{complete:!1,Uz:t,Ni:(m-h.Zv)/(m+(t-(h.ab-h.kf))*d.O/8)};break;case 40:0<l&&l<d.O&&(t=Math.min(g,Math.max(k.zL*(d.O/l-1),t)));e8o=39;break;case 10:e8o=!l?20:19;break;case 25:r=d.ca.fm(a);e8o=24;break;case 31:e8o=k>a?30:41;break;case 14:u6k.s2S(1);A8o=u6k.S2S(19,22,2);t=k.Ji*(a.state===b.Ia.St?k.T$:A8o);k.u7a&&d.La&&d.La.wg&&d.La.wg.Ha>k.n8&&(t+=k.v1+d.La.wg.Ha*k.b$);c&&(t+=c.mR*k.w1);t=g?Math.min(g,t):t;e8o=10;break;case 41:return{complete:!0,reason:K2S};break;case 23:e8o=l>d.O*k.hS?22:21;break;case 27:e8o=-1===a?26:25;break;case 4:l=d.va||0;t=0;e8o=9;break;case 2:h=a.buffer;p=a.Be||h.Ok-h.kf;e8o=4;break;case 9:e8o=p>=g?8:7;break;case 44:return t=Math.min(g,p+I),{complete:!1,Uz:t,Ni:f(t)};break;case 20:return{complete:!1,Uz:t};break;case 28:e8o=0<I?44:43;break;case 6:return{complete:!1,uK:!0};break;case 39:return{complete:!1,Uz:t,Ni:f(t)};break;case 17:e8o=!d.ca||!d.ca.length?16:15;break;case 21:t=d.ca.dd(a);k=Math.min(a+Math.floor(k.zL/t),d.ca.length-1);I=d.ca.fm(k);t=8*r/l-h.kf;e8o=32;break;case 19:m=0;h.ca.forEach(function(a){var I8o;I8o=2;while(I8o!==1){switch(I8o){case 2:m+=a.V+a.duration>h.kf?a.ba:0;I8o=1;break;}}});e8o=17;break;case 24:e8o=p>=t?23:40;break;case 22:return{complete:!0,reason:t2S};break;case 42:--k;e8o=31;break;case 26:return{complete:!0,reason:p2S};break;case 7:e8o=l<=k.u8&&(0<l||!k.y4)?6:14;break;case 15:a=d.ca.Bi(h.ab);e8o=27;break;}}}};i2S;c8o=8;break;}}}());},function(g,d,a){(function(){var f2S,d,h,p,c,n2S;function b(a,b,f,g){var H2S,k,T2S,a2S;H2S=2;while(H2S!==11){T2S="pl";T2S+="ayer missin";T2S+="g st";T2S+="reaming";T2S+="Index";a2S="Must have at least o";a2S+="ne ";a2S+="selected strea";a2S+="m";switch(H2S){case 2:p(!d.P(g),a2S);p(d.qa(b.pw),T2S);b=c(g);H2S=3;break;case 14:--g;H2S=9;break;case 3:g=f.length-1;H2S=9;break;case 9:H2S=-1<g?8:13;break;case 13:b.qd=0;return b;break;case 8:k=f[g];H2S=7;break;case 7:H2S=k.La&&k.La.va&&k.O<k.La.va.Ha-a.Fsb?6:14;break;case 6:return b.qd=g,b;break;}}}f2S=2;while(f2S!==13){n2S="1SI";n2S+="YbZ";n2S+="rNJ";n2S+="Cp9";switch(f2S){case 8:c=h.up;h=a(198);g.T={STARTING:h.STARTING,BUFFERING:h.BUFFERING,REBUFFERING:h.REBUFFERING,PLAYING:b,PAUSED:b};f2S=14;break;case 5:a(11);h=a(44);a(6);p=h.assert;f2S=8;break;case 2:d=a(7);f2S=5;break;case 14:n2S;f2S=13;break;}}}());},function(g,d,a){var f;function b(a,b,c){return new f(c.length-1);}a(7);f=a(44).up;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var f;function b(){return new f(0);}a(7);f=a(44).up;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){(function(){var C2S,p,c,k,q,n,l,m,r,K,x,I5x;function d(a,b,c,d){var M2S,f,g,l,t,u,m,y,A,x,G5x,O2S,R2S,x2S,Z2S,X2S,F2S,P2S,Y2S,E2S,l2S,q2S,c2S,W2S,y2S,d2S,L2S,m2S,U2S,g2S,Q2S,V2S,A2S;M2S=2;while(M2S!==28){G5x=" ";G5x+="k";G5x+="bp";G5x+="s";O2S=" k";O2S+="bp";O2S+="s ";O2S+=">";O2S+=" ";R2S="thr";R2S+="oughput ";R2S+="for aud";R2S+="io ";x2S="kbp";x2S+="s, streaming";x2S+="Pt";x2S+="s ";x2S+=":";Z2S=", audio t";Z2S+="h";Z2S+="rou";Z2S+="ghp";Z2S+="ut:";X2S=" kbp";X2S+="s, profi";X2S+="le :";F2S="selectAu";F2S+="dioStream: selected strea";F2S+="m :";P2S=" ";P2S+="kbp";P2S+="s";Y2S=" k";Y2S+="b";Y2S+="ps";Y2S+=", to";Y2S+=" ";E2S="switching a";E2S+="udio ";E2S+="from ";l2S="d";l2S+="o";l2S+="w";l2S+="n";q2S="u";q2S+="p";c2S="Must have";c2S+=" at least on";c2S+="e selec";c2S+="ted stream";W2S="m";W2S+="s";y2S=", ";y2S+="b";y2S+="uffer";y2S+=" level = ";d2S=", lastUp";d2S+="sw";d2S+="i";d2S+="t";d2S+="chPts = ";L2S="  Upswitch not ";L2S+="al";L2S+="lowed. lastDownswitchPts = ";m2S=", str";m2S+="eamin";m2S+="gPts = ";U2S=", las";U2S+="tUpswitchPts =";U2S+=" ";g2S=" ";g2S+=" U";g2S+="pswitch allowed. lastDownswitch";g2S+="Pts = ";Q2S=" kbps";Q2S+=", try to down";Q2S+="switch";V2S=" k";V2S+="b";V2S+="ps <";V2S+=" ";A2S="throughp";A2S+="ut fo";A2S+="r audio";A2S+=" ";switch(M2S){case 35:M2S=(u=l[m],x=c[u],r(x)&&y>A.KDa*x.O)?34:21;break;case 18:q&&k.log(A2S+y+V2S+A.Mqa+"*"+u+Q2S),--m;M2S=17;break;case 22:q&&k.log(g2S+this.Dv+U2S+this.MT+m2S+u.ab);M2S=21;break;case 11:A=a.e_a;M2S=10;break;case 16:u=l[m];x=c[u];M2S=27;break;case 33:q&&k.log(L2S+this.Dv+d2S+this.MT+y2S+x+W2S);M2S=32;break;case 20:g=0;M2S=32;break;case 25:m--;M2S=17;break;case 7:M2S=l&&1<l.length?6:32;break;case 6:t=c[d];u=t.O;m=l.indexOf(d);y=t.va;M2S=11;break;case 21:M2S=++m<l.length?35:32;break;case 34:g=u;M2S=32;break;case 9:g=d;a.MCa.some(function(d){var B2S,g,k,h,n,p,q;B2S=2;while(B2S!==13){switch(B2S){case 2:g=d.profiles;k=g&&0<=g.indexOf(f);B2S=4;break;case 4:B2S=k?3:14;break;case 3:h=(d=d.lE)&&d.sU||a.sU;n=d&&d.MIb||-Infinity;p=d&&d.Jwa||Infinity;q=b.buffer.Nu;B2S=6;break;case 14:return k;break;case 6:l=c.filter(function(a){var b2S,b;b2S=2;while(b2S!==4){switch(b2S){case 2:b=a.O;return b>=n&&b<=p&&0<=g.indexOf(a.Pe)&&b*h/8<q;break;}}}).map(function(a){var k2S;k2S=2;while(k2S!==1){switch(k2S){case 4:return a.Jf;break;k2S=1;break;case 2:return a.Jf;break;}}});B2S=14;break;}}});M2S=7;break;case 2:n(!p.P(d),c2S);f=c[d].Pe;M2S=4;break;case 32:y=c[g];g!==d&&q&&k.log((g>d?q2S:l2S)+E2S+t.O+Y2S+y.O+P2S);q&&k.log(F2S+y.O+X2S+f+Z2S+y.va+x2S+b.buffer.ab);M2S=29;break;case 4:M2S=!(a&&a.tM&&0<=a.tM.indexOf(f))?3:9;break;case 23:M2S=h(x,u.ab,A,b.Oy)?22:33;break;case 17:M2S=0<=m?16:32;break;case 27:M2S=r(x)&&(0==m||x.O*A.Mqa<y)?26:25;break;case 10:M2S=0>m?20:19;break;case 29:return new K(g);break;case 26:g=u;M2S=32;break;case 19:M2S=m&&y<A.Mqa*u?18:24;break;case 3:return new K(d);break;case 24:M2S=m<l.length-1&&y>A.KDa*u&&(q&&k.log(R2S+y+O2S+A.KDa+"*"+u+G5x),u=b.buffer,x=u.Ok-u.kf,t.ca&&t.ca.length)?23:32;break;}}}C2S=2;while(C2S!==10){I5x="1";I5x+="SIYbZ";I5x+="rNJCp";I5x+="9";switch(C2S){case 2:p=a(7);c=a(44);k=c.console;q=c.debug;n=c.assert;l=a(39);C2S=7;break;case 7:m=a(11);r=c.Qy;K=c.up;x=a(355);g.T={STARTING:function(a,c,d,f){var D2S,g,h,u5x,r5x,N5x;D2S=2;while(D2S!==14){u5x="selectAudi";u5x+="oStreamStarting: overriding c";u5x+="onfig ";u5x+="with";u5x+=" ";r5x=" ";r5x+="kbps";r5x+=", p";r5x+="rof";r5x+="ile :";N5x="selectAudioStreamSt";N5x+="a";N5x+="rting: selected ";N5x+="stream :";switch(D2S){case 9:a=x[m.Ia.name[m.Ia.fh]](g,c,d,f);d=d[a.qd];q&&k.log(N5x+d.O+r5x+d.Pe);return a;break;case 4:D2S=(h=a&&a.tM&&0<=a.tM.indexOf(h)?b(h,a.MCa):b(h,a.c_a))?3:9;break;case 2:g=a;h=d[f||0].Pe;D2S=4;break;case 3:g={minInitAudioBitrate:a.HK,minHCInitAudioBitrate:a.GK,maxInitAudioBitrate:a.wK,minRequiredAudioBuffer:a.sU},q&&k.log(u5x+JSON.stringify(h)),l(h,g);D2S=9;break;}}},BUFFERING:d,REBUFFERING:d,PLAYING:d,PAUSED:d};C2S=11;break;case 11:I5x;C2S=10;break;}}function b(a,b){var v2S,c;v2S=2;while(v2S!==3){switch(v2S){case 2:c=void 0;b.some(function(b){var J2S,d;J2S=2;while(J2S!==3){switch(J2S){case 2:d=b.profiles;(d=d&&0<=d.indexOf(a))&&(c=b.override);return d;break;}}});return c;break;}}}function h(a,b,c,d){var w2S;w2S=2;while(w2S!==1){switch(w2S){case 2:return d&&a>c.$y&&(p.P(this.Dv)||this.MT>this.Dv||b-this.Dv>c.UT);break;}}}}());},function(g,d,a){var f,h,p,c;function b(a,b,d){var g,k;g=this.d0;b=b.buffer.ab;k="forward"===a.Iob;if(f.P(g))return g=k?h(d):h(d,d.length),this.e0=b,this.d0=g,new c(g);p(d[g])||(g=h(d,g),this.e0=b,this.d0=g);if(0>g)return null;if(b>this.e0+a.Hsb){a=d.map(function(a,b){return a.df&&a.inRange&&!a.Rg?b:null;}).filter(function(a){return null!==a;});if(!a.length)return null;k?g=(a.indexOf(g)+1)%a.length:(g=a.indexOf(g)-1,0>g&&(g=a.length-1));this.d0=a[g];this.e0=b;return new c(a[g]);}return new c(g);}f=a(7);a(11);d=a(44);h=d.P4;p=d.Qy;c=d.up;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){function b(a){this.data=a;this.right=this.left=null;}function f(a){this.yd=null;this.Qj=a;this.size=0;}d=a(356);b.prototype.lf=function(a){return a?this.right:this.left;};b.prototype.mm=function(a,b){a?this.right=b:this.left=b;};f.prototype=new d();f.prototype.$l=function(a){if(null===this.yd)return this.yd=new b(a),this.size++,!0;for(var d=0,c=null,f=this.yd;;){if(null===f)return f=new b(a),c.mm(d,f),ret=!0,this.size++,!0;if(0===this.Qj(f.data,a))return!1;d=0>this.Qj(f.data,a);c=f;f=f.lf(d);}};f.prototype.remove=function(a){var d,c,f,l,h;if(null===this.yd)return!1;d=new b(void 0);c=d;c.right=this.yd;for(var f=null,g=null,h=1;null!==c.lf(h);){f=c;c=c.lf(h);l=this.Qj(a,c.data);h=0<l;0===l&&(g=c);}return null!==g?(g.data=c.data,f.mm(f.right===c,c.lf(null===c.left)),this.yd=d.right,this.size--,!0):!1;};g.T=f;},function(g,d,a){function b(a){this.data=a;this.right=this.left=null;this.red=!0;}function f(a){this.yd=null;this.Qj=a;this.size=0;}function h(a){return null!==a&&a.red;}function p(a,b){var c;c=a.lf(!b);a.mm(!b,c.lf(b));c.mm(b,a);a.red=!0;c.red=!1;return c;}function c(a,b){a.mm(!b,p(a.lf(!b),!b));return p(a,b);}d=a(356);b.prototype.lf=function(a){return a?this.right:this.left;};b.prototype.mm=function(a,b){a?this.right=b:this.left=b;};f.prototype=new d();f.prototype.$l=function(a){var d,f,g,k,l,t,m,r,G;d=!1;if(null===this.yd)this.yd=new b(a),d=!0,this.size++;else{f=new b(void 0);g=0;k=0;l=null;t=f;m=null;r=this.yd;for(t.right=this.yd;;){null===r?(r=new b(a),m.mm(g,r),d=!0,this.size++):h(r.left)&&h(r.right)&&(r.red=!0,r.left.red=!1,r.right.red=!1);if(h(r)&&h(m)){G=t.right===l;r===m.lf(k)?t.mm(G,p(l,!k)):t.mm(G,c(l,!k));}G=this.Qj(r.data,a);if(0===G)break;k=g;g=0>G;null!==l&&(t=l);l=m;m=r;r=r.lf(g);}this.yd=f.right;}this.yd.red=!1;return d;};f.prototype.remove=function(a){var d,f,m,g,r,t,G;if(null===this.yd)return!1;d=new b(void 0);f=d;f.right=this.yd;for(var g=null,k,l=null,t=1;null!==f.lf(t);){m=t;k=g;g=f;f=f.lf(t);r=this.Qj(a,f.data);t=0<r;0===r&&(l=f);if(!h(f)&&!h(f.lf(t)))if(h(f.lf(!t)))k=p(f,t),g.mm(m,k),g=k;else if(!h(f.lf(!t))&&(r=g.lf(!m),null!==r))if(h(r.lf(!m))||h(r.lf(m))){G=k.right===g;h(r.lf(m))?k.mm(G,c(g,m)):h(r.lf(!m))&&k.mm(G,p(g,m));m=k.lf(G);m.red=!0;f.red=!0;m.left.red=!1;m.right.red=!1;}else g.red=!1,r.red=!0,f.red=!0;}null!==l&&(l.data=f.data,g.mm(g.right===f,f.lf(null===f.left)),this.size--);this.yd=d.right;null!==this.yd&&(this.yd.red=!1);return null!==l;};g.T=f;},function(g,d,a){g.T={cQa:a(717),kwb:a(716)};},function(g,d,a){var f;function b(a,b,c){a=c.map(function(a,b){return a.df&&a.inRange&&!a.Rg?b:null;}).filter(function(a){return null!==a;});return a.length?new f(a[Math.floor(Math.random()*a.length)]):null;}a(11);f=a(44).up;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d,a){var f,h,p,c;function b(a,b,d,g){if(f.P(g))a=h(d);else if(p(d[g]))a=g;else if(a=h(d,g),0>a)return null;return new c(a);}f=a(7);a(11);d=a(44);h=d.P4;p=d.Qy;c=d.up;g.T={STARTING:b,BUFFERING:b,REBUFFERING:b,PLAYING:b,PAUSED:b};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(){}a.Kna=function(a,d){var b;return a.some(function(a){b=a;return d(a);})?b:void 0;};a.IH=function(a,d){var b;b=-1;return a.some(function(a,c){b=c;return d(a);})?b:-1;};return a;}();d.gX=g;},function(g,d,a){var b,f,h,p,c,k,q,n;Object.defineProperty(d,"__esModule",{value:!0});b=a(11);f=a(6);h=a(7);p=a(721);c=new f.Console("ASEJS_STREAM_SELECTOR","media|asejs");k=[b.Ia.name[b.Ia.fh],b.Ia.name[b.Ia.Ij],b.Ia.name[b.Ia.St],b.Ia.name[b.Ia.wd],b.Ia.name[b.Ia.gi],"checkBuffering"];q={first:a(720),random:a(719),optimized:a(198),roundrobin:a(715),selectaudio:a(355),selectaudioadaptive:a(714),"default":a(198),lowest:a(713),highest:a(712),throughputthreshold:a(711),checkdefault:a(710),testscript:a(709)};n={STARTING:"default",BUFFERING:"default",REBUFFERING:"default",PLAYING:"default",PAUSED:"default",checkBuffering:"checkdefault"};g=function(){var o5x;o5x=2;function a(a,b,c,d){var S5x,f,e7Y;S5x=2;while(S5x!==7){e7Y="1";e7Y+="S";e7Y+="IYbZrN";e7Y+="JCp9";switch(S5x){case 8:this.pe=k.reduce(function(a,c){var h5x;h5x=2;while(h5x!==5){switch(h5x){case 2:a[c]=((q[b]||q[n[c]])[c]||q[n[c]][c]).bind(f);return a;break;}}},{});S5x=7;break;case 2:f=this;this.G=c;e7Y;d&&(this.zx=d.zx,this.jP=d.jP);b=b||this.G.Aba;S5x=8;break;}}}while(o5x!==6){switch(o5x){case 5:a.prototype.Irb=function(a,b,c){var v5x;v5x=2;while(v5x!==1){switch(v5x){case 2:h.P(b)?this.a0=this.f0=void 0:b.O<c.O&&(this.f0=a);v5x=1;break;}}};a.prototype.qS=function(a,b){var J5x,c;J5x=2;while(J5x!==3){switch(J5x){case 5:b(a[c],c,a);J5x=4;break;case 1:J5x=0<=c?5:3;break;case 2:c=a.length-1;J5x=1;break;case 6:b(a[c],c,a);J5x=5;break;J5x=4;break;case 4:--c;J5x=1;break;case 14:++c;J5x=2;break;J5x=1;break;}}};Object.defineProperties(a.prototype,{Dv:{get:function(){var M5x;M5x=2;while(M5x!==1){switch(M5x){case 4:return this.a0;break;M5x=1;break;case 2:return this.a0;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(a.prototype,{MT:{get:function(){var B5x;B5x=2;while(B5x!==1){switch(B5x){case 4:return this.f0;break;B5x=1;break;case 2:return this.f0;break;}}},enumerable:!0,configurable:!0}});o5x=8;break;case 2:a.prototype.Laa=function(a,d,g,k,n,q,l){var s5x,z5x,t,m,u,y,r,x,A,G,K,N,I,da,F7Y,D5x;s5x=2;while(s5x!==59){F7Y="Stre";F7Y+="am selector called with inval";F7Y+="id player state ";switch(s5x){case 12:I=K[N-1].Ua,A=p.gX.IH(d,function(a){var j5x;j5x=2;while(j5x!==1){switch(j5x){case 4:return a.id!=I;break;j5x=1;break;case 2:return a.id===I;break;}}}),A=0<=A?A:void 0;s5x=11;break;case 13:s5x=0<N?12:11;break;case 53:this.zx=t.qd;n=d[t.qd];t.reason&&(n.kl=t.reason,n.Kaa=t.Is,n.VJ=t.VJ,n.Zl=t.Zl,n.Vk=t.Vk);h.qa(A)&&n.O<d[A].O&&(this.a0=g.ab);a.state!==b.Ia.wd&&a.state!==b.Ia.gi?(q=this.A2(a,n,q,l),(t.Mp=q.complete)?t.reason=q.reason:(t.Mp=!1,t.Uz=q.Uz,t.uK=q.uK,t.Ni=q.Ni)):t.Mp=!0;s5x=48;break;case 28:n.ca&&n.ca.length||(G=!0,t.rs.push(K));s5x=43;break;case 11:h.P(A)&&(A=this.zx);this.qS(d,function(c){var K5x;K5x=2;while(K5x!==9){switch(K5x){case 5:m=c.La,m.Ys=a.Ys,m.Gz=a.Gz,a&&a.Ho&&c.La&&(c.La.Ho=!0),u===b.Ia.fh&&x.VI&&a.oT&&x.G1&&(c.La.va.Ha=a.oT),r=Math.floor(k(c.La,a.buffer)),r=0===r?1:r;K5x=4;break;case 1:K5x=m!==c.La||m&&m.Ys!==a.Ys||m&&m.Gz!==a.Gz?5:4;break;case 4:c.va=r;K5x=9;break;case 2:K5x=c.df&&c.inRange&&!c.Rg&&c.La&&c.La.Fc?1:3;break;case 3:c.va=void 0;K5x=9;break;}}});u===b.Ia.fh&&h.qa(A)&&(u=b.Ia.Ij);s5x=19;break;case 46:n=function(a){var T5x;T5x=2;while(T5x!==1){switch(T5x){case 2:return p.gX.IH(d,function(b){var n5x;n5x=2;while(n5x!==1){switch(n5x){case 4:return b==da[a];break;n5x=1;break;case 2:return b===da[a];break;}}});break;}}},t.qd=n(t.qd),t.rs&&(t.rs=t.rs.map(n));s5x=36;break;case 35:K=a.Be||g.Ok-g.kf;n=void 0;G=!1;s5x=32;break;case 15:da=0<K.length?K:da.slice(0,1);s5x=27;break;case 9:A=this.zx;h.qa(A)&&a&&a.state===b.Ia.fh&&(A=this.zx=void 0);h.qa(A)&&A>=d.length&&(A=this.zx=void 0);K=g.ca;s5x=14;break;case 45:s5x=z5x===b.Ia.Ij?65:64;break;case 37:G||(t.rs=void 0);s5x=36;break;case 23:t=this.pe[b.Ia.name[u]].call(this,x,a,da,G,k,n);s5x=22;break;case 48:a.Pl&&(t.ab=g.ab,q=a&&a.pw,l=n.ca,t.ko=l&&!isNaN(q)&&0<=q&&q<l.length?l.dg(q):g.ab,t.Zlb=n.va||0,t.tjb=n.La&&n.La.va&&n.La.va.Ha||0,t.$_a=g.Ok-g.kf,t.toa=g.Fn,t.Ve=u,t.Fp=a&&a.Fp,t.ADa=y,t.wsb=f.time.ea());return t;break;case 31:K=t.qd+1;s5x=30;break;case 61:return c.error(F7Y+b.Ia.name[a.state]),null;break;case 21:s5x=(t.rs=[],d.forEach(function(a,b){var a5x;a5x=2;while(a5x!==4){switch(a5x){case 2:a===t.bp&&(t.qd=b);a5x=1;break;case 1:a.Bba&&t.rs.push(b);a.Bba=!1;a5x=4;break;}}}),!t.rs.length)?35:36;break;case 63:s5x=z5x===b.Ia.wd?23:62;break;case 24:this.jP=b.PN.fh;s5x=23;break;case 42:p4UU.G7Y(0);D5x=p4UU.a7Y(19,12,228);K=t.qd-D5x;s5x=41;break;case 62:s5x=z5x===b.Ia.gi?23:61;break;case 64:s5x=z5x===b.Ia.St?65:63;break;case 36:s5x=!t||null===t.qd?54:53;break;case 25:this.f0=this.a0=void 0;s5x=24;break;case 40:s5x=(n=d[K],n.df&&n.inRange&&!n.Rg)?39:38;break;case 44:++K;s5x=30;break;case 38:--K;s5x=41;break;case 19:da=d.filter(function(a){var t5x;t5x=2;while(t5x!==1){switch(t5x){case 2:return a&&a.df&&a.inRange&&!a.Rg;break;}}});da.length||(da=d.filter(function(a){var p5x;p5x=2;while(p5x!==1){switch(p5x){case 4:return a||a.df||+a.Rg;break;p5x=1;break;case 2:return a&&a.df&&!a.Rg;break;}}}),da.forEach(function(a){var i5x;i5x=2;while(i5x!==1){switch(i5x){case 4:a.inRange=+6;i5x=5;break;i5x=1;break;case 2:a.inRange=!0;i5x=1;break;}}}));K=da;x.uW?K=da.filter(function(a){var f5x;f5x=2;while(f5x!==1){switch(f5x){case 2:return a.zs;break;case 4:return a.zs;break;f5x=1;break;}}}):x.Wy||a.state===b.Ia.wd||a.state===b.Ia.gi||(K=da.filter(function(a){var H5x;H5x=2;while(H5x!==1){switch(H5x){case 2:return!a.eCa;break;case 4:return~a.eCa;break;H5x=1;break;}}}));s5x=15;break;case 30:s5x=K<d.length?29:43;break;case 54:return null;break;case 26:z5x=a.state;s5x=z5x===b.Ia.fh?25:45;break;case 65:this.jP=b.PN.fh;s5x=23;break;case 27:void 0!==A&&(G=p.gX.IH(da,function(a){var e5x;e5x=2;while(e5x!==1){switch(e5x){case 2:return a.O>d[A].O;break;case 4:return a.O<d[A].O;break;e5x=1;break;}}}),G=0<G?G-1:0===G?0:da.length-1);s5x=26;break;case 39:n.ca&&n.ca.length||(G=!0,t.rs.push(K));s5x=37;break;case 32:s5x=x.kCa&&K>x.oU?31:37;break;case 29:s5x=(n=d[K],n.df&&n.inRange&&!n.Rg)?28:44;break;case 43:s5x=!G?42:37;break;case 2:g=a&&a.buffer;u=a&&a.state;y=f.time.ea();x=this.G;s5x=9;break;case 14:N=K.length;s5x=13;break;case 22:s5x=t.bp?21:46;break;case 41:s5x=0<=K?40:37;break;}}};a.prototype.A2=function(a,b,c,d){var C5x;C5x=2;while(C5x!==1){switch(C5x){case 2:return this.pe.checkBuffering.call(this,a,b,c,d,this.G);break;}}};o5x=5;break;case 8:Object.defineProperties(a.prototype,{sfb:{get:function(){var b5x;b5x=2;while(b5x!==1){switch(b5x){case 4:return this.zx;break;b5x=1;break;case 2:return this.zx;break;}}},enumerable:!0,configurable:!0}});return a;break;}}}();d.UZ=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(45);f=a(94);a=function(a){function d(b,d,g,h,p){h=a.call(this,b,d,h,p)||this;d.ba=g.byteLength;f.pk.call(h,b,d);h.QB=g;h.ZSa=d.ba;return h;}b.__extends(d,a);Object.defineProperties(d.prototype,{Tb:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{bm:{get:function(){return!1;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{JT:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{jc:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{status:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{al:{get:function(){return 0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{oj:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{complete:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{response:{get:function(){return this.QB;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{hgb:{get:function(){return!0;},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{readyState:{get:function(){},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Gd:{get:function(){return this.ZSa;},enumerable:!0,configurable:!0}});d.prototype.My=function(){return!0;};d.prototype.fC=function(a){return this.Ph=a.appendBuffer(this.response,this);};d.prototype.ck=function(){return-1;};d.prototype.abort=function(){return!0;};d.prototype.Vd=function(){};d.prototype.sM=function(){return!1;};return d;}(a(156).Dw);d.mFa=a;g.Ti(f.pk,a);},function(g,d,a){var f,h,p,c;function b(a){return{mediaType:a.R,streamId:a.Ua,movieId:a.M,bitrate:a.O,location:a.location,serverId:a.Xc,saveToDisk:!0,offset:a.offset,bytes:a.ba,timescale:a.ha,frameDuration:a.stream.Ka&&a.stream.Ka.Dd,encrypted:a.Ql};}Object.defineProperty(d,"__esModule",{value:!0});f=a(7);h=a(723);p=a(367);c=a(69);d.eMa={XN:"movieEntry",dKa:"header",$Y:"metadata",cKa:"headerData",MJa:"sizes",LJa:"durations",Gea:"fragments",oMa:"response",Yi:"billboard",Pt:{lifespan:259200}};d.wsa=function(a,b,c){var d,f;d=b.headerData;c&&b.sizes instanceof ArrayBuffer&&b.durations instanceof ArrayBuffer&&(f={pm:c.startTicks,offset:c.offset,ha:c.timescale,sizes:new Uint32Array(b.sizes),dd:new Uint32Array(b.durations)});return{Tb:!0,R:a.mediaType,M:a.movieId,Ua:a.streamId,O:a.bitrate,location:a.location,Xc:a.serverId,ba:a.bytes,offset:a.offset,Hs:d,Ql:a.encrypted,ha:a.timescale,Ka:a.frameDuration,ce:a.saveToDisk,ca:f};};d.usa=function(a,b){var c,d,f;b=b.response;c=a.startTicks;d=a.durationTicks;void 0!==c&&void 0!==d&&(f=c+d);return{Tb:!1,R:a.mediaType,M:a.movieId,Ua:a.streamId,O:a.bitrate,location:a.location,Xc:a.serverId,ba:a.bytes,offset:a.offset,response:b,ha:a.timescale,eb:a.startTicks,Qk:d,ce:a.saveToDisk,nb:f};};d.sta=function(a){return{Qd:a.priority,M:a.movieId,headers:{},Co:0,JC:0,cT:0,ce:a.saveToDisk,Jb:a.stats,Tl:a.firstSelectedStreamBitrate,Eo:a.initSelectionReason,en:a.histDiscountedThroughputValue,Vk:a.histTdigest,Zl:a.histAge,Gk:void 0};};d.uta=function(a,b,d,g){var k,n;k={headers:{},data:{}};d.forEach(function(d){var f,n;f=d.R;if((f=g&&g[f]?g[f].yba:{})&&f[d.Ua])if(f=f[d.Ua],d.ca&&f.KU(d.ha,d.Ka?new c.oc(d.Ka,d.ha):void 0,d.ca),d.Tb&&f&&f.Tc)void 0===k.headers&&(k.headers={}),k.headers[d.Ua]=new p.kX(f,{ba:d.ba,offset:d.offset,Hs:d.Hs,Ql:d.Ql,ut:!1},a);else{if(d.response instanceof ArrayBuffer&&void 0!==f.ca&&void 0!==d.eb&&void 0!==d.ha&&void 0!==d.nb){n=f.ca.iS(new c.oc(d.eb,d.ha).Zf);void 0!==n&&(f=new h.mFa(f,{ha:d.ha,eb:d.eb,nb:d.nb,index:n.index,offset:d.offset,ba:d.ba},d.response,b,a),void 0===k.data&&(k.data={}),k.data[d.Ua]||(k.data[d.Ua]=[]),k.data[d.Ua].push(f));}}else a.warn("Failed to load data from disk because the AseStream was missing from the stream map streamId: "+d.Ua+" movieId: "+d.M);});if(!f.P(k.data)){n=k.data;Object.keys(n).forEach(function(a){n[a].sort(function(a,b){return a.eb-b.eb;});});}return k;};d.nta=function(a){return{mediaType:a.R,streamId:a.Ua,movieId:a.M,bitrate:a.O,location:a.location,serverId:a.Xc,saveToDisk:!0,offset:a.offset,bytes:a.ba,timescale:a.ha,startTicks:a.eb,durationTicks:a.Qk};};d.uab=b;d.pab=function(a){var c,d,f,g;c=b(a);a.stream.Tc&&a.stream&&a.stream.ca&&(d={timescale:a.stream.ca.ha,startTicks:a.stream.ca.pm,offset:a.stream.ca.fm(0)},g=a.stream.ca.TE,f=g.sizes.buffer,g=g.dd.buffer);return{mediaType:c.mediaType,streamId:c.streamId,movieId:c.movieId,bitrate:c.bitrate,location:c.location,serverId:c.serverId,saveToDisk:!0,offset:c.offset,bytes:c.bytes,timescale:c.timescale,frameDuration:c.frameDuration,headerData:a.Hs,encrypted:a.Ql,fragments:d,sizes:f,durations:g};};d.tta=function(a){return{priority:a.Qd,movieId:a.M,saveToDisk:a.ce,firstSelectedStreamBitrate:a.Tl,initSelectionReason:a.Eo,histDiscountedThroughputValue:a.en,histTdigest:a.Vk,histAge:a.Zl};};d.veb=function(a){return!f.has(a,"startTicks");};d.kva=function(a){return!a.Hs||!a.ha||!a.ca||void 0===a.ca.pm||void 0===a.ca.offset||void 0===a.ca.dd||!a.ca.dd.length||void 0===a.ca.sizes||!a.ca.sizes.length;};d.jva=function(a){return void 0===a.ba||void 0===a.offset||void 0===a.ha||void 0===a.eb||void 0===a.Qk;};},function(g,d,a){var p,c;function b(a,c,d){Object.keys(a).forEach(function(f){var g,h;if(p.Se(a[f]))if(a[f].xT){g=a[f];h=d+g.offset;a[f]=c.slice(h,h+g.byteLength);}else a[f]=b(a[f],c,d);});return a;}function f(a,b,c){Object.keys(a).forEach(function(d){var g;if(p.xT(a[d])){g=a[d];b.push(g);a[d]={xT:!0,offset:c.u3,byteLength:g.byteLength};c.u3+=g.byteLength;}else p.Se(a[d])&&f(a[d],b,c);});return a;}function h(){var a,b,c;a=Array.prototype.concat.apply([],arguments);b=a.reduce(function(a,b){return a+b.byteLength;},0);c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength;},0);return c.buffer;}p=a(109);c=a(39);g.T={g2a:function(a){var b,d,g;b=c(a,{});a=[];b=f(b,a,{u3:0});b=JSON.stringify(b);d=new ArrayBuffer(b.length+4);g=new DataView(d);g.setUint32(0,b.length);for(var k=4,p=0,l=b.length;p<l;p++)g.setUint8(k,b.charCodeAt(p)),k++;a=[d].concat(a);return h.apply(null,a);},f2a:function(a){var c;c=new DataView(a,0,4).getInt32(0);for(var d=new Uint8Array(a,4,c),f="",g=0;g<d.byteLength;g++)f+=String.fromCharCode(d[g]);c=4+c;f=JSON.parse(f);return b(f,a,c);}};},function(g,d,a){var h;function b(a,b){return a.length>b.length?1:b.length>a.length?-1:0;}function f(a,b){var c,d,g;c=[];if(h.Se(b)){d={};g={};g[a]=d;c.push(g);c=Object.keys(b).reduce(function(c,g){var k,n,p;k=b[g];p={};h.xT(k)?(n=a+".__embed__."+g,p[n]=k,c.push(p)):h.Se(k)?(n=a+".__sub__."+g,k=f(n,k),d[g]=k[0][n],c=c.concat(k.slice(1))):d[g]=k;return c;},c);}else g={},g[a]=b,c.push(g);return c;}h=a(109);g.T={p6a:f,ceb:function(a){var c,m;c=Object.keys(a).map(function(a){return a.split(".");});c.sort(b);for(var d=c[0],f=d.length,d=a[d.join(".")],g=1;g<c.length;g++)for(var h=!1,p=!1,l=d,t=f;t<c[g].length;t++){m=c[g][t];switch(m){case"__metadata__":break;case"__sub__":p=!0;break;case"__embed__":h=!0;break;default:p?(l=l[m],p=!1):h&&(l[m]=a[c[g].join(".")],h=!1);}}return d;},yeb:function(a){return a&&(0<=a.indexOf("__sub__")||0<=a.indexOf("__embed__"));}};},function(g,d,a){function b(a){return a;}function f(){return b;}a(7);g.T={xJ:f,f6:f};},function(g,d,a){var b,f,h,p;b=a(7);f=a(109);h={};h[f.zm.Jw]=function(a){return a;};h[f.zm.mO]=function(a){a=a||new ArrayBuffer(0);return String.fromCharCode.apply(null,new Uint8Array(a));};h[f.zm.OBJECT]=function(a){var b;b=a||new ArrayBuffer(0);a="";for(var b=new Uint8Array(b),c=0;c<b.byteLength;c++)a+=String.fromCharCode(b[c]);return JSON.parse(a);};p={};p[f.zm.Jw]=function(a){return a;};p[f.zm.mO]=function(a){for(var b=new ArrayBuffer(a.length),c=new Uint8Array(b),d=0,f=a.length;d<f;d++)c[d]=a.charCodeAt(d);return b;};p[f.zm.OBJECT]=function(a){return b.P(a)||b.Ra(a)?a:p[f.zm.mO](JSON.stringify(a));};g.T={xJ:function(a){return h[a]||h[f.zm.Jw];},f6:function(a){return p[a]||p[f.zm.Jw];}};},function(g){function d(a){if(!(this instanceof d))return new d(a);if("undefined"===typeof a)this.Qj=function(a,b){return a<=b;};else{if("function"!==typeof a)throw Error("heap comparator must be a function");this.Qj=a;}this.Mm=[];}function a(d,g){var f,c,h,q,n,l,t;f=d.Mm;c=d.Qj;h=2*g+1;q=2*g+2;n=f[g];l=f[h];t=f[q];l&&c(l.Qd,n.Qd)&&(!t||c(l.Qd,t.Qd))?(b(f,g,h),a(d,h)):t&&c(t.Qd,n.Qd)&&(b(f,g,q),a(d,q));}function b(a,b,d){var c;c=a[b];a[b]=a[d];a[d]=c;}d.prototype.clear=function(){this.Mm=[];};d.prototype.$l=function(a,d){this.Mm.push({Qd:a,value:d});a=this.Mm;d=this.Qj;for(var f=a.length-1,c=0===f?null:Math.floor((f-1)/2);null!==c&&d(a[f].Qd,a[c].Qd);)b(a,f,c),f=c,c=0===f?null:Math.floor((f-1)/2);};d.prototype.remove=function(){var d;if(0!==this.Mm.length){d=this.Mm[0];b(this.Mm,0,this.Mm.length-1);this.Mm.pop();a(this,0);return d.value;}};d.prototype.nE=function(){if(0!==this.Mm.length)return this.Mm[0].value;};d.prototype.enqueue=d.prototype.$l;d.prototype.Q5a=d.prototype.remove;d.prototype.kA=function(){return this.Mm.map(function(a){return a.value;});};g.T=d;},function(g,d,a){var f,h,p,c,k,q,n,l;function b(a,d,g){var K,D;function t(a,b,c,d){a.info.call(a,function(a,f){var g;if(a)d(a);else{try{g=f.values[this.context].entries[b][c].size;}catch(da){g=-1;}-1<g?d(null,g):this.lp(function(a,b){a?d(a):(b[c]&&(g=b[c].size),d(null,g));});}}.bind(a));}function m(a,c,d,f,g,p,q){var l;p?p.Vj||(p.Vj={}):p={Vj:{}};K(f);l=h.time.now();f=new n(function(b,f){a.create(h.storage.UA,c,d,function(a,c){a?f(a):b(c);});}).then(function(d){d.X?t(a,h.storage.UA,c,function(a,f){a?q(a):(D(f),K(f),p.Vj[b.eN.UY]={X:!0,time:g,Rh:f,Bv:c,Rza:d,duration:h.time.now()-l},p.Di=d.Di,q(null,p));}):(p.Vj[b.eN.UY]={X:!1,Bv:c,error:d.error},q(null,p));},function(a){q(a);});k.yq(f);}function u(a,b,c,d,f,g){d.$l(c.time,c);for(var h=c.time-864E5,k=d.nE();k&&!isNaN(k.time)&&k.time<h;)k=d.Q5a(),K(0-(k.ba||0)),k=d.nE();d=d.kA().map(function(a){return a.time+";"+a.ba;});m(a,b,Array.prototype.join.call(d,"|"),c.ba,c.time,f,g);}function y(a,c,d,f,g,k,n,l,m){var y;y=h.time.now();a.create(d,f,g,function(g,r){var A;if(g)q.error("Failed to replace item",f,g);else if(r.X){A=r.Di;t(a,d,f,function(d,g){var p,q;if(d)m(d);else{d={time:l,ba:g||0};p={Di:A,Vj:{}};q=h.time.now()-y;p.Vj[b.eN.REPLACE]={X:!0,time:l,Rh:g,Bv:f,Rza:r,duration:q};k?u(a,c,d,n,p,m):(K(g),m(null,p));}});}else m(p.xO.vm(r.error||"Failed to create item"));});}function r(a,c,d,f,g,k,n,l,m){var y;y=h.time.now();a.append(d,f,g,function(g,r){var A;if(g)q.error("Failed to save item "+f,g),m(g);else if(r.X){A=r.Di;t(a,d,f,function(d,g){var p,q;if(d)m(d);else{d={time:l,ba:g||0};p={Di:A,Vj:{}};q=h.time.now()-y;p.Vj[b.eN.sQa]={X:!0,time:l,Rh:g,Bv:f,Rza:r,duration:q};k?u(a,c,d,n,p,m):(K(g),m(null,p));}});}else m(p.xO.vm(r.error||"Failed to save item"));});}function A(a,b){a&&f.Mb(a.remove)&&a.li.valid&&a.remove(h.storage.UA,b.FB,function(c,d){if(c)q.error("Failed to delete old journal key",c);else try{d&&(f.P(d.error)||d.error.some(function(a){return"NFErr_FileNotFound"===a.pGb;}))&&u(a,b.FB,{time:0,ba:0},b.oH,0,function(){});}catch(X){}});}if(!a.li.valid)return l;this.mka=f.P(d)||f.Ra(d)?0:d;this.H_=a;this.Z_=this.LG=0;this.oH=new c();this.tWa=g||"default";this.FB=this.tWa+".NRDCACHEJOURNALKEY";K=function(a){isNaN(a)||(this.LG+=a);return this.LG;}.bind(this);D=function(a){isNaN(a)||(this.Z_+=a);return this.Z_;}.bind(this);this.N5=function(){return this.FB;};this.save=function(a,b,c,d){var f;f=h.time.now();r(this.H_,this.FB,a,b,c,0<=this.mka,this.oH,f,d);};this.replace=function(a,b,c,d){var f;f=h.time.now();y(this.H_,this.FB,a,b,c,0<=this.mka,this.oH,f,d);};this.Hsa=function(a){var b,f;b=this.LG;a-=864E5;for(var c=this.oH.kA(),d=0;d<c.length;d++){f=c[d];f.time<a&&!isNaN(f.ba)&&(b-=f.ba);}return b;};(function(a){var b;b=a.H_;a.LG=0;b.read(h.storage.UA,a.FB,0,-1,function(c,d){var f,g,k,p;f=[];g=0;k=!0;if(c)q.error("Failed to compile records",c);else if(d.X){c=String.fromCharCode.apply(null,new Uint8Array(d.value));c=String.prototype.split.call(c,"|");d=c.reduce(function(a,b){return a+(b.length+40);},0);K(d);f=c.map(function(a){a=a.split(";");return{time:Number(a[0]),ba:Number(a[1])};});try{if(!isNaN(f.reduce(function(a,b){return a+b.ba;},0)))for(var k=!1,n=h.time.now()-864E5;g<f.length;g++){p=f[g];p.time<n||(a.oH.$l(p.time,p),K(p.ba));}}catch(Sa){}}k&&A(b,a);});}(this));}f=a(7);h=a(110);p=a(200);c=a(729);d=a(39);k=a(199);q=new h.Console("DISKWRITEMANAGER","media|asejs");n=h.Promise;d({eN:{sQa:"saveitem",REPLACE:"replaceitem",UY:"journalupdate"}},b);l={save:function(a,b,c,d){d(p.fga);},replace:function(a,b,c,d){d(p.fga);},N5:function(){return"";},Hsa:function(){return 0;}};b.prototype.constructor=b;g.T={create:function(a,c,d){return new b(a,c,d);},xAb:l};},function(g,d,a){var k,q,n,l,m,r,K,x,I;function b(){}function f(c,d,g,n,l){var t;t=k.Mb(n)?n:b;this.nu=c;this.nr=g.Nu;this.Nr=0;this.RTa=g.u8a||"NONE";this.pr=k.P(l)||k.Ra(l)?0:l;this.kd={};this.Tn=g.GIb||q.storage.UA;this.xp=d;this.$B=m.create(this.xp,g.L4a*this.pr,this.nu);this.on=this.addEventListener=I.addEventListener;this.removeEventListener=I.removeEventListener;this.emit=this.ka=I.ka;this.Vka=p(this,f.ud.REPLACE);this.xUa=p(this,f.ud.tja);this.Gx;this.Gx=g.eEa?a(728):a(727);this.xp.query(this.Tn,this.em(""),function(a,b){var c;if(a)t(a);else{c=this.$B.N5();a=Object.keys(b).filter(function(a){return a!==c&&r.ED(a);}).map(this.kca.bind(this));this.uV(a,function(a,c){Object.keys(c).map(function(a){var d,f;d=c[a];this.kd[r.fS(a)]=d;if(d.naa&&1<Object.keys(d.naa).length){f=0;Object.keys(d.naa).forEach(function(a){b[this.em(a)]&&k.qa(b[this.em(a)].size)&&(f+=b[this.em(a)].size);}.bind(this));a=r.fS(a);this.kd[a].size=f;}else a=r.fS(a),b[this.em(a)]&&(this.kd[a].size=b[this.em(a)].size);}.bind(this));h(this.xp,this.Tn,this.nu,function(a,b){this.Nr=b;a?t(a):t(null,this);}.bind(this));}.bind(this));}}.bind(this));}function h(a,c,d,f){var g;g=k.Mb(f)?f:b;a.query(c,d,function(a,b){a?g(a):(a=Object.keys(b).reduce(function(a,c){return a+(b[c].size||0);},0),g(null,a));});}function p(a,b){return function(c,d,g,n,p){return function(l,t){var m;if(l)d||a.ka(f.ud.ERROR,{itemKey:c,error:l}),g(l);else{m={Rh:0,duration:0,items:[],time:q.time.now()};Object.keys(t.Vj).map(function(b){var c;c=t.Vj[b];b={key:a.kca(c.Bv),ef:b};c.X?(m.Rh+=c.Rh,b.GT=c.Rh,k.qa(c.duration)&&(m.duration+=c.duration)):b.error=c.error;m.items.push(b);});l=k.Mb(n)?n():0;0<p&&(m.IC=p-l);h(a.xp,a.Tn,a.nu,function(c,f){c?g(c):(a.Nr=f,m.Di=a.nr-f,d||a.ka(b,x.Lsa(m)),g(null,m));});}};};}function c(a,b){return 0<b&&a>=b?!0:!1;}k=a(7);q=a(110);n=a(200);d=a(39);l=new q.Console("MEDIACACHE","media|asejs");m=a(730);r=a(359);K=a(109);x=a(199);I=a(24).EventEmitter;d({ud:{tja:"writeitem",REPLACE:"replaceitem",UY:"journalupdate",ERROR:"mediacache-error"}},f);f.prototype.getName=function(){return this.nu;};f.prototype.kca=function(a){return a.slice(this.nu.length+1);};f.prototype.F5=function(){return Object.keys(this.kd).filter(function(a){a=r.j5(this.kd[a]);return void 0===a||0>=a.npa();}.bind(this));};f.prototype.jbb=function(){return Object.keys(this.kd).reduce(function(a,b){var c;c=this.kd[b];return c&&c.creationTime<a.creationTime?{resourceKey:b,creationTime:c.creationTime}:a;}.bind(this),{resourceKey:null,creationTime:q.time.now()}).nKb;};f.prototype.hab=function(){var a;switch(this.RTa){case"FIFO":a=this.jbb();}return a;};f.prototype.M5a=function(a){var c;c=k.Mb(a)?a:b;this.hta(function(b){var d,f,g;d=this.kd;f=Object.keys(d).reduce(function(a,b){b=d[b];b.resourceIndex&&Object.keys(b.resourceIndex).forEach(function(b){a.push(b);});return a;},[]);if((b=b.filter(function(a){return!r.ED(a)&&0>f.indexOf(a);}))&&0<b.length){g=this;b=q.Promise.all(b.map(function(a){return new q.Promise(function(b,c){g["delete"](a,function(a){a?c(a):b();});});})).then(function(){c(void 0,{W$:!0});},function(a){c(a,{W$:!1});});x.yq(b);}else a(void 0,{W$:!1});}.bind(this));};f.prototype.fnb=function(a,c,d){var f,g;f=k.Mb(c)?c:b;c=this.em(a);g=q.time.now();this.xp.read(this.Tn,c,0,-1,function(b,c){var h;if(b)f(b);else if(c&&c.X&&c.value){k.Mb(d)||(d=this.Gx.xJ(K.zm.Jw),r.ED(a)?d=this.Gx.xJ(K.zm.OBJECT):(b=this.kd[a],!k.P(b)&&k.qa(b.resourceIndex[a])?(b=b.resourceIndex[a],k.P(b)&&(b=K.zm.Jw),d=this.Gx.xJ(b)):l.warn("Metadata is undefined or does not contain a resource format for key",a,":",b)));try{h=d(c.value);}catch(ca){return f(n.$A.vm(ca.message));}c={duration:q.time.now()-g};this.kd[a]&&k.qa(this.kd[a].size)&&(c.gs=k.qa(this.kd[a].size)?this.kd[a].size:0);f(null,h,c);}else f(n.$A.vm(c.error));}.bind(this));};f.prototype.read=function(a,b,c){this.fnb(a,b,c);};f.prototype.uV=function(a,c,d){var f,g,h;f=k.Mb(c)?c:b;if("[object Array]"!==Object.prototype.toString.call(a))f(n.$A.vm("item keys must be an array"));else{g={};h=[];a=q.Promise.all(a.map(function(a){return new q.Promise(function(b,c){var f;d&&!k.P(d[a])&&(f=this.Gx.xJ(d[a]));this.read(a,function(d,f,k){d?(f={},f[a]=d,c(f)):(g[a]=f,h.push({duration:k.duration,gs:k.gs}),b());},f);}.bind(this));}.bind(this))).then(function(){var a;a={};0<h.length&&(a=h.reduce(function(a,b){k.qa(b.duration)&&(a.duration+=b.duration);k.qa(b.gs)&&(a.gs+=b.gs);return a;},{duration:0,gs:0}));f(null,g,a);},function(a){f(a);});x.yq(a);}};f.prototype.write=function(a,d,f,g,h){var p,q,l;f=k.Mb(f)?f:b;p=this.em(a);q="function"===typeof h?h():0;l=K.q6(d);l=this.Gx.f6(l)(d);l.byteLength+this.Nr>=this.nr?f(n.AA):c(l.byteLength+q,this.pr)?f(n.yO):this.$B.save(this.Tn,p,d,this.xUa(a,g,f,h,this.pr),l.byteLength);};f.prototype.replace=function(a,d,f,g,h){var p,q,t,m;p=k.Mb(f)?f:b;q=this.em(a);t=0;"function"===typeof h&&(t=h());f=K.q6(d);m=this.Gx.f6(f)(d);f=(this.kd[a]||{}).size||0;0>=f&&this.kd[a]?this.zta([a],function(b){l.trace("Replacing key",a,"which exists:",!!this.kd[a],this.kd[a]?this.kd[a]:void 0,"and has size",b,"with",d,"with size",m.byteLength,"plus _used",this.Nr,"vs capacity",this.nr);m.byteLength-b+this.Nr>=this.nr?p(n.AA):c(m.byteLength-b+t,this.pr)?p(n.yO):this.$B.replace(this.Tn,q,d,this.Vka(a,g,p,h,this.pr),m.byteLength);}.bind(this)):(l.trace("Replacing key",a,"which exists:",!!this.kd[a],this.kd[a]?this.kd[a]:void 0,"and has size",f,"with",d,"with size",m.byteLength,"plus _used",this.Nr,"vs capacity",this.nr),m.byteLength-f+this.Nr>=this.nr?p(n.AA):c(m.byteLength-f+t,this.pr)?p(n.yO):this.$B.replace(this.Tn,q,d,this.Vka(a,g,p,h,this.pr),m.byteLength));};f.prototype.dob=function(a,c,d,g){var h;h=k.Mb(c)?c:b;"[object Object]"!==Object.prototype.toString.call(a)?h(n.xO.vm("items must be a map of keys to objects")):(c=q.Promise.all(Object.keys(a).map(function(b){return new q.Promise(function(c){this.replace(b,a[b],function(a,d){a?c({error:a,jm:b}):c(d);},!0,g);}.bind(this));}.bind(this))).then(function(a){var b,c,n,p;try{b=Number.MAX_VALUE;c=a.reduce(function(a,c){c.error||(a.Rh+=c.Rh,k.qa(c.duration)&&(a.duration+=c.duration),!k.P(c.Di)&&c.Di<b&&(b=c.Di),c.items.map(function(b){a.items.push({key:b.key,ef:b.ef,GT:b.GT,xgb:b.xgb,duration:b.duration});}),b<Number.MAX_VALUE&&(a.Di=b));return a;},{Rh:0,items:[],time:q.time.now(),duration:0});0<this.pr&&(c.IC=this.pr-g());n=a.filter(function(a){return!k.P(a.error);});p=x.$ta(n);d||(p?p.forEach(function(a){this.ka(f.ud.ERROR,a);}.bind(this)):this.ka(f.ud.REPLACE,x.Lsa(c)));h(p,c);}catch(X){h(X);}}.bind(this),function(a){d||this.ka(f.ud.ERROR,a);h(a);}.bind(this)),x.yq(c));};f.prototype["delete"]=function(a,c){var d;d=k.Mb(c)?c:b;this.xp.remove(this.Tn,this.em(a),function(a,b){a?d(a):b&&b.X?h(this.xp,this.Tn,this.em(""),function(a,b){a?d(a):(this.Nr=b,d());}.bind(this)):d(n.JHa.vm(b.error));}.bind(this));};f.prototype.hta=function(a){this.query("",function(b,c){b?(l.error("Failed to get keys",b),a([])):a(c);});};f.prototype.query=function(a,c){var d,f;d=k.Mb(c)?c:b;f=this.$B.N5();this.xp.query(this.Tn,this.em(a),function(a,b){a?d(a):d(null,Object.keys(b).filter(function(a){return a!==f;}).map(this.kca.bind(this)));}.bind(this));};f.prototype.em=function(a){return this.nu+"."+a;};f.prototype.clear=function(a){var c;c=k.Mb(a)?a:b;this.hta(function(a){var b;b=q.Promise.all(a.map(function(a){return new q.Promise(function(b){a&&this["delete"](a,function(){b();});}.bind(this));}.bind(this))).then(function(){c(a);},function(a){this.ka(f.ud.ERROR,a);c([],a);}.bind(this));x.yq(b);}.bind(this));};f.prototype.zta=function(a,c){var d,f;d=k.Mb(c)?c:b;f=(a||[]).map(function(a){return this.em(a);}.bind(this));this.xp.query(this.Tn,this.nu,function(b,c){b?(l.error("failed to get persisted size for keyset ",a,b),d(0)):(b=Object.keys(c).filter(function(a){return 0<=f.indexOf(a);}).reduce(function(a,b){return a+(c[b].size||0);},0),d(b));}.bind(this));};f.prototype.w$a=function(a){return this.$B.Hsa(a);};f.prototype.constructor=f;g.T=f;},function(g,d,a){var f,h,p,c,k;function b(a){this.li=a;this.context=a.context;this.Wxa="NULLCONTEXT"===a.context?!0:!1;}f=a(7);h=a(110);p=new h.Console("DISKCACHE","media|asejs");c={context:"NULLCONTEXT",read:function(a,b,c,d,f){f("MediaCache is not supported");},remove:function(a,b,c){c("MediaCache is not supported");},create:function(a,b,c,d){d("MediaCache is not supported");},append:function(a,b,c,d){d("MediaCache is not supported");},query:function(a,b,c){c([]);}};b.prototype.Qx=function(){var a,b,c;a=Array.prototype.slice.call(arguments);b=a[0];c=a[a.length-1];a=a.slice(1,a.length-1);a.push(function(a){c(null,a);});try{if(this.Wxa)throw Error("Media Cache not supported");b.apply(this.li,a);}catch(y){c(y);}};b.prototype.query=function(a,b,c,d){try{if(this.Wxa)throw Error("Media Cache not supported");this.li.query(a,b,function(a){c(null,a);},d);}catch(A){c(A);}};b.prototype.read=function(a,b,c,d,f){this.Qx(this.li.read,a,b,c,d,f);};b.prototype.remove=function(a,b,c){this.Qx(this.li.remove,a,b,c);};b.prototype.create=function(a,b,c,d){this.Qx(this.li.create,a,b,c,d);};b.prototype.append=function(a,b,c,d){this.Qx(this.li.append,a,b,c,d);};b.prototype.info=function(a){this.Qx(this.li.info,a);};b.prototype.lp=function(a){this.Qx(this.li.lp,a);};b.prototype.flush=function(a){this.Qx(this.li.flush,a);};b.prototype.clear=function(){this.li.clear();};g.T={c4a:function(a){var d,g,q,l,t;d=a.aGb||"NRDMEDIADISKCACHE";k=a.Wu||0;0!==k||f.P(h.options)||f.P(h.options.YD)||(k=h.options.YD);a=k;try{l=h.storage.KI;if(!l||!f.Se(l))throw p.warn("Failed to get disk store contexts from platform"),"Platform does not support disk store";if(q=l[d])p.warn("Disk store exists, returning"),g=new b(q);else{if(f.P(h.storage)||!f.Mb(h.storage.kR)||h.options&&0===h.options.YD)throw p.warn("Platform doesn't support creating disk store contexts"),"Platform doesn't support creating disk store contexts";p.warn("Disk store context doesn't exist, creating with size "+a);t=h.storage.kR({context:d,size:a,encrypted:!0,signed:!0});if(!t||!t.valid)throw"Failed to create disk store context";g=new b(t);}}catch(x){p.warn("Exception creating disk store context - returning NullContext (noops)",x);g=new b(c);}return g;},U$a:function(){return k;},rxb:b};},function(g,d,a){var b,f,h,p,c;b=a(7);h=[];c=!1;g.T={Xua:function(d,g,n){var k;if(c)b.Mb(n)&&(f.hn||f.Ky?setTimeout(function(){n(f);},0):h.push(n));else{c=!0;k=a(110);k.TJ(d);p=new k.Console("MEDIACACHE","media|asejs");f=new(a(360))(g,function(a){a&&p.warn("Failed to initialize MediaCache",a);b.Mb(n)&&setTimeout(function(){n(f);},0);h.map(function(a){setTimeout(function(){a(f);},0);});});}return f;},GGb:function(c,d){f=new(a(360))(c,function(a,c){a&&p.warn("Failed to initialize MediaCache",a);b.Mb(d)&&setTimeout(function(){d(c);},0);});}};},function(g,d,a){var b,f,h,p,c,k;Object.defineProperty(d,"__esModule",{value:!0});a(13);b=a(733);f=a(24);h=a(7);p=a(210);g=a(45);c=a(724);k=c.eMa;a=function(){var R7Y;R7Y=2;function a(a,b,c){var i7Y,S0Y,p0Y,X0Y,E0Y;i7Y=2;while(i7Y!==13){S0Y="media|a";S0Y+="s";S0Y+="ejs";p0Y="M";p0Y+="ED";p0Y+="IACACH";p0Y+="E";X0Y="1SIY";X0Y+="bZr";X0Y+="NJ";X0Y+="C";X0Y+="p9";E0Y="M";E0Y+="edia cache has not been init";E0Y+="iaized";switch(i7Y){case 6:this.Ap=Promise.reject(E0Y);X0Y;i7Y=13;break;case 4:this.Nm=a.X8?a.X8:!1;this.aVa=a.cxa?a.cxa:!1;this.G=a;this.Ck=b;this.xf=c;i7Y=6;break;case 2:this.N=new b.Console(p0Y,S0Y);this.f1=(a.zw||a.zca)&&0<(a.Wu||(b.options||{}).YD||0);this.OTa=a.q7a?a.q7a:!1;i7Y=4;break;}}}while(R7Y!==27){switch(R7Y){case 8:a.prototype.Sob=function(a,b,d){var L5Y,f,g,n,p,l,v0Y;L5Y=2;while(L5Y!==11){v0Y="Unab";v0Y+="le to save fragment because response is";v0Y+=" not an ArrayBu";v0Y+="f";v0Y+="fer";switch(L5Y){case 3:n=this.Ck.time.ea();p=[a.M,a.Ua,a.Mc].join(".");L5Y=8;break;case 2:f=this;g=a.response;L5Y=4;break;case 4:L5Y=g instanceof ArrayBuffer?3:12;break;case 8:a=c.nta(a);l={};L5Y=6;break;case 6:l[p+"."+k.$Y]={jm:a,fd:k.Pt};h.P(g)||(l[p+"."+k.oMa]={jm:g,fd:k.Pt});this.kh.dBa(k.Yi,l,function(a){var E5Y,l0Y;E5Y=2;while(E5Y!==5){l0Y="Fa";l0Y+="iled to sa";l0Y+="ve fr";l0Y+="agment";switch(E5Y){case 2:a?f.N.warn(l0Y,a):(a=f.Ck.time.ea()-n,h.P(b.Jb.sm)&&(b.Jb.sm=0),b.Jb.sm+=a);d();E5Y=5;break;}}});L5Y=11;break;case 12:d(Error(v0Y));L5Y=11;break;}}};a.prototype.Wob=function(a){var X5Y,D,g,l,q,t,b,d,f,n,m,r,V,Q,B;X5Y=2;while(X5Y!==32){switch(X5Y){case 25:V[Q.Mc]={mediaType:B.mediaType,streamId:B.streamId,movieId:B.movieId,bitrate:B.bitrate,location:B.location,serverId:B.serverId,saveToDisk:B.saveToDisk,offset:B.offset,bytes:B.bytes,timescale:B.timescale,startTicks:B.startTicks,durationTicks:B.durationTicks,response:Q.response};X5Y=24;break;case 23:g[m]=V;X5Y=22;break;case 26:B=c.nta(Q);X5Y=25;break;case 18:X5Y=r?17:22;break;case 13:X5Y=a&&a.data?12:35;break;case 17:D=0;X5Y=16;break;case 12:g={},l=a.data,q=0,t=Object.keys(a.data);X5Y=11;break;case 10:m=t[q];r=l[m];V={};X5Y=18;break;case 16:X5Y=D<r.length?15:23;break;case 2:b=this;d=this.Ck.time.ea();f={};g=c.tta(a);X5Y=9;break;case 21:f.data=g;X5Y=35;break;case 14:f.headers=n;X5Y=13;break;case 8:X5Y=a.headers?7:13;break;case 24:D++;X5Y=16;break;case 7:n={};Object.keys(a.headers).forEach(function(b){var p5Y,d;p5Y=2;while(p5Y!==4){switch(p5Y){case 2:d=c.pab(a.headers[b]);n[b]=d;p5Y=4;break;}}});X5Y=14;break;case 9:f.movieEntry=g;X5Y=8;break;case 22:q++;X5Y=11;break;case 11:X5Y=q<t.length?10:21;break;case 35:g={lifespan:259200};this.aVa&&(g.convertToBinaryData=!0);this.kh.save(k.Yi,a.M,f,g,function(a){var S5Y,w0Y;S5Y=2;while(S5Y!==1){w0Y="saveto";w0Y+="di";w0Y+="sk";switch(S5Y){case 2:a||b.OE(w0Y,{eBa:b.Ck.time.ea()-d});S5Y=1;break;}}});X5Y=32;break;case 27:X5Y=Q instanceof p.jX&&Q.response instanceof ArrayBuffer&&!h.P(Q.Mc)?26:24;break;case 15:Q=r[D];X5Y=27;break;}}};a.prototype.lva=function(a){var l5Y;l5Y=2;while(l5Y!==1){switch(l5Y){case 2:return!(h.P(a)||h.Ra(a)||h.P(a.Jb)||h.Ra(a.Jb)||h.P(a.M)||h.Ra(a.M)||h.P(a.Qd)||h.Ra(a.Qd));break;}}};a.prototype.Hgb=function(a){var v5Y,b,c;v5Y=2;while(v5Y!==3){switch(v5Y){case 4:return new Promise(function(a){var w5Y,q5Y;w5Y=2;while(w5Y!==4){switch(w5Y){case 5:try{q5Y=2;while(q5Y!==1){switch(q5Y){case 2:b.kh.Iz(k.Yi,"",function(b){var y5Y;y5Y=2;while(y5Y!==5){switch(y5Y){case 2:b=b.filter(function(a){var z5Y,q0Y;z5Y=2;while(z5Y!==5){q0Y="m";q0Y+="ovi";q0Y+="eEnt";q0Y+="r";q0Y+="y";switch(z5Y){case 2:a=a.split(".");return c&&(c===a[0]||q0Y===a[0]&&c===a[1]);break;}}}).reduce(function(a,b){var c5Y,c,y0Y;c5Y=2;while(c5Y!==3){y0Y="m";y0Y+="ovie";y0Y+="Entry";switch(c5Y){case 2:c=b.split(".");y0Y!==c[0]&&(b=c[1],c=c[2],h.P(a[b])&&(a[b]={}),h.P(a[b][c])&&(a[b][c]=!0));return a;break;}}},{});a(b);y5Y=5;break;}}});q5Y=1;break;}}}catch(K){a();}w5Y=4;break;case 1:a();w5Y=4;break;case 2:w5Y=h.P(b.kh)?1:5;break;}}});break;case 2:b=this;c=h.P(a)?"":a.toString();v5Y=4;break;}}};a.prototype.bgb=function(a,b){var B5Y,c;B5Y=2;while(B5Y!==4){switch(B5Y){case 2:c=this;return b&&b.headers&&b.headers&&0<Object.keys(b.headers).length&&b.data?new Promise(function(a){var C5Y,c,d;C5Y=2;while(C5Y!==7){switch(C5Y){case 2:c={};b.headers&&Object.keys(b.headers).forEach(function(a){var D5Y;D5Y=2;while(D5Y!==5){switch(D5Y){case 2:c[a]||(c[a]={});c[a].header=!0;D5Y=5;break;}}});C5Y=4;break;case 9:Object.keys(d).forEach(function(a){var O5Y;O5Y=2;while(O5Y!==5){switch(O5Y){case 2:c[a]||(c[a]={});d[a].forEach(function(b){var t5Y;t5Y=2;while(t5Y!==1){switch(t5Y){case 2:h.P(b.Mc)||(c[a][b.Mc]=!0);t5Y=1;break;}}});O5Y=5;break;}}});C5Y=8;break;case 4:C5Y=b.data?3:8;break;case 3:d=b.data;C5Y=9;break;case 8:return a(c);break;}}}):this.ala(a).then(function(b){var o5Y;o5Y=2;while(o5Y!==5){switch(o5Y){case 3:o5Y=b?2:8;break;o5Y=b?1:5;break;case 2:o5Y=b?1:5;break;case 1:return new Promise(function(b){var A5Y;A5Y=2;while(A5Y!==1){switch(A5Y){case 2:c.kh.read(k.Yi,a,function(c,d){var J5Y,f,g;J5Y=2;while(J5Y!==4){switch(J5Y){case 2:J5Y=1;break;case 1:J5Y=c?5:3;break;case 3:J5Y=h.P(d)?9:8;break;case 9:b(void 0);J5Y=4;break;case 8:f=d[a];g={};f.headers&&Object.keys(f.headers).forEach(function(a){var H5Y;H5Y=2;while(H5Y!==5){switch(H5Y){case 2:g[a]||(g[a]={});g[a].header=!0;H5Y=5;break;}}});J5Y=14;break;case 5:b();J5Y=4;break;case 14:f.data&&Object.keys(f.data).forEach(function(a){var a5Y;a5Y=2;while(a5Y!==5){switch(a5Y){case 2:g[a]||(g[a]={});Object.keys(f.data[a]).forEach(function(b){var G5Y;G5Y=2;while(G5Y!==1){switch(G5Y){case 2:g[a][b]=!0;G5Y=1;break;case 4:g[a][b]=+9;G5Y=7;break;G5Y=1;break;}}});a5Y=5;break;}}});b(g);J5Y=4;break;}}});A5Y=1;break;}}});break;}}});break;}}};a.prototype.abb=function(){var M5Y,a,z0Y;M5Y=2;while(M5Y!==4){z0Y="Me";z0Y+="dia cache is n";z0Y+="ot enabled";switch(M5Y){case 9:M5Y=6;break;M5Y=1;break;case 1:a=this;return this.Ap?this.Ap.then(function(){var e5Y;e5Y=2;while(e5Y!==1){switch(e5Y){case 2:return new Promise(function(b){var F5Y;F5Y=2;while(F5Y!==1){switch(F5Y){case 2:a.kh.Iz(k.Yi,k.XN,function(a){var R5Y,c;R5Y=2;while(R5Y!==8){switch(R5Y){case 5:b([]);R5Y=8;break;case 4:c=[];a.forEach(function(a){var i5Y;i5Y=2;while(i5Y!==1){switch(i5Y){case 2:a&&a.length&&(a=a.split("."))&&1<a.length&&c.push(a[1]);i5Y=1;break;}}});b(c);R5Y=8;break;case 2:R5Y=1;break;case 1:R5Y=!a||0>=a.length?5:4;break;}}});F5Y=1;break;}}});break;}}}):Promise.reject(z0Y);break;case 2:M5Y=1;break;}}};R7Y=11;break;case 2:a.prototype.gc=function(a,c){var Z7Y,d,B0Y;Z7Y=2;while(Z7Y!==4){B0Y="M";B0Y+="edia c";B0Y+="ache ";B0Y+="is disable";B0Y+="d";switch(Z7Y){case 2:d=this;return this.Ap=this.f1?new Promise(function(f,g){var N7Y;N7Y=2;while(N7Y!==1){switch(N7Y){case 2:(void 0!==c&&null!==c?c.Xua:function(a){var Y7Y;Y7Y=2;while(Y7Y!==1){switch(Y7Y){case 4:return b.Xua(d.Ck,d.G,a);break;Y7Y=1;break;case 2:return b.Xua(d.Ck,d.G,a);break;}}})(function(b){var m7Y,c,c0Y;m7Y=2;while(m7Y!==3){c0Y="Media ca";c0Y+="che did not initi";c0Y+="a";c0Y+="lize";switch(m7Y){case 2:d.kh=b;c=b.hn;(b=b.Ky)?g(b):c?(d.Gqb(a),f()):g(Error(c0Y));m7Y=3;break;}}});N7Y=1;break;}}}):Promise.reject(B0Y);break;}}};a.prototype.dgb=function(a){var T7Y,b,d,f;T7Y=2;while(T7Y!==9){switch(T7Y){case 2:b=this;d=[k.XN,a].join(".");f=this.Ck.time.ea();T7Y=3;break;case 3:return this.Ap.then(function(){var I7Y;I7Y=2;while(I7Y!==1){switch(I7Y){case 2:return new Promise(function(g){var P7Y;P7Y=2;while(P7Y!==1){switch(P7Y){case 2:b.kh.Iz(k.Yi,d,function(d){var W7Y,n,C0Y;W7Y=2;while(W7Y!==9){C0Y="med";C0Y+="i";C0Y+="acachelooku";C0Y+="p";switch(W7Y){case 5:g(),b.OE(C0Y,{XT:b.Ck.time.ea()-f,oR:!1});W7Y=9;break;case 1:W7Y=!d||0>=d.length?5:4;break;case 2:W7Y=1;break;case 4:n=d[0];b.kh.read(k.Yi,n,function(d,f){var U7Y,f5Y,k,p,O0Y,D0Y;U7Y=2;while(U7Y!==14){O0Y=" f";O0Y+="a";O0Y+="i";O0Y+="le";O0Y+="d";D0Y="Readin";D0Y+="g movie en";D0Y+="try ";switch(U7Y){case 3:try{f5Y=2;while(f5Y!==1){switch(f5Y){case 2:k=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(f)));f5Y=1;break;}}}catch(V){}U7Y=8;break;case 2:d&&b.N.warn(D0Y+n+O0Y,d);U7Y=5;break;case 5:U7Y=!h.P(f)?4:8;break;case 9:k={priority:f.priority,movieId:f.movieId,saveToDisk:f.saveToDisk,firstSelectedStreamBitrate:f.firstSelectedStreamBitrate,initSelectionReason:f.initSelectionReason,histDiscountedThroughputValue:f.histDiscountedThroughput,histTdigest:f.histTdigest,histAge:f.histAge,headerCount:f.headerCount,dataRequestCount:f.dataRequestCount,headerRequestCount:f.headerRequestCount,stats:f.stats};U7Y=8;break;case 4:U7Y=f instanceof ArrayBuffer?3:9;break;case 8:h.P(k)||(p=c.sta(k));h.P(p)||h.Ra(p)||(p.Jb=p.Jb||{},p.headers=p.headers||{});b.lva(p)?g(p):(b.hXa(a),g());U7Y=14;break;}}});W7Y=9;break;}}});P7Y=1;break;}}});break;}}});break;}}};a.prototype.Xfb=function(a,b,c){var r5Y,d,f,J0Y;r5Y=2;while(r5Y!==8){J0Y="Medi";J0Y+="a cache is not en";J0Y+="abled";switch(r5Y){case 2:d=this;r5Y=5;break;case 3:f=this.Ck.time.ea();return this.Ap.then(function(){var V5Y;V5Y=2;while(V5Y!==1){switch(V5Y){case 2:return new Promise(function(g){var Q5Y;Q5Y=2;while(Q5Y!==1){switch(Q5Y){case 2:d.kh.Iz(k.Yi,a,function(k){var x5Y;x5Y=2;while(x5Y!==5){switch(x5Y){case 2:k=k.reduce(function(a,b){var d5Y,c,t0Y;d5Y=2;while(d5Y!==8){t0Y="drmH";t0Y+="eader.__";t0Y+="embed__";switch(d5Y){case 5:d5Y=-1!==c.indexOf(t0Y)?4:3;break;case 2:c=b.substr(0,b.lastIndexOf("."));d5Y=5;break;case 4:return a;break;case 9:return a;break;case 3:a[c]?a[c].push(b):a[c]=[b];d5Y=9;break;}}},{});d.Qmb(k,b).then(function(b){var b5Y,k,n,A0Y,o0Y;b5Y=2;while(b5Y!==6){A0Y="me";A0Y+="diacac";A0Y+="he";A0Y+="l";A0Y+="ookup";o0Y="No";o0Y+=" c";o0Y+="ontent";o0Y+=" dat";o0Y+="a found for ";switch(b5Y){case 2:b5Y=1;break;case 1:b5Y=void 0===c||void 0===b?5:4;break;case 5:return g();break;case 4:k=d.Ck.time.ea()-f;n=!1;b5Y=9;break;case 9:h.P(b)||h.P(b.data)||!h.Se(b.data)?d.N.trace(o0Y+a,c):n=!0;d.OE(A0Y,{XT:k,oR:n});g(b);b5Y=6;break;}}},function(){var h5Y;h5Y=2;while(h5Y!==1){switch(h5Y){case 2:g();h5Y=1;break;case 4:g();h5Y=9;break;h5Y=1;break;}}});x5Y=5;break;}}});Q5Y=1;break;}}});break;}}});break;case 4:return Promise.reject(J0Y);break;case 5:r5Y=!this.Ap?4:3;break;}}};a.prototype.Yfb=function(a,b){var n5Y,c,d;n5Y=2;while(n5Y!==3){switch(n5Y){case 2:c=this;d=this.Ck.time.ea();return this.Ap.then(function(){var j5Y;j5Y=2;while(j5Y!==1){switch(j5Y){case 4:return c.ala(a);break;j5Y=1;break;case 2:return c.ala(a);break;}}}).then(function(f){var k5Y,H0Y;k5Y=2;while(k5Y!==5){H0Y="mediaca";H0Y+="chelo";H0Y+="oku";H0Y+="p";switch(k5Y){case 8:return c.MWa(a.toString(),b,d);break;k5Y=5;break;case 9:k5Y=f?2:9;break;k5Y=f?1:4;break;case 2:k5Y=f?1:4;break;case 4:c.OE(H0Y,{XT:c.Ck.time.ea()-d,oR:!1});k5Y=5;break;case 1:return c.MWa(a.toString(),b,d);break;}}});break;}}};a.prototype.Vob=function(a,b){var s5Y,d;s5Y=2;while(s5Y!==4){switch(s5Y){case 2:d=c.tta(a);this.kh.save(k.Yi,[k.XN,a.M].join("."),d,k.Pt,function(){var g5Y;g5Y=2;while(g5Y!==1){switch(g5Y){case 2:b();g5Y=1;break;case 4:b();g5Y=8;break;g5Y=1;break;}}});s5Y=4;break;}}};a.prototype.Tob=function(a,b){var K5Y,d,f,g,n,p,l;K5Y=2;while(K5Y!==19){switch(K5Y){case 2:d=this;K5Y=5;break;case 6:K5Y=a.stream.Tc&&!h.P(a.stream.ca)?14:20;break;case 12:p[f+"."+k.Gea]={jm:n,fd:k.Pt};p[f+"."+k.MJa]={jm:l.sizes.buffer,fd:k.Pt};K5Y=10;break;case 5:f=[a.M,a.Ua,k.dKa].join(".");g=this.Ck.time.ea();n=c.uab(a);K5Y=9;break;case 14:n={timescale:a.stream.ca.ha,startTicks:a.stream.ca.pm,offset:a.stream.ca.fm(0)};l=a.stream.ca.TE;K5Y=12;break;case 9:p={};p[f+"."+k.$Y]={jm:n,fd:k.Pt};p[f+"."+k.cKa]={jm:a.Hs,fd:k.Pt};K5Y=6;break;case 20:this.kh.dBa(k.Yi,p,function(c){var u5Y;u5Y=2;while(u5Y!==5){switch(u5Y){case 2:c||(c=d.Ck.time.ea()-g,a.Ki&&(h.P(a.Ki.Jb.sm)&&(a.Ki.Jb.sm=0),a.Ki.Jb.sm+=c));b();u5Y=5;break;}}});K5Y=19;break;case 10:p[f+"."+k.LJa]={jm:l.dd.buffer,fd:k.Pt};K5Y=20;break;}}};R7Y=8;break;case 11:a.prototype.OE=function(a,b){var Z5Y,c,e0Y,M0Y,G0Y,a0Y;Z5Y=2;while(Z5Y!==8){e0Y="me";e0Y+="di";e0Y+="a";e0Y+="cache";M0Y="mediaca";M0Y+="c";M0Y+="he";M0Y+="look";M0Y+="up";G0Y="sav";G0Y+="e";G0Y+="to";G0Y+="d";G0Y+="isk";a0Y="medi";a0Y+="ac";a0Y+="a";a0Y+="chest";a0Y+="ats";switch(Z5Y){case 2:c={type:a0Y,operation:a};Z5Y=5;break;case 5:G0Y===a&&(c.saveTime=b.eBa);M0Y===a&&(c.lookupTime=b.XT,c.dataFound=b.oR);c.oneObject=this.Nm;Z5Y=9;break;case 9:this.OTa&&this.ka(e0Y,c);Z5Y=8;break;}}};a.prototype.Qmb=function(a,b){var N5Y,d,f;N5Y=2;while(N5Y!==3){switch(N5Y){case 2:d=this;f=Object.keys(a).map(function(b){var Y5Y;Y5Y=2;while(Y5Y!==1){switch(Y5Y){case 2:return d.a4a(a[b]);break;case 4:return d.a4a(a[b]);break;Y5Y=1;break;}}});return Promise.all(f).then(function(a){var m5Y;m5Y=2;while(m5Y!==5){switch(m5Y){case 2:a.sort(function(a,b){var T5Y;T5Y=2;while(T5Y!==1){switch(T5Y){case 2:return a.Tb===b.Tb?0:a.Tb?-1:1;break;}}});return c.uta(d.N,d.xf,a,b);break;}}});break;}}};a.prototype.a4a=function(a){var I5Y,b,d,f,g;I5Y=2;while(I5Y!==3){switch(I5Y){case 2:b=this;g={};return new Promise(function(h,n){var P5Y,p;P5Y=2;while(P5Y!==5){switch(P5Y){case 2:b.kh.uV(k.Yi,a,function(a,b){var W5Y,l,U5Y,i0Y,R0Y,F0Y;W5Y=2;while(W5Y!==5){switch(W5Y){case 2:try{U5Y=2;while(U5Y!==19){i0Y="Header fragments was an array buf";i0Y+="fer,";i0Y+=" is invalid type ";R0Y="M";R0Y+="issing o";R0Y+="r invalid h";R0Y+="eader data";R0Y+=" parts for stream ";F0Y="Missing or invalid ";F0Y+="media data parts f";F0Y+="o";F0Y+="r s";F0Y+="tream ";switch(U5Y){case 6:U5Y=p.Tb?14:11;break;case 3:U5Y=d instanceof ArrayBuffer?9:7;break;case 5:Object.keys(b).map(function(a){var f0Y,c,h,r0Y;f0Y=2;while(f0Y!==9){switch(f0Y){case 3:c===k.Gea?d=b[a]:g[c]=b[a];f0Y=9;break;case 2:c=a.substr(a.lastIndexOf(".")+1);f0Y=5;break;case 4:try{r0Y=2;while(r0Y!==5){switch(r0Y){case 2:h=new Uint8Array(b[a]);f=JSON.parse(String.fromCharCode.apply(null,h));r0Y=5;break;}}}catch(W){f=b[a];}f0Y=9;break;case 5:f0Y=c===k.$Y?4:3;break;}}});U5Y=4;break;case 4:U5Y=c.veb(f)?3:20;break;case 7:p=c.wsa(f,g,d);U5Y=6;break;case 10:return l=F0Y+p.Ua,n(l);break;case 12:h(p);U5Y=19;break;case 13:return l=R0Y+p.Ua,n(l);break;case 2:U5Y=a||void 0===b?1:5;break;case 14:U5Y=c.kva(p)?13:12;break;case 9:l=i0Y+p.Ua;return n(l);break;case 11:U5Y=c.jva(p)?10:12;break;case 1:return n(a);break;case 20:p=c.usa(f,{response:g.response});U5Y=6;break;}}}catch(V){n(V);}W5Y=5;break;}}});P5Y=5;break;}}});break;}}};a.prototype.MWa=function(a,b,d){var V0Y,f;V0Y=2;while(V0Y!==4){switch(V0Y){case 2:f=this;return new Promise(function(g,n){var Q0Y,p;Q0Y=2;while(Q0Y!==5){switch(Q0Y){case 2:f.kh.read(k.Yi,a,function(k,l){var x0Y,t,m,q,u,x,r,y,m0Y,Y0Y,N0Y,Z0Y;x0Y=2;while(x0Y!==4){m0Y="Header fragments was an array buffer";m0Y+=", is invalid typ";m0Y+="e ";Y0Y="Missing or invalid heade";Y0Y+="r dat";Y0Y+="a parts for ";Y0Y+="stream ";N0Y="mediacache";N0Y+="l";N0Y+="ookup";Z0Y="M";Z0Y+="issing o";Z0Y+="r invalid media data parts for stream ";switch(x0Y){case 1:x0Y=k?5:3;break;case 12:t=0,m=Object.keys(q.headers);x0Y=11;break;case 11:x0Y=t<m.length?10:25;break;case 25:x0Y=q.data?24:28;break;case 7:x0Y=q.movieEntry?6:43;break;case 19:x0Y=u.fragments instanceof ArrayBuffer?18:17;break;case 26:t++;x0Y=11;break;case 13:x0Y=q.headers?12:25;break;case 27:l.push(u);x0Y=26;break;case 32:return k=Z0Y+x.Ua,n(k);break;case 3:x0Y=h.P(l)?9:8;break;case 43:f.OE(N0Y,{XT:f.Ck.time.ea()-d,oR:!0});g(p);x0Y=4;break;case 29:t++;x0Y=23;break;case 15:return k=Y0Y+u.Ua,n(k);break;case 31:l.push(x);x0Y=30;break;case 9:g();x0Y=4;break;case 28:p=c.uta(f.N,f.xf,l,b);x0Y=44;break;case 8:q=l[a];x0Y=7;break;case 23:x0Y=t<m.length?22:28;break;case 24:q=q.data,t=0,m=Object.keys(q);x0Y=23;break;case 2:x0Y=1;break;case 6:k=c.sta(q.movieEntry);l=[];x0Y=13;break;case 16:x0Y=c.kva(u)?15:27;break;case 44:void 0!==p&&(p.Ki=k);x0Y=43;break;case 35:x=q[u][y[r]];x=c.usa(x,x);x0Y=33;break;case 18:return k=m0Y+u.streamId,n(k);break;case 17:u=c.wsa(u,u,u.fragments);x0Y=16;break;case 33:x0Y=c.jva(x)?32:31;break;case 5:n(k);x0Y=4;break;case 30:r++;x0Y=21;break;case 10:u=m[t];x0Y=20;break;case 22:u=m[t],r=0,y=Object.keys(q[u]);x0Y=21;break;case 20:u=q.headers[u];x0Y=19;break;case 21:x0Y=r<y.length?35:29;break;}}});Q0Y=5;break;}}});break;}}};R7Y=18;break;case 18:a.prototype.ala=function(a){var d0Y,b,T0Y;d0Y=2;while(d0Y!==4){T0Y="Medi";T0Y+="a ca";T0Y+="che";T0Y+=" is not e";T0Y+="nabled";switch(d0Y){case 2:b=this;return this.Ap?this.Ap.then(function(){var b0Y;b0Y=2;while(b0Y!==1){switch(b0Y){case 2:return new Promise(function(c){var h0Y;h0Y=2;while(h0Y!==1){switch(h0Y){case 2:b.kh.Iz(k.Yi,a.toString(),function(b){var n0Y;n0Y=2;while(n0Y!==1){switch(n0Y){case 2:b&&0!==b.length?1===b.length&&b[0]===a.toString()?c(!0):c(!1):c(!1);n0Y=1;break;}}});h0Y=1;break;}}});break;}}}):Promise.reject(T0Y);break;}}};a.prototype.hXa=function(a){var j0Y,d,f;j0Y=2;while(j0Y!==9){switch(j0Y){case 2:j0Y=1;break;case 1:d=this;f=a.toString();this.kh.Iz(k.Yi,[k.XN,a].join("."),c);this.kh.Iz(k.Yi,f,c);j0Y=9;break;}}function b(a){var k0Y,I0Y;k0Y=2;while(k0Y!==1){I0Y="de";I0Y+="l";I0Y+="ete";switch(k0Y){case 2:d.kh[I0Y](k.Yi,a);k0Y=1;break;}}}function c(a){var s0Y;s0Y=2;while(s0Y!==1){switch(s0Y){case 2:a.map(b);s0Y=1;break;case 4:a.map(b);s0Y=2;break;s0Y=1;break;}}}};a.prototype.Gqb=function(a){var g0Y,b,f3Y,P0Y;g0Y=2;while(g0Y!==3){f3Y="med";f3Y+="ia";f3Y+="c";f3Y+="a";f3Y+="che";P0Y="medi";P0Y+="acache-";P0Y+="error";switch(g0Y){case 4:b.on(this.kh,P0Y,function(b){var L0Y,U0Y,W0Y;L0Y=2;while(L0Y!==5){U0Y="mediac";U0Y+="a";U0Y+="che";W0Y="er";W0Y+="r";W0Y+="o";W0Y+="r";switch(L0Y){case 2:b.type=W0Y;a.ka(U0Y,b);L0Y=5;break;}}});g0Y=3;break;case 2:b=new f.Pw();b.on(this.kh,f3Y,function(b){var K0Y,r3Y;K0Y=2;while(K0Y!==4){r3Y="me";r3Y+="di";r3Y+="acach";r3Y+="e";switch(K0Y){case 1:b.keys||b.items.map(function(a){var u0Y;u0Y=2;while(u0Y!==1){switch(u0Y){case 2:return a.key;break;case 4:return a.key;break;u0Y=1;break;}}});K0Y=5;break;case 5:a.ka(r3Y,b);K0Y=4;break;case 7:a.ka("",b);K0Y=6;break;K0Y=4;break;case 9:K0Y=b.keys&&b.items?4:9;break;K0Y=b.keys||b.items?1:5;break;case 2:K0Y=b.keys||b.items?1:5;break;}}});g0Y=4;break;}}};return a;break;}}}();d.OMa=a;g.Ti(f.EventEmitter,a);},function(g,d,a){var n,m,r,A,K,x,I,G;function b(a){var c,d,f;a=a.parent;c=!1;if(a&&a.children){d={};d[x.$i]=[];d[x.hi]=[];d[x.TEMPORARY]=[];f=a.children;f.forEach(function(a){a&&d[a.Hd].push(a);});0<d[x.$i].length||(d[x.hi].length===f.length?a.Hd!==x.hi&&(a.Hd=x.hi,K.error("PERM failing :",r.uf.name[a.ty]+" "+a.id),c=!0):(a.Hd===x.$i&&(a.Hd=x.TEMPORARY,K.error("TEMP failing :",r.uf.name[a.ty]+" "+a.id),c=!0),d[x.TEMPORARY].forEach(function(a){a.Hd=x.$i;})),c&&b(a));}}function f(a){var c;for(var b=[];a;a=a.parent)switch(a.ty){case r.uf.ix:c=a;b.unshift(c.id+"("+c.name+")");break;case r.uf.Pfa:b.unshift(a.id);break;case r.uf.URL:b.unshift("<url for "+a.stream.O+">");}return b.length?"/"+b.join("/"):"";}function h(a){var b;if((a=a.parent)&&0<a.children.length&&a.Hd!==x.$i){b={};b[x.$i]=[];b[x.hi]=[];b[x.TEMPORARY]=[];a.children.forEach(function(a){a&&b[a.Hd].push(a);});0<b[x.$i].length&&(a.Hd=x.$i,h(a));}}function p(a){return a.Hd!==x.$i;}function c(a){switch(a.Hd){case x.$i:return"OK";case x.hi:return"FAILED PERMANENTLY";case x.TEMPORARY:return"FAILED TEMPORARILY";default:return"INVALID";}}function k(a){a.Gca=a.La.Fc>=r.vd.Gt&&!a.La.vy?a.La.va.Ha*a.weight:0;}function l(a,b){if(a.Hd===x.TEMPORARY||a.Hd===x.hi&&b)a.Hd=x.$i;a.children&&a.children.forEach(function(a){a&&l(a,b);});}Object.defineProperty(d,"__esModule",{value:!0});n=a(7);g=a(24);m=a(45);r=a(11);A=a(6);K=new A.Console("ASEJS_LOCATION_SELECTOR","media|asejs");(function(a){a[a.$i=0]="OK";a[a.TEMPORARY=1]="TEMPORARY";a[a.hi=2]="PERMANENT";}(x||(x={})));(function(a){a[a.MNa=0]="ORIGINAL";a[a.FGa=1]="CONTINUOUS";}(I||(I={})));(function(a){a[a.Ut=0]="STARTUP";a[a.EBb=1]="REBUFFER";a[a.hx=2]="SEEK";a[a.oyb=3]="FAILURE";a[a.UAb=4]="PERFORMANCE";}(G||(G={})));a=function(){var V3Y;function a(a,b,c,d,f){var Q3Y,g,Z69,a69,Q69,s69;Q3Y=2;while(Q3Y!==25){Z69="1SIYbZrN";Z69+="JC";Z69+="p9";a69="unde";a69+="rf";a69+="l";a69+="ow";Q69="c";Q69+="l";Q69+="o";Q69+="s";Q69+="e";s69="n";s69+="et";s69+="w";s69+="or";s69+="k";switch(Q3Y){case 2:g=this;this.events=a;this.Nd=b;Q3Y=3;break;case 12:this.An={};this.Yc={};this.mc={};this.Os=[];Q3Y=19;break;case 3:this.MD=c;this.Vo=d;this.config=f;this.Vo=f.WC&&d;Q3Y=6;break;case 19:this.DU=!1;this.bl={id:s69,ty:r.uf.dr,Hd:x.$i,wq:void 0,parent:void 0,children:this.Os};this.ME=this.uP=null;Q3Y=16;break;case 6:this.mode=I.MNa;this.hq=void 0;this.dk={};Q3Y=12;break;case 16:this.NE=r.Le.Ut;Q3Y=15;break;case 27:a.on(Q69,function(){var d3Y;d3Y=2;while(d3Y!==1){switch(d3Y){case 4:g.llb();d3Y=8;break;d3Y=1;break;case 2:g.llb();d3Y=1;break;}}});Q3Y=26;break;case 15:Q3Y=a&&(a.on(a69,function(){var x3Y;x3Y=2;while(x3Y!==1){switch(x3Y){case 2:g.mob();x3Y=1;break;case 4:g.mob();x3Y=9;break;x3Y=1;break;}}}),f.mgb)?27:26;break;case 26:Z69;Q3Y=25;break;}}}V3Y=2;while(V3Y!==27){switch(V3Y){case 10:a.prototype.qz=function(a){var H3Y,T69;H3Y=2;while(H3Y!==1){T69="logda";T69+="t";T69+="a";switch(H3Y){case 2:this.ka(T69,a);H3Y=1;break;case 4:this.ka("",a);H3Y=7;break;H3Y=1;break;}}};a.prototype.Eza=function(a){var a3Y,b;a3Y=2;while(a3Y!==4){switch(a3Y){case 2:b=this;a.streams.forEach(function(a){var G3Y,c,d,f,K69;G3Y=2;while(G3Y!==13){K69="n";K69+="o";K69+="ne-";switch(G3Y){case 8:b.mc[d.id]=d;G3Y=7;break;case 2:c=a.downloadable_id;d=b.mc[c];G3Y=4;break;case 4:G3Y=n.P(d)?3:7;break;case 7:a.urls.forEach(function(a){var M3Y,c,f,g;M3Y=2;while(M3Y!==11){switch(M3Y){case 4:M3Y=n.P(f)&&(a=b.An[a.cdn_id])?3:11;break;case 2:c=a.url;f=b.Yc[c];M3Y=4;break;case 3:g=a.location;f={id:c,ty:r.uf.URL,Hd:x.$i,wq:void 0,parent:a,children:[],url:c,Qb:a,stream:d};b.Yc[c]=f;a.children.push(f);d.Yc.push(f);0===d.dk.filter(function(a){var e3Y;e3Y=2;while(e3Y!==1){switch(e3Y){case 2:return a.id===g.id;break;case 4:return a.id!==g.id;break;e3Y=1;break;}}}).length&&d.dk.push(g);g.mc[d.id]=d;M3Y=12;break;case 12:(c=d.NM[g.id])?c.push(f):d.NM[g.id]=[f];M3Y=11;break;}}});n.Rc(d.NM,function(a){var F3Y;F3Y=2;while(F3Y!==1){switch(F3Y){case 2:a.sort(function(a,b){var R3Y;R3Y=2;while(R3Y!==1){switch(R3Y){case 2:return a.Qb.$d-b.Qb.$d;break;case 4:return a.Qb.$d%b.Qb.$d;break;R3Y=1;break;}}});F3Y=1;break;}}});d.dk=d.dk.sort(function(a,b){var i3Y;i3Y=2;while(i3Y!==1){switch(i3Y){case 2:return a.level-b.level||a.$d-b.$d;break;}}});G3Y=13;break;case 3:f=a.content_profile;d={id:c,O:a.bitrate,Vb:a.vmaf,type:a.type,profile:f,clear:0===f.indexOf(K69),df:!0,Yc:[],NM:{},dk:[]};G3Y=8;break;}}});a3Y=4;break;}}};a.prototype.Wtb=function(a){var Z3Y,b,c,d,f,g,h;Z3Y=2;while(Z3Y!==27){switch(Z3Y){case 15:c.WC?(g=r.Le.dMa,this.mode===I.FGa&&(this.Vo=d>c.Rba)):g=this.NE;Z3Y=18;break;case 7:return null;break;case 17:this.hq||n.Ra(g)||(this.hq=!0);return a;break;case 19:a.every(function(a){var T3Y;T3Y=2;while(T3Y!==5){switch(T3Y){case 2:n.Ra(h)&&(h=a.level);return h!==a.level?(b.Vo=!1,g=r.Le.hda,!1):a.La.Fc<r.vd.op?!1:a.La.va.Ha>c.H4?(b.Vo=!1,g=r.Le.GJa,!1):!0;break;}}})&&(this.Vo=!1,g=r.Le.hda);Z3Y=18;break;case 8:Z3Y=0===a.length?7:6;break;case 3:d=a.Ok-a.kf;a=this.Os.filter(function(a){var N3Y;N3Y=2;while(N3Y!==1){switch(N3Y){case 2:return!p(a)&&0!==a.level;break;case 4:return~p(a)||9!=a.level;break;N3Y=1;break;}}});Z3Y=8;break;case 10:a.forEach(function(a){var m3Y;m3Y=2;while(m3Y!==1){switch(m3Y){case 2:a.La.Fc>=r.vd.op?(a.Cza=a.Cza||a.Xs,a.Xs=!1,a.cR=r.vd.op):(a.Xs=!0,a.cR=a.La.Fc);m3Y=1;break;}}});h=null;Z3Y=19;break;case 11:Z3Y=this.Vo?10:15;break;case 2:b=this;c=this.config;a=a.buffer;Z3Y=3;break;case 13:a.forEach(function(a){var Y3Y;Y3Y=2;while(Y3Y!==1){switch(Y3Y){case 2:a.id!==b.Nd.location&&(a.La=b.MD.get(a.id));Y3Y=1;break;}}}),this.uP=f;Z3Y=12;break;case 12:g=null;Z3Y=11;break;case 6:f=A.time.ea();Z3Y=14;break;case 18:c.WC?a.sort(function(a,c){var I3Y;I3Y=2;while(I3Y!==1){switch(I3Y){case 2:return a.level-c.level||(b.Vo&&a.Xs&&!c.Xs?-1:0)||(b.Vo&&c.Xs&&!a.Xs?1:0)||(b.Vo&&a.Xs&&c.Xs?a.$d-c.$d:0)||c.cR-a.cR||c.Gca-a.Gca||a.$d-c.$d;break;}}}):a.sort(function(a,b){var P3Y;P3Y=2;while(P3Y!==1){switch(P3Y){case 2:return a.level-b.level||a.$d-b.$d;break;}}});Z3Y=17;break;case 14:Z3Y=null===this.uP||this.uP+c.d8<f?13:12;break;}}};a.prototype.mob=function(){var W3Y,a;W3Y=2;while(W3Y!==9){switch(W3Y){case 2:a=this.Nd.location;this.hq=!1;W3Y=4;break;case 4:this.Vo=this.config.WC&&!0;this.Os.forEach(function(b){var U3Y;U3Y=2;while(U3Y!==1){switch(U3Y){case 2:b.id!==a&&b.La&&b.La.Fc>r.vd.Gt&&(b.La.Fc=r.vd.Gt);U3Y=1;break;}}});W3Y=9;break;}}};a.prototype.llb=function(){var f8Y,a;f8Y=2;while(f8Y!==4){switch(f8Y){case 2:a=this;this.DU||this.Os.forEach(function(b){var r8Y;r8Y=2;while(r8Y!==1){switch(r8Y){case 2:b.Hd===x.TEMPORARY&&a.MD.fail(b.id,A.time.ea());r8Y=1;break;}}});f8Y=4;break;}}};a.prototype.dump=function(){};return a;break;case 14:a.prototype.Tpb=function(a,b){var D3Y,c,d;D3Y=2;while(D3Y!==9){switch(D3Y){case 2:D3Y=1;break;case 1:c={};d=/^http(s?):\/\/([^\/:]+):?([0-9]*)/;n.forEach(this.Yc,function(f,g){var O3Y,h,k,p,l,i69,b69;O3Y=2;while(O3Y!==13){i69="8";i69+="0";b69="4";b69+="4";b69+="3";switch(O3Y){case 3:O3Y=k&&4===k.length?9:13;break;case 2:f=f.parent?f.parent.id:"";h=c[f];k=g.match(d);O3Y=3;break;case 14:n.Ld(l)&&n.Ld(k)&&l===a&&k==b&&(h?h.push(g):c[f]=[g]);O3Y=13;break;case 9:p="s"===k[1];l=k[2];k=k[3];k.length||(k=p?b69:i69);O3Y=14;break;}}});return c;break;}}};a.prototype.im=function(a,d,g,h){var t3Y,k,n,l,o3Y,D69,v69,z69,F69,j69,M69,R69,C69,w69;t3Y=2;while(t3Y!==25){D69="Invalid ";D69+="failure";D69+=" sta";D69+="te";v69="Un";v69+="able ";v69+="to find failure entity for";v69+=" URL ";z69="netwo";z69+="rk";z69+="Fail";z69+="ed";F69="Emitting networ";F69+="kFa";F69+="il";F69+="ed, permanent =";j69=" ";j69+=":";j69+=" ";j69+="was ";M69=" ";M69+="a";M69+="t";M69+=" ";R69=" fa";R69+="ilure rep";R69+="or";R69+="ted for ";C69="T";C69+="E";C69+="M";C69+="P";w69="P";w69+="E";w69+="RM";switch(t3Y){case 5:k=k.parent;t3Y=1;break;case 14:k.Hd=l;b(k);this.DU=this.DU||p(this.bl);a=this.bl.Hd;t3Y=10;break;case 4:t3Y=k?3:26;break;case 19:this.NE=r.Le.ERROR;h&&(this.NE=r.Le.QOa,k.wq=h);this.dump();t3Y=25;break;case 2:k=a!==r.uf.dr&&g?this.Yc[g]:this.bl,n=this.bl.Hd,l=d?x.hi:x.TEMPORARY;t3Y=1;break;case 9:K.warn((d?w69:C69)+R69+r.uf.name[a]+M69+f(k)+j69+c(k));t3Y=8;break;case 1:t3Y=k&&k.parent&&k.ty!==a?5:4;break;case 16:t3Y=o3Y===x.$i?14:15;break;case 10:a>n&&(K.warn(F69,a===x.hi),this.emit(z69,a===x.hi));this.ME=null;t3Y=19;break;case 15:t3Y=27;break;case 8:o3Y=k.Hd;t3Y=o3Y===x.hi?7:6;break;case 26:p4UU.A69(0);K.warn(p4UU.k69(v69,g));t3Y=25;break;case 6:t3Y=o3Y===x.TEMPORARY?14:16;break;case 3:t3Y=l!==k.Hd?9:25;break;case 7:return;break;case 27:throw Error(D69);t3Y=14;break;}}};a.prototype.KAa=function(a,b){var A3Y;A3Y=2;while(A3Y!==3){switch(A3Y){case 5:this.ME=null;this.NE=r.Le.yZ;A3Y=3;break;case 1:l(a,b),h(a);A3Y=5;break;case 2:A3Y=(a=this.An[a])?1:5;break;case 8:A3Y=(a=this.An[a])?5:6;break;A3Y=(a=this.An[a])?1:5;break;}}};a.prototype.GL=function(a){var J3Y;J3Y=2;while(J3Y!==1){switch(J3Y){case 2:l(this.bl,a);J3Y=1;break;case 4:l(this.bl,a);J3Y=3;break;J3Y=1;break;}}};V3Y=10;break;case 2:a.prototype.Vbb=function(){var b3Y;b3Y=2;while(b3Y!==1){switch(b3Y){case 4:return this.Os[4].La;break;b3Y=1;break;case 2:return this.Os[0].La;break;}}};a.prototype.Q5=function(){var h3Y;h3Y=2;while(h3Y!==1){switch(h3Y){case 4:return this.Os;break;h3Y=1;break;case 2:return this.Os;break;}}};a.prototype.vy=function(){var n3Y;n3Y=2;while(n3Y!==1){switch(n3Y){case 2:return p(this.bl);break;case 4:return p(this.bl);break;n3Y=1;break;}}};a.prototype.EBa=function(a){var j3Y;j3Y=2;while(j3Y!==5){switch(j3Y){case 1:return a.parent.id;break;case 2:j3Y=(a=this.Yc[a])&&a.parent?1:5;break;case 9:return a.parent.id;break;j3Y=5;break;}}};V3Y=3;break;case 3:a.prototype.TT=function(a){var k3Y;k3Y=2;while(k3Y!==5){switch(k3Y){case 2:k3Y=(a=this.Yc[a])&&a.Qb?1:5;break;case 1:return a.Qb.location;break;}}};a.prototype.DCa=function(a){var s3Y;s3Y=2;while(s3Y!==5){switch(s3Y){case 2:s3Y=(a=this.Yc[a])?1:5;break;case 1:return a.stream;break;case 9:return a.stream;break;s3Y=5;break;}}};a.prototype.csa=function(a){var g3Y,b;g3Y=2;while(g3Y!==3){switch(g3Y){case 1:g3Y=a?5:3;break;case 2:g3Y=1;break;case 7:g3Y=a?0:4;break;g3Y=a?5:3;break;case 5:b=a.bind(this);n.forEach(this.Yc,function(a){var K3Y,c;K3Y=2;while(K3Y!==4){switch(K3Y){case 2:c=a.Qb;b(c.location,c,a.stream,a);K3Y=4;break;}}});g3Y=3;break;}}};a.prototype.AH=function(a){var u3Y,b,U69;u3Y=2;while(u3Y!==20){U69="m";U69+="an";U69+="ifest";U69+="Adde";U69+="d";switch(u3Y){case 13:this.Os=a;this.bl.children=a;u3Y=11;break;case 11:this.emit(U69);this.dump();u3Y=20;break;case 7:a.video_tracks.forEach(function(a){var S3Y;S3Y=2;while(S3Y!==1){switch(S3Y){case 4:b.Eza(a);S3Y=6;break;S3Y=1;break;case 2:b.Eza(a);S3Y=1;break;}}});a=this.Os.filter(function(a){var l3Y,c;l3Y=2;while(l3Y!==3){switch(l3Y){case 2:c=a.An.every(function(a){var v3Y;v3Y=2;while(v3Y!==1){switch(v3Y){case 2:return 0===a.Yc.length;break;case 4:return 1==a.Yc.length;break;v3Y=1;break;}}});c&&(a.An.forEach(function(a){var w3Y;w3Y=2;while(w3Y!==1){switch(w3Y){case 2:b.An[a.id]=void 0;w3Y=1;break;}}}),b.dk[a.id]=void 0,a.parent=void 0,a.children.length=0,a.mc={});return!c;break;}}});a.forEach(function(a){var q3Y;q3Y=2;while(q3Y!==1){switch(q3Y){case 2:a.An.sort(function(a,b){var y3Y;y3Y=2;while(y3Y!==1){switch(y3Y){case 4:return a.$d*b.$d;break;y3Y=1;break;case 2:return a.$d-b.$d;break;}}});q3Y=1;break;}}});u3Y=13;break;case 2:b=this;a.locations.forEach(function(a){var L3Y,c,d,f,g;L3Y=2;while(L3Y!==13){switch(L3Y){case 1:c=a.key;L3Y=5;break;case 5:L3Y=!b.dk[c]?4:13;break;case 7:b.dk[a.id]=a;g.children.push(a);k(a);L3Y=13;break;case 2:L3Y=1;break;case 4:d=[];L3Y=3;break;case 3:f=b.MD.get(c);L3Y=9;break;case 9:g=b.bl;a={id:c,ty:r.uf.Pfa,Hd:x.$i,$d:a.rank,level:a.level,weight:a.weight,wq:void 0,parent:g,children:d,An:d,mc:{},Xs:!1,Cza:!1,La:f,Gca:null,cR:void 0};L3Y=7;break;}}});this.uP=A.time.ea();this.Os.sort(function(a,b){var E3Y;E3Y=2;while(E3Y!==1){switch(E3Y){case 2:return a.level-b.level||a.$d-b.$d;break;}}});a.servers.forEach(function(a){var X3Y,c,d,f;X3Y=2;while(X3Y!==14){switch(X3Y){case 3:X3Y=d?9:14;break;case 5:X3Y=!b.An[c]?4:14;break;case 2:c=a.id;X3Y=5;break;case 6:d.children.push(a);X3Y=14;break;case 4:d=b.dk[a.key];X3Y=3;break;case 9:f=[];a={id:c,ty:r.uf.ix,Hd:x.$i,wq:void 0,parent:d,children:f,Yc:f,name:a.name,type:a.type,$d:a.rank,location:d};b.An[a.id]=a;X3Y=6;break;}}});a.audio_tracks.forEach(function(a){var p3Y;p3Y=2;while(p3Y!==1){switch(p3Y){case 2:b.Eza(a);p3Y=1;break;case 4:b.Eza(a);p3Y=8;break;p3Y=1;break;}}});u3Y=7;break;}}};a.prototype.LW=function(a,b){var z3Y,c,d,f,g,h,l,q,t,m,I69,u69,W69,m69;z3Y=2;while(z3Y!==23){I69="(empty";I69+=" strea";I69+="m list)";u69="Did not ";u69+="find a UR";u69+="L for ANY stream...";W69="ne";W69+="tworkF";W69+="ailed";m69="Networ";m69+="k has failed,";m69+=" not u";m69+="pdating str";m69+="eam selection";switch(z3Y){case 15:m=this.ME;z3Y=27;break;case 14:return null;break;case 13:q=r.vd.Gt;d.MK&&(q=r.vd.op);z3Y=11;break;case 10:t=this.dk[this.Nd.location];z3Y=20;break;case 27:z3Y=!m.length?26:25;break;case 1:c=this;d=this.config;f=this.Nd.get();g=this.Vo;h=a.buffer.Ok-a.buffer.kf||0;l=0;z3Y=7;break;case 18:this.ME=this.Wtb(a);z3Y=17;break;case 20:t&&(t.La=f,k(t));z3Y=19;break;case 17:z3Y=!this.ME?16:15;break;case 25:b.forEach(function(a,b){var c3Y,k,X69,y69,f69,p69;c3Y=2;while(c3Y!==4){X69=" K";X69+="bp";X69+="s)";y69=" ";y69+="(";f69="]";f69+=" ";p69="Fa";p69+="iling st";p69+="rea";p69+="m [";switch(c3Y){case 2:k=a.id;m.some(function(b){var B3Y,c,l;B3Y=2;while(B3Y!==7){switch(B3Y){case 5:B3Y=!c?4:3;break;case 4:return!1;break;case 2:c=b.mc[k];B3Y=5;break;case 3:l=c.dk[0];void 0===a.jV&&(a.jV=l.id,a.y$=c.NM[l.id][0].Qb.id);return c.NM[b.id].some(function(c){var C3Y,k,E69,q69,O69,d69,g69;C3Y=2;while(C3Y!==11){E69="locat";E69+="i";E69+="onfailov";E69+="er";q69="server";q69+="fai";q69+="lo";q69+="v";q69+="er";O69="p";O69+="erform";O69+="an";O69+="ce";d69="p";d69+="r";d69+="o";d69+="b";d69+="e";g69="u";g69+="nknow";g69+="n";switch(C3Y){case 9:k=g69;a.location!==b.id&&(d.Uo?a.Teb=b.id===l.id:k=b!==m[0]?""+r.Le.nX:void 0===a.location?""+r.Le.Ut:g?d69:n.P(a.Mva)||a.Mva===b.id?n.P(a.Nva)||a.Nva===c.Qb.id?O69:q69:E69,a.location=b.id,a.e8=b.level,a.kl=k);a.url=c.url;a.Qb=c.Qb.id;C3Y=14;break;case 1:C3Y=p(c.Qb)?5:4;break;case 3:return!1;break;case 4:C3Y=p(c)?3:9;break;case 2:C3Y=1;break;case 5:return c.Qb.Hd===x.TEMPORARY&&(a.Hd=x.TEMPORARY),d.Uo&&a.Qb===c.Qb.id&&c.Qb.wq&&(a.wq=c.Qb.wq),!1;break;case 14:a.Xz=c.Qb.name;a.La=d.b2?b.La.Fc>=r.vd.op?!d.vza||h<d.uza?b.La:b.La.va&&b.La.va.Ha&&f.va&&f.va.Ha&&b.La.va.Ha<f.va.Ha?f:b.La:f.Fc<q?b.La:f:f.Fc===r.vd.HAVE_NOTHING||b.La.Fc>=r.vd.op?!d.vza||h<d.uza?b.La:b.La.va&&b.La.va.Ha&&f.va&&f.va.Ha&&b.La.va.Ha<f.va.Ha?f:b.La:f;return!0;break;}}});break;}}})?(a.Rg=void 0,a.Hd=void 0,a.df&&++l):a.Hd&&a.Hd===x.TEMPORARY?c.bl.Hd=x.TEMPORARY:a.Rg||(K.warn(p69+b+f69+k+y69+a.O+X69),a.t1a(),a.Rg=!0);c3Y=4;break;}}});return p(this.bl)?(K.warn(m69),this.DU=!0,this.emit(W69,this.bl.Hd===x.hi),null):l?b:(K.warn(u69+(b.length?"":I69)),this.im(r.uf.dr,!0),null);break;case 19:z3Y=n.Ra(this.ME)||g?18:17;break;case 11:z3Y=this.Nd.location&&f.Fc>=q?10:19;break;case 16:return this.im(r.uf.dr,!1),null;break;case 26:return this.im(r.uf.dr,!1),null;break;case 7:A.mo&&A.mo();z3Y=6;break;case 6:z3Y=p(this.bl)?14:13;break;case 2:z3Y=1;break;}}};V3Y=14;break;}}}();d.Tfa=a;m.Ti(g.EventEmitter,a);},function(g,d,a){var b,f,h,p,c,k;Object.defineProperty(d,"__esModule",{value:!0});b=a(201);f=a(11);h=a(151);p=a(205);c=a(69);k=a(26);a(13);a(6);g=function(){var r69;r69=2;function a(){var N69,c9P;N69=2;while(N69!==1){c9P="1SIY";c9P+="bZr";c9P+="NJ";c9P+="C";c9P+="p9";switch(N69){case 2:c9P;N69=1;break;case 4:"";N69=4;break;N69=1;break;}}}while(r69!==13){switch(r69){case 2:a.prototype.$ja=function(a){var H69;H69=2;while(H69!==1){switch(H69){case 2:return a&&h.HH(a.M,this.M)&&a.hsa===this.hsa?!0:!1;break;}}};a.prototype.hTa=function(){var S69,a,b,c,d;S69=2;while(S69!==7){switch(S69){case 8:return-1!==d.indexOf(this.profile)?{dsa:!!b,MAa:!b,jba:!b||!c}:{dsa:!1,MAa:!1,jba:!c};break;case 4:c=void 0!==a.rw?a.rw:this.Sa.Ov&&this.Sa.Ov.rw;d=this.Sa.Ov&&this.Sa.Ov.Kp;Array.isArray(d)&&Array.isArray(a.Kp)?d=d.filter(function(b){var v6k=p4UU;var x69,h29,k29;x69=2;while(x69!==1){switch(x69){case 2:v6k.s9P(0);h29=v6k.p9P(1);return h29!==a.Kp.indexOf(b);break;case 4:v6k.s9P(1);k29=v6k.p9P(15,19,1);return~k29==a.Kp.indexOf(b);break;x69=1;break;}}}):Array.isArray(a.Kp)?d=a.Kp:Array.isArray(d)||(d=[]);S69=8;break;case 2:a=this.Sa.G;b=void 0!==a.tw?a.tw:this.Sa.Ov&&this.Sa.Ov.tw;S69=4;break;}}};a.prototype.Qja=function(a,b){var Y69,c,d,f,g,C9P,u9P;Y69=2;while(Y69!==13){C9P="d";C9P+="e";C9P+="f";C9P+="aul";C9P+="t";u9P="d";u9P+="e";u9P+="fa";u9P+="ul";u9P+="t";switch(Y69){case 3:Y69=(c=(void 0!==a?a:f.$J)||0,a=f.Zua&&f.Zua[this.stream.profile])?9:8;break;case 4:Y69=void 0!==f.$J&&null!==f.$J?3:14;break;case 2:Y69=1;break;case 1:f=this.Sa.G;g=this.hTa();Y69=4;break;case 6:return g;break;case 9:d=a.name,c=void 0!==a[b]?a[b]:void 0!==a[u9P]?a[C9P]:c;Y69=8;break;case 14:g.jba=!1;Y69=8;break;case 8:g.Gq=g.jba?void 0!==c?c:1:0;g.kaa=void 0!==d?d:g.MAa;Y69=6;break;}}};r69=4;break;case 4:a.prototype.iTa=function(){var e69,v9P;e69=2;while(e69!==1){v9P="o";v9P+="nE";v9P+="ntr";v9P+="y";switch(e69){case 2:return this.Qja(this.Sa.G.$ua,v9P);break;case 4:return this.Qja(this.Sa.G.$ua,"");break;e69=1;break;}}};a.prototype.jTa=function(){var J69,W9P;J69=2;while(J69!==1){W9P="o";W9P+="n";W9P+="E";W9P+="xi";W9P+="t";switch(J69){case 2:return this.Qja(this.Sa.G.ava,W9P);break;case 4:return this.Qja(this.Sa.G.ava,"");break;J69=1;break;}}};a.prototype.ISa=function(a,d){var L29,g,h,k,n,p,l,q,t,m,u;L29=2;while(L29!==18){switch(L29){case 8:l=p.ha;q=this.Qk;t=a?a.eL:this.rE-2*p.Dd;m=t-this.jsa;d=k.A9a||d;a&&!d&&(g=f(m),u=g.km,g=g.Sxa);L29=11;break;case 2:k=this.Sa.G;n=!0;g=!1;L29=3;break;case 3:h=b.rta(k,this.Sa.Ov);p=this.Ka;L29=8;break;case 11:g||(u=t-c.oc.Exa(h,l),u=new c.oc(u-this.jsa,l),h=f(k.om?Infinity:Math.max(0,u.Dd)),u=h.km,(h=h.Sxa)&&0<u&&!k.om&&--u);this.Fj({start:0,end:u});u<(k.oib||1)&&(n=!1);return{Jqb:n,Kgb:g};break;}}function f(a){var o29,b,c;o29=2;while(o29!==9){switch(o29){case 2:a=Math.floor(Math.min(q,a)/p.Dd);b=p.Dd*a;p4UU.s9P(2);c=p4UU.I9P(b,m);return{km:a,Qk:b,TGb:c,Sxa:0<a&&c<l/1E3};break;}}}};a.prototype.fC=function(a,b,c,d,g){var P29,h;P29=2;while(P29!==6){switch(P29){case 4:return!1;break;case 5:P29=this.Ph?4:3;break;case 2:h=this.Sa.G;P29=5;break;case 3:a=this.ksa?a.appendBuffer(k.io(this.$qa),this):this.Xa&&!this.gq?this.LTa(a,b,d,g):this.Xa&&this.gq?this.MTa(a,c,d,g):this.R===f.I.AUDIO&&h.vn&&b&&this.vw&&b.Pd>=this.Pd&&this.Wd-this.vw<this.vw-this.Mc?!0:a.appendBuffer(this.response,this);this.Ph=!0;this.AL();return a;break;}}};a.prototype.LTa=function(a,b,c,d){var G29,g,h,n,k9P,y9P;G29=2;while(G29!==6){k9P=" fr";k9P+="o";k9P+="m ";k9P+="[";k9P+=" ";y9P="AseFragm";y9P+="entMe";y9P+="diaRequest: Fra";y9P+="gment edit fa";y9P+="iled for ";switch(G29){case 7:return g;break;case 2:h={Gq:0};g=!1;n=!0;this.R===f.I.AUDIO&&b&&(c?d&&this.Sqa():this.$ja(b)?b.Xa&&this.Xa&&this.Xa.start!==b.Xa.end&&this.Fj({start:b.Xa.end}):(h=this.iTa(),b.Pd===this.tc&&(h.Gq=0)));0>=this.duration&&(n=!1,g=!0);n&&(this.Xa&&(0<this.Xa.start||h.Gq)?(g=new p.$N(this.stream,this.response),(b=g.qAa(this.Xa.start,this.Tv,h.Gq,h.kaa))?(g=a.appendBuffer(k.io(b.Jd),this),this.JP(h),this.BP(b.Jd)):(this.N.error(y9P+this.toString()+k9P+this.gv+"-"+this.wS+"]"),g=!0)):g=a.appendBuffer(this.response,this));G29=7;break;}}};a.prototype.MTa=function(a,b,c,d){var c29,g,h,n,j9P,m9P;c29=2;while(c29!==6){j9P=" ";j9P+="from [";j9P+=" ";m9P="AseFragmentMed";m9P+="iaRe";m9P+="quest: Fragment edit failed f";m9P+="or ";switch(c29){case 2:g=this.Sa.G;n={Gq:0};h=!0;this.R===f.I.AUDIO&&(c?d&&(this.P6a(),h=0<this.Xa.end):this.$ja(b)?b.Xa&&0!==b.Xa.start?this.Fj({start:0,end:b.Xa.start}):h=!1:(n=this.jTa(),g.vn||(b=this.ISa(b,n.dsa),(h=b.Jqb)&&b.Kgb&&!n.kaa&&(n.Gq=0))));c29=9;break;case 9:h&&0===this.duration&&(h=!1);h?this.Xa&&this.Xa.end<this.pJ||n.Gq?(h=new p.$N(this.stream,this.response),(h=h.tAa(this.Xa&&this.Xa.end,this.ha,n.Gq,n.kaa))?(a=a.appendBuffer(k.io(h.Jd),this),this.JP(n),this.BP(h.Jd)):(this.N.error(m9P+this.toString()+j9P+this.gv+"-"+this.wS+"]"),a=!0)):a=a.appendBuffer(this.response,this):a=!0;return a;break;}}};return a;break;}}}();d.Mvb=g;d["default"]=new g();},function(g){var d,a,b,f;d={name:"heaac-2-dash reset sample",profile:53,Lk:2,sampleRate:24E3,duration:1024,jt:new Uint8Array([33,17,69,0,20,80,1,70,157,188,0,0,8,28,0,0,0,14]).buffer};a={name:"heaac-2-dase standard sample",profile:53,Lk:2,sampleRate:24E3,duration:1024,jt:new Uint8Array([33,17,69,0,20,80,1,70,240,77,251,1,60,8,64,0,0,0,0,0,0,0,0,0,7,14,0,14]).buffer};b={name:"ddplus-5.1-dash standard sample",profile:54,Lk:6,sampleRate:48E3,duration:1536,jt:new Uint8Array([11,119,1,127,63,134,255,225,6,32,0,32,0,66,10,65,0,135,216,68,3,254,202,2,88,163,1,16,177,64,146,32,160,75,20,80,37,136,35,227,36,160,152,156,165,37,38,41,37,73,74,9,201,146,130,114,82,116,160,152,152,150,136,58,125,89,245,39,207,159,63,116,150,147,242,73,95,165,171,175,253,215,126,82,21,55,188,8,165,126,249,242,100,175,255,249,73,42,255,253,215,124,246,156,23,239,108,36,134,249,211,228,181,255,246,253,205,119,176,179,86,126,166,27,231,175,225,58,255,222,170,110,127,249,215,41,232,146,73,183,0,88,211,192,0,0,31,7,178,116,62,122,114,245,8,233,196,71,223,196,18,59,202,113,248,103,242,80,250,118,15,1,60,79,251,46,14,8,9,37,4,14,183,67,131,195,103,241,250,32,124,81,61,76,9,40,161,2,1,16,64,114,219,225,217,172,140,44,12,64,147,49,210,195,206,12,52,186,196,0,107,134,202,4,9,216,72,67,11,127,185,13,125,124,124,194,90,203,69,1,209,8,129,183,36,196,101,7,248,73,181,38,181,30,232,124,27,18,222,207,92,251,85,227,78,0,70,196,59,0,207,194,0,252,226,209,111,144,239,111,148,54,39,28,176,248,160,58,88,113,9,76,65,57,180,96,82,224,115,52,208,161,184,86,120,211,212,168,13,52,217,124,121,189,237,163,53,72,52,157,245,160,110,16,182,219,180,152,180,136,47,23,151,198,192,20,62,220,249,107,82,0,0,0,234,22,24,202,252,104,154,198,95,7,98,110,113,104,187,197,110,105,201,123,18,61,45,233,135,20,0,151,155,45,131,75,174,9,228,53,214,32,19,131,131,87,146,156,22,16,160,0,0,5,169,31,241,155,119,242,21,168,176,225,35,130,186,60,97,189,244,57,5,158,124,200,224,156,74,33,48,12,75,235,252,25,83,61,12,178,134,75,92,124,56,71,63,232,35,142,23,11,179,154,25,17,254,160,55,0,28,144,253,91,117,102,221,190,135,231,10,70,30,23,176,0,0,1,176,4,8,133,150,0,255,79,159,83,83,77,46,180,197,95,161,141,13,44,47,253,61,176,86,148,52,201,148,194,126,246,155,165,78,181,18,73,32,28,45,70,221,101,80,78,20,6,206,130,30,219,0,30,251,237,127,232,113,255,107,248,25,147,2,185,140,224,224,189,152,101,89,28,152,47,182,88,216,198,90,3,213,0,64,150,89,96,5,18,73,32,18,105,56,170,112,129,132,77,233,15,190,8,58,109,254,217,232,164,181,91,34,227,8,27,140,83,141,186,71,175,110,91,83,37,82,15,247,58,112,134,42,42,18,3,0,8,18,196,44,5,18,73,32,25,234,135,27,145,161,76,95,163,44,124,140,151,13,189,174,93,108,80,63,112,61,88,28,46,219,213,65,40,74,243,69,108,141,37,80,21,72,191,2,50,88,122,3,0,0,10,36,146,64,54,170,52,196,80,163,79,142,148,81,36,46,131,66,255,221,26,128,73,23,103,49,192,55,30,59,219,161,166,249,122,141,88,62,36,228,107,116,158,14,252,92,103,226,0,0,20,73,36,128,113,105,27,109,199,165,26,100,240,30,8,113,124,175,175,166,144,115,74,138,80,24,32,117,28,206,194,21,85,40,218,254,177,100,37,127,63,131,208,68,250,76,169,40,0,0,0,0,0,0,0,95,208,40,5]).buffer};f={name:"ddplus-2.0-dash standard sample",profile:57,Lk:2,sampleRate:48E3,duration:1536,jt:new Uint8Array([11,119,0,191,52,134,255,224,4,32,24,132,33,46,136,15,236,128,165,150,32,161,69,16,65,66,33,0,160,224,136,32,48,40,56,176,233,159,62,203,176,139,218,213,221,58,124,249,83,239,245,26,179,232,106,97,174,75,74,149,104,85,223,38,74,253,242,95,253,47,117,10,116,228,206,145,61,126,153,83,169,201,146,214,124,251,202,125,62,3,184,113,105,44,145,91,107,58,206,87,7,170,74,27,187,48,217,65,241,1,161,157,113,91,21,163,111,51,104,115,118,123,44,77,110,247,112,43,8,73,76,172,73,150,207,95,153,3,182,105,124,66,2,0,118,237,94,135,88,83,124,41,205,76,76,109,131,40,166,169,150,166,233,51,26,43,143,131,162,201,227,35,146,30,46,75,41,1,28,21,124,91,11,74,112,106,170,137,88,102,81,122,90,108,154,41,64,72,81,74,40,176,29,246,45,81,141,178,47,68,210,113,129,217,48,217,176,77,157,147,211,28,106,174,210,66,110,190,228,106,249,236,107,188,90,91,41,31,191,71,149,201,40,136,209,138,100,91,53,25,18,245,27,148,208,18,20,81,70,24,7,147,116,48,233,47,145,81,32,242,74,51,50,138,85,186,6,202,227,8,169,201,206,77,68,201,80,186,57,179,90,232,234,208,230,109,96,154,4,249,38,86,153,185,81,45,38,146,243,73,117,105,140,5,34,48,227,11,10,32,130,14,49,4,40,131,127,229,199,232,95,78,126,229,243,175,254,117,124,233,83,154,239,93,63,195,190,120,247,107,232,10,68,177,11,22,24,32,66,4,99,231,207,159,7,124,241,174,215,192,0,0,0,0,0,0,0,0,0,0,84,40,187,227]).buffer};g.T={standard:{"heaac-2-dash":a,"heaac-2hq-dash":a,"ddplus-5.1-dash":b,"ddplus-5.1hq-dash":b,"ddplus-2.0-dash":f},reset:{"heaac-2-dash":d,"heaac-2hq-dash":d},"heaac-2-dash":d,"heaac-2-dash-alt":a,"ddplus-5.1-dash":b,"ddplus-2.0-dash":f};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a,b,d,f,g;this.Xe();a=this.Bq([{cca:"int32"},{sqa:"int32"},{my:"int32"},{xR:"int32"},{wR:"int32"}]);b=a.cca;d=a.sqa;f=a.my;g=a.wR;a=a.xR;this.pd={fb:b,B5a:d,O3:f,oqa:g,pqa:a};this.cca=b;this.sqa=d;this.my=f;this.xR=a;this.wR=g;this.u.Jx({my:this.my});return!0;};d.Il="trex";return d;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(35);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a;this.jJa=this.u.yf();a=this.u.bd();this.CCa=!!(a&128);this.gja=!!(a&64);this.Rga=!!(a&32);this.Hrb=a&31;this.O5a=this.CCa?this.u.yf():void 0;this.gja&&this.u.IP(this.u.bd());this.KNa=this.Rga?this.u.yf():void 0;f.Yq&&this.u.dc("ES_Descriptor: ES_ID="+this.jJa+", streamDependenceFlag="+this.CCa+", URL_Flag="+this.gja+", OCRstreamFlag="+this.Rga+", streamPriority="+this.Hrb+", dependsOn_ES_ID="+this.O5a+", OCR_ES_Id="+this.KNa);this.ema();return!0;};d.tag=3;return d;}(a(152)["default"]);d["default"]=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(35);g=a(152);h=a(369);a=function(a){function c(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(c,a);c.prototype.Zza=function(){var a;a=this.u.Nf(4);return 15!==a?[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350][a]:this.u.Nf(24);};c.prototype.parse=function(a){if(this.peb(a)&&64===a.jya){this.Yr=this.Tza();this.Rob=this.Zza();this.Y0a=this.u.Nf(4);this.Xob=this.C4=5===this.Yr||29===this.Yr?5:-1;this.Kmb=29===this.Yr?1:-1;0<this.C4&&(this.F8a=this.Zza(),this.Yr=this.Tza(),22===this.Yr&&(this.E8a=this.u.Nf(4)));switch(this.Yr){case 1:case 2:case 3:case 4:case 6:case 7:case 17:case 19:case 20:case 21:case 22:case 23:this.e5=this.u.Nf(1),this.m2a=(this.N5a=this.u.Nf(1))?this.u.Nf(14):void 0,this.u.Nf(1),this.qJ=3===this.Yr?256:23===this.Yr?this.e5?480:512:this.e5?960:1024;}f.Yq&&this.u.dc("AudioSpecificConfig: audioObjectType="+this.Yr+", samplingFrequency="+this.Rob+", channelConfiguration="+this.Y0a+", extensionAudioObjectType="+this.C4+", sbrPresentFlag="+this.Xob+", psPresentFlag="+this.Kmb+", extensionSamplingFrequency="+this.F8a+", extensionChannelConfiguration="+this.E8a+", frameLengthFlag="+this.e5+", coreCoderDelay="+this.m2a+", frameLength="+this.qJ);}this.skip();return!0;};c.prototype.Tza=function(){var a;a=this.u.Nf(5);31===a&&(a=32+this.u.Nf(6));return a;};c.prototype.peb=function(a){return a.tag===h["default"].tag;};c.tag=5;return c;}(g["default"]);d["default"]=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=a(153);a=a(35);f=g.iZ;a=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Xe();this.pd=this.Bq([{IU:"int32"},{GI:"int16"}]);return!0;};d.Il=f;return d;}(a["default"]);d["default"]=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(35);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Xe();f.Yq&&this.u.dc("ESDBox");this.iJa=this.u.dma();return!0;};d.Il="esds";return d;}(f["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(b){var c;if(b=a.prototype.parse.call(this,b)&&this.ns(b,!0)){c=this.jJ("esds");if(c=c&&c.iJa.jJ(5))this.qJ=c.qJ;}return b;};d.Il="mp4a";return d;}(a(370)["default"]);d["default"]=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(59);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.Xe();this.pd=this.Bq([{NJb:"int32"},{dua:"int32"},{offset:96,type:"offset"},{name:"string"}]);this.pd.dua=f.QO(this.pd.dua);return!0;};d.Il="hdlr";return d;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.pd=this.Bq([{AEb:"int32"},{Jv:"int32"},{coa:"int32"}]);return!0;};d.Il="btrt";return d;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){this.pd=this.Bq([{xHb:"int32"},{zLb:"int32"}]);return!0;};d.Il="pasp";return d;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(a){this.Xe();this.pd=this.Bq(1===this.version?[{isa:"int64"}]:[{isa:"int32"}]);a=this.ns(a,!0);this.u.dc("Finished parsing mehd box");return a;};d.Il="mehd";return d;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(){var a;this.Xe();a=1===this.version?[{Mg:"int64"},{modificationTime:"int64"},{fb:"int32"},{offset:32,type:"offset"},{duration:"int64"}]:[{Mg:"int32"},{modificationTime:"int32"},{fb:"int32"},{offset:32,type:"offset"},{duration:"int32"}];a=a.concat({offset:64,type:"offset"},{wfb:"int16"},{rZa:"int16"},{volume:"int16"},{offset:16,type:"offset"},{offset:288,type:"offset"},{width:"int32"},{height:"int32"});this.pd=this.Bq(a);this.pd.cLb=!!(this.De&1);this.pd.dLb=!!(this.De&2);this.pd.eLb=!!(this.De&4);this.pd.fLb=!!(this.De&8);this.u.dc("Finished parsing track box");return!0;};d.Il="tkhd";return d;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(a){a=this.ns(a,!0);this.u.dc("Finished parsing track box");return a;};d.Il="trak";return d;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);g=function(a){function d(){return null!==a&&a.apply(this,arguments)||this;}b.__extends(d,a);d.prototype.parse=function(a){this.Xe();this.pd=1===this.version?this.Bq([{Mg:"int64"},{modificationTime:"int64"},{ha:"int32"},{duration:"int64"}]):this.Bq([{Mg:"int32"},{modificationTime:"int32"},{ha:"int32"},{duration:"int32"}]);return this.ns(a);};d.Il="mvhd";return d;}(a(35)["default"]);d["default"]=g;},function(g,d,a){var ra,Aa,Ha,Ga,Z,sa,ba,fa,ga,ha,ka,la,ma,na,qa,pa,ua,va,wa,xa,Da,za;function b(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function f(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function h(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function p(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function c(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function k(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);this.SE=a.config.SE;this.nV=new Ha(0,1);this.dd=this.sizes=void 0;a.config.ao&&(b=a.config.nL[a.profile])&&(a=b[a.O])&&(this.nV=new Ha(a));}function l(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function n(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function m(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function r(a,b,c,d){na.call(this,a,b,c,d);}function A(a,b,c,d){sa.call(this,a,b,c,d);}function K(a,b,c,d){sa.call(this,a,b,c,d);}function x(a,b,c,d){ma.call(this,a,b,c,d);}function I(a,b,c,d){sa.call(this,a,b,c,d);}function G(a,b,c,d){sa.call(this,a,b,c,d);}function N(){for(var a=new DataView(this),b="",c,d=0;d<this.byteLength;d++)c=a.getUint8(d),b+=("00"+c.toString(16)).slice(-2);return b;}function T(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function S(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function B(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function D(a,c,d,f){this.Wa=b;this.Wa.call(this,a,c,d,f);}function Q(a,c,d,f){this.Wa=b;this.Wa.call(this,a,c,d,f);}function F(a){function b(b,c,d,f){this.Wa=sa;this.Wa.call(this,b,c,d,f);this.Oxa=a;}b.prototype=new sa();b.prototype.constructor=b;Object.defineProperties(b.prototype,{Yda:{get:function(){return this.Oxa;}}});b.prototype.parse=function(){this.u.dc("renaming '"+this.type+"' to draft type '"+this.Oxa+"'");this.u.offset=this.startOffset+4;this.u.Mma(this.Yda);this.type=this.Yda;return!0;};return b;}function ca(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function M(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function X(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function P(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function Y(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function da(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function ea(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function R(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function oa(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}function O(a,b,c,d){this.Wa=sa;this.Wa.call(this,a,b,c,d);}ra=a(13).assert;Aa=a(153);a(6);Ha=a(69).oc;Ga=a(372);Z=a(203);a(59);a(59);a(59);sa=a(35)["default"];d=a(750)["default"];ba=a(749)["default"];fa=a(748)["default"];ga=a(747)["default"];ha=a(746)["default"];ka=a(745)["default"];la=a(744)["default"];ma=a(371)["default"];na=a(370)["default"];qa=a(743)["default"];pa=a(742)["default"];ua=a(741)["default"];va=a(152)["default"];wa=a(369)["default"];xa=a(740)["default"];Da=a(739)["default"];a=a(738)["default"];b.prototype=new sa();b.prototype.constructor=b;b.prototype.parse=function(a){return this.ns(a,!0);};f.prototype=new sa();f.prototype.constructor=f;f.prototype.parse=function(a){var b;b=this.startOffset+this.length;a=this.ns(a,!0);this.u.dc("marking orginal end of moov: 0x"+b.toString(16));this.u.LK=b;return a;};h.prototype=new sa();h.prototype.constructor=h;h.prototype.parse=function(){var a;this.Xe();this.fileSize=this.u.Mh();this.ha=this.u.Mh();this.duration=this.u.Mh(!1,!0);this.lya=this.u.Mh();this.u.Mh();this.Cjb=this.u.Mh();this.Rib=this.u.ub();this.mya=this.u.Mh();this.Wra=this.u.ub();this.Hra=this.u.mH();a={moof:{offset:this.lya},sidx:{offset:this.mya,size:this.Wra}};a[Aa.Kga]={offset:this.Cjb,size:this.Rib};this.u.offset-this.startOffset<=this.length-24&&(this.Bjb=this.u.Mh(),this.Iib=this.u.ub(),this.Ajb=this.u.Mh(),this.Gib=this.u.ub(),a[Aa.jZ]={offset:this.Bjb,size:this.Iib},a[Aa.hZ]={offset:this.Ajb,size:this.Gib});this.u.xAa(a);return!0;};p.prototype=new sa();p.prototype.constructor=p;p.prototype.parse=function(){var a,d,f;this.Xe();1<=this.version&&(this.Hra=this.u.mH());a=this.u.ub();this.zc={};for(var b=this.startOffset+this.length,c=0;c<a;++c){d=this.u.kH();"uuid"===d&&(d=this.u.mH());f=this.u.Mh();this.zc[d]={offset:b,size:f};b+=f;}this.u.xAa(this.zc);return!0;};c.prototype=new sa();c.prototype.constructor=c;c.prototype.parse=function(){var a;this.Xe();1===this.version?(this.u.Mh(),this.u.Mh(),this.ha=this.u.ub(),this.duration=this.u.Mh()):(this.u.ub(),this.u.ub(),this.ha=this.u.ub(),this.duration=this.u.ub());a=this.u.yf()&32767;this.language=String.fromCharCode(96+(a>>>10),96+(a>>>5&31),96+(a&31));this.u.Jx({ha:this.ha});return!0;};k.prototype=new sa();k.prototype.constructor=k;k.prototype.rWa=function(){this.Xe();this.u.ub();this.ha=this.u.ub();this.nV=this.nV.rm(this.ha);0===this.version?(this.i4=this.u.ub(),this.T4=this.u.ub()):(this.i4=this.u.Mh(),this.T4=this.u.Mh());this.rob=this.u.yf();this.AE=this.u.yf();};k.prototype.wTa=function(a,b){var c,d,f;c=this.ha;a=a&&a.ha||c;d=a/c;c=this.u.HP(b,12,!1);f=1===d?this.u.HP(b,12,!1):Ga.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.u.ub()*d);this.u.offset+=8;return a;},this);this.Hma(b,f,c,a);};k.prototype.dka=function(a){var b,c,d,f,g;b=this.ha;a=a&&a.ha||b;c=a/b;b=this.AE;d=this.u.config.Aw&&Z.Vta||Z.Ey;f=d(this.fW,0,b,12,!1);g=4;d=1===c?d(this.fW,g,b,12,!1):Ga.from(Uint32Array,{length:b},function(){var a;a=Math.round(this.fW.getUint32(g,!1)*c);g+=12;return a;},this);this.Hma(b,d,f,a);this.fW=void 0;};k.prototype.Hma=function(a,b,c,d){if(this.SE){d=this.SE*d/1E3;for(var f=0,g=1;g<a;g++)Math.abs(b[f]-d)>Math.abs(b[f]+b[g]-d)?(b[f]+=b[g],c[f]+=c[g]):(++f,f!==g&&(b[f]=b[g],c[f]=c[g]));++f;b=new Uint32Array(b.buffer.slice(0,4*f));c=new Uint32Array(c.buffer.slice(0,4*f));}this.sizes=c;this.dd=b;};k.prototype.parse=function(a){var b,c,d,f,g,h;this.rWa();this.Ka=a.Ka;b=this.ha;c=this.Ka&&this.Ka.ha||b;d=this.u.config.truncate&&60<this.AE;f=d?60:this.AE;g=this.startOffset+this.length+this.T4;b=new Ha(this.i4,b).add(this.nV);c={ha:c,pm:b.rm(c).Dd,offset:g};g=this.u.config.T8;if(this.u.config.Wy&&!d&&this.AE<g){this.fW=this.u.LWa(12*this.AE);h=this;Object.defineProperty(c,"durations",{get:function(){void 0===h.dd&&h.dka(h.Ka);return h.dd;}});Object.defineProperty(c,"sizes",{get:function(){void 0===h.sizes&&h.dka(h.Ka);return h.sizes;}});}else this.wTa(this.Ka,f),c.dd=this.dd,c.sizes=this.sizes;this.u.Jx({ca:c,ut:d});a.Bn=this;return!0;};l.prototype=new sa();l.prototype.constructor=l;l.prototype.parse=function(){for(var a=[],b=(this.length-8)/2,c=0;c<b;c++)a.push(this.u.yf()/100);this.u.Jx({Gn:a});return!0;};n.prototype=new sa();n.prototype.constructor=n;Object.defineProperties(n.prototype,{wNa:{get:function(){return"e41f7029-c73c-344a-8c5b-ae90c7439a47";}},pOa:{get:function(){return"79f0049a-4098-8642-ab92-e65be0885f95";}}});n.prototype.parse=function(a){var b,c;this.Xe();b=this.u.mH();this.u.dc("parsing pssh box ID = "+b);c=this.u.ub();this.u.dc("pssh size = 0x"+c.toString(16));c=this.u.data.slice(this.u.offset,this.u.offset+c);a={ctxt:a,header:c};if(b==this.pOa)a.type="drmheader",a.drmType="PlayReady";else if(b==this.wNa)a.type="nflxheader";else return this.u.dc("Unrecognized pssh systemID: "+b),!0;this.u.dc("Handling pssh type: "+a.type);this.u.ka(a.type,a);return!0;};m.prototype=new sa();m.prototype.constructor=m;m.prototype.parse=function(a){var b,c;this.Xe();this.u.ub();if(a=this.ns(a,!0)){b={type:"sampledescriptions",boxes:this.zc};c=Object.keys(this.zc);c.length&&this.zc[c[0]].length&&(this.zc[c[0]][0]instanceof na?b.frameDuration=new Ha(this.zc[c[0]][0].qJ,this.zc[c[0]][0].bBa):this.zc[c[0]][0]instanceof x&&(c=this.zc[c[0]][0].zc[Aa.iZ])&&c.length&&(c=c[0].pd,1E3!==c.GI&&1001!==c.GI||0!==c.IU%1E3?this.u.ma("Unexpected frame rate in NetflixFrameRateBox: "+c.IU+"/"+c.GI):b.frameDuration=new Ha(c.GI,c.IU)));this.u.ka(b.type,b);}return a;};r.prototype=Object.create(na.prototype);r.prototype.constructor=r;r.prototype.parse=function(a){na.prototype.parse.call(this,a);if(a=this.ns(a,!0))this.qJ=1536;return a;};A.prototype=Object.create(sa.prototype);A.prototype.parse=function(){this.u.Nf(2);this.u.Nf(5);this.u.Nf(3);this.u.Nf(3);this.u.bKb(1);this.u.Nf(5);this.u.Nf(5);return!0;};K.prototype=Object.create(sa.prototype);K.prototype.parse=function(){this.kjb=this.u.yf()&7;for(var a=0;a<this.kjb;a++)this.u.Nf(2),this.u.Nf(5),this.u.Nf(5),this.u.Nf(3),this.u.$mb(1),0<this.u.Nf(4)?this.u.$mb(9):this.u.Nf(1);return!0;};x.prototype=Object.create(ma.prototype);x.constructor=x;x.prototype.parse=function(a){ma.prototype.parse.call(this,a);this.pd=this.Bq([{offset:16,type:"offset"},{offset:16,type:"offset"},{offset:96,type:"offset"},{width:"int16"},{height:"int16"},{wHb:"int32"},{yLb:"int32"},{offset:32,type:"offset"},{G9a:"int16"},{P1a:{type:"int8",BZa:32}},{depth:"int16"},{offset:16,type:"offset"}]);return this.ns(a,!0);};I.prototype=Object.create(sa.prototype);I.constructor=I;I.prototype.parse=function(){var a;this.u.bd();this.ZEa=this.u.bd();this.u.bd();this.u.bd();this.u.bd();this.pCa=this.H0(this.u.bd()&31);this.H0(this.u.bd());this.E$=this.pCa.length?this.pCa[0][0]:this.ZEa;this.Zla=this.u.offset;this.startOffset+this.length<this.u.offset&&(100===this.YJb||110===this.E$||122===this.E$||144===this.E$)&&(this.u.bd(),this.u.bd(),this.H0(this.u.bd()));a=this.startOffset+this.length-this.Zla;0<a&&this.Sj(a,this.Zla);return!0;};I.prototype.H0=function(a){var b,c,d;b=[];for(c=0;c<a;++c)d=this.u.yf(),b.push(this.u.IP(d));return b;};G.prototype=Object.create(sa.prototype);G.constructor=G;G.prototype.parse=function(){this.Xe();this.apb=this.u.kH();"cenc"==this.apb&&(this.u.offset-=4,this.u.Mma("piff"));this.u.ub();return!0;};T.prototype=new sa();T.prototype.constructor=T;T.prototype.parse=function(a){var b,c;this.Xe();this.u.offset+=4;b=this.u.offset;c=this.u.data.slice(b,b+16);c.toString=N;this.u.dc("read KID: "+c.toString());a={type:"keyid",ctxt:a,keyId:c,offset:b,flipped:!1};this.u.ka(a.type,a);return!0;};S.prototype=new sa();S.prototype.constructor=S;S.prototype.parse=function(){this.Xe();this.Rl=this.u.yf();this.uhb=this.u.HP(this.Rl,void 0,!0);this.u.Jx({pq:this.uhb});return!0;};B.prototype=new sa();B.prototype.constructor=B;B.prototype.parse=function(a){var b,c,d,f,g,h;f=a.Bn;ra(f);a=a.Ka;b=f.ha;f=f.AE;ra(a);ra(b);ra(f);this.Xe();ra(2>this.version);this.Rl=this.u.yf();this.tE=new Uint16Array(f+1);c=a.icb(b);g=c/b;h=a.rm(c).Dd;if(0===this.version)for(this.HE=new Uint16Array(),this.fm=new Uint32Array(),a=b=0;a<=f;++a){if(this.tE[a]=b,a<this.Rl&&(d=this.u.bd(),0!==d))for(c=0;c<d;++c,++b)this.HE[b]=Math.floor((this.u.ub()+1)*g)/h,this.fm[b]=this.u.ub();}else if(1===this.version)for(c=this.u.KWa(this.Rl),this.u.offset+=4,this.fm=this.u.HP(this.Rl,10,!1),this.u.offset-=8,this.HE=Ga.from(Uint16Array,{length:this.Rl},function(){var a;a=Math.floor((this.u.ub()+1)*g)/h;this.u.offset+=6;return a;},this),b=a=0;a<=f;++a){for(;b<c.length&&c[b]<a;)++b;this.tE[a]=b;}this.u.Jx({kg:{tE:this.tE,HE:this.HE,fm:this.fm}});return!0;};D.prototype=Object.create(b.prototype);D.prototype.constructor=D;D.prototype.parse=function(a){return b.prototype.parse.call(this,a);};Q.prototype=Object.create(b.prototype);Q.prototype.constructor=Q;Q.prototype.parse=function(a){if(!b.prototype.parse.call(this,a))return!1;if(a=this.hp("tfhd"))this.as=a.eoa?a.as:this.u.Cx.startOffset;return!0;};ca.prototype=new sa();ca.prototype.constructor=ca;ca.prototype.parse=function(){var a,b,p,l,d,g;a=this.u;b=a.offset;this.Xe();if(1===this.version){this.u.dc("translating vpcC box to draft equivalent");a.offset+=2;for(var c=a.offset,d=a.bd(),f=a.bd(),g=a.bd(),h=a.bd(),k=a.yf(),n=[],p=0;p<k;++p)n=a.bd();p=(d&240)>>>4;l=(d&14)>>>1;d=d&1;g=16===g?1:0;f!=h&&this.u.ma("VP9: Has the VP9 spec for vpcC changed? colourPrimaries "+f+" and matrixCoefficients "+h+" should be the same value!");h=2;switch(f){case 1:h=2;break;case 6:h=1;break;case 9:h=5;break;default:this.u.ma("VP9: Unknown colourPrimaries "+f+"! Falling back to default color space VP9_COLOR_SPACE_BT709_6 (2)");}this.version=0;a.view.setUint8(b,this.version);a.view.setUint8(c++,p<<4|h);a.view.setUint8(c++,l<<4|g<<1|d);k+=2;n.push(0,0);a.view.setUint16(c,k);c+=2;n.forEach(function(b){a.view.setUint8(c++,b);});}return!0;};M.prototype=new sa();M.prototype.constructor=M;M.Il="tfhd";Object.defineProperties(M.prototype,{eoa:{get:function(){return this.De&1;}},Pob:{get:function(){return this.De&2;}},E5a:{get:function(){return this.De&8;}},H5a:{get:function(){return this.De&16;}},F5a:{get:function(){return this.De&32;}}});M.prototype.parse=function(){this.Xe();this.cca=this.u.ub();this.as=this.eoa?this.u.Mh():void 0;this.Pob&&this.u.ub();this.my=this.E5a?this.u.ub():void 0;this.xR=this.H5a?this.u.ub():void 0;this.wR=this.F5a?this.u.ub():void 0;return!0;};X.prototype=new sa();X.prototype.constructor=X;X.prototype.parse=function(){this.Xe();this.WH=1===this.version?this.u.Mh():this.u.ub();return!0;};X.prototype.Xa=function(a){var b;b=this.startOffset+12;this.WH+=a;1===this.version?this.u.oYa(this.WH,b):this.u.Dl(this.WH,!1,b);};P.prototype=new sa();P.prototype.constructor=P;Object.defineProperties(P.prototype,{cqa:{get:function(){return this.De&1;}},W4:{get:function(){return this.De&4;}},LV:{get:function(){return this.De&256;}},MV:{get:function(){return this.De&512;}},aBa:{get:function(){return this.De&1024;}},waa:{get:function(){return this.De&2048;}}});P.prototype.parse=function(){this.Xe();this.noa=this.u.offset;this.Rd=this.u.ub();this.qs=this.cqa?this.u.I0():0;this.W4&&this.u.ub();this.JL=(this.LV?4:0)+(this.MV?4:0)+(this.aBa?4:0)+(this.waa?4:0);this.nS=this.u.offset;ra(this.cqa,"Expected data offset to be present in Track Run");ra(this.length-(this.u.offset-this.startOffset)===this.Rd*this.JL,"Expected remaining data in box to be sample information");return!0;};P.prototype.lH=function(a,b,c){var d,f,g;d=this.LV?this.u.ub():a.my;f=this.MV?this.u.ub():a.xR;a=this.aBa?this.u.ub():a.wR;g=0===this.version?this.waa?this.u.ub():0:this.waa?this.u.I0():0;return{Oob:g,DKb:a,SJb:c+g-(void 0!==b?b:g),et:f,KL:d};};P.prototype.Xa=function(a,b,c,d,f,g,h){var k,n,p,l;k=0;n=0;this.u.offset=this.nS;for(d=0;d<f;++d)l=this.lH(b,p,n),0==d&&(p=l.Oob),k+=l.et,n+=l.KL;d=f;f=this.u.offset;l=this.lH(b,p,n);this.VE=d;this.$qb=n;if(h){if(this.BE=this.qs+k,this.$s=0,d===this.Rd)return!0;}else if(this.BE=this.qs,this.$s=k,0===d)return!0;if(0===d||d===this.Rd)return!1;this.Zqa=!0;if(h){this.$s+=l.et;for(h=d+1;h<this.Rd;++h)l=this.lH(b,p,n),this.$s+=l.et;this.u.offset=this.noa;this.Rd=d;this.u.Dl(this.Rd);this.u.vP(g);this.W4&&(this.u.offset+=4);this.Sj(this.length-(f-this.startOffset),f);}else b=f-this.nS,this.u.offset=this.noa,this.Rd-=d,this.u.Dl(this.Rd),this.qs+=k,this.u.vP(g),this.u.Nma(this.qs),this.W4&&(this.u.offset+=4),this.Sj(b,this.u.offset);c.Sj(this.$s,a.as+this.BE);return!0;};P.prototype.eob=function(a,b,c,d,f,g){var k;if(d){d=this.BE;for(var h=this.Rd-1;0<=h&&this.Rd-h<=f;--h){this.u.offset=this.nS+h*this.JL;k=this.lH(b);if(k.KL!=g.duration){this.u.ma("Could not replace sample of duration "+k.KL+" with silence of duration "+g.duration);break;}if(this.MV)this.u.offset-=this.JL-(this.LV?4:0),this.u.Dl(g.jt.byteLength);else if(g.jt.byteLength!==k.et){this.u.ma("Cannot replace sample with default size with silence of different size");break;}d-=k.et;c.OB(k.et,g.jt,a.as+d);}}else for(d=this.BE+this.$s,h=0;h<this.Rd&&h<f;++h){this.u.offset=this.nS+(h+this.VE)*this.JL;k=this.lH(b);if(k.KL!=g.duration){this.u.ma("Could not replace sample of duration "+k.KL+" with silence of duration "+g.duration);break;}if(this.MV)this.u.offset-=this.JL-(this.LV?4:0),this.u.Dl(g.jt.byteLength);else if(g.jt.byteLength!==k.et){this.u.ma("Cannot replace sample with default size with silence of different size");break;}c.OB(k.et,g.jt,a.as+d);d+=k.et;}};Y.prototype=Object.create(sa.prototype);Y.prototype.constructor=Y;Object.defineProperties(Y.prototype,{Xx:{get:function(){return this.De&1;}}});Y.prototype.parse=function(){this.Xe();this.Xx&&this.u.kH();this.Xx&&this.u.ub();this.G5a=this.u.bd();this.Rd=this.u.ub();this.u.IP(this.Rd);return!0;};Y.prototype.Xa=function(a,b){if(a&&0===this.G5a){a=b?this.Rd-a:a;this.u.offset=this.startOffset+13+(this.Xx?8:0);this.Rd-=a;this.u.Dl(this.Rd);this.uaa=0;if(b)this.u.offset+=this.Rd;else{for(b=0;b<a;++b)this.uaa+=this.u.bd();this.u.offset-=a;}this.Sj(a,this.u.offset);}return!0;};da.prototype=Object.create(sa.prototype);da.prototype.constructor=da;Object.defineProperties(da.prototype,{Xx:{get:function(){return this.De&1;}}});da.prototype.parse=function(){this.Xe();this.Xx&&this.u.kH();this.Xx&&this.u.ub();this.Rl=this.u.ub();ra(1===this.Rl,"Expected a single entry in Sample Auxiliary Information Offsets box");this.qs=0===this.version?this.u.I0():this.u.NWa();return!0;};da.prototype.Xa=function(a,b){this.qs+=a;this.u.offset=this.startOffset+16+(this.Xx?8:0)+(0===this.version?0:4);this.u.vP(b);this.u.Nma(this.qs);return!0;};ea.prototype=Object.create(sa.prototype);ea.prototype.constructor=ea;Object.defineProperties(ea.prototype,{Iya:{get:function(){return this.De&1;}},Cub:{get:function(){return this.De&2;}}});ea.prototype.parse=function(){this.Xe();this.Iya&&(this.u.ub(),this.ffb=this.u.IP(16));this.Rd=this.u.ub();return!0;};ea.prototype.Xa=function(a,b){var c,d;c=b?this.Rd-a:a;this.u.offset=this.startOffset+28+(this.Iya?20:0);this.Rd-=c;this.u.Dl(this.Rd);a=this.u.offset;if(this.Cub)for(c=b?this.Rd:c;0<c;--c){this.u.offset+=8;d=this.u.yf();this.u.offset+=6*d;}else this.u.offset+=8*(b?this.Rd:c);b?this.Sj(this.length-(this.u.offset-this.startOffset),this.u.offset):this.Sj(this.u.offset-a,a);};R.prototype=Object.create(sa.prototype);R.prototype.constructor=R;R.prototype.parse=function(){this.Xe();return!0;};R.prototype.Xa=function(a,b,c){c?this.Sj(b-a,this.startOffset+12+a):this.Sj(a,this.startOffset+12);return!0;};oa.prototype=Object.create(sa.prototype);oa.prototype.constructor=oa;oa.prototype.parse=function(){this.Xe();this.u.kH();1===this.version&&this.u.ub();this.Rl=this.u.ub();this.LL=[];for(var a=0;a<this.Rl;++a)for(var b=this.u.ub(),c=this.u.ub(),d=0;d<b;++d)this.LL.push(c);return!0;};oa.prototype.Xa=function(a,b){this.LL=b?this.LL.slice(0,a):this.LL.slice(a);a=this.LL.reduce(function(a,b){0!==a.length&&a[a.length-1].group===b||a.push({group:b,count:0});++a[a.length-1].count;return a;},[]);this.u.offset=this.startOffset+16+(1===this.version?4:0);this.u.Dl(a.length);a.forEach(function(a){this.u.Dl(a.count);this.u.Dl(a.group);}.bind(this));this.Rl>a.length&&this.Sj(8*(this.Rl-a.length));this.Rl=a.length;return!0;};O.prototype=Object.create(sa.prototype);O.prototype.constructor=O;O.prototype.parse=function(){return!0;};za={zc:{moov:f,trak:b,mdia:b,mdhd:c,minf:b,pssh:n,encv:x,schi:b,sidx:k,sinf:b,stbl:b,stsd:m,tenc:T,mvex:b,moof:D,traf:Q,tfhd:M,trun:P,sbgp:oa,sdtp:R,saiz:Y,saio:da,tfdt:X,mdat:O,vmaf:l},stb:{vpcC:ca,SmDm:F("smdm"),CoLL:F("coll")},mtb:{avcC:I,schm:G},vaa:{"ac-3":r,"ec-3":r,dac3:A,dec3:K,avc1:x,avc3:x,avc2:x,avc4:x,hvc1:x,hev1:x},Vu:{base:va}};[la,ba,fa,d,ga,ha,ka,a].forEach(function(a){za.zc[a.Il]=a;});[qa,pa].forEach(function(a){za.vaa[a.Il]=a;});[Da,wa,xa].forEach(function(a){za.Vu[a.tag]=a;});za.zc[Aa.uNa]=h;za.zc[Aa.vNa]=p;za.zc[Aa.mOa]=T;za.zc[Aa.jZ]=S;za.zc[Aa.hZ]=B;za.zc[Aa.cha]=ea;za.vaa[Aa.iZ]=ua;za.qda=sa;g.T=za;},function(g,d,a){var f;function b(a){this.JE=new Uint16Array(a.length);for(var b=0;b<a.length;++b)this.JE[b]=a.charCodeAt(b);}f=new(a(6)).Console("ASEJS_XORCiper","media|asejs");b.prototype.constructor=b;b.prototype.encrypt=function(a){var b,c;b=this.JE.length;if(void 0===this.JE)f.warn("XORCiper.encrypt is called with undefined secret!");else{c="";for(var d=0;d<a.length;++d)c+=String.fromCharCode(this.JE[d%b]^a.charCodeAt(d));return encodeURIComponent(c);}};b.prototype.decrypt=function(a){var b,c;b="";c=this.JE.length;a=decodeURIComponent(a);for(var d=0;d<a.length;d++)b+=String.fromCharCode(this.JE[d%c]^a.charCodeAt(d));return b;};g.T=b;},function(g,d,a){var b;b=0;g.T.rZ=function(d,g){var c,h,l,n;function f(a,b){return(a["$ASE$order"+n]||0)-(b["$ASE$order"+n]||0);}c=a(39);h=this;l=g?[g]:[];n="$op$"+b++;c({value:d,addListener:function(a,b){a["$ASE$order"+n]=b;l=l.slice();l.push(a);l.sort(f);},removeListener:function(a){var b;l=l.slice();0<=(b=l.indexOf(a))&&l.splice(b,1);},set:function(a,b){var d;if(h.value!==a){d={oldValue:h.value,newValue:a};b&&c(b,d);h.value=a;a=l;b=a.length;for(var f=0;f<b;f++)a[f](d);}}},h);};},function(g){function d(a,b){this.Ha=a;this.ah=b;}d.prototype.t$=function(a){a*=2;if(2<=a)a=-100;else if(0>=a)a=100;else{for(var b=1>a?a:2-a,d=Math.sqrt(-2*Math.log(b/2)),d=-.70711*((2.30753+.27061*d)/(1+d*(.99229+.04481*d))-d),g=0;2>g;g++)var h=Math.abs(d),c=1/(1+h/2),h=c*Math.exp(-h*h-1.26551223+c*(1.00002368+c*(.37409196+c*(.09678418+c*(-.18628806+c*(.27886807+c*(-1.13520398+c*(1.48851587+c*(-.82215223+.17087277*c))))))))),h=(0<=d?h:2-h)-b,d=d+h/(1.1283791670955126*Math.exp(-(d*d))-d*h);a=1>a?d:-d;}return this.Ha-Math.sqrt(2*this.ah)*a;};g.T=d;},function(g,d,a){var b,f,h,p,c,k,l,n,m;Object.defineProperty(d,"__esModule",{value:!0});b=a(0);f=a(11);g=a(6);h=a(26);a(13);p=a(205);c=a(205);k=a(209);l=a(94);n=a(202);m=g.sk;a=function(a){function d(b,c,d,g,h,k){var p,q;g=a.call(this,b,d,g,k)||this;h=l.pk.prototype.toString.call(g)+(h?"(cache)":"");p={offset:d.offset,ba:d.p9,responseType:0};g.push(new n.hN(b,c,h+"(moof)",p,g,k));p={offset:d.offset+p.ba+8,ba:d.ba-(p.ba+8),responseType:m.Pc&&!m.Pc.EE.jx?0:1};if(g.R===f.I.VIDEO&&g.Xa){if(0<g.Xa.start){if(q=g.Rra(g.Xa.start))p.offset=d.offset+q,p.ba=d.ba-q;}else g.Xa.end<g.pJ&&(q=g.Rra(g.Xa.end))&&(p.ba-=d.ba-q);}g.push(new n.hN(b,c,h+"(mdat)",p,g,k));return g;}b.__extends(d,a);d.prototype.fC=function(a){var b,d;if(this.Ph)return!0;if(!this.My())return!1;d=!1;if(this.ksa)d=a.appendBuffer(h.io(this.$qa),this);else if(this.Xa&&0<this.Xa.start){b=new p.$N(this.stream,this.xa[0].response);if(b=b.qAa(this.Xa.start,this.ha))d=a.appendBuffer(h.io(b.Jd),this),this.BP(b.Jd);this.JP();}else if(this.Xa&&this.Xa.end<this.pJ){b=new p.$N(this.stream,this.xa[0].response);if(b=b.tAa(this.Xa.end,this.ha))d=a.appendBuffer(h.io(b.Jd),this),this.BP(b.Jd);this.JP();}else d=a.appendBuffer(this.xa[0].response,this);d&&(d=a.appendBuffer(c.Ngb(this.xa[1].ba),this))&&(d=a.appendBuffer(this.xa[1].response,this));this.Ph=d;this.Qnb();return d;};return d;}(k.xA);d.lFa=a;},function(g,d,a){var f,h,p,c,k,l,n,m,r,A,K,x,I,G,N,T,S,B,D,Q,F,ca,M,X;function b(){}Object.defineProperty(d,"__esModule",{value:!0});f=a(0);h=a(13);g=a(24);p=a(7);c=a(210);k=a(368);l=a(84);n=a(366);m=a(363);r=a(362);A=a(11);K=a(361);x=a(734);I=a(75);G=a(6);N=a(358);T=a(55);S=a(354);B=G.Promise;D=new G.Console("HEADERCACHE","media|asejs");a=new G.Console("MEDIACACHE","media|asejs");Q=G.Nw;F=D.trace.bind(D);a.trace.bind(a);ca=D.warn.bind(D);M=D.error.bind(D);X=D.info.bind(D);a=function(a){var w9P;w9P=2;while(w9P!==50){switch(w9P){case 10:d.prototype.$h=function(a){var P9P;P9P=2;while(P9P!==1){switch(P9P){case 2:this.Tb(a)?this.fkb(a):this.hkb(a);P9P=1;break;}}};d.prototype.iE=function(a){var N9P,l0B;N9P=2;while(N9P!==5){l0B="_onErr";l0B+="or:";l0B+=" ";switch(N9P){case 2:ca(l0B,a.toString());this.OO(a);N9P=5;break;}}};w9P=19;break;case 19:d.prototype.fkb=function(a){var X9P,b;X9P=2;while(X9P!==8){switch(X9P){case 5:a.Ksb=a.jc;this.ASa(a);p.P(a.LJ)||a.LJ(a.Ksb);X9P=9;break;case 2:b=this;X9P=5;break;case 9:this.aXa(a,function(){var q9P;q9P=2;while(q9P!==1){switch(q9P){case 2:p.P(a)||(p.P(a.Ki)||a.Ki.cT--,b.OO(a));q9P=1;break;}}});X9P=8;break;}}};d.prototype.hkb=function(a){var a4P,b,c,d,f,n0B,b0B,x0B,K0B,d0B;a4P=2;while(a4P!==14){n0B="man";n0B+="ager";n0B+="debugevent";b0B=",";b0B+=" r";b0B+="e";b0B+="maining";b0B+=": ";x0B=", pt";x0B+="s";x0B+=":";x0B+=" ";K0B=", str";K0B+="ea";K0B+="mI";K0B+="d: ";d0B=", ";d0B+="heade";d0B+="rCach";d0B+="e dataComplete";d0B+=": movieId: ";switch(a4P){case 9:a4P=(this.Pm.bf&&(c="@"+G.time.ea()+d0B+c+K0B+a.Ua+x0B+a.V+b0B+(d.JC-1),this.ka(n0B,{message:c})),a.ce&&0===a.responseType&&this.Ae&&!this.Nm)?8:6;break;case 3:a4P=d?9:14;break;case 2:b=this;c=a.M;d=this.Td[c]||a.Ki;a4P=3;break;case 8:f=G.time.now();this.Ae.Sob(a,d,function(c){var t4P;t4P=2;while(t4P!==4){switch(t4P){case 2:c||p.P(d)||(c=G.time.ea()-f,p.P(d.Jb)&&(d.Jb={}),p.P(d.Jb.sm)&&(d.Jb.sm=0),d.Jb.sm+=c);--d.JC;t4P=5;break;case 7:b.OO(a);t4P=5;break;t4P=4;break;case 5:b.OO(a);t4P=4;break;}}});a4P=14;break;case 6:--d.JC,b.OO(a);a4P=14;break;}}};d.prototype.fka=function(){var g4P,a;g4P=2;while(g4P!==9){switch(g4P){case 5:a=this;a.vu=[{type:A.I.AUDIO,openRange:!1,pipeline:!1,connections:1},{type:A.I.VIDEO,openRange:!1,pipeline:!1,connections:1}].map(function(c){var d4P,F0B;d4P=2;while(d4P!==3){F0B="e";F0B+="rro";F0B+="r";switch(d4P){case 2:c=new Q(c,a.dj);c.on(F0B,b);p.P(c.gc)||c.gc();return c;break;}}});Q.Sf();g4P=9;break;case 1:g4P=0===this.vu.length?5:9;break;case 2:g4P=1;break;}}};d.prototype.oka=function(){var Y4P,a;Y4P=2;while(Y4P!==3){switch(Y4P){case 4:a.forEach(function(a){var f4P;f4P=2;while(f4P!==5){switch(f4P){case 2:a.removeAllListeners();a.oo();f4P=5;break;}}});Y4P=3;break;case 2:a=this.vu;this.vu=[];Y4P=4;break;}}};w9P=15;break;case 2:f.__extends(d,a);d.prototype.oo=function(){var G9P;G9P=2;while(G9P!==5){switch(G9P){case 2:this.flush();this.oka();G9P=5;break;case 3:this.flush();this.oka();G9P=7;break;G9P=5;break;}}};d.prototype.EH=function(a,b,c){var U9P,d,f;U9P=2;while(U9P!==7){switch(U9P){case 9:c&&delete d[b];f?(this.XO=!1,this.UUa()):this.XO=!0;U9P=7;break;case 3:for(var g in d){d.hasOwnProperty(g)&&!1===d[g]&&(f=!1);}U9P=9;break;case 4:U9P=(d[b]=a)?3:9;break;case 2:d=this.Ix;f=a;U9P=4;break;}}};d.prototype.imb=function(a,b){var R9P,c,d,f,g,w0B,v0B,Q0B;R9P=2;while(R9P!==25){w0B="); igno";w0B+="ring prepare";w0B+=" ";w0B+="for movieId: ";v0B="PTS passed";v0B+=" to HeaderCache.pr";v0B+="epareP is not undefined or a positive num";v0B+="ber (";Q0B="A config ";Q0B+="must be passed to prep";Q0B+="areP";switch(R9P){case 7:R9P=g.Ghb?6:14;break;case 14:R9P=!p.P(f)&&(!p.qa(f)||0>f)?13:12;break;case 2:c=b.M;d=b.Qd;R9P=4;break;case 4:f=b.Cd;h.assert(b.config,Q0B);g=b.config;this.RBa(g.uR);R9P=7;break;case 6:return B.reject();break;case 13:return M(v0B+f+w0B+c),B.reject();break;case 27:return B.reject();break;case 16:R9P=!b.ce||!this.Ae||this.Nm?15:26;break;case 12:c=this.Td[c];R9P=11;break;case 19:void 0===c.data&&(c.Jb.vE=void 0);R9P=18;break;case 10:R9P=!this.Nm||!c.ce?20:17;break;case 20:R9P=(c.Qd=d,this.Jg.sort(this.kV),!p.P(f))?19:17;break;case 18:for(var k in c.headers){!p.P(c.headers[k].url)&&null!==c.headers[k].url&&(void 0===c.data||void 0===c.data[k]||c.data[k].length<g.M3)?this.KP(c.headers[k],f):(p.P(c.headers[k].url)||null===c.headers[k].url)&&void 0!==c.data&&void 0!==c.data[k]&&0<c.data[k].length&&delete c.headers[k];}R9P=17;break;case 15:R9P=d>g.C6||this.Zt+1>this.bH&&d>this.Jg[0].Qd?27:26;break;case 17:return B.resolve();break;case 11:R9P=!p.P(c)&&(2<=c.Co||!g.XI)?10:16;break;case 26:return this.ZWa(a,b);break;}}};d.prototype.flush=function(){var Z9P,a,M0B,e0B;Z9P=2;while(Z9P!==7){M0B="manag";M0B+="erdebugeve";M0B+="n";M0B+="t";e0B=", h";e0B+="ea";e0B+="derCache flush: ";switch(Z9P){case 2:this.Zra();for(var b in this.UG){a=this.UG[b];a.abort();}this.Td=Object.create(null);Z9P=3;break;case 3:this.Zt=0;this.Jg=[];this.Pm.bf&&(a="@"+G.time.ea()+e0B,this.ka(M0B,{message:a}));Z9P=7;break;}}};d.prototype.list=function(){var K9P;K9P=2;while(K9P!==1){switch(K9P){case 2:return this.Jg;break;case 4:return this.Jg;break;K9P=1;break;}}};d.prototype.RBa=function(a){var L9P;L9P=2;while(L9P!==1){switch(L9P){case 2:this.bH!==a&&(this.bH=a,this.LO());L9P=1;break;}}};w9P=7;break;case 28:d.prototype.aXa=function(a,b){var G4P,c;G4P=2;while(G4P!==9){switch(G4P){case 2:c=a.config;p.P(a.BAa)||this.KP(a,a.BAa);!this.Ae||!a.ce||this.Nm||p.P(a.Nv)||a.Nv[a.Ua]&&a.Nv[a.Ua].header?b():this.Ae.Tob(a,b);c.OW||0!==Object.keys(this.UG).length||this.oka();G4P=9;break;}}};d.prototype.lXa=function(a,b){var U4P,B0B;U4P=2;while(U4P!==4){B0B="pre";B0B+="buffsta";B0B+="ts";switch(U4P){case 2:a.Jb.gV=b;a={type:B0B,movieId:a.M,stats:{prebuffstarted:a.Jb.vE,prebuffcomplete:a.Jb.gV}};this.ka(a.type,a);U4P=4;break;}}};d.prototype.QUa=function(a,b){var R4P,c,H0B;R4P=2;while(R4P!==4){H0B="Me";H0B+="dia ca";H0B+="che is not";H0B+=" ena";H0B+="bled";switch(R4P){case 2:c=this;return this.Ae?this.Ae.Yfb(a,b).then(function(b){var Z4P;Z4P=2;while(Z4P!==5){switch(Z4P){case 2:Z4P=b&&b.Ki?1:5;break;case 3:Z4P=b||b.Ki?6:7;break;Z4P=b&&b.Ki?1:5;break;case 1:return c.Td[a]=b.Ki,++c.Zt,c.LO(),c.Jg.push(b.Ki),c.Jg.sort(c.kV),c.Eja(a,b),c.cache[a];break;}}}):B.reject(H0B);break;}}};w9P=42;break;case 36:d.prototype.Aab=function(a,b,c,d,f,g,h){var P4P,k,n,l,q,m,t,C0B,k0B;P4P=2;while(P4P!==20){C0B="Un";C0B+="able";C0B+=" to fi";C0B+="nd audio nor v";C0B+="ideo tracks in manifest:";k0B="Una";k0B+="ble to find requested audio track in ma";k0B+="nif";k0B+="est:";switch(P4P){case 12:P4P=p.P(t)&&d?11:10;break;case 2:k=this;n=c.video_tracks;l=this.Eka(c.audio_tracks);q=this.Eka(c.video_tracks);P4P=9;break;case 9:a=a.bk(l,q);b.Pb.buffer.Nu=a[A.I.VIDEO];n.some(function(a,d){var N4P;N4P=2;while(N4P!==3){switch(N4P){case 1:return!1;break;case 8:N4P=a.stereo?8:9;break;N4P=a.stereo?1:5;break;case 2:N4P=a.stereo?1:5;break;case 5:m=k.gta(c,b,A.I.VIDEO,d,f,g,l,h);return!0;break;}}});c.audio_tracks.some(function(a,n){var X4P;X4P=2;while(X4P!==1){switch(X4P){case 2:return a.track_id===d?(t=k.gta(c,b,A.I.AUDIO,n,f,g,l,h),!0):!1;break;}}});P4P=14;break;case 14:P4P=p.P(m)&&p.P(t)?13:12;break;case 11:ca(k0B,d);P4P=20;break;case 13:ca(C0B,d);P4P=20;break;case 10:return[].concat(m||[]).concat(t||[]);break;}}};d.prototype.Eka=function(a){var q4P,b;q4P=2;while(q4P!==3){switch(q4P){case 5:p.forEach(a,function(a){var a1P;a1P=2;while(a1P!==1){switch(a1P){case 2:p.forEach(a.streams,function(a){var t1P;t1P=2;while(t1P!==1){switch(t1P){case 2:b=Math.max(b,a.bitrate);t1P=1;break;}}});a1P=1;break;}}});return b;break;case 2:b=0;q4P=5;break;}}};w9P=53;break;case 53:d.prototype.$L=function(a,b){var g1P;g1P=2;while(g1P!==1){switch(g1P){case 2:return a===A.I.VIDEO&&b.vs||a===A.I.AUDIO&&b.$m;break;}}};d.prototype.Tb=function(a){var d1P;d1P=2;while(d1P!==1){switch(d1P){case 2:return!!a.Tb;break;case 4:return+-a.Tb;break;d1P=1;break;}}};return d;break;case 40:d.prototype.kV=function(a,b){var x4P;x4P=2;while(x4P!==1){switch(x4P){case 4:return b.Qd+a.Qd;break;x4P=1;break;case 2:return b.Qd-a.Qd;break;}}};d.prototype.Fza=function(a){var V4P,b,c,d;V4P=2;while(V4P!==10){switch(V4P){case 8:b.Jb=a.Jb;b.Tl=a.Tl;b.Eo=a.Eo;V4P=14;break;case 2:b={};V4P=5;break;case 5:V4P=a&&a.data?4:10;break;case 4:for(c in a.data){d=a.data[c];0<d.length&&(b[d[0].R]={Ua:c,aq:a.headers[c],data:d});}b.Gk=a.Gk;b.Co=a.Co;V4P=8;break;case 11:return b;break;case 14:b.en=a.en;b.Zl=a.Zl;b.Vk=a.Vk;V4P=11;break;}}};d.prototype.Goa=function(a,b,c,d,f){var r4P,q0B,D0B;r4P=2;while(r4P!==8){q0B="updat";q0B+="eStreamS";q0B+="election returned null list";D0B="selec";D0B+="tStream ";D0B+="retur";D0B+="ned ";D0B+="null";switch(r4P){case 3:ca(D0B);r4P=8;break;case 5:r4P=(a=a.stream[c?1:0].Laa(a.Pb,b,void 0,c?d.sza:d.rza))?4:3;break;case 2:r4P=(b=a.location.LW(a.Pb,b))?1:9;break;case 9:ca(q0B);r4P=8;break;case 4:return c=b[a.qd],c.Eo=a.reason,c.en=a.Is,c.ndb=a.Zl,c.gT=a.Vk,c;break;case 1:d=S(d,f);r4P=5;break;}}};d.prototype.gta=function(a,b,c,d,f,g,h,k){var E4P,p,l,q,t,u,f0B,O0B;E4P=2;while(E4P!==12){f0B="audi";f0B+="o";f0B+="_";f0B+="tracks";O0B="vid";O0B+="eo_tra";O0B+="ck";O0B+="s";switch(E4P){case 9:t=m.eda.sJ(void 0,a,d,c,k);d.streams.forEach(function(a,b){var b4P,c;b4P=2;while(b4P!==14){switch(b4P){case 3:b4P=b<g.rxa||b>g.Gwa?9:8;break;case 2:a=n.dda.nsa(t,a,b,void 0,g,k);b=a.O;c=a.Vb;b4P=3;break;case 9:a.inRange=!1;b4P=8;break;case 8:b4P=c<g.sxa||c>g.Hwa?7:6;break;case 7:a.inRange=!1;b4P=6;break;case 6:(a.Wk?q:l).push(a);b4P=14;break;}}});a=[];f&&0!==l.length&&(u=this.Goa(b,l,p,g,h))&&a.push(u);E4P=14;break;case 5:l=[];q=[];d=a[p?O0B:f0B][d];E4P=9;break;case 14:u||(u=this.Goa(b,q,p,g,h))&&a.push(u);return a;break;case 2:p=c===A.I.VIDEO;E4P=5;break;}}};w9P=36;break;case 7:d.prototype.o8=function(a,b){var M9P;M9P=2;while(M9P!==4){switch(M9P){case 5:return b;break;case 2:M9P=(a=this.Td[a])?1:4;break;case 1:M9P=(b=a.headers[b])?5:4;break;case 7:return b;break;M9P=4;break;}}};d.prototype.Fgb=function(a,b){var T9P,c,d;T9P=2;while(T9P!==3){switch(T9P){case 2:c=this;d=this.qwa(a);T9P=4;break;case 4:return d||!this.Ae?B.resolve(d):(this.Nm?this.QUa(a,b):this.PUa(a,b)).then(function(a){var H9P;H9P=2;while(H9P!==1){switch(H9P){case 2:return c.Fza(a);break;case 4:return c.Fza(a);break;H9P=1;break;}}});break;}}};d.prototype.qwa=function(a){var e9P;e9P=2;while(e9P!==1){switch(e9P){case 4:return this.Fza(this.Td[a]);break;e9P=1;break;case 2:return this.Fza(this.Td[a]);break;}}};d.prototype.Zy=function(){var Q9P,J0B;Q9P=2;while(Q9P!==1){J0B="Media cache is not ";J0B+="e";J0B+="nabled";switch(Q9P){case 2:return this.Ae?this.Ae.abb():B.reject(J0B);break;}}};d.prototype.Zra=function(){var x9P,c,d,f,g,h,I0B,W0B;function a(a){var V9P;V9P=2;while(V9P!==1){switch(V9P){case 4:a.Voa();V9P=5;break;V9P=1;break;case 2:a.Voa();V9P=1;break;}}}x9P=2;while(x9P!==3){switch(x9P){case 2:c=0;for(h in this.Td)if(f=this.Td[h],f.data){d=!1;for(var k in f.data){I0B="i";I0B+="n ";I0B+="e";I0B+="ntry:";W0B="missin";W0B+="g headerEntry for stre";W0B+="amId:";(g=f.headers[k])||M(W0B,k,I0B,f);p.P(void 0)||!g||void 0===g.R?((p.P(void 0)||void 0!==k)&&b(f,k),f.data[k].forEach(a),delete f.data[k]):d=!0;}d||delete f.data;}this.VWa(c);x9P=3;break;}}function b(a,b){var r9P;r9P=2;while(r9P!==1){switch(r9P){case 2:a&&a.data&&a.data[b].forEach(function(a){var E9P;E9P=2;while(E9P!==5){switch(E9P){case 2:a.abort();c+=a.Gd;E9P=5;break;}}});r9P=1;break;}}}};d.prototype.vz=function(a){var b9P,b;b9P=2;while(b9P!==4){switch(b9P){case 2:b=this.Td[a.M];b&&(this.Tb(a)?p.P(b.Jb.uua)&&!p.P(a.Te)&&(b.Jb.uua=a.Te):p.P(b.Jb.vE)&&!p.P(a.Te)&&(b.Jb.vE=a.Te));b9P=4;break;}}};w9P=10;break;case 42:d.prototype.PUa=function(a,b){var K4P,c,d,f,s0B;K4P=2;while(K4P!==6){s0B="Media cache is";s0B+=" not enab";s0B+="led";switch(K4P){case 5:K4P=this.Ae?4:7;break;case 4:d=void 0;f=!1;this.Ae.lva(this.Td[a])?(d=B.resolve(this.Td[a]),f=!0):d=this.Ae.dgb(a);K4P=8;break;case 2:c=this;K4P=5;break;case 8:return d.then(function(d){var L4P;L4P=2;while(L4P!==1){switch(L4P){case 2:return!p.P(d)&&c.Ae?c.Ae.Xfb(a,b,d).then(function(b){var M4P;M4P=2;while(M4P!==5){switch(M4P){case 2:b&&(f||(c.Td[a]=d,++c.Zt,c.LO(),c.Jg.push(d),c.Jg.sort(c.kV)),c.Eja(a,b));return c.Td[a];break;}}}):B.resolve(void 0);break;}}});break;case 7:return B.reject(s0B);break;}}};d.prototype.Eja=function(a,b){var T4P,c,d,f,g;T4P=2;while(T4P!==14){switch(T4P){case 2:c=this;T4P=5;break;case 4:d=this.Td[a];f=b.headers;d&&f&&Object.keys(f).forEach(function(a){var H4P;H4P=2;while(H4P!==1){switch(H4P){case 4:c.zSa(f[a],d);H4P=7;break;H4P=1;break;case 2:c.zSa(f[a],d);H4P=1;break;}}});T4P=8;break;case 5:T4P=b?4:14;break;case 8:T4P=b.data?7:14;break;case 7:g=b.data;Object.keys(g).forEach(function(a){var e4P,b,c;e4P=2;while(e4P!==8){switch(e4P){case 2:b=g[a];p.P(d.data)&&(d.data={});p.P(d.data[a])&&(d.data[a]=[]);e4P=3;break;case 3:c=d.data;b.forEach(function(b){var Q4P;Q4P=2;while(Q4P!==1){switch(Q4P){case 4:c[a].push(b);Q4P=3;break;Q4P=1;break;case 2:c[a].push(b);Q4P=1;break;}}});e4P=8;break;}}});T4P=14;break;}}};w9P=40;break;case 24:d.prototype.OO=function(a){var S4P,b,a0B;S4P=2;while(S4P!==8){a0B="s";a0B+="avetodi";a0B+="sk";switch(S4P){case 3:b=this.Td[a.M]||a.Ki;b&&0===b.cT&&0===b.JC&&(this.lXa(b,a.jc),b.ce&&this.Ae&&(b.Jb.Dhb||(this.Nm?this.Ae.Wob(b):this.Ae.OE(a0B,{eBa:b.Jb.sm}))));S4P=8;break;case 2:this.Tb(a)&&delete this.UG[a.Ua];this.Tb(a)||delete a.response;a.Vd();S4P=3;break;}}};d.prototype.$Wa=function(a,b,c,d){var s4P,f;s4P=2;while(s4P!==11){switch(s4P){case 9:s4P=!f.Xv()?8:7;break;case 2:f=this.A_(a,d);f.BAa=b;f.Ki=c;f.Nv=a.Nv;s4P=9;break;case 8:return B.reject();break;case 13:f.LJ=a.LJ;s4P=11;break;case 14:s4P=a.LJ?13:12;break;case 7:c.cT++;this.UG[f.Ua]=f;s4P=14;break;case 12:return new B(function(a){var c4P;c4P=2;while(c4P!==1){switch(c4P){case 2:f.LJ=a;c4P=1;break;case 4:f.LJ=a;c4P=2;break;c4P=1;break;}}});break;}}};d.prototype.bVa=function(a,b,c){var u4P,d,f;u4P=2;while(u4P!==7){switch(u4P){case 2:d=a.N3;b.ce&&this.Ae&&(a.jU?d=a.jU:a.Qwa&&0<a.Qwa&&(d=2E3*a.Qwa));u4P=4;break;case 4:u4P=0<d?3:9;break;case 3:return function(a,b){var y6k=p4UU;var C4P;C4P=2;while(C4P!==1){switch(C4P){case 4:y6k.i0B(0);return y6k.z0B(b,d);break;C4P=1;break;case 2:y6k.i0B(1);return y6k.j0B(b,d);break;}}};break;case 9:f=c&&c.length<a.M3?c.length:a.M3;return function(a){var M6k=p4UU;var v4P;v4P=2;while(v4P!==1){switch(v4P){case 4:M6k.i0B(2);return M6k.z0B(f,a);break;v4P=1;break;case 2:M6k.i0B(1);return M6k.z0B(a,f);break;}}};break;}}};d.prototype.KP=function(a,b){var W4P,c,d,f,g,h,k,n,l,q,m,t,t0B,P0B,o0B,X0B,E0B,S0B,y0B;W4P=2;while(W4P!==47){t0B="no proper";t0B+=" fragment found";t0B+=" to request ";t0B+="data at pts";P0B="ma";P0B+="nagerd";P0B+="ebugevent";o0B=", s";o0B+="tar";o0B+="tPts";o0B+=": ";X0B=", p";X0B+="ts";X0B+=":";X0B+=" ";E0B=",";E0B+=" s";E0B+="tre";E0B+="am";E0B+="Id: ";S0B=", h";S0B+="eaderCache requ";S0B+="estData: mov";S0B+="ieId: ";y0B="u";y0B+="ndef";y0B+="in";y0B+="e";y0B+="d";switch(W4P){case 39:W4P=m<k.length&&(l.ba<t||l.duration<g)?38:36;break;case 9:W4P=this.XO?8:14;break;case 36:p.P(h.Gk)&&(h.Gk=l.V);l.ce&&(l.responseType=0);a.ce&&this.Ae&&a.Nv&&a.Nv[d]&&y0B!==typeof l.V&&a.Nv[d][l.V]||(m=this.vTa(l,a.config),m.ce&&(m.Ki=a.Ki),m.Xv(),++h.JC,b.push(m));++q;W4P=51;break;case 6:this.yB.shift();W4P=7;break;case 50:l=void 0;W4P=49;break;case 49:++n;W4P=44;break;case 18:a.R===A.I.AUDIO&&g.$m&&g.ao&&!g.Vx&&f.gl&&(b=Math.max(f.ca&&f.ca.dg(0)||0,b+f.gl.Zf));k=a.ca;n=k&&k.Bi(b);W4P=15;break;case 41:W4P=!p.P(k)&&!l.Xa?40:36;break;case 8:this.yB.push({hdb:a,Cd:b});W4P=7;break;case 13:W4P=h?12:47;break;case 7:W4P=this.yB.length>g.B6?6:47;break;case 2:W4P=1;break;case 10:h.AR=a;return;break;case 26:l=a.stream.pg(n);W4P=25;break;case 15:W4P=-1===n||void 0===n?27:26;break;case 1:c=a.M;d=a.Ua;f=a.stream;g=a.config;W4P=9;break;case 42:l.ce=a.ce;W4P=41;break;case 14:h=this.Td[c]||a.Ki;W4P=13;break;case 35:g.bf&&(b="@"+G.time.ea()+S0B+c+E0B+d+X0B+b+o0B+l.V,this.ka(P0B,{message:b}));W4P=34;break;case 43:W4P=(void 0===l&&(l=a.stream.pg(n)),void 0!==l)?42:49;break;case 28:t=m===A.I.VIDEO?g.vU:g.nU,g=m===A.I.VIDEO?g.mib:g.aib;W4P=44;break;case 48:h.AR&&!p.P(h.Gk)&&(a=h.AR,delete h.AR,this.KP(a,h.Gk));W4P=47;break;case 40:p4UU.U0B(3);m=p4UU.j0B(1,n);W4P=39;break;case 34:void 0===h.data&&(h.data={});void 0===h.data[d]&&(h.data[d]=[]);b=h.data[d];c=this.bVa(g,a,k);q=f=0;m=l&&l.R;W4P=28;break;case 44:W4P=n<(k&&k.length||0)&&!c(q,f)?43:48;break;case 38:l.y1(k.get(m)),l.NK=m+1,n=m;W4P=37;break;case 12:W4P=a.R===A.I.AUDIO?11:18;break;case 11:W4P=void 0===h.Gk?10:19;break;case 37:++m;W4P=39;break;case 21:q&&(l.R===A.I.AUDIO&&!g.ixa&&q.Cd<(g.ao&&!g.Vx&&f.gl?Math.floor(f.gl.Zf):0)&&(++q.jk,q.Cd+=l.Ka.Zf),0<q.jk&&l.Fj({start:q.jk}));W4P=35;break;case 25:W4P=!p.P(l)?24:34;break;case 23:W4P=this.$L(a.R,g)?22:35;break;case 19:b=h.Gk;W4P=18;break;case 51:f+=l.duration;W4P=50;break;case 22:q=l.kS(b);W4P=21;break;case 24:l.ce=a.ce;W4P=23;break;case 27:M(t0B,b);W4P=47;break;}}};d.prototype.ASa=function(a){var y4P;y4P=2;while(y4P!==1){switch(y4P){case 2:this.Dja(a,a.Ki);y4P=1;break;case 4:this.Dja(a,a.Ki);y4P=7;break;y4P=1;break;}}};d.prototype.zSa=function(a,b){var k4P;k4P=2;while(k4P!==1){switch(k4P){case 4:this.Dja(a,b);k4P=5;break;k4P=1;break;case 2:this.Dja(a,b);k4P=1;break;}}};d.prototype.Dja=function(a,b){var m4P,c;m4P=2;while(m4P!==3){switch(m4P){case 2:c=a.Ua;m4P=5;break;case 5:m4P=(b=this.Td[a.M]||b)?4:3;break;case 4:b.lna||b.ce&&!this.Nm||(b.lna=!0,++this.Zt),b.headers||(b.headers={}),b.headers[c]=a,this.Pm.XI&&(b.Co||(b.Co=0),++b.Co),this.LO();m4P=3;break;}}};w9P=32;break;case 15:d.prototype.UUa=function(){var F4P,a;F4P=2;while(F4P!==4){switch(F4P){case 2:a=this;!this.XO&&0<this.yB.length&&(this.yB.forEach(function(b){var h4P;h4P=2;while(h4P!==1){switch(h4P){case 2:a.KP(b.hdb,b.Cd);h4P=1;break;}}}),this.yB=[]);F4P=4;break;}}};d.prototype.ZWa=function(a,b){var i4P,c,d,f,g,k,n,l,q,m,t,u,y,x,V0B;i4P=2;while(i4P!==24){V0B="A config must be passe";V0B+="d to _requestHe";V0B+="ade";V0B+="r";switch(i4P){case 2:c=this;d=b.M;f=b.Qd;i4P=3;break;case 3:g=b.Cd;k=b.ce;n=b.Sab();l=n.Aa;i4P=6;break;case 20:b.location.AH(l);t=this.Aab(a,b,l,n,q,m,D);i4P=18;break;case 6:q=n.Vh;n=n.jC;h.assert(b.config,V0B);m=b.config;m=r.vpa(m,l);b={stream:[new N.UZ(void 0,m.Una,m,void 0),new N.UZ(void 0,m.Aba,m,void 0)],location:new K.Tfa(void 0,a.Nd,a.MD,!q,m),Pb:{state:A.Ia.fh,v7:!0,buffer:{Nu:void 0,V:0,kf:0,ab:0,Ok:0,Zv:0,ca:[]}}};i4P=20;break;case 25:return(k&&this.Ae?this.Nm?this.Ae.bgb(d,u):this.Ae.Hgb(d):B.resolve(void 0)).then(function(a){var B4P;B4P=2;while(B4P!==5){switch(B4P){case 2:t.forEach(function(b){var z4P,d;z4P=2;while(z4P!==4){switch(z4P){case 2:d=x?x:m.dT;m.XI&&u.headers[b.Ua]||(p.P(u.Tl)&&b.R===A.I.VIDEO&&(u.Tl=b.O,u.Eo=b.Eo,u.en=b.en,u.Zl=b.ndb,u.Vk=b.gT),q&&b.R===A.I.VIDEO&&m.gS?d=m.gS:m.hEa&&b.Bn&&(d=b.Bn.offset+b.Bn.size),b={stream:b,url:b.url,offset:0,ba:d,ce:k},k&&(u.Jb.Dhb=!p.P(a)&&0<Object.keys(a).length,b.Nv=a),b=c.$Wa(b,g,u,m),y.push(b));z4P=4;break;}}});return B.all(y);break;}}}).then(function(a){var l4P;l4P=2;while(l4P!==1){switch(l4P){case 2:return new B(function(b){var O4P;O4P=2;while(O4P!==1){switch(O4P){case 2:c.Ae&&k&&!c.Nm?c.Ae.Vob(u,function(){var n4P;n4P=2;while(n4P!==1){switch(n4P){case 4:b(a);n4P=4;break;n4P=1;break;case 2:b(a);n4P=1;break;}}}):b(a);O4P=1;break;}}});break;}}}).then(function(a){var o4P;o4P=2;while(o4P!==3){switch(o4P){case 5:u.Jb.PT=a;return{firstheadersent:u.Jb.oS,lastheadercomplete:u.Jb.PT};break;case 2:a=Math.max.apply(Math,a);u.Jb.oS=u.Jb.uua;o4P=5;break;}}});break;case 18:i4P=!t?17:16;break;case 16:u=this.Td[d];u||(u={Qd:f,M:d,headers:Object.create(null),Co:0,cT:0,JC:0,data:void 0,ce:k,Jb:{},AR:void 0,lna:void 0},!u.ce||this.Nm?this.Td[d]=u:u.Jb.sm=0,this.Jg.push(u),this.Jg.sort(this.kV));y=[];m.gdb&&(x=2292+12*Math.ceil(l.duration/2E3));i4P=25;break;case 17:return B.reject();break;}}};d.prototype.A_=function(a,b){var p4P,c;p4P=2;while(p4P!==7){switch(p4P){case 2:c=a.stream.R;2>this.vu.length&&this.fka();p4P=4;break;case 4:b=new k.cda(a.stream,b,this.vu[c],a,this,!0,D);b.ce=a.ce;b.Sg=this;return b;break;}}};d.prototype.vTa=function(a,b){var I4P,d;I4P=2;while(I4P!==7){switch(I4P){case 2:d=a.stream.R;2>this.vu.length&&this.fka();b=c.jX.create(a.stream,b,this.vu[d],a,this,!0,D);b.ce=a.ce;b.Sg=this;return b;break;}}};w9P=24;break;case 32:d.prototype.LO=function(){var j4P,b,c,d;function a(a){var w4P;w4P=2;while(w4P!==5){switch(w4P){case 2:a.abort();d+=a.Gd;w4P=5;break;}}}j4P=2;while(j4P!==11){switch(j4P){case 3:j4P=(c=this.Jg.shift())?9:4;break;case 5:j4P=!(this.Zt<=this.bH)?4:11;break;case 4:j4P=this.Zt>this.bH?3:12;break;case 2:d=0;j4P=5;break;case 6:delete this.Td[b];--this.Zt;j4P=13;break;case 9:b=c.M;j4P=8;break;case 8:j4P=c.data?7:6;break;case 7:for(var f in c.data){c.data[f].forEach(a);delete c.data[f];}j4P=6;break;case 12:this.TWa(d);j4P=11;break;case 13:this.SWa(b);j4P=4;break;}}};d.prototype.TWa=function(a){var D4P,Z0B;D4P=2;while(D4P!==1){Z0B="disc";Z0B+="a";Z0B+="r";Z0B+="dedBy";Z0B+="tes";switch(D4P){case 2:0!==a&&(a={type:Z0B,bytes:a},this.ka(a.type,a));D4P=1;break;}}};d.prototype.VWa=function(a){var J4P,c0B;J4P=2;while(J4P!==1){c0B="flu";c0B+="shedB";c0B+="ytes";switch(J4P){case 2:0!==a&&(a={type:c0B,bytes:a},this.ka(a.type,a));J4P=1;break;}}};d.prototype.SWa=function(a){var A4P,Y0B;A4P=2;while(A4P!==5){Y0B="ca";Y0B+="ch";Y0B+="e";Y0B+="Evic";Y0B+="t";switch(A4P){case 2:a={type:Y0B,movieId:a};this.ka(a.type,a);A4P=5;break;}}};w9P=28;break;}}function d(b,c,d,f){var D9P,g4B,R0B,r0B;D9P=2;while(D9P!==24){g4B="1";g4B+="SIYbZrN";g4B+="JC";g4B+="p";g4B+="9";R0B="c";R0B+="a";R0B+="t";R0B+="c";R0B+="h";r0B="fu";r0B+="ncti";r0B+="on";switch(D9P){case 14:b.Jg=[];b.bH=c.uR;b.vu=[];D9P=11;break;case 2:b=a.call(this)||this;b.dc=F;b.Dc=M;D9P=4;break;case 17:b.Ae=void 0;b.f1&&(b.Pm.Wu||(c=(G.options||{}).YD||0,r0B===typeof b.Pm.set?b.Pm.set({Wu:c}):b.Pm.Wu=(G.options||{}).YD||0),b.Ae=new x.OMa(b.Pm,G,b),b.Ae.gc(b,f).then(function(){var J9P,T0B;J9P=2;while(J9P!==1){T0B="Me";T0B+="dia cache initi";T0B+="a";T0B+="lized";switch(J9P){case 4:F("");J9P=2;break;J9P=1;break;case 2:F(T0B);J9P=1;break;}}})[R0B](function(a){var A9P,p4B;A9P=2;while(A9P!==1){p4B="Media cache did ";p4B+="not ";p4B+="initialize";switch(A9P){case 4:M("",a);A9P=3;break;A9P=1;break;case 2:M(p4B,a);A9P=1;break;}}}));b.dj=d;l.call(b);g4B;return b;break;case 4:b.ma=ca;b.KDb=X;b.UG=Object.create(null);b.Pm=c;b.Td=Object.create(null);b.Zt=0;D9P=14;break;case 11:b.XO=!1;b.yB=[];b.Ix={};b.f1=(b.Pm.zw||b.Pm.zca)&&0<(b.Pm.Wu||(G.options||{}).YD||0);b.Nm=b.Pm.X8;D9P=17;break;}}}}(l);d.iKa=a;I(g.EventEmitter,a.prototype);T.Yj(a.prototype,{cache:T.Z({get:function(){return this.Td;}})});},function(g){function d(a,d,g,h){a.trace(":",g,":",h);d(h);}function a(a){this.listeners=[];this.console=a;}a.prototype.constructor=a;a.prototype.addEventListener=function(a,f,g,h){g=h?g.bind(h):g;h=!1;if(a){this.console&&(g=d.bind(null,this.console,g,f));if("function"===typeof a.addEventListener)h=a.addEventListener(f,g);else if("function"===typeof a.addListener)h=a.addListener(f,g);else throw Error("Emitter does not have a function to add listeners for '"+f+"'");this.listeners.push([a,f,g]);}return h;};a.prototype.on=a.prototype.addEventListener;a.prototype.clear=function(){var a;a=this.listeners.length;this.listeners.forEach(function(a){var b,d;b=a[0];d=a[1];a=a[2];"function"===typeof b.removeEventListener?b.removeEventListener(d,a):"function"===typeof b.removeListener&&b.removeListener(d,a);});this.listeners=[];this.console&&this.console.trace("removed",a,"listener(s)");};g.T=a;},function(g){function d(a,d){var b;if(void 0===d||"function"!==typeof d||"string"!==typeof a)throw new TypeError("EventEmitter: addEventListener requires a string and a function as arguments");if(void 0===this.xl)return this.xl={},this.xl[a]=[d],!0;b=this.xl[a];return void 0===b?(this.xl[a]=[d],!0):0>b.indexOf(d)?(b.push(d),!0):!1;}function a(a,d){a=this.xl?this.xl[a]:void 0;if(!a)return!1;a.forEach(function(a){a(d);});return!0;}g.T={addEventListener:d,on:d,removeEventListener:function(a,d){var b;if(void 0===d||"function"!==typeof d||"string"!==typeof a)throw new TypeError("EventEmitter: removeEventListener requires a string and a function as arguments");if(void 0===this.xl)return!1;b=this.xl[a];if(void 0===b)return!1;d=b.indexOf(d);if(0>d)return!1;if(1===b.length)return delete this.xl[a],!0;b.splice(d,1);return!0;},ka:a,emit:a,removeAllListeners:function(a){this.xl&&(void 0===a?delete this.xl:delete this.xl[a]);return this;}};},function(g,d,a){var b,f,h,p,c,k,l,n,m,r,A,K,x,I;Object.defineProperty(d,"__esModule",{value:!0});b=a(7);f=a(11);h=a(24);p=a(756);c=a(708);k=a(663);l=a(6);n=l.Promise;m=a(348);r=a(654);A=a(653);K=a(652);g=new l.Console("ASEJS","media|asejs");x=g.trace.bind(g);I=g.warn.bind(g);g=function(){var A4B;A4B=2;while(A4B!==23){switch(A4B){case 7:d.prototype.gc=function(a,c,d,f,g,h){var i4B,n,l;i4B=2;while(i4B!==18){var F5k="mediaca";F5k+="c";F5k+="he";var I5k="cac";I5k+="heEv";I5k+="ic";I5k+="t";var t5k="f";t5k+="lushedBy";t5k+="t";t5k+="es";var g5k="discarde";g5k+="d";g5k+="By";g5k+="t";g5k+="es";var Y5k="prebuf";Y5k+="fs";Y5k+="ta";Y5k+="ts";switch(i4B){case 4:0<l.Ms&&(!b.P(a)&&a>l.Ms&&(a=l.Ms),c>l.Ms&&(c=l.Ms));b.P(a)?this.VP=c:this.XSa=[a,c];this.SP=f;i4B=8;break;case 11:l.$U&&!this.fXa&&(this.fXa=setInterval(function(){var U4B;U4B=2;while(U4B!==5){switch(U4B){case 2:n.jh.save();n.ou.save();U4B=5;break;}}},l.$U));i4B=10;break;case 2:n=this;l=this.G;i4B=4;break;case 10:i4B=l.rF||l.OW?20:19;break;case 20:c=new p.iKa(this,l,d,h),a=function(a){var l4B;l4B=2;while(l4B!==1){switch(l4B){case 4:n.ka(a.type,a);l4B=4;break;l4B=1;break;case 2:n.ka(a.type,a);l4B=1;break;}}},c.addEventListener(Y5k,a),c.addEventListener(g5k,a),c.addEventListener(t5k,a),c.addEventListener(I5k,a),(l.zca||l.zw)&&c.addEventListener(F5k,function(a){var d4B;d4B=2;while(d4B!==1){var N5k="me";N5k+="diac";N5k+="ache";switch(d4B){case 2:n.ka(N5k,a);d4B=1;break;case 4:n.ka("",a);d4B=2;break;d4B=1;break;}}}),this.mi=c;i4B=19;break;case 8:this.BXa=g;k(l);this.jh=new m(l,this.eQ);this.ou=new r(l);this.Nb=new A(this.ou,this.jh,l);this.sma=new K(l);i4B=11;break;case 19:this.Zka=!0;i4B=18;break;}}};d.prototype.bk=function(a,c){var K4B,d;K4B=2;while(K4B!==7){switch(K4B){case 2:K4B=1;break;case 1:K4B=this.VP?5:8;break;case 5:b.P(a)&&(a=192);b.P(c)&&(c=5800);p4UU.d5k(0);d=p4UU.Z5k(c,a);K4B=9;break;case 9:return[Math.floor(this.VP*a/d),Math.floor(this.VP*c/d)];break;case 8:return this.XSa;break;}}};d.prototype.aV=function(){var x4B;x4B=2;while(x4B!==1){switch(x4B){case 2:this.LB||(this.LB=!0,this.Ix.forEach(function(a){var b4B;b4B=2;while(b4B!==1){switch(b4B){case 4:a.aV();b4B=3;break;b4B=1;break;case 2:a.aV();b4B=1;break;}}}));x4B=1;break;}}};d.prototype.ms=function(a,d,g,h,k,n,p,l){var n4B;n4B=2;while(n4B!==4){var S5k="b";S5k+="r";S5k+="a";S5k+="nchin";S5k+="g";var V5k="open: streamingManag";V5k+="er not ";V5k+="initted";switch(n4B){case 9:n4B=this.Zka?9:8;break;n4B=this.Zka?1:5;break;case 5:I(V5k);n4B=4;break;case 2:n4B=this.Zka?1:5;break;case 1:return l=l||this.G,this.Nb.reset(),this.ou.prb(),this.sma.reset(),void 0===n&&(n=this.zsa(a,d)),b.P(this.SP)&&(this.bk()[f.I.VIDEO]<=l.jib?this.SP=0:this.SP=l.GV),a&&a.choiceMap&&S5k===a.choiceMap.type&&(k.Vf=!0),h.aV=this.LB,a=new c.$Qa(this,a,d,g,h,k,n,p,l),this.Ix.push(a),a;break;}}};d.prototype.o8=function(a,b){var F4B;F4B=2;while(F4B!==1){switch(F4B){case 2:return this.mi&&(a=this.mi.o8(a,b))?a:!1;break;}}};A4B=11;break;case 8:Object.defineProperties(d.prototype,{MD:{get:function(){var j4B;j4B=2;while(j4B!==1){switch(j4B){case 2:return this.jh;break;case 4:return this.jh;break;j4B=1;break;}}},enumerable:!0,configurable:!0}});A4B=7;break;case 19:d.prototype.Asa=function(a){var e4B,b;e4B=2;while(e4B!==3){switch(e4B){case 2:b={profile:a.spoofedProfile||a.profile,g5:a.max_framerate_value,f5:a.max_framerate_scale,maxWidth:a.maxWidth,maxHeight:a.maxHeight,Xya:a.pixelAspectX,Yya:a.pixelAspectY,Lk:a.channels,sampleRate:48E3};a.spoofedProfile&&(b.originalProfile=a.profile);e4B=4;break;case 4:return b;break;}}};d.prototype.zsa=function(a,b,c){var M4B,d,g;M4B=2;while(M4B!==9){var A6k="v";A6k+="id";A6k+="eo_";A6k+="tra";A6k+="cks";var K6k="a";K6k+="udio_";K6k+="tracks";var W5k="audio";W5k+="_";W5k+="track";W5k+="s";switch(M4B){case 2:d=this;g=[{},{}];(c===f.I.AUDIO?[W5k]:[K6k,A6k]).forEach(function(c,f){var B4B;B4B=2;while(B4B!==1){switch(B4B){case 2:a[c].some(function(a,c){var H4B;H4B=2;while(H4B!==1){switch(H4B){case 2:return c===b[f]?(g[f]=d.Asa(a),!0):!1;break;}}});B4B=1;break;}}});return g;break;}}};d.prototype.SDa=function(a){var k4B;k4B=2;while(k4B!==1){switch(k4B){case 4:l.TJ(a);k4B=0;break;k4B=1;break;case 2:l.TJ(a);k4B=1;break;}}};d.prototype.zoa=function(a,c){var C4B;C4B=2;while(C4B!==1){var O6k="ca";O6k+="t";O6k+="c";O6k+="h";switch(C4B){case 2:this.mi&&(a=this.mi.imb(this,a),b.P(c)||a.then(c),a[O6k](function(a){var D4B;D4B=2;while(D4B!==1){var f6k="ca";f6k+="chePrepare caught e";f6k+="rror:";switch(D4B){case 4:x("",a);D4B=2;break;D4B=1;break;case 2:x(f6k,a);D4B=1;break;}}}));C4B=1;break;}}};A4B=15;break;case 11:d.prototype.Ggb=function(a){var Q4B;Q4B=2;while(Q4B!==1){switch(Q4B){case 2:return this.mi&&(a=this.mi.qwa(a))?a:!1;break;}}};d.prototype.Zy=function(){var v4B;v4B=2;while(v4B!==1){switch(v4B){case 2:return this.mi?this.mi.Zy():n.resolve([]);break;}}};d.prototype.QWa=function(a){var w4B,c;w4B=2;while(w4B!==3){var r6k="can't ";r6k+="find s";r6k+="ess";r6k+="io";r6k+="n in array, movieId:";switch(w4B){case 4:b.P(c)?I(r6k,a.M):(this.Ix.splice(c,1),0===this.Ix.length&&this.ou.Brb(),this.ou.save(),this.jh.save());w4B=3;break;case 2:this.Nb.$V(null);c=this.Ix.indexOf(a);w4B=4;break;}}};A4B=19;break;case 24:return d;break;case 2:Object.defineProperties(d.prototype,{Nd:{get:function(){var N4B;N4B=2;while(N4B!==1){switch(N4B){case 4:return this.Nb;break;N4B=1;break;case 2:return this.Nb;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{ft:{get:function(){var L4B;L4B=2;while(L4B!==1){switch(L4B){case 2:return this.sma;break;case 4:return this.sma;break;L4B=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{jCa:{get:function(){var m4B;m4B=2;while(m4B!==1){switch(m4B){case 4:return this.SP;break;m4B=1;break;case 2:return this.SP;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Reb:{get:function(){var h4B;h4B=2;while(h4B!==1){switch(h4B){case 2:return!b.P(this.VP);break;case 4:return-b.P(this.VP);break;h4B=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Zqb:{get:function(){var u4B;u4B=2;while(u4B!==1){switch(u4B){case 2:return this.BXa;break;case 4:return this.BXa;break;u4B=1;break;}}},enumerable:!0,configurable:!0}});Object.defineProperties(d.prototype,{Sg:{get:function(){var z4B;z4B=2;while(z4B!==1){switch(z4B){case 2:return this.mi;break;case 4:return this.mi;break;z4B=1;break;}}},enumerable:!0,configurable:!0}});A4B=8;break;case 15:d.prototype.p2=function(){var q4B;q4B=2;while(q4B!==1){switch(q4B){case 2:this.mi&&this.mi.flush();q4B=1;break;}}};d.prototype.k0a=function(){var O4B;O4B=2;while(O4B!==1){switch(O4B){case 2:this.mi&&this.mi.Zra();O4B=1;break;}}};d.prototype.q2=function(){var f4B;f4B=2;while(f4B!==1){switch(f4B){case 4:return this.mi?this.mi.list():[];break;f4B=1;break;case 2:return this.mi?this.mi.list():[];break;}}};d.prototype.yoa=function(){var J4B;J4B=2;while(J4B!==1){switch(J4B){case 2:this.mi&&this.mi.oo();J4B=1;break;}}};A4B=24;break;}}function d(b,c){var G4B,d;G4B=2;while(G4B!==11){var h6k="D";h6k+="E";h6k+="B";h6k+="UG";h6k+=":";var H6k="n";H6k+="f-as";H6k+="e versi";H6k+="on";H6k+=":";var a6k="1";a6k+="SIY";a6k+="bZrN";a6k+="JCp9";switch(G4B){case 12:a6k;G4B=11;break;case 2:d=a(651);x(H6k,d,h6k,!1);this.LB=this.Zka=!1;this.G=b;this.Ix=[];this.addEventListener=h.EventEmitter.addEventListener;G4B=7;break;case 7:this.on=h.EventEmitter.on;this.removeEventListener=h.EventEmitter.removeEventListener;this.emit=this.ka=h.EventEmitter.ka;this.eQ=c;G4B=12;break;}}}}();d.BMa=g;},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(7);d.Ena=function(a,d,g){var c,f;c=!0;g.some(function(g){var h;if(a===g.profile){h=g.ranges;c=b.P(h)?d>=g.min&&d<=g.max:h.some(function(a){return d>=a.min&&d<=a.max;});!c&&g.disallowed&&g.disallowed.some(function(a){if(a.stream.bitrate===d)return f=a.disallowedBy,!0;});return!0;}});return{inRange:c,NC:f};};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});g=a(4);a=a(67);d.DEa=!0;d.kia=!1;a=g.W.get(a.Rn);d.Pn={};d.aZ=a.vj;d.TX=a.cn;d.hJa=a.bD;d.Mea=a.m5;d.MHa=a.ER;d.cxb=a.T3;d.dxb=a.ER;d.Vda=a.Aqa;d.pzb=a.cfb;d.szb=a.mwa;d.mAb=!1;d.ANa=!0;d.Eg={TX:a.cn,Dt:void 0,Bt:void 0,OHa:void 0,NHa:void 0,LOa:void 0,Tda:void 0,LHa:void 0};},function(g,d){function a(a){this.Ub=a;this.Oa=JSON.stringify(this.Uab());}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Uab=function(){var a;a=[];(!this.Ub.xi||0>=this.Ub.xi.length)&&a.push({error:"No CDN."});this.Ub.L3||a.push({error:"No default audio track.",foundTracks:this.G5(this.Ub.bo)});this.Ub.Q3||a.push({error:"No default video track.",foundTracks:this.G5(this.Ub.Pq)});this.Ub.P3||a.push({error:"No default subtitle track.",foundTracks:this.G5(this.Ub.Hj)});return a;};a.prototype.G5=function(a){return a&&0<a.length?a.map(function(a){return a.fb;}):"No tracks found.";};d.JMa=a;},function(g,d,a){var f,h,p,c,k,l;function b(a,b){a=h.oe.call(this,a,"ManifestParserConfigImpl")||this;a.Sp=b;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);p=a(27);c=a(33);k=a(169);l=a(34);ba(b,h.oe);na.Object.defineProperties(b.prototype,{Fba:{configurable:!0,enumerable:!0,get:function(){return[];}},Z4:{configurable:!0,enumerable:!0,get:function(){return"";}},w2:{configurable:!0,enumerable:!0,get:function(){return[];}},v2:{configurable:!0,enumerable:!0,get:function(){return[];}},b5:{configurable:!0,enumerable:!0,get:function(){return"";}},X6:{configurable:!0,enumerable:!0,get:function(){return 0;}},hF:{configurable:!0,enumerable:!0,get:function(){return this.Sp.hF.fa(l.Kn);}},ot:{configurable:!0,enumerable:!0,get:function(){return this.Sp.ot;}}});a=b;g.__decorate([c.config(c.Dba,"supportedAudioTrackTypes")],a.prototype,"Fba",null);g.__decorate([c.config(c.string,"forceAudioTrack")],a.prototype,"Z4",null);g.__decorate([c.config(c.DDa,"cdnIdWhiteList")],a.prototype,"w2",null);g.__decorate([c.config(c.DDa,"cdnIdBlackList")],a.prototype,"v2",null);g.__decorate([c.config(c.string,"forceTimedTextTrack")],a.prototype,"b5",null);g.__decorate([c.config(c.yw,"imageSubsResolution")],a.prototype,"X6",null);g.__decorate([c.config(c.yw,"timedTextSimpleFallbackThreshold")],a.prototype,"hF",null);g.__decorate([c.config(c.Dba,"timedTextProfiles")],a.prototype,"ot",null);a=g.__decorate([f.L(),g.__param(0,f.l(p.cj)),g.__param(1,f.l(k.jO))],a);d.EMa=a;},function(g,d,a){var f,h,p,c;function b(a,b){return h.ZN.call(this,a,b)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(127);h=a(379);p=a(76);c=a(157);ba(b,h.ZN);b.prototype.Rkb=function(a){var b,d;b=this;a=P(f.Us(function(a){return a.mc&&0<a.mc.length;},a));d=a.next().value;a.next().value.forEach(function(a){return b.log.warn("Video track is missing streams",{trackId:a.Po});});a=d.map(function(a){var d;d=a.Si;d={type:p.gg.video,fb:a.Po,Ly:a.GM,Si:c.b_[d.toLowerCase()]||c.vp.ZA,Kz:d,mc:[],Yf:{}};d.mc=b.tDa(a.mc,d);b.log.trace("Transformed video track",{StreamCount:d.mc.length});return d;});if(!a.length)throw Error("No valid video tracks");this.log.trace("Transformed video tracks",{Count:a.length});return a;};b.prototype.Kkb=function(a){var b;b=a.map(function(a){return a.z$;}).filter(Boolean);b=[].concat.apply([],[].concat(ga(b))).map(function(a){return a.ba;});a=a.map(function(a){return a.f4;}).filter(Boolean).map(function(a){return a.ba;});return 0<b.length?b:a;};d.oSa=b;},function(g,d,a){var f,h,p,c,k;function b(a,b,c,d){a=h.ZN.call(this,a,d)||this;a.config=b;a.j=c;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(405);h=a(379);p=a(127);c=a(76);k=a(157);ba(b,h.ZN);b.prototype.tkb=function(a,b,d){var g,h,n;g=this;a=P(p.Us(function(a){return a.mc&&0<a.mc.length;},a));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is missing streams",g.Uta(a));});n=this.config.Fba;a=P(p.Us(function(a){return 0===n.length||0<=n.indexOf(a.Si);},h));h=a.next().value;a.next().value.forEach(function(a){return g.log.warn("Audio track is not supported",g.Uta(a));});a=h.map(function(a){var h;h=a.Si;h={type:c.gg.audio,fb:a.Po,Ly:a.GM,Si:k.b_[h.toLowerCase()]||k.vp.ZA,Kz:h,Xj:a.language,displayName:a.HD,Lk:a.Lk,QEb:a.Lk,PEb:Number(a.Lk[0]),Hj:g.d$a(a.Po,b,d),Yf:{Bcp47:a.language,TrackId:a.Po},mc:[],isNative:a.isNative};h.mc=g.tDa(a.mc,h);g.log.trace("Transformed audio track",h,{StreamCount:h.mc.length,AllowedTimedTextTracks:h.Hj.length});h.cpa=f.gda[h.mc[0].Pe];return h;});if(!a.length)throw Error("no valid audio tracks");this.log.trace("Transformed audio tracks",{Count:a.length});return a;};b.prototype.g_a=function(a){var b,c;b=this;c=this.config.Z4;if(c){if(a=P(a.filter(function(a){return a.Xj==c||a.fb==c;})).next().value)return a;}else if(this.j.rS&&(a=P(a.filter(function(a){return a.fb==b.j.rS;})).next().value))return a;};b.prototype.Uta=function(a){return{language:a.HD,bcp47:a.language,type:a.Si};};b.prototype.d$a=function(a,b,c){return b.filter(function(b){return b.eca.AUDIO===a;}).map(function(a){return a.eca.YZ;}).map(function(a){return c.find(function(b){return b.fb===a;});}).filter(Boolean);};d.wFa=b;},function(g,d){function a(a,d,g){this.log=a;this.j=d;this.ica=g;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Pkb=function(a){var b;b=this;a=(a||[]).filter(function(a){return a.Yc&&0<a.Yc.length;}).map(function(a){return b.ica(b.j,a.id,a.height,a.width,a.Zya,a.$ya,a.size,{unknown:a.Yc[0]});});0===a.length&&this.log.warn("There are no trickplay tracks");a.sort(function(a,b){return a.size-b.size;});this.log.trace("Transformed trick play tracks",{Count:a.length});return a;};d.URa=a;},function(g,d){function a(a,d,g,h,c,k){this.E8=a;this.x2=d;this.TCa=g;this.ztb=h;this.Wna=c;this.pEa=k;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.Z9=function(a){var b,d,g,c,h,l,n,m,r,A,K,x,I,G,N,T;a=this.E8.decode(a);b=this.x2.Lya(a.An,a.dk,!0);d=this.TCa.Okb(a.hDa);g=this.ztb.Pkb(a.yDa);c=this.Wna.tkb(a.U1,a.media,d);h=this.pEa.Rkb(a.XW);l=this.Jkb(a,c,d);n=l[0];m=h[0];r=this.Wna.g_a(c)||n.Ec||c[0];n=this.TCa.Nsb(r.Hj)||n.wc||r.Hj[0];A=this.pEa.Kkb(a.XW);K=a.Gf;x=a.Yoa;I=a.hua;G=a.$j;N=a.U1.findIndex(function(a){return a.Po==r.fb;});T=a.XW.findIndex(function(a){return a.Po==m.fb;});return{Xo:A,xi:b,bo:c,Pq:h,Hj:d,tt:g,Gf:K,Upb:x,Av:I,$j:G,mqa:N,rqa:T,hV:l,Q3:m,L3:r,P3:n,NIb:a};};a.prototype.Jkb=function(a,d,g){var b,c;b=[];c=a.qqa[0];b.push({Ec:d.find(function(a){return a.Ly===c.jC;}),wc:g.find(function(a){return a.Ly===c.GCa;}),OJb:0});return b;};d.GMa=a;},function(g,d,a){var f,h,p,c;function b(a,b,c,d,f){this.log=a;this.config=b;this.j=c;this.x2=d;this.o$=f;}Object.defineProperty(d,"__esModule",{value:!0});f=a(66);h=a(9);p=a(157);c=a(213);b.prototype.Okb=function(a){var b;b=this;a=a.map(function(a){var c,d,g;c=b.htb(a);!1!==a.ET||c.length||b.log.error("track without downloadables",b.lta(a));!0!==a.AT||c.length||b.log.error("forced track without downloadables",b.lta(a));d={};g=[];if(0<c.length){d=c[0];g=d.profile;if(g==f.wk.RA||g==f.wk.bO)d=b.xpb(c);g=b.x2.Lya(a.Koa,void 0,!1);}a=b.o$(b.j,a.Po,a.id,d.Qc,d.Yc||{},g,a.language,a.HD,p.b_[a.Si.toLowerCase()]||p.vp.ZA,a.Kz.toUpperCase(),d.profile,b.Yab(d)||{},a.ET,a.AT,a.eK);b.log.trace("Transformed timed text track",a);return a;});this.log.trace("Transformed timed text tracks",{Count:a.length});return a;};b.prototype.Nsb=function(a){var b,c;b=this;c=this.config.b5;if(c){if(a=P(a.filter(function(a){return a.Xj==c||a.fb==c;})).next().value)return a;}else if(this.j.sS&&(a=P(a.filter(function(a){return a.fb==b.j.sS;})).next().value))return a;};b.prototype.htb=function(a){var b,c,d;b=this;c=a.BDa;d=a.Pqa;a=Object.keys(c||{}).map(function(a){var f;f=c[a];return{Qc:d[a],profile:a,size:f.size||0,Qd:b.$$a(a,f),offset:f.FK||0,plb:f.width,Wya:f.height,Yc:f.Tp};});a.sort(function(a,b){return a.Qd-b.Qd;});return a;};b.prototype.$$a=function(a,b){var c,d;c=this.config.ot.indexOf(a);b=b.size;d=this.config.hF;return a===f.wk.EX&&0<d&&b>d?this.config.ot.length+1:0<=c?c:this.config.ot.length;};b.prototype.Yab=function(a){if(a.profile===f.wk.RA||a.profile===f.wk.bO)return{offset:a.offset,length:a.size,mKb:{width:a.plb,height:a.Wya}};};b.prototype.xpb=function(a){var b,d;b=this.config.X6||c.XZ.W5();d=P(a.filter(function(a){return a.profile===f.wk.RA||a.profile===f.wk.bO;}).filter(function(a){return a.Wya===b;})).next().value;if(d)return d;this.log.warn("none of the downloadables match the intended resolution",{screenHeight:h.fr.height,intendedResolution:b});return a[0];};b.prototype.lta=function(a){return{isNone:a.ET,isForced:a.AT,bcp47:a.language,id:a.Po};};d.yRa=b;},function(g){g.T=function(d){return function(){return!d.apply(this,arguments);};};},function(g,d,a){var b,f;b=a(770);d=a(51);f=a(386);a=d(function(a,d){return f(b(a),d);});g.T=a;},function(g,d,a){d=a(159);a=a(215);a=d(a);g.T=a;},function(g,d,a){d=a(51)(function(a,d){for(var b=0;b<a.length;){if(null==d)return;d=d[a[b]];b+=1;}return d;});g.T=d;},function(g,d,a){var b;d=a(51);b=a(773);a=d(function(a,d){return b([a],d);});g.T=a;},function(g,d,a){var b,f;d=a(51);b=a(383);f=function(){function a(a,b){this.dN=b;this.fJ=a;}a.prototype["@@transducer/init"]=b.gc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.dN["@@transducer/step"](a,this.fJ(b));};return a;}();a=d(function(a,b){return new f(a,b);});g.T=a;},function(g,d,a){var b,f,h,p,c,k;d=a(51);b=a(385);f=a(381);h=a(215);p=a(775);c=a(380);k=a(382);a=d(b(["fantasy-land/map","map"],p,function(a,b){switch(Object.prototype.toString.call(b)){case"[object Function]":return c(b.length,function(){return a.call(this,b.apply(this,arguments));});case"[object Object]":return h(function(c,d){c[d]=a(b[d]);return c;},{},k(b));default:return f(a,b);}}));g.T=a;},function(g,d,a){var b,f;d=a(51);b=a(776);f=a(774);a=d(function(a,d){return b(f(a),d);});g.T=a;},function(g,d,a){d=a(51)(function(a,d){return d>a?d:a;});g.T=d;},function(g,d,a){var f,h;function b(a,c,d){return function(){var m;for(var g=[],k=0,p=a,l=0;l<c.length||k<arguments.length;){l<c.length&&(!h(c[l])||k>=arguments.length)?m=c[l]:(m=arguments[k],k+=1);g[l]=m;h(m)||--p;l+=1;}return 0>=p?d.apply(this,g):f(p,b(a,g,d));};}f=a(214);h=a(158);g.T=b;},function(g,d,a){var b,f,h,p,c;d=a(51);b=a(381);f=a(380);h=a(778);p=a(777);c=a(772);a=d(function(a,d){return f(c(h,0,p("length",d)),function(){var c,f;c=arguments;f=this;return a.apply(f,b(function(a){return a.apply(f,c);},d));});});g.T=a;},function(g,d,a){var b;d=a(111);b=a(780);a=d(function(a){return b(function(){return Array.prototype.slice.call(arguments,0);},a);});g.T=a;},function(g,d,a){var b,f;b=a(216);f=Object.prototype.toString;g.T=function(){return"[object Arguments]"===f.call(arguments)?function(a){return"[object Arguments]"===f.call(a);}:function(a){return b("callee",a);};};},function(g,d,a){var b,f;d=a(51);b=a(383);f=function(){function a(a,b){this.dN=b;this.fJ=a;}a.prototype["@@transducer/init"]=b.gc;a.prototype["@@transducer/result"]=b.result;a.prototype["@@transducer/step"]=function(a,b){return this.fJ(b)?this.dN["@@transducer/step"](a,b):a;};return a;}();a=d(function(a,b){return new f(a,b);});g.T=a;},function(g,d,a){var b;b=a(214);d=a(51)(function(a,d){return b(a.length,function(){return a.apply(d,arguments);});});g.T=d;},function(g){var d;d=function(){function a(a){this.fJ=a;}a.prototype["@@transducer/init"]=function(){throw Error("init not implemented on XWrap");};a.prototype["@@transducer/result"]=function(a){return a;};a.prototype["@@transducer/step"]=function(a,d){return this.fJ(a,d);};return a;}();g.T=function(a){return new d(a);};},function(g){g.T=function(d){return"[object String]"===Object.prototype.toString.call(d);};},function(g,d,a){var b,f;d=a(111);b=a(384);f=a(786);a=d(function(a){return b(a)?!0:!a||"object"!==typeof a||f(a)?!1:1===a.nodeType?!!a.length:0===a.length?!0:0<a.length?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1;});g.T=a;},function(g){g.T=function(d,a){for(var b=0,f=a.length,g=[];b<f;)d(a[b])&&(g[g.length]=a[b]),b+=1;return g;};},function(g){g.T=function(d){return"function"===typeof d["@@transducer/step"];};},function(g,d,a){var b;d=a(386);b=a(781);a=a(771);a=b([d,a]);g.T=a;},function(g,d,a){var b;d=a(159);b=a(216);a=d(function(a,d,g){var c,f;c={};for(f in d)b(f,d)&&(c[f]=b(f,g)?a(f,d[f],g[f]):d[f]);for(f in g)b(f,g)&&!b(f,c)&&(c[f]=g[f]);return c;});g.T=a;},function(g,d,a){var b,f;d=a(159);b=a(387);f=a(791);a=d(function p(a,d,g){return f(function(c,d,f){return b(d)&&b(f)?p(a,d,f):a(c,d,f);},d,g);});g.T=a;},function(g,d,a){var b;d=a(159);b=a(792);a=d(function(a,d,g){return b(function(b,d,f){return a(d,f);},d,g);});g.T=a;},function(g,d,a){var f;function b(a,b){this.log=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});f=a(127);b.prototype.Lya=function(a,b,c){var d,g,h,p,l;d=this;g=this.config.w2;h=this.config.v2;a=P(f.Us(function(a){return(!g.length||0<=g.indexOf(a.id))&&0>h.indexOf(a.id);},a||[]));p=a.next().value;a.next().value.forEach(function(a){return d.log.warn("Cdn is not allowed",{Id:a.id});});l=p.map(function(a){var c;c=(b?b.find(function(b){return b.key===a.key;}):void 0)||{};return{id:a.id,name:a.name,$d:a.$d,type:a.type,c8:a.key,$Hb:a.vwa,location:{id:c.key,$d:c.$d,level:c.level,weight:c.weight,xi:[]}};});l.sort(function(a,b){return a.$d-b.$d;});l.forEach(function(a){return a.location.xi=l.filter(function(b){return b.c8===a.c8;});});this.log.trace("Transformed cdns",{Count:l.length});if(c&&!l.length)throw Error("no valid cdns");return l;};d.QGa=b;},function(g,d,a){var f,h,p,c,k,l,n,m,r,A,K,x,I;function b(a,b,c,d,f,g){this.Ue=a;this.E8=b;this.config=c;this.o$=d;this.ica=f;this.HW=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(5);p=a(160);c=a(388);k=a(794);l=a(769);n=a(768);m=a(767);r=a(766);A=a(765);K=a(378);x=a(377);a=a(376);b.prototype.create=function(a){var b,c;b=this.Ue.ib("ManifestParser",a);c=new k.QGa(b,this.config);return new n.GMa(this.E8,c,new l.yRa(b,this.config,a,c,this.o$),new m.URa(b,a,this.ica),new r.wFa(b,this.config,a,this.HW),new A.oSa(b,this.HW));};I=b;I=g.__decorate([f.L(),g.__param(0,f.l(h.kb)),g.__param(1,f.l(p.nga)),g.__param(2,f.l(c.oga)),g.__param(3,f.l(K.Yha)),g.__param(4,f.l(a.dja)),g.__param(5,f.l(x.bja))],I);d.FMa=I;},function(g,d,a){var b,f,h,p,c,k,l,n;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(389);f=a(795);h=a(388);p=a(764);c=a(378);k=a(377);l=a(375);n=a(763);d.Tgb=new g.Wb(function(d){d(h.oga).to(p.EMa).$();d(b.pga).to(f.FMa).$();d(c.Yha).Eh(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(212).AG;return new(Function.prototype.bind.apply(d,[null].concat(ga(c))))();});d(k.bja).Eh(function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a(339).KGa;return new(Function.prototype.bind.apply(d,[null].concat(ga(c))))();});d(l.qga).Kf(function(){return function(a){return new n.JMa(a);};});});},function(g,d,a){var f,h,p,c,k,l,n,m,r,A;function b(a,b,c,d,f,g,h,k){this.UC=a;this.he=b;this.config=c;this.vj=f;this.Qr=g;this.hca=h;this.kU=k;this.log=d.ib("CDMAttestedDescriptor");this.Ksa();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(119);p=a(40);c=a(17);k=a(5);l=a(78);n=a(100);m=a(65);r=a(217);a=a(135);b.prototype.Ksa=function(){var a;a=this;return this.hca.QW?this.config().h7a?this.Jsa().then(function(b){if(b)return Promise.resolve(void 0);a.Sva||(a.Sva=a.Nab());return a.Sva;}).then(function(b){return Promise.all([Promise.resolve(b),a.Jsa()]);}).then(function(a){var b;a=P(a);b=a.next().value;if(!a.next().value)return b;}):(this.vj.Ff.removeServiceToken("cad"),Promise.resolve(void 0)):Promise.resolve(void 0);};b.prototype.Nab=function(){var a;a=this;return Promise.all([this.UC(),this.Bab()]).then(function(b){var c;c=P(b);b=c.next().value;c=c.next().value;c={type:l.Zi.Ot,nT:c,context:{Md:a.config().Md}};return b.U9a(c,a.kU());}).then(function(b){var c;c=a.he.encode(b.X7.data);a.log.trace("Challenge generated",c);b.close().subscribe();return c;})["catch"](function(b){a.log.error("Failed to generate challenge for CAD token",b);});};b.prototype.Jsa=function(){var a;a=this;return this.Qr().then(function(b){return(b=a.vj.Ff.getServiceTokens(b.profile.id))&&b.find(function(a){return"cad"===a.name;});});};b.prototype.Bab=function(){return Promise.resolve(this.he.decode("AAAANHBzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAABQIARIQAAAAAAPSZ0kAAAAAAAAAAA=="));};A=b;A=g.__decorate([f.L(),g.__param(0,f.l(h.BN)),g.__param(1,f.l(p.Jj)),g.__param(2,f.l(c.gd)),g.__param(3,f.l(k.kb)),g.__param(4,f.l(n.ax)),g.__param(5,f.l(m.Wq)),g.__param(6,f.l(r.sO)),g.__param(7,f.l(a.iG))],A);d.mGa=A;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(390);f=a(797);d.o0a=new g.Wb(function(a){a(b.tda).to(f.mGa).$();});},function(g,d,a){var f,h,p;function b(a){this.Da=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(20);p=a(3);b.prototype.Prb=function(a,b){var c,d;c=parseFloat(a);d=0;"%"===a[a.length-1]&&this.Da.Pf(c)?d=Math.round(c*b.fa(p.na)/100):(a=parseInt(a),this.Da.Hp(a)&&(d=a));return p.zb(Math.min(d,b.fa(p.na)));};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(h.de))],a);d.XFa=a;},function(g,d,a){var f,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(17);b.prototype.H5=function(){return this.jv().L_a;};b.prototype.I5=function(){return this.jv().M_a;};b.prototype.zab=function(){return this.jv().N_a;};b.prototype.s5=function(){return this.jv().koa;};b.prototype.jv=function(){return this.config();};h=b;h=g.__decorate([f.L(),g.__param(0,f.l(a.gd))],h);d.WFa=h;},function(g,d,a){var f,h,p,c,k,l,n;function b(a,b,c,d,f){this.KQ=b;this.Da=c;this.K_a=d;this.config=f;this.ia=a.ib("Bookmark");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(392);p=a(391);c=a(5);k=a(20);l=a(3);a=a(17);b.prototype.ona=function(a){var b,c;b=a.Za.playbackState&&a.Za.playbackState.currentTime;c=this.F$a(a.M);b=this.Da.Ol(b)?l.zb(b):c;if(this.Da.zd(b))this.ia.info("Overriding bookmark",{From:a.rA.fa(l.na),To:b.fa(l.na)}),a=Object.assign({},a,{rA:b});else if(this.Fdb(a))return this.ia.trace("Ignoring bookmark because it's too close to beginning"),l.xg(0);return this.Edb(a)?(this.ia.trace("Ignoring bookmark because it's too close to end"),l.xg(0)):this.Ddb(a)?(this.ia.trace("Ignoring bookmark because it's too close to the end to start decoding"),l.xg(0)):a.rA;};b.prototype.Fdb=function(a){return 0>a.rA.Nk(this.H5(a));};b.prototype.H5=function(a){return this.loa(this.KQ.H5(),a.cL);};b.prototype.Edb=function(a){return 0<a.rA.Nk(this.I5(a));};b.prototype.I5=function(a){var b;b=a.Za.Vf?this.KQ.zab():this.KQ.I5();return a.cL.sd(this.loa(b,a.cL));};b.prototype.Ddb=function(a){return 0<a.rA.Nk(this.eab(a));};b.prototype.eab=function(a){var b;b=a.Za.Vf?this.config().yya:this.config().S9;return a.cL.sd(l.zb(b));};b.prototype.F$a=function(a){var b;a=this.KQ.s5()[a];b=-1;this.Da.vi(a)?b=parseInt(a):this.Da.Pf(a)&&(b=a);if(this.Da.Hp(b))return l.zb(b);};b.prototype.loa=function(a,b){return this.K_a.Prb(a,b);};n=b;n=g.__decorate([f.L(),g.__param(0,f.l(c.kb)),g.__param(1,f.l(h.pda)),g.__param(2,f.l(k.de)),g.__param(3,f.l(p.oda)),g.__param(4,f.l(a.gd))],n);d.YFa=n;},function(g,d,a){var b,f,h,l,c,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(218);f=a(392);h=a(391);l=a(801);c=a(800);k=a(799);d.d2=new g.Wb(function(a){a(b.tX).to(l.YFa).$();a(f.pda).to(c.WFa).$();a(h.oda).to(k.XFa).$();});},function(g,d){function a(a){var b;b=Error.call(this);this.message=b.message;"stack"in b&&(this.stack=b.stack);this.name="InvalidOperationError";this.message=a;}Object.defineProperty(d,"__esModule",{value:!0});ba(a,Error);d.Gfa=a;},function(g,d,a){var f,h,l,c;function b(a){this.Da=a;this.X0={};this.nma={};for(var b in f.HF)this.Da.Pf(parseInt(b))&&(this.nma[f.HF[b]]=1);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(219);h=a(803);l=a(1);a=a(20);b.prototype.track=function(a){var b;if(this.Da.vi(a)){if(!this.nma[a])throw new h.Gfa("Cast Interaction type "+a+" is undefined.");}else{if(!this.Da.Ol(f.HF[a]))throw new h.Gfa("Cast Interaction type "+a+" is undefined.");a=f.HF[a];}b=this.X0[a];this.X0[a]=b?b+1:1;};c=b;c=g.__decorate([l.L(),g.__param(0,l.l(a.de))],c);d.OGa=c;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(219);f=a(804);d.UQ=new g.Wb(function(a){a(b.Cda).to(f.OGa);});},function(g,d,a){var h,l,c;function b(a,b,c){var d;d=this;this.ia=a;this.valid=!0;this.Ql=!1;this.context=c.context;this.size=c.size;this.yh=b.create().then(function(a){d.storage=a;return a.sK("mediacache").then(function(a){d.keys=a;});});}function f(a,b){this.Ue=a;this.Ag=b;this.KI={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(5);a=a(56);f.prototype.kR=function(a){this.KI[a.context]=new b(this.Ue.ib("DiskStorageContext"),this.Ag,a);return this.KI[a.context];};c=f;c=g.__decorate([h.L(),g.__param(0,h.l(l.kb)),g.__param(1,h.l(a.Hn))],c);d.HIa=c;b.prototype.create=function(a,b,c,d){var f,g,h;f=this;g=this.getKey(a,b);h=Date.now();this.yh.then(function(){f.keys[g]=void 0;return f.storage.save(g,c,!1).then(function(){f.ia.trace("create succeeded for "+g+", "+(Date.now()-h)+" ms");d(f.RS(a,b));});})["catch"](function(c){f.ia.trace("create failed",c);d(f.mv(a,b,c));});};b.prototype.append=function(a,b,c,d){c=this.getKey(a,b);this.ia.trace("append "+c);d(this.mv(a,b,"append is not supported"));};b.prototype.remove=function(a,b,c){var d,f,g;d=this;f=this.getKey(a,b);g=Date.now();this.yh.then(function(){if(d.keys.hasOwnProperty(f))return delete d.keys[f],d.storage.remove(f).then(function(){d.ia.trace("remove succeeded for "+f+", "+(Date.now()-g)+" ms");c(d.RS(a,b));});c(d.RS(a,b));})["catch"](function(f){d.ia.trace("remove failed",f);c(d.mv(a,b,f));});};b.prototype.read=function(a,b,c,d,f){var g,h,k;g=this;h=this.getKey(a,b);k=Date.now();0!==c||-1!=d?f(this.mv(a,b,"byteStart/byteEnd combination is not supported")):this.yh.then(function(){if(g.keys.hasOwnProperty(h))return g.storage.load(h).then(function(n){g.ia.trace("read succeeded for "+h+", "+(Date.now()-k)+" ms");f(Object.assign(g.RS(a,b),{value:n.value,tEb:c,end:d}));});f(g.mv(a,b,"Item doesn't exist"));})["catch"](function(c){g.ia.trace("read failed",c);f(g.mv(a,b,c));});};b.prototype.info=function(a){var b;b=this;this.ia.trace("info ");this.yh.then(function(){var c;c={values:{}};c.values[b.context]={entries:Object.keys(b.keys).reduce(function(a,c){c=b.Y9(c);a[c.xI]||(a[c.xI]={});a[c.xI][c.Bv]={size:0};return a;},{}),total:b.size,tLb:0};a(c);})["catch"](function(c){b.ia.trace("info failed",c);a(b.mv(void 0,void 0,c));});};b.prototype.query=function(a,b,c){var d,f;d=this;f=this.getKey(a,b||"");this.yh.then(function(){var a;a=Object.keys(d.keys).filter(function(a){return 0===a.indexOf(f);}).reduce(function(a,b){a[d.Y9(b).Bv]={size:0};return a;},{});d.ia.trace("query succeeded for prefix "+b,a);c(a);})["catch"](function(a){d.ia.trace("query failed",a);c({});});};b.prototype.lp=function(a){var b;b=this;this.ia.trace("validate");this.yh.then(function(){var c;c=Object.keys(b.keys).reduce(function(a,c){a[b.Y9(c).Bv]={size:0};return a;},{});a(c);})["catch"](function(c){b.ia.trace("validate failed",c);a(b.mv(void 0,void 0,c));});};b.prototype.getKey=function(a,b){return["mediacache",this.context,a,b].join(".");};b.prototype.RS=function(a,b){return{X:!0,xI:void 0===a?"":a,key:void 0===b?"":b,Eub:0,Di:this.size};};b.prototype.mv=function(a,b,c){return{X:!1,error:c,xI:void 0===a?"":a,key:void 0===b?"":b,Eub:0,Di:this.size};};b.prototype.Y9=function(a){var b,c;a=a.slice(a.indexOf(".")+1);b=a.slice(a.indexOf(".")+1);c=b.indexOf(".");a=b.slice(0,c);b=b.slice(c+1);return{xI:a,Bv:b};};d.sxb=b;},function(g,d,a){var f,h,l;function b(a){this.Ue=a;this.Ns={};this.ia=this.Ue.ib("MemoryStorage");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);a=a(5);b.prototype.load=function(a){var b;if(this.Ns.hasOwnProperty(a)){b=this.Ns[a];this.ia.debug("Storage entry loaded",{key:a});return Promise.resolve({key:a,value:b});}this.ia.debug("Storage entry not found",{key:a});return Promise.reject({Y:h.H.Sn});};b.prototype.save=function(a,b,d){if(d&&this.Ns.hasOwnProperty(a))return Promise.resolve(!1);this.Ns[a]=b;return Promise.resolve(!0);};b.prototype.remove=function(a){delete this.Ns[a];return Promise.resolve();};b.prototype.loadAll=function(){var a,b;a=this;b=Object.keys(this.Ns).map(function(b){return{key:b,value:a.Ns[b]};});return Promise.resolve(b);};b.prototype.sK=function(a){var b;b=Object.keys(this.Ns).reduce(function(b,c){a&&0!==c.indexOf(a)||(b[c]=void 0);return b;},{});return Promise.resolve(b);};b.prototype.removeAll=function(){this.Ns={};return Promise.resolve();};l=b;l=g.__decorate([f.L(),g.__param(0,f.l(a.kb))],l);d.aNa=l;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.GHa="__default_rule_key__";},function(g,d,a){var h,l,c,k,q,n,m;function b(a,b,c,d){this.ia=a;this.config=b;this.Bdb=c;this.e9=d;this.Ru={mem:{storage:this.e9,key:"mem"}};this.nw=this.config.nw;}function f(a,b,c,d){this.Ue=a;this.Ag=b;this.e9=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(2);c=a(161);k=a(5);q=a(394);n=a(808);a=a(52);f.prototype.create=function(){this.tI||(this.tI=this.CC());return this.tI;};f.prototype.CC=function(){this.uZa=new b(this.Ue.ib("AppStorage"),this.config,this.Ag,this.e9);return this.uZa.create();};m=f;m=g.__decorate([h.L(),g.__param(0,h.l(k.kb)),g.__param(1,h.l(c.SY)),g.__param(2,h.l(q.Aga)),g.__param(3,h.l(a.ym))],m);d.eFa=m;b.prototype.create=function(){var a;a=this;return this.j4a().then(function(b){if(!a.H0a(b,a.config.W6))throw a.Vib(b);return a;});};b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){b.y5(a).storage.load(a).then(function(a){c(a);})["catch"](function(a){d(a);});});};b.prototype.save=function(a,b,c){var d;d=this;return new Promise(function(f,g){d.y5(a).storage.save(a,b,c).then(function(a){f(a);})["catch"](function(a){g(a);});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){b.y5(a).storage.remove(a).then(function(){c();})["catch"](function(a){d(a);});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,c){a.nAa("mem").then(function(){return a.nAa("idb");})["catch"](function(a){return Promise.reject(a);}).then(function(){b();})["catch"](function(b){a.ia.error("remove all failed");c(b);});});};b.prototype.loadAll=function(){var a,b;a=this;b=[];return this.$va("mem").then(function(c){b=b.concat(c);return a.$va("idb");})["catch"](function(b){a.Neb(b)||a.ia.error("IndexedDb.LoadAll exception",b);return[];}).then(function(a){return b=b.concat(a);})["catch"](function(b){a.ia.error("load all failed",b);throw b;});};b.prototype.sK=function(a){var b;b=this;return new Promise(function(c,d){var f;f=b.Ru.idb;f?f.storage.sK(a).then(function(a){c(a);})["catch"](function(a){b.ia.error("loadKeys failed",a);d(a);}):d("Storage is not available");});};b.prototype.j4a=function(){var a;a=this;return this.Bdb.create().then(function(b){a.Ru.idb={storage:b,key:"idb"};})["catch"](function(b){a.ia.error("idb failed to load",b);return b||{Y:l.H.ki};});};b.prototype.H0a=function(a,b){return!a||a&&b?!0:!1;};b.prototype.Vib=function(a){var b;b="";a&&(b+=a.Y);return{Y:b};};b.prototype.nAa=function(a){return(a=this.Ru[a])?a.storage.removeAll():Promise.resolve();};b.prototype.$va=function(a){return(a=this.Ru[a])?a.storage.loadAll():Promise.resolve([]);};b.prototype.e9a=function(a){for(var b in this.nw)if(a.startsWith(b))return this.nw[b];return this.nw[n.GHa];};b.prototype.y5=function(a){var b,c;b=this;this.e9a(a).every(function(a){return b.Ru[a]?(c=b.Ru[a],!1):!0;});c||(this.ia.error("component not found for storageKey",{Frb:a,kEb:Object.keys(this.Ru),rules:this.nw}),c=this.Ru.mem);this.ia.trace("component found for key",{storageKey:a,componentKey:c.key});return c;};b.prototype.Neb=function(a){return(a&&(a.Y||a.errorSubCode))===l.H.Sn;};d.Zca=b;},function(g,d,a){var f,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(52);na.Object.defineProperties(b.prototype,{timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.xba;}},enabled:{configurable:!0,enumerable:!0,get:function(){return this.config.SCa;}}});h=b;h=g.__decorate([f.L(),g.__param(0,f.l(a.ym))],h);d.jHa=h;},function(g,d,a){var f,h,l,c,k;function b(a,b){a=l.oe.call(this,a,"IndexedDBConfigImpl")||this;a.config=b;a.version=1;a.tz="namedatapairs";return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(33);l=a(36);c=a(52);a=a(27);ba(b,l.oe);na.Object.defineProperties(b.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return"netflix.player"+(this.config.bn?"Test":"");}},timeout:{configurable:!0,enumerable:!0,get:function(){return this.config.xba;}},BQ:{configurable:!0,enumerable:!0,get:function(){return this.config.BQ;}},kba:{configurable:!0,enumerable:!0,get:function(){return 0;}},aM:{configurable:!0,enumerable:!0,get:function(){return 0;}},Yra:{configurable:!0,enumerable:!0,get:function(){return!0;}}});k=b;g.__decorate([h.config(h.yw,"simulateIdbOpenError")],k.prototype,"kba",null);g.__decorate([h.config(h.yw,"simulateIdbLoadAllError")],k.prototype,"aM",null);g.__decorate([h.config(h.re,"fixInvalidDatabase")],k.prototype,"Yra",null);k=g.__decorate([f.L(),g.__param(0,f.l(a.cj)),g.__param(1,f.l(c.ym))],k);d.nLa=k;},function(g,d,a){var h,l,c;function b(a,b,c){this.config=a;this.Bj=b;this.Ws=c;}function f(a,b){this.reason=a;this.cause=b;}Object.defineProperty(d,"__esModule",{value:!0});h=a(2);l=a(63);(function(a){a[a.oZ=0]="NoData";a[a.Error=1]="Error";a[a.lx=2]="Timeout";}(c=d.iQa||(d.iQa={})));b.prototype.load=function(a){var b;b=this;return new Promise(function(d,f){b.eS("get",!1,a).then(function(b){d({key:a,value:b});})["catch"](function(a){var b;b=h.H.Cia;switch(a.reason){case c.oZ:b=h.H.Sn;break;case c.lx:b=h.H.JQa;}f({Y:b,cause:a.cause});});});};b.prototype.save=function(a,b,d){var f;f=this;return new Promise(function(g,k){f.eS(d?"add":"put",!0,{name:a,data:b}).then(function(){g(!d);})["catch"](function(a){var b;b=h.H.Dia;switch(a.reason){case c.lx:b=h.H.MQa;}k({Y:b,cause:a.cause});});});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(d,f){b.eS("delete",!0,a).then(function(){d();})["catch"](function(a){var b;b=h.H.PZ;switch(a.reason){case c.lx:b=h.H.Bia;}f({Y:b,cause:a.cause});});});};b.prototype.removeAll=function(){var a;a=this;return new Promise(function(b,d){a.eS("clear",!0,"").then(function(){b();})["catch"](function(a){var b;b=h.H.PZ;switch(a.reason){case c.lx:b=h.H.Bia;}d({Y:b,cause:a.cause});});});};b.prototype.loadAll=function(){var a;a=this;return this.Bj.il(this.config.timeout,new Promise(function(b,d){var g,h,k;if(a.config.aM)d(new f(a.config.aM));else{g=[];h=a.Ws.transaction(a.config.tz,"readonly");k=h.objectStore(a.config.tz).openCursor();h.onerror=function(){d(new f(c.Error,k.error));};k.onsuccess=function(a){if(a=a.target.result)try{g.push({key:a.value.name,value:a.value.data});a["continue"]();}catch(x){d(new f(c.Error,x));}else b(g);};k.onerror=function(){d(new f(c.Error,k.error));};}}))["catch"](function(a){return a instanceof l.Fm?Promise.reject(new f(c.lx,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(c.Error,a));});};b.prototype.sK=function(a){var b;b=this;return this.Bj.il(this.config.timeout,new Promise(function(d,g){var h,k,n;if(b.config.aM)g(new f(b.config.aM));else{h={};k=b.Ws.transaction(b.config.tz,"readonly");n=k.objectStore(b.config.tz).openKeyCursor(a?IDBKeyRange.lowerBound(a):void 0);k.onerror=function(){g(new f(c.Error,n.error));};n.onsuccess=function(b){var k,n;try{k=b.target.result;if(k){n=k.key;a&&0!==n.indexOf(a)?d(h):(h[n]=void 0,k["continue"]());}else d(h);}catch(N){g(new f(c.Error,N));}};n.onerror=function(){g(new f(c.Error,n.error));};}}))["catch"](function(a){return a instanceof l.Fm?Promise.reject(new f(c.lx,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(c.Error,a));});};b.prototype.eS=function(a,b,d){var g;g=this;return this.Bj.il(this.config.timeout,new Promise(function(h,k){var n,l;n=g.Ws.transaction(g.config.tz,b?"readwrite":"readonly");l=n.objectStore(g.config.tz)[a](d);n.onerror=function(){k(new f(c.Error,l.error));};l.onsuccess=function(b){var d;if("get"==a)try{d=b.target.result;d?h(d.data):k(new f(c.oZ));}catch(N){k(new f(c.oZ,N));}else h();};l.onerror=function(){k(new f(c.Error,l.error));};}))["catch"](function(a){return a instanceof l.Fm?Promise.reject(new f(c.lx,a)):a instanceof f?Promise.reject(a):Promise.reject(new f(c.Error,a));});};d.mLa=b;},function(g,d,a){var l,c,k,q,n,m,r,A,K,x,I,G;function b(a,b,c,d,f,g){this.config=b;this.yI=c;this.Ag=d;this.Mub=f;this.ei=g;this.ia=a.ib(m.TZ);}function f(a,b){this.config=a;this.pt=b;}function h(a,b,c,d,f){this.config=b;this.pt=c;this.ei=f;this.ia=a.ib(m.TZ);this.yI=new Promise(function(a,b){var c;try{c=d();c?a(c):b({Y:n.H.afa});}catch(ia){b({Y:n.H.TN,cause:ia});}});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);c=a(5);k=a(812);q=a(162);n=a(2);m=a(397);r=a(398);A=a(63);K=a(56);x=a(114);I=a(161);G=a(61);h.prototype.create=function(){this.A3||(this.A3=this.CC());return this.A3;};h.prototype.oo=function(a){var b;b=this;this.A3=null;return this.pt.il(this.config.timeout,new Promise(function(c,d){a.close();b["delete"](a.name).then(function(){c();})["catch"](function(a){d(a);});}))["catch"](function(a){return a instanceof A.Fm?Promise.reject({Y:n.H.TN}):a.Y?Promise.reject(a):Promise.reject({Y:n.H.TN,cause:a});});};h.prototype["delete"]=function(a){var b;b=this;return this.pt.il(this.config.timeout,new Promise(function(c,d){b.yI.then(function(b){var f;f=b.deleteDatabase(a);f.onsuccess=function(){c();};f.onerror=function(){d({Y:n.H.TN,cause:f.error});};})["catch"](function(a){d(a);});}));};h.prototype.CC=function(){var a,b;a=this;return this.pt.il(this.config.timeout,new Promise(function(c,d){a.config.kba?d({Y:a.config.kba}):a.yI.then(function(f){a.ei.mark(G.ji.zKa);(b=f.open(a.config.name,a.config.version))?(b.onblocked=function(){a.ei.mark(G.ji.wKa);d({Y:n.H.sKa});},b.onupgradeneeded=function(){var c;a.ei.mark(G.ji.GKa);c=b.result;try{c.createObjectStore(a.config.tz,{keyPath:"name"});}catch(W){a.ia.error("Exception while creating object store",W);}},b.onsuccess=function(g){var h,k;a.ei.mark(G.ji.FKa);try{h=g.target.result;k=h.objectStoreNames.length;a.ia.trace("objectstorenames length ",k);if(0===k){a.ia.error("invalid indexedDb state, deleting");a.ei.mark(G.ji.yKa);try{h.close();}catch(ia){}f.deleteDatabase(a.config.name);setTimeout(function(){d({Y:n.H.rKa});},1);return;}}catch(ia){a.ia.error("Exception while inspecting indexedDb objectstorenames",ia);}c(b.result);},b.onerror=function(){a.ei.mark(G.ji.xKa);a.ia.error("IndexedDB open error",b.error);d({Y:n.H.tKa,cause:b.error});}):d({Y:n.H.bfa});})["catch"](function(a){d(a);});}))["catch"](function(c){if(c instanceof A.Fm){try{b&&b.readyState&&a.ei.mark("readyState-"+b.readyState);}catch(V){}if(a.config.BQ&&b&&"done"===b.readyState){if(a.Iub(b))return a.ei.mark(G.ji.DKa),Promise.resolve(b.result);a.ei.mark(G.ji.CKa);}a.ei.mark(G.ji.BKa);return Promise.reject({Y:n.H.vKa});}if(c.Y)return Promise.reject(c);a.ei.mark(G.ji.AKa);a.ia.error("IndexedDB open exception occurred",c);return Promise.reject({Y:n.H.uKa,cause:c});});};h.prototype.Iub=function(a){try{return 0<a.result.objectStoreNames.length;}catch(T){this.ei.mark(G.ji.EKa);this.ia.error("failed to check open request state",T);}return!1;};a=h;a=g.__decorate([l.L(),g.__param(0,l.l(c.kb)),g.__param(1,l.l(r.VN)),g.__param(2,l.l(A.ex)),g.__param(3,l.l(q.$ea)),g.__param(4,l.l(x.nx))],a);d.pKa=a;f.prototype.create=function(a){return Promise.resolve(new k.mLa(this.config,this.pt,a));};a=f;a=g.__decorate([l.L(),g.__param(0,l.l(r.VN)),g.__param(1,l.l(A.ex))],a);d.oLa=a;b.prototype.create=function(){if(this.storage)return Promise.resolve(this.storage);this.tI||(this.tI=this.CC(this.Mub));return this.tI;};b.prototype.CC=function(a){var b;a=void 0===a?[]:a;b=this;return new Promise(function(c,d){b.ei.mark(G.ji.IQa);b.yI.create().then(function(f){b.Ag.create(f).then(function(g){Promise.all(a.map(function(a){return a.lp(g);})).then(function(){b.storage=g;c(b.storage);})["catch"](function(a){b.ia.debug("DB validation failed, cause: "+a);b.config.Yra?(b.ia.debug("Fixing corrupt DB"),b.yI.oo(f).then(function(){b.ia.error("Invalid database deleted, creating new database.");b.CC().then(function(a){b.ia.error("Invalid database successfully recreated.");b.storage=a;c(b.storage);});})["catch"](function(a){b.ia.error("Couldn't delete invalid database.");d(a);})):(b.ia.debug("Ignoring invalid DB due to config"),b.storage=g,c(b.storage));});})["catch"](function(a){d(a);});})["catch"](function(a){d(a);});});};a=b;a=g.__decorate([l.L(),g.__param(0,l.l(c.kb)),g.__param(1,l.l(r.VN)),g.__param(2,l.l(I.Zea)),g.__param(3,l.l(I.Bfa)),g.__param(4,l.lz(K.Mia)),g.__param(5,l.l(x.nx))],a);d.pLa=a;},function(g,d,a){var f,h,l;function b(a){this.Ws=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);a=a(162);b.prototype.load=function(a){var b;b=this;return new Promise(function(c,d){var f,g;try{f=b.Ws.getItem(a);if(f){g=f;if("{"===f[0])try{g=JSON.parse(f)||f;}catch(A){}c({key:a,value:g});}else d({Y:h.H.Sn});}catch(A){d({Y:h.H.Cia,cause:A});}});};b.prototype.save=function(a,b,d){var c;c=this;return new Promise(function(f,g){if(d&&c.Ws.getItem(a))f(!1);else try{"string"===typeof b?c.Ws.setItem(a,b):c.Ws.setItem(a,JSON.stringify(b));f(!0);}catch(A){g({Y:h.H.Dia,cause:A});}});};b.prototype.remove=function(a){var b;b=this;return new Promise(function(c,d){try{b.Ws.removeItem(a);c();}catch(u){d({Y:h.H.PZ,cause:u});}});};b.prototype.loadAll=function(){return Promise.reject("Not supported");};b.prototype.sK=function(){return Promise.reject("Not supported");};b.prototype.removeAll=function(){return Promise.reject("Not supported");};l=b;l=g.__decorate([f.L(),g.__param(0,f.l(a.CNa))],l);d.ILa=l;},function(g,d,a){var f,h,l,c,k;function b(a,b,d){this.Bj=b;this.config=d;this.ia=a.ib(c.TZ);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(5);l=a(63);c=a(397);a=a(396);b.prototype.lp=function(a){return this.config.enabled?this.config.timeout?this.Bj.il(this.config.timeout,this.Kqa(a)):this.Kqa(a):Promise.resolve();};b.prototype.Kqa=function(a){var b;b=this;return new Promise(function(c,d){return a.save("indexdb-test","true",!0).then(function(){return a.load("indexdb-test").then(function(f){"true"!==f.value&&d();b.ia.debug("save/load test passed");a.remove("indexdb-test").then(function(){c();})["catch"](function(){b.ia.error("Failed to remove testValue");c();});});})["catch"](function(a){return d(a);});});};k=b;k=g.__decorate([f.L(),g.__param(0,f.l(h.kb)),g.__param(1,f.l(l.ex)),g.__param(2,f.l(a.Oda))],k);d.iHa=k;},function(g,d,a){var b,f,h,l,c,k,q,n,m,r,A,K,x,I,G,N,B;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(398);f=a(56);h=a(162);l=a(815);c=a(395);k=a(814);q=a(396);n=a(161);m=a(813);r=a(811);A=a(810);K=a(809);x=a(56);I=a(394);G=a(807);N=a(393);B=a(806);d.storage=new g.Wb(function(a){a(h.Mga).Kf(function(){return function(){return M.localStorage;};});a(h.$ea).Kf(function(){return function(){return M.indexedDB;};});a(I.Aga).to(G.aNa).$();a(x.Hn).to(K.eFa).$();a(c.Sfa).to(k.ILa).$();a(b.VN).to(r.nLa).$();a(n.Bfa).to(m.oLa).$();a(f.Mia).to(l.iHa).$();a(n.Zea).to(m.pKa).$();a(n.SY).to(m.pLa).$();a(q.Oda).to(A.jHa).$();a(N.eea).to(B.HIa).$();});},function(g,d,a){var f,h,l;function b(a){this.kmb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(220);a=a(399);b.prototype.T8a=function(){var a,b;a={eJ:h.Qw.Unknown};b=this.kmb.PresentationRequest;b&&(new b("https://netflix.com").getAvailability()||Promise.reject()).then(function(b){var c;a.eJ=b.value?h.Qw.Present:h.Qw.Absent;if(a.eJ===h.Qw.Evb){c=function(){b.value&&(a.eJ=h.Qw.Present);b.removeEventListener("change",c);};b.addEventListener("change",c);}})["catch"](function(){a.eJ=h.Qw.Error;});return a;};l=b;l=g.__decorate([f.L(),g.__param(0,f.l(a.dia))],l);d.EJa=l;},function(g,d,a){var f,h,l;function b(a,b){this.dxa=a;this.log=b.ib("MediaCapabilities");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(401);h=a(5);a=a(1);b.prototype.J4=function(a){var b,c,d;b=this;c={Pc:void 0};if(this.dxa.exa){d={contentType:'video/mp4;codecs="avc1.640028"',width:a.width,height:a.height,O:1E3*a.O,xS:"24"};this.dxa.J4(d).then(function(a){return c.Pc=Object.assign({},a,d);})["catch"](function(a){return b.log.error("Error calling MediaCapabilities API",a);});}return c;};l=b;l=g.__decorate([a.L(),g.__param(0,a.l(f.tga)),g.__param(1,a.l(h.kb))],l);d.NMa=l;},function(g,d,a){var f,h;function b(a){this.navigator=a;this.exa="mediaCapabilities"in this.navigator&&"decodingInfo"in this.navigator.mediaCapabilities;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(37);b.prototype.J4=function(a){return this.exa?this.navigator.mediaCapabilities.decodingInfo({type:"media-source",video:{contentType:a.contentType,width:a.width,height:a.height,bitrate:a.O,framerate:a.xS}}).then(function(a){return{TKb:a.supported,crb:a.smooth,Slb:a.powerEfficient};}):Promise.reject("MediaCapabilities not supported");};h=b;h=g.__decorate([f.L(),g.__param(0,f.l(a.VA))],h);d.MMa=h;},function(g,d,a){var f,h;function b(a,b,d,g){a=f.xm.call(this,a,b,d)||this;a.Pg=g;a.type=h.Oj.Gia;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(128);h=a(29);ba(b,f.xm);b.prototype.DJ=function(){return Promise.resolve({SUPPORTS_SECURE_STOP:this.Pg.di.toString()});};d.OQa=b;},function(g,d,a){var f,h,l;function b(a,b,d,g,l,p){a=f.xm.call(this,a,b,d)||this;a.pn=g;a.Ko=l;a.Ta=p;a.type=h.Oj.zX;a.log=a.Ko.ib("ChromeVideoCapabilityDetector");return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(128);h=a(29);l=a(3);ba(b,f.xm);b.prototype.Iq=function(a){switch(a){case h.Hh.pp:return this.jsb;default:return Promise.resolve(!1);}};b.prototype.qD=function(){var a;a=this;return this.Iq(h.Hh.pp).then(function(a){return a?h.Hh.pp:void 0;}).then(function(b){return a.sI(b);});};b.prototype.r1=function(a){return this.$v=a;};b.prototype.MM=function(){var a;if(this.$v){a=this.qua&&this.rua&&this.qua.sd(this.rua).fa(l.na);this.$v.itshdcp=JSON.stringify({hdcp1:this.Fs,time1:a});}};na.Object.defineProperties(b.prototype,{fk:{configurable:!0,enumerable:!0,get:function(){this.gxa||(this.gxa=this.pn.AJ().then(function(a){return a.createMediaKeys();}));return this.gxa;}},jsb:{configurable:!0,enumerable:!0,get:function(){var a;a=this;this.Hba||(this.config().m7a?this.Hba=this.fk.then(function(b){if(b&&b.getStatusForPolicy)return a.rua=a.Ta.Qe,b.getStatusForPolicy({minHdcpVersion:"1.4"}).then(function(b){a.qua=a.Ta.Qe;a.Fs=b;a.log.trace("hdcpStatus: "+a.Fs);return"usable"===a.Fs;});a.Fs="not available";a.log.trace("hdcpStatus: "+a.Fs);return!1;})["catch"](function(b){a.Fs="exception";a.log.error("Exception in supportsHdcpLevel",{hdcpStatus:a.Fs},b);return!1;}).then(function(b){a.MM();return b;}):(this.Fs="not enabled",this.log.trace("hdcpStatus: "+this.Fs),this.MM(),this.Hba=Promise.resolve(!1)));return this.Hba;}}});d.VGa=b;},function(g,d,a){var f,h,l,c,k,q,n,m,r,A,K,x,I,G,N,B,S,F,D;function b(a,b,c,d,f,g,k){a=h.xm.call(this,a,b,c)||this;a.la=d;a.Ta=f;a.Ko=g;a.he=k;a.type=l.Oj.Zw;a.FF="hvc1";a.qGa="avc1";a.aza={};a.log=a.Ko.ib("MicrosoftVideoCapabilityDetector");a.vF[l.ad.mp]=m.ye.QF;a.mrb();a.nM&&a.config().Nhb?a.J6a=a.e4a():(a.J6a=Promise.resolve(""),a.config().Phb?a.i4a():a.config().Ohb&&a.h4a());return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(66);h=a(128);l=a(29);g=a(97);c=a(136);k=a(86);q=a(3);n=a(231);m=a(129);r=a(221);A="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8".split(" ");K="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=3840 display-res-y=2160 display-bpc=8".split(" ");x="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1".split(" ");I="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1".split(" ");G="decode-res-x=1920 decode-res-y=1080 decode-bpc=10 decode-bitrate=5800 decode-fps=30 display-res-x=1920 display-res-y=1080 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");N="decode-res-x=3840 decode-res-y=2160 decode-bpc=10 decode-bitrate=16000 decode-fps=30 display-res-x=2560 display-res-y=1440 display-bpc=8 hdr=1 ext-profile=dvhe.05".split(" ");B=["hdcp=1"];S=["hdcp=2"];F=new g.kx();D=new n.pX();ba(b,h.xm);b.prototype.Iq=function(a){switch(a){case l.Hh.pp:return this.ICa();case l.Hh.Tw:return this.oL;default:return Promise.resolve(!1);}};b.prototype.nD=function(){return this.nM?this.zdb?this.ICa().then(function(a){return Promise.resolve(a?c.jb.jd:c.jb.tG);}):Promise.resolve(c.jb.tG):this.ksb?Promise.resolve(c.jb.tG):Promise.resolve(c.jb.sp);};b.prototype.oM=function(){return this.isb();};b.prototype.qM=function(){return this.nM&&this.KCa()?this.oL:Promise.resolve(!1);};b.prototype.mM=function(){return this.hsb();};b.prototype.r1=function(a){this.$v=a;Object.assign(this.$v,this.aza);a.itshwdrm=this.nM;a.itsqhd=this.JCa();a.itshevc=this.KCa();a.itshdr=this.oM();a.itsdv=this.mM();return a;};b.prototype.BH=function(a,b){(this.$v?this.$v:this.aza)[a]=b;};b.prototype.qD=function(){var a;a=this;return this.Iq(l.Hh.Tw).then(function(b){return b?a.sI(l.Hh.Tw):a.Iq(l.Hh.pp).then(function(b){return b?a.sI(l.Hh.pp):a.sI(void 0);});});};b.prototype.DJ=function(){return this.nD().then(function(a){return a===c.jb.jd?{DEVICE_SECURITY_LEVEL:"3000"}:void 0;});};b.prototype.L4=function(a){var b;b=this;return a.filter(function(a){var d,g;for(var d=P(b.xq),f=d.next();!f.done;f=d.next())if(f.value.test(a))return!0;d=P(b.gm);for(f=d.next();!f.done;f=d.next())if(f.value.test(a))return!1;a=b.C$[a];d=[];g=c.jb.sp;if(a)return b.is.vi(a)?f=a:(d=a.ed,f=a.te,g=a.ve),b.Mu(g,f,d);});};b.prototype.jy=function(){var a;a=h.xm.prototype.jy.call(this);a[f.aa.EG]="vp09.00.11.08.02";a[f.aa.FG]="vp09.00.11.08.02";a[f.aa.GG]="vp09.00.11.08.02";a[f.aa.oY]={te:"hev1.2.6.L90.B0",ve:c.jb.jd,ed:A};a[f.aa.rY]={te:"hev1.2.6.L93.B0",ve:c.jb.jd,ed:A};a[f.aa.uY]={te:"hev1.2.6.L120.B0",ve:c.jb.jd,ed:A};a[f.aa.xY]={te:"hev1.2.6.L123.B0",ve:c.jb.jd,ed:A};a[f.aa.TF]={te:"hev1.2.6.L150.B0",ve:c.jb.jd,ed:A};a[f.aa.UF]={te:"hev1.2.6.L153.B0",ve:c.jb.jd,ed:A};a[f.aa.pY]={te:"hev1.2.6.L90.B0",ve:c.jb.jd,ed:A};a[f.aa.sY]={te:"hev1.2.6.L93.B0",ve:c.jb.jd,ed:A};a[f.aa.vY]={te:"hev1.2.6.L120.B0",ve:c.jb.jd,ed:A};a[f.aa.yY]={te:"hev1.2.6.L123.B0",ve:c.jb.jd,ed:A};a[f.aa.zY]={te:"hev1.2.6.L150.B0",ve:c.jb.jd,ed:A};a[f.aa.AY]={te:"hev1.2.6.L153.B0",ve:c.jb.jd,ed:A};a[f.aa.JN]={te:"hev1.2.6.L90.B0",ve:c.jb.jd,ed:x};a[f.aa.KN]={te:"hev1.2.6.L93.B0",ve:c.jb.jd,ed:x};a[f.aa.LN]={te:"hev1.2.6.L120.B0",ve:c.jb.jd,ed:x};a[f.aa.MN]={te:"hev1.2.6.L123.B0",ve:c.jb.jd,ed:I};a[f.aa.jY]={te:"hev1.2.6.L150.B0",ve:c.jb.jd,ed:I};a[f.aa.lY]={te:"hev1.2.6.L153.B0",ve:c.jb.jd,ed:I};a[f.aa.tN]={te:"hev1.2.6.L90.B0",ve:c.jb.jd,ed:G};a[f.aa.uN]={te:"hev1.2.6.L93.B0",ve:c.jb.jd,ed:G};a[f.aa.vN]={te:"hev1.2.6.L120.B0",ve:c.jb.jd,ed:G};a[f.aa.wN]={te:"hev1.2.6.L123.B0",ve:c.jb.jd,ed:N};a[f.aa.xN]={te:"hev1.2.6.L150.B0",ve:c.jb.jd,ed:N};a[f.aa.yN]={te:"hev1.2.6.L153.B0",ve:c.jb.jd,ed:N};return a;};b.prototype.Mu=function(a,b,c){a=r.$w.lR(a,b,c);return this.hs(a);};b.prototype.JCa=function(){return this.Mu(c.jb.jd,this.FF,A);};b.prototype.isb=function(){return this.Mu(c.jb.jd,this.FF,x);};b.prototype.hsb=function(){return this.Mu(c.jb.jd,this.FF,G);};b.prototype.KCa=function(){return this.Mu(c.jb.jd,this.FF,K);};b.prototype.ICa=function(){var a;a=this;return this.oL.then(function(b){return b?Promise.resolve(b):a.Kza;});};b.prototype.MM=function(){this.$v&&(this.$v.itshdcp=JSON.stringify({hdcp1:this.oua,time1:this.$Ca-this.uCa,hdcp2:this.pua,time2:this.aDa-this.vCa}));};b.prototype.mrb=function(){var a;a=this;this.nM?(this.q$=new k.bj(),this.r$=new k.bj(),this.Kza=k.Ca.from(this.q$).Zba().then(function(a){return"probably"===a;}),this.oL=k.Ca.from(this.r$).Zba().then(function(a){return"probably"===a;}),this.bCa(this.r$,this.config().Rhb),this.kza(this.sab.bind(this),this.r$),this.oL.then(function(b){b||(a.bCa(a.q$,a.config().Qhb),a.kza(a.rab.bind(a),a.q$));})):(this.Kza=Promise.resolve(!0),this.oL=Promise.resolve(!1));};b.prototype.kza=function(a,b){k.Ca.pt(0,this.config().Shb).map(function(){return a();}).bM(function(a){return"maybe"===a;}).map(function(a){b.next(a);b.complete();}).yM(k.Ca.from(b)).Zba();};b.prototype.bCa=function(a,b){this.la.cg(q.zb(b),function(){a.next("timeout");a.complete();});};b.prototype.rab=function(){var a;a=r.$w.lR(c.jb.tG,this.qGa,B).split("|");this.oua=r.$w.Gba(a[0],a[1]);this.$Ca=this.Ta.Qe.fa(q.na);this.uCa=this.uCa||this.$Ca;this.MM();return this.oua;};b.prototype.sab=function(){var a;a=r.$w.lR(c.jb.jd,this.FF,S).split("|");this.pua=r.$w.Gba(a[0],a[1]);this.aDa=this.Ta.Qe.fa(q.na);this.vCa=this.vCa||this.aDa;this.MM();return this.pua;};b.prototype.e4a=function(){var a;a=this;return this.m3(c.jb.jd,'<PlayReadyCDMData type="DriverInfo"><DriverInfo version="1.0"><ServerCert>Q0hBSQAAAAEAAAUMAAAAAAAAAAJDRVJUAAAAAQAAAfwAAAFsAAEAAQAAAFhr+y4Ydms5rTmj6bCCteW2AAAAAAAAAAAAAAAJzZtwNxHterM9CAoJYOM3CF9Tj0d9KND413a+UtNzRTb/////AAAAAAAAAAAAAAAAAAAAAAABAAoAAABU8vU0ozkqocBJMVIX2K4dugAAADZodHRwOi8vbnJkcC5uY2NwLm5ldGZsaXguY29tL3Jtc2RrL3JpZ2h0c21hbmFnZXIuYXNteAAAAAABAAUAAAAMAAAAAAABAAYAAABcAAAAAQABAgAAAAAAglDQ2GehCoNSsOaaB8zstNK0cCnf1+9gX8wM+2xwLlqJ1kyokCjt3F8P2NqXHM4mEU/G1T0HBBSI3j6XpKqzgAAAAAEAAAACAAAABwAAAEgAAAAAAAAACE5ldGZsaXgAAAAAH1BsYXlSZWFkeSBNZXRlcmluZyBDZXJ0aWZpY2F0ZQAAAAAABjIwMjQ4AAAAAAEACAAAAJAAAQBAU73up7T8eJYVK4UHuKYgMQIRbo0yf27Y5EPZRPmzkx1ZDMor7Prs77CAOU9S9k0RxpxPnqUwAKRPIVCe0aX2+AAAAgBb65FSx1oKG2r8AxQjio+UrYGLhvA7KMlxJBbPXosAV/CJufnIdUMSA0DhxD2W3eRLh2vHukIL4VH9guUcEBXsQ0VSVAAAAAEAAAL8AAACbAABAAEAAABYyTlnSi+jZfRvYL0rk9sVfwAAAAAAAAAAAAAABFNh3USSkWi88BlSM6PZ2gMuceJFJ9hzz0WzuCiwF9qv/////wAAAAAAAAAAAAAAAAAAAAAAAQAFAAAADAAAAAAAAQAGAAAAYAAAAAEAAQIAAAAAAFvrkVLHWgobavwDFCOKj5StgYuG8DsoyXEkFs9eiwBX8Im5+ch1QxIDQOHEPZbd5EuHa8e6QgvhUf2C5RwQFewAAAACAAAAAQAAAAwAAAAHAAABmAAAAAAAAACATWljcm9zb2Z0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAUGxheVJlYWR5IFNMMCBNZXRlcmluZyBSb290IENBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAMS4wLjAuMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAIAAAAkAABAECsAomwQgNY0bm6U6Au9JRvwjbNnRzmVkZi+kg7npnRQ2T+4LgyrePBdBRQ3qb/jxXkn++4sOFa7vjRpFBzV0MMAAACAIZNYc/yJW5CLFaLPCgAHPs+FSdlhYS6BSG3mxgo2TbeHYJqj8Pm5/p6kNXKKUbx9kou+59dz/5+Q060QpP6xas=</ServerCert></DriverInfo></PlayReadyCDMData>').then(function(b){a.log.debug("DriverInfo: "+b);return b;})["catch"](function(b){a.BH("itsDriverInfo","exception");a.log.error("DriverInfo exception",b);throw b;});};b.prototype.h4a=function(){var a;a=this;this.m3(c.jb.sp,'<PlayReadyCDMData type="HardwareInfo"><HardwareInfo version="1.0"></HardwareInfo></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.he.decode(b));a.BH("itsHardwareInfo",c);a.log.debug("HardwareInfo: "+c);return b;})["catch"](function(b){a.BH("itsHardwareInfo","exception");a.log.error("HardwareInfo exception",b);throw b;});};b.prototype.i4a=function(){var a;a=this;this.m3(c.jb.sp,'<PlayReadyCDMData type="ResetHardwareDRMDisabled"><ResetHardwareDRMDisabled version="1.0"></ResetHardwareDRMDisabled></PlayReadyCDMData>').then(function(b){var c;c=String.fromCharCode.apply(void 0,a.he.decode(b));a.BH("itsHardwareReset",c);a.log.debug("ResetHardwareDRMDisabled: "+c);return b;})["catch"](function(b){a.BH("itsHardwareReset","exception");a.log.error("ResetHardwareDRMDisabled exception",b);throw b;});};b.prototype.m3=function(a,b){var c;c=this;return new Promise(function(d,f){var p,m,t;function g(a){try{n(a.target,"Unexpectedly got an mskeyerror event: 0x"+D.rJ(a&&a.target&&a.target.error&&a.target.error.VKb||0,4));}catch(Ha){n(a.target,Ha);}}function h(a){n(a.target,"Unexpectedly got an mskeyadded event");}function k(a){var b;try{b=c.F4(a.message,"PlayReadyKeyMessage","Challenge");l(a.target);d(b);}catch(Ga){n(a.target,Ga);}}function n(a,d){c.log.error("PlayReadyChallenge error",{cdmData:b});l(a);f(d);}function l(a){a.removeEventListener("mskeymessage",k);a.removeEventListener("mskeyadded",h);a.removeEventListener("mskeyerror",g);p&&p.cancel();}try{m=new Uint8Array(F.Orb(b));t=new M.MSMediaKeys(a).createSession("video/mp4",new Uint8Array(0),m);t.addEventListener("mskeymessage",k);t.addEventListener("mskeyadded",h);t.addEventListener("mskeyerror",g);p=c.la.cg(q.zb(1E3),function(){n(t,Error("timeout"));});}catch(Aa){f(Aa);}});};b.prototype.F4=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return;g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}if(c=c.match(new RegExp(f)))return c[1];};na.Object.defineProperties(b.prototype,{zdb:{configurable:!0,enumerable:!0,get:function(){return this.config().l7a&&(!this.config().Thb||this.JCa());}},nM:{configurable:!0,enumerable:!0,get:function(){try{return this.hs(c.jb.jd);}catch(Q){return!1;}}},ksb:{configurable:!0,enumerable:!0,get:function(){try{return this.hs(c.jb.tG);}catch(Q){return!1;}}}});b.nF='video/mp4;codecs="{0},mp4a";';d.zMa=b;},function(g,d,a){var f,h,l,c,k;function b(a,b,d,g){a=c.MX.call(this,a,b)||this;a.is=d;a.platform=g;a.type=f.Fw.Zw;return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(29);h=a(66);l=a(136);c=a(402);k=a(221);ba(b,c.MX);b.prototype.lM=function(){return this.config().TI&&this.Mu(l.jb.sp,"avc1,mp4a",["audio-endpoint-codec=DD+JOC"]);};b.prototype.jy=function(){var a;a={};a[h.nl.NN]="mp4a.40.2";a[h.nl.mY]="mp4a.40.5";"browser"===this.platform.T3?this.config().TI&&(a[h.nl.rN]={te:"avc1",ve:l.jb.sp,ed:["audio-endpoint-codec=DD+JOC"]},a[h.nl.sN]={te:"avc1",ve:l.jb.sp,ed:["audio-endpoint-codec=DD+JOC"]}):(this.config().l4&&(a[h.nl.rN]="ec-3"),this.config().k4&&(a[h.nl.BX]="ec-3"),this.config().TI&&(a[h.nl.sN]={te:"avc1",ve:l.jb.sp,ed:["audio-endpoint-codec=DD+JOC"]}));return a;};b.prototype.L4=function(a){var b;b=this;return a.filter(function(a){var c,f;for(var c=P(b.xq),d=c.next();!d.done;d=c.next())if(d.value.test(a))return!0;c=P(b.gm);for(d=c.next();!d.done;d=c.next())if(d.value.test(a))return!1;a=b.C$[a];c=[];f=l.jb.sp;if(a)return b.is.vi(a)?d=a:(c=a.ed,d=a.te,f=a.ve),b.Mu(f,d,c);});};b.prototype.Mu=function(a,b,c){a=k.$w.lR(a,b,c);return this.hs(a);};d.eNa=b;},function(g,d,a){var f,h,l,c,k,q,n,m,r,A,K,x,I,G,N,B,S,F,D;function b(a,b,c,d,f,g,h,k,n,l,p){this.yva=a;this.cast=b;this.config=c;this.la=d;this.Ta=f;this.is=g;this.pn=h;this.Ko=k;this.Pg=n;this.platform=l;this.he=p;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(29);l=a(223);c=a(163);k=a(222);q=a(823);n=a(822);m=a(128);r=a(402);A=a(30);K=a(41);x=a(20);I=a(821);G=a(118);N=a(5);B=a(820);S=a(64);F=a(67);a=a(40);b.prototype.Q3a=function(a){var b;b=this.yva.Npa();switch(a){case h.Fw.Zw:return new q.eNa(this.config,b,this.is,this.platform);default:return new r.MX(this.config,b);}};b.prototype.D4a=function(a){var b;b=this.yva.Npa();switch(a){case h.Oj.wX:a=new k.Dda(this.config,b,this.is,this.cast);break;case h.Oj.zX:a=new I.VGa(this.config,b,this.is,this.pn,this.Ko,this.Ta);break;case h.Oj.Zw:a=new n.zMa(this.config,b,this.is,this.la,this.Ta,this.Ko,this.he);break;case h.Oj.Gia:a=new B.OQa(this.config,b,this.is,this.Pg);break;default:a=new m.xm(this.config,b,this.is);}return a;};D=b;D=g.__decorate([f.L(),g.__param(0,f.l(l.Hfa)),g.__param(1,f.l(k.yX)),g.__param(2,f.l(c.AN)),g.__param(3,f.l(A.hg)),g.__param(4,f.l(K.Kj)),g.__param(5,f.l(x.de)),g.__param(6,f.l(G.Yw)),g.__param(7,f.l(N.kb)),g.__param(8,f.l(S.Mn)),g.__param(9,f.l(F.Rn)),g.__param(10,f.l(a.Jj))],D);d.LGa=D;},function(g,d,a){var f,h,l,c,k,q;function b(a,b,c){this.config=a;this.nqa=b;this.cast=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(223);l=a(163);c=a(29);k=a(222);q=a(221);b.prototype.Npa=function(){switch(this.config().WW){case c.Oj.wX:return k.Dda.h3(this.nqa,this.cast);case c.Oj.Zw:return q.$w.h3(this.config);default:return this.nqa;}};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(l.AN)),g.__param(1,f.l(h.Kha)),g.__param(2,f.l(k.yX))],a);d.vLa=a;},function(g,d,a){var f,h,l,c,k,q,n,m;function b(a,b,d){this.CR=a;this.Da=b;this.aF=d;this.lYa="video/mp4;codecs={0}";this.OSa="audio/mp4;codecs={0}";a=this.CR.vJ(h.ad.mp);this.kYa=c.ye.Ppa(a);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(29);l=a(1);c=a(129);k=a(20);q=a(229);n=a(405);m=a(8);b.prototype.uI=function(a){a=this.CR.wab(a);a=this.Da.Ol(a)?a:h.ad.yG;return this.aF.format(this.lYa,this.kYa[a]);};b.prototype.oI=function(a){return 0===a.length?this.aF.format(this.OSa,c.ye.dX):n.gda[a[0].Pe]===f.TEa?m.Vw:m.fMa;};a=f=b;a.TEa="AAC";a=f=g.__decorate([l.L(),g.__param(0,l.l(h.NX)),g.__param(1,l.l(k.de)),g.__param(2,l.l(q.WZ))],a);d.cRa=a;},function(g,d,a){var f,h,l,c,k,q;function b(a,b,c){this.config=a;this.Hoa=b;this.ulb=c;this.zmb=this.u4a();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(29);h=a(163);l=a(1);c=a(66);k=a(407);a=a(406);b.prototype.$bb=function(){return this.Bsa().Pta();};b.prototype.acb=function(){return this.$p().Pta();};b.prototype.Bsa=function(){this.R1&&this.R1.type==this.config().S1||(this.R1=this.Hoa.Q3a(this.config().S1));return this.R1;};b.prototype.$p=function(){this.VW&&this.VW.type==this.config().WW||(this.VW=this.Hoa.D4a(this.config().WW),this.VW.r1(this.ulb.jab()));return this.VW;};b.prototype.wab=function(a){var d;if(!a||!a.length)return f.ad.IN;a=this.h9a(a);for(var b=[f.ad.yG,f.ad.IN,f.ad.tO,f.ad.br,f.ad.mp,f.ad.wA,f.ad.Vt,f.ad.Fh],c=b.length;c--;){d=b[c];if((0,this.zmb[d])(a))return d;}return f.ad.yG;};b.prototype.Iq=function(a){return this.$p().Iq(a);};b.prototype.hs=function(a){return this.$p().hs(a);};b.prototype.nD=function(){return this.$p().nD();};b.prototype.oM=function(){return this.$p().oM();};b.prototype.lM=function(){return this.Bsa().lM();};b.prototype.mM=function(){return this.$p().mM();};b.prototype.qM=function(){return this.$p().qM();};b.prototype.vJ=function(a){return this.$p().vJ(a);};b.prototype.qD=function(){return this.$p().qD();};b.prototype.DJ=function(){return this.$p().DJ();};b.prototype.h9a=function(a){var b;b={};a.filter(function(a){return"video"===a.type;}).forEach(function(a){b[a.Pe]="";});return Object.keys(b);};b.prototype.u4a=function(){var a;a={};a[f.ad.Fh]=function(a){return a.some(function(a){return-1<a.indexOf("av1");});};a[f.ad.wA]=function(a){return a.some(function(a){return-1<a.indexOf("hpl");});};a[f.ad.Vt]=function(a){return a.some(function(a){return-1<a.indexOf("vp9");});};a[f.ad.mp]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-dv");});};a[f.ad.br]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-hdr");});};a[f.ad.tO]=function(a){return a.some(function(a){return-1<a.indexOf("hevc-main10-L")||-1<a.indexOf("hevc-main-L");});};a[f.ad.IN]=function(a,b){var c;c={};a.forEach(function(a){return c[a]=1;});a=P(b);for(b=a.next();!b.done;b=a.next())if(c[b.value])return!0;}.bind(null,[c.aa.HN]);a[f.ad.yG]=function(){return!0;};return a;};q=b;q=g.__decorate([l.L(),g.__param(0,l.l(h.AN)),g.__param(1,l.l(a.Ada)),g.__param(2,l.l(k.Dea))],q);d.AIa=q;},function(g,d,a){var b,f,h,l,c,k,q,n,m,r,A,K,x,I,G,N,B,S,F,D;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(29);f=a(17);h=a(827);l=a(163);c=a(113);k=a(826);q=a(223);n=a(825);m=a(407);r=a(406);A=a(824);K=a(222);x=a(9);I=a(401);G=a(819);N=a(400);B=a(818);S=a(220);F=a(817);D=a(399);d.CR=new g.Wb(function(a){a(c.dB).to(k.cRa).$();a(b.NX).to(h.AIa).$();a(q.Hfa).to(n.vLa).$();a(r.Ada).to(A.LGa).$();a(q.Kha).Eh({isTypeSupported:x.SA&&x.SA.isTypeSupported});a(K.yX).Eh("undefined"!==typeof cast?cast:null);a(m.Dea).lA(function(){return{jab:function(){return M._cad_global.platformExtraInfo;}};});a(l.AN).lA(function(a){return a.$b.get(f.gd);});a(I.tga).to(G.MMa).$();a(N.sga).to(B.NMa).$();a(S.Cea).to(F.EJa).$();a(D.dia).Eh(M);});},function(g,d,a){function b(a){this.B6a=void 0===a?10:a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b=g.__decorate([a.L()],b);d.ARa=b;},function(g,d,a){var f,h;function b(a){this.ctb=a;this.BW={};}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(224);b.prototype.C$a=function(){var a,b,d;a=[];for(b in this.BW){d=this.BW[b];a.push({Ou:Number(b),gA:d.zo().gA,e4:d.zo().e4});}return a;};b.prototype.vQ=function(a){var b,d;b=a.Ou;d=this.BW[b];d||(d=this.ctb(),this.BW[b]=d);d.vQ(a);};h=b;h=g.__decorate([f.L(),g.__param(0,f.l(a.a_))],h);d.SGa=h;},function(g,d,a){var f,h,l,c;function b(a){this.config=a;this.nba=h.sf;this.WE=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(34);l=a(3);a=a(409);b.prototype.zo=function(){var b;for(var a;0<this.WE.length;)a=this.WE.shift(),this.Uma(a);a=void 0===this.QI||void 0===this.ny?l.sf:this.ny.sd(this.QI);b=a.Bva()?0:this.nba.fa(h.yA)/a.fa(l.na);return{gA:Math.floor(b),e4:a.fa(l.na)};};b.prototype.vQ=function(a){this.nba=this.nba.add(a.size);this.WE.push(a.A6a);for(this.WE.sort(function(a,b){return a.start.Nk(b.start);});this.WE.length>this.config.B6a;)a=this.WE.shift(),this.Uma(a);};b.prototype.Uma=function(a){void 0===this.QI&&(this.QI=a.start);void 0!==this.ny&&0>this.ny.Nk(a.start)&&(this.QI=this.QI.add(a.start.sd(this.ny)));if(void 0===this.ny||0>this.ny.Nk(a.end))this.ny=a.end;};c=b;c=g.__decorate([f.L(),g.__param(0,f.l(a.Zia))],c);d.BRa=c;},function(g,d,a){var b,f,h,l,c,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(831);f=a(830);h=a(829);l=a(408);c=a(409);k=a(224);d.hA=new g.Wb(function(a){a(k.$ia).to(b.BRa);a(l.Eda).to(f.SGa).$();a(c.Zia).Eh(new h.ARa());a(k.a_).Kf(function(a){return function(){return a.$b.get(k.$ia);};});});},function(g,d,a){var f,h,l,c,k,q;function b(a,b,c,d,f,g,k,l,p,q,m,t,r,B,F,M){var n;n=this;this.Sd=a;this.Da=b;this.Ba=c;this.Gb=f;this.Qo=k;this.jI=l;this.AYa=p;this.config=q;this.ug=t;this.M=r;this.j=m.create(r,B,F);this.j.background=!0;this.j.Aa=M;this.log=d.ib("VideoPlayer",this.j);this.Sya=[];this.ended=!1;this.aN();this.j.state.addListener(function(a){a.newValue===h.lb.$c&&n.Bd(h.rb.z7,{movieId:r});});this.j.Za.Vf&&(this.lC=g.S3a(this,this.j,this.ug),this.j.addEventListener(h.U.QL,function(a){n.Bd(h.rb.wpb,{segmentId:a.segmentId});}));}Object.defineProperty(d,"__esModule",{value:!0});f=a(2);h=a(15);l=a(3);c=a(9);k=a(77);q=a(18);b.prototype.isReady=function(){return this.j.state.value===h.lb.$c;};b.prototype.$ab=function(){return this.j.M;};b.prototype.r6=function(){return this.j.oa;};b.prototype.Cy=function(){return this.j.If;};b.prototype.Oy=function(){return this.j.Bz.value;};b.prototype.Ceb=function(){return this.j.paused.value;};b.prototype.seb=function(){return this.ended;};b.prototype.pj=function(){var a;a=this.j.n2.value;return a?{networkStalled:!!a.lW,stalled:!!a.lW,progress:a.Ni,progressRollback:!!a.Cmb}:null;};b.prototype.getError=function(){var a;a=this.j.Wh;return a?a.$ba():null;};b.prototype.Wl=function(){return this.j.bc.value;};b.prototype.u$a=function(){var a;a=(this.tD()||0)+this.j.Gsa();return Math.min(a,this.B5());};b.prototype.tD=function(){return this.j.rD();};b.prototype.B5=function(){return this.j.hy.fa(l.na);};b.prototype.vcb=function(){return this.j.uF?{width:this.j.uF.width,height:this.j.uF.height}:null;};b.prototype.I$a=function(){var f;if(this.j.Pq){for(var a,b=0;b<this.j.Pq.length;b++)for(var c=this.j.Pq[b],d=0;d<c.mc.length;d++){f=c.mc[d];this.Da.Pf(f.F4a)&&this.Da.Pf(f.Tpa)&&this.Da.Pf(f.Spa)&&this.Da.Pf(f.Rpa)&&0<f.Tpa&&(f=f.Rpa/f.Spa,a=this.Da.Pf(a)?Math.min(a,f):f);}return a;}};b.prototype.S$a=function(){var a;a=this;return{addEventListener:this.j.U3.addEventListener,removeEventListener:this.j.U3.removeEventListener,getModel:function(){return a.j.U3.QIb;},getTime:function(){return a.Ba.ac().fa(l.na);},getGroups:function(){var b;b=a.j.cV;return b?b.qab():[];}};};b.prototype.h$a=function(){var a;a=this;return this.j.bo?this.j.bo.map(function(b){return a.vD(b);}).filter(function(a){return null!==a;}):[];};b.prototype.Sta=function(){var a;a=this;return null===this.j.Ec.value?[]:this.j.Ec.value.Hj.map(function(b){return a.vD(b);}).filter(function(a){return null!==a;});};b.prototype.Beb=function(){return this.j.muted.value;};b.prototype.xcb=function(){return this.j.volume.value;};b.prototype.g$a=function(){return this.vD(this.j.Ec.value);};b.prototype.Rta=function(){return this.vD(this.j.wc.value);};b.prototype.leb=function(){return!!this.j.background;};b.prototype.kqb=function(a){this.j.muted.set(!!a);};b.prototype.zqb=function(a){this.j.volume.set(this.hya(a,1));};b.prototype.oqb=function(a){this.j.playbackRate.set(this.hya(a,2));};b.prototype.Xpb=function(a){var b,c;b=this;c=this.j.bo.find(function(c){return b.vD(c)===a;});c?this.j.Ec.set(c):this.log.error("Invalid setAudioTrack call");};b.prototype.XBa=function(a){var d;if(null!==this.j.Ec.value){for(var b=this.j.Ec.value.Hj,c=0;c<b.length;c++){d=b[c];if(!a&&null===d){this.j.wc.set(null);return;}if(this.vD(d)===a){this.log.info("Setting Timed Text, profile: "+d.profile);this.j.wc.set(d);return;}}this.log.error("Invalid setTimedTextTrack call");}};b.prototype.JBa=function(a){this.j.background=a;};b.prototype.fM=function(){this.j.fM();};b.prototype.addEventListener=function(a,b,c){this.Gb.addListener(a,b,c);};b.prototype.removeEventListener=function(a,b){this.Gb.removeListener(a,b);};b.prototype.ew=function(){};b.prototype.load=function(){var a;a=this;this.loaded||(this.loaded=!0,this.j.load(function(b,c){try{a.Bd(h.rb.jgb,void 0,!0);b.Aa&&(b.Aa.watermarkInfo&&a.Bd(h.rb.dvb,b.Aa.watermarkInfo,!0),b.Aa.choiceMap&&a.Bd(h.rb.vpb,{segmentMap:b.Aa.choiceMap},!0));c({X:!0});}catch(A){c({Y:f.H.Dg,Oa:a.Sd.od(A)});}}));};b.prototype.close=function(a){var b;b=this;this.$oa||(this.$oa=new Promise(function(c){a?b.j.md(a,c):b.j.close(c);}));return this.$oa;};b.prototype.play=function(){this.j.Gl?this.j.fireEvent(h.U.ZAa):(this.load(),this.j.paused.value&&(this.j.paused.set(!1),this.j.fireEvent(h.U.iEa)));};b.prototype.pause=function(){this.load();this.j.paused.value||(this.j.paused.set(!0),this.j.fireEvent(h.U.Gub));};b.prototype.seek=function(a,b,c){this.j.qg?this.j.qg.seek(a,b,c):this.j.Zx=a;};b.prototype.zlb=function(a){return this.lC?(this.log.trace("Playing a segment",a),this.lC.play(a)):Promise.resolve();};b.prototype.Wmb=function(a){return this.lC?(this.log.trace("Queueing a segment",a),this.lC.Oi(a)):Promise.resolve();};b.prototype.Nq=function(a,b){return this.lC?(this.log.trace("Updating next segment weights",a,b),this.lC.Nq(a,b)):Promise.resolve();};b.prototype.JM=function(){this.j.JM();};b.prototype.SS=function(){var a;a=this.j.En.SS();return{bounds:a.ZH,margins:a.nn,size:a.size,visibility:a.visibility};};b.prototype.YL=function(a){var b,c,d;b=a.bounds;c=a.margins;d=a.size;a=a.visibility;this.j.CM&&(b&&this.j.CM.aba(b),c&&this.j.CM.bba(c),"boolean"===typeof a&&this.j.CM.cba(a));this.j.En&&d&&this.j.En.uqb(d);};b.prototype.YBa=function(a){this.j.gp=a;};b.prototype.lcb=function(a){return this.j.st&&this.j.st.oab(a)||null;};b.prototype.b$a=function(){return this.Sd.$k({playerver:this.config.version,jssid:this.config.$eb,groupName:this.config.config.uv,xid:this.j.oa,pbi:this.j.index},this.config.vlb,{prefix:"pi_"});};b.prototype.Tdb=function(a){this.j.md(this.ug(f.K.lJa,f.H.ki,a));};b.prototype.Wfb=function(a,b,c){if(!this.Da.wna(a))throw Error("invalid url");this.Sya.push({url:a,name:b,k_a:c});this.Hza();};b.prototype.Lta=function(){var a,b,c,d,f,g,h,k;a={};b=this.j.oW;try{if(this.j.Wh&&(a.errorCode=this.j.Wh.FR,a.errorType=b?"endplay":"startplay"),a.playdelay=q.Ul(this.j.Eoa()),a.xid=this.j.oa,this.j.Aa&&this.Da.vi(this.j.Aa.packageId)&&(a.packageId=Number(this.j.Aa.packageId)),a.auth=this.j.j$a(),a.hdr=this.j.Eab(),b){a.totaltime=this.j.el?this.wy(this.j.el.EJ()):0;a.abrdel=this.j.el?this.j.el.Csa():0;c=this.j.qg;d=c?c.By():null;this.Da.Pf(d)&&(a.totdfr=d);d=c?c.wJ():null;this.Da.Pf(d)&&(a.totcfr=d);f=c?c.Fab():null;f&&(a.rbfrs_decoder=f.w5a,a.rbfrs_network=f.Lib);a.rbfrs_delay=this.j.el?this.j.el.p7:0;a.init_vbr=this.j.sT;g=this.MS();this.Da.Ol(g)&&(a.pdltime=g);h=this.j.Fe.value;k=h&&h.stream;k&&(a.vbr=k.O,a.vdlid=k.Qc);a.bufferedTime=this.j.Gsa();}}catch(N){this.log.error("error capturing session summary",N);}return a;};b.prototype.YI=function(a){var b,c,d;b=this;if(this.Da.Pf(this.j.bc.value)){c=Object.assign({},this.Qo.create(this.j),{action:a});d=this.jI(k.ol.YI);return this.AYa().then(function(a){return d.vo(b.log,a.profile,b.j.Aa.nf,c);}).then(function(){return{success:!0};})["catch"](function(a){return{success:!1,errorCode:a.code,errorSubCode:a.Bc,errorExternalCode:a.Tf,errorData:a.data,errorDetails:a.LC};});}return Promise.resolve({success:!1});};b.prototype.vD=function(a){var b;if(null!==a){b=a.Nmb=a.Nmb||{trackId:a.fb,bcp47:a.Xj,displayName:a.displayName,trackType:a.Si,channels:a.Lk};a.fq&&(b.isImageBased=!0);this.Feb(a)&&(b.isNative=a.isNative);this.Geb(a)&&(b.isNoneTrack=a.fK(),b.isForcedNarrative=a.zT());return b;}return null;};b.prototype.Feb=function(a){return"undefined"!==typeof a.isNative;};b.prototype.Geb=function(a){return"undefined"!==typeof a.fK&&"undefined"!==typeof a.zT;};b.prototype.hya=function(a,b){return 0<=a?a<=b?a:b:0;};b.prototype.wy=function(a){return this.Da.Pf(a)?(a/1E3).toFixed(0):"";};b.prototype.Bd=function(a,b,c){b=b||{};b.target=this;this.Gb.Hb(a,b,!c);};b.prototype.aN=function(){var a;a=this;this.j.addEventListener(h.U.Pba,function(){a.Bd(h.rb.Zm);});this.j.addEventListener(h.U.iU,function(){a.Bd(h.rb.soa);});this.j.addEventListener(h.U.un,function(){a.Bd(h.rb.soa);});this.j.addEventListener(h.U.BD,function(b){a.Bd(h.rb.BD,{errorCode:b});});this.j.addEventListener(h.U.aoa,function(b){a.Bd(h.rb.l_a,b.j);});this.j.addEventListener(h.U.Gl,function(b){a.Bd(h.rb.m_a,b);});this.j.Bz.addListener(function(){a.Bd(h.rb.Mlb);});this.j.paused.addListener(function(){a.Bd(h.rb.Xkb);});this.j.muted.addListener(function(){a.Bd(h.rb.Dib);});this.j.volume.addListener(function(){a.Bd(h.rb.Zub);});this.j.uc.addListener(function(){a.PDa();});this.j.state.addListener(function(){a.PDa();});this.j.n2.addListener(function(b){a.ggb||a.j.state.value!=h.lb.$c||b.newValue||(a.ggb=!0,a.Bd(h.rb.loaded),setTimeout(function(){a.log.debug.bind(a.log,"summary ",a.Lta());}));a.Bd(h.rb.o2);});this.j.Ec.addListener(function(b){a.Bd(h.rb.QH);b.oldValue&&b.newValue&&b.oldValue.Hj==b.newValue.Hj||a.Bd(h.rb.jA);setTimeout(function(){var b;if(null!==a.j.Ec.value&&null!==a.j.wc.value){b=a.j.Ec.value.Hj;0<=b.indexOf(a.j.wc.value)||(a.log.info("Changing timed text track to match audio track"),a.j.wc.set(b[0]));}},0);});this.j.wc.addListener(function(b){b.oldValue&&b.newValue&&b.oldValue.fb==b.newValue.fb||a.Bd(h.rb.iF);});this.j.addEventListener(h.U.jA,function(){a.Bd(h.rb.jA);});this.j.addEventListener(h.U.HM,function(){a.Bd(h.rb.HM);});this.j.state.addListener(function(b){switch(b.newValue){case h.lb.$c:a.Bd(h.rb.Y6a);a.Bd(h.rb.Vub);a.Bd(h.rb.Vna);a.Bd(h.rb.jA);a.Bd(h.rb.igb);a.Hza();a.ivb();break;case h.lb.CLOSING:a.j.Wh&&a.Bd(h.rb.error,a.j.Wh.$ba());break;case h.lb.CLOSED:a.Bd(h.rb.closed),a.Gb.PC();}});};b.prototype.ivb=function(){var a;a=this;this.j.En.addEventListener("showsubtitle",function(b){a.Bd(h.rb.Uqb,b,!0);});this.j.En.addEventListener("removesubtitle",function(b){a.Bd(h.rb.Ynb,b,!0);});};b.prototype.Hza=function(){if(this.j.state.value==h.lb.$c){for(var a,b,c;b=this.Sya.shift();)a=this.j.En.q1(b.url,b.name),b.k_a&&(c=a);c&&this.j.wc.set(c);}};b.prototype.PDa=function(){var a;a=this.j.state.value==h.lb.$c&&this.j.uc.value==h.qb.$q;this.ended!==a&&(this.ended=a,this.Bd(h.rb.e8a));};b.prototype.MS=function(){var a,b;try{a=/playercore.*js/;b=c.er.getEntriesByType("resource").filter(function(b){return null!==a.exec(b.name);});if(b&&0<b.length)return JSON.stringify(Math.round(b[0].duration));}catch(y){}};d.rLa=b;},function(g,d,a){var f,h,l,c,k,q,n,m,r,A,K,x;function b(a){this.Vc=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(245);l=a(22);c=a(20);k=a(23);q=a(5);n=a(72);m=a(227);r=a(833);A=a(225);K=a(77);x=a(65);b.prototype.r4a=function(a,b,d,f,g,h,p){return new r.rLa(this.Vc.get(l.Ye),this.Vc.get(c.de),this.Vc.get(k.Je),this.Vc.get(q.kb),this.Vc.get(n.FN),this.Vc.get(m.RZ),this.Vc.get(A.BZ),this.Vc.get(K.WX),this.Vc.get(x.Wq),a,b,d,f,g,h,p);};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(h.Cfa))],a);d.lSa=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(410);f=a(834);d.Tub=new g.Wb(function(a){a(b.rja).to(f.lSa).$();});},function(g,d,a){var f,h;function b(a){this.config=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(17);b.prototype.Iza=function(a,b,d){var c;if(this.config().Ipb){c=a.metrics;d||(void 0===c?b.iq.transition({isBranching:b.Za.Vf||void 0,isPlaygraph:a.playlistSegment||void 0,srcxid:b.oa,srcmid:b.M,segment:a.segmentId,dataerror:"missingMetrics"}):b.iq.transition({isBranching:b.Za.Vf||void 0,isPlaygraph:a.playlistSegment||void 0,srcxid:b.oa,srcmid:b.M,segment:a.segmentId,srcsegment:c.srcsegment,srcsegmentduration:c.srcsegmentduration,srcoffset:c.srcoffset,seamlessRequested:c.seamlessRequested,transitionType:c.transitionType,delayToTransition:c.delayToTransition,durationOfTransition:c.durationOfTransition,atRequest:c.atRequest,atTransition:c.atTransition,discard:c.discard}));}};h=b;h=g.__decorate([f.L(),g.__param(0,f.l(a.gd))],h);d.QRa=h;},function(g,d,a){var h;function b(){}function f(a,b,d,f,g){this.debug=a;this.version=b;this.$eb=d;this.vlb=f;this.config=g;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);f.prototype.s5=function(){return this.config.koa;};f.prototype.Cta=function(){return this.config.Olb;};b.prototype.jv=function(a,b,d,g,h){return new f(a,b,d,g,h);};h=b;h=g.__decorate([a.L()],h);d.WQa=h;},function(g,d,a){var l,c,k,m;function b(a,b,c,d,f,g,h,l,p){var n;n=this;this.Pb=b;this.j=c;this.fE=d;this.Sv=f;this.la=g;this.CQ=h;this.ug=l;this.nA=p;this.Nz=function(){n.sq&&(n.sq.closed||n.sq.unsubscribe(),n.sq=void 0);};this.log=a.ib("SegmentManager",this.j);this.ff=new Map();this.iva=!0;this.j.Za.Vf&&(this.j.addEventListener(k.U.QL,function(a){return n.Zjb(a);}),this.j.addEventListener(k.U.closed,this.Nz));}function f(a,b){this.id=a;this.E2=b;}function h(a,b,d,f){return c.cc.call(this,a,d,void 0,void 0,void 0,b,void 0,f)||this;}Object.defineProperty(d,"__esModule",{value:!0});l=a(2);c=a(42);k=a(15);m=a(3);ba(h,c.cc);h.prototype.toString=function(){return this.code+"-"+this.Bc+" : "+this.message+"\n"+JSON.stringify(this.data);};f.prototype.toJSON=function(){return{id:this.id,contentStartPts:this.Cn,contentEndPts:this.ZC};};na.Object.defineProperties(f.prototype,{Cn:{configurable:!0,enumerable:!0,get:function(){return this.E2.startTimeMs;}},ZC:{configurable:!0,enumerable:!0,get:function(){return this.E2.endTimeMs;}},Pib:{configurable:!0,enumerable:!0,get:function(){return Object.keys(this.E2.next);}}});b.prototype.Zjb=function(a){var b,c;b=this;if(0===this.ff.size){c=this.j.FS();Object.keys(c).forEach(function(a){b.ff.set(a,new f(a,c[a]));});}this.ja=this.ff.get(a.segmentId);this.nA.Iza(a,this.j,this.iva);this.iva=!1;};b.prototype.play=function(a){this.Jz&&(this.Jz=void 0);this.Nz();this.log.trace("Playing segment",a);return this.nva(a)?this.ylb(a):this.bV(a);};b.prototype.Oi=function(a){this.log.trace("Queueing segment",a);return this.nva(a)?this.Vmb(a):this.Xmb(a);};b.prototype.Nq=function(a,b){var c,d;c=this;d=this.j.wb;if(!d)return Promise.reject(this.getError(l.K.jda,"ASE session manager is not yet initialized",l.H.oX,{segmentId:a,updates:b}));this.log.trace("Updating next segment weights",a,b);return new Promise(function(f,g){try{d.qca(a,b);c.j.fireEvent(k.U.Nq,{yg:a,lub:b});f();}catch(I){g(c.getError(l.K.jda,"updateNextSegmentWeights threw an exception",l.H.JFa,{segmentId:a,updates:b,error:I}));}});};b.prototype.nva=function(a){return this.ja?void 0!==this.j.FS()[this.ja.id].next[a]:!1;};b.prototype.Dta=function(){if(this.j.wb)return this.j.wb.X5().Pd;};b.prototype.tbb=function(){if(this.j.wb)return this.j.wb.X5().id;};b.prototype.E$a=function(a){if(this.j.wb)return(a=this.j.wb.x5(a))&&a.Oc;};b.prototype.ylb=function(a){var b,c,d;b=this;c=this.j.wb;if(!c)return Promise.reject(this.getError(l.K.DF,"ASE session manager is not yet initialized",l.H.oX,{id:a}));if(this.ja&&1===this.ja.Pib.length)return this.bV(a);if(!this.j.qg)return this.log.warn("MediaPresenter is not initialized",a),Promise.reject(this.getError(l.K.DF,"MediaPresenter is not initialized",l.H.GFa,{id:a}));d=this.E$a(a);return void 0===d?(this.log.error("playNextSegment: branchOffset missing",{segment:a}),this.bV(a)):new Promise(function(f,g){var t,r,u,y,x,A;function h(){!u&&r&&t&&(A.cancel(),u=!0,b.log.trace("Telling ASE to choose the next segment",{id:a,stopped:r,repositioned:t,completed:u}),c.Pu(a,!1,!0)?(f(),u=!0):(u=!0,b.log.error("playNextSegment: ASE chooseNextSegment failed. Falling back to full seek.",{segment:a}),b.bV(a).then(f)["catch"](g)));}function n(){t=!0;b.log.trace("Player is repositioned",{id:a,stopped:r,repositioned:t,completed:u});b.j.removeEventListener(k.U.un,n);h();}function p(){b.j.removeEventListener(k.U.Pz,p);c.stop();}function q(){r=!0;b.log.trace("ASE is stopped",{id:a,stopped:r,repositioned:t,completed:u});c.removeEventListener("stop",q);h();}t=!1;r=!1;u=!1;y=b.ff.get(a);x=y.Cn+(d||0);b.log.trace("Seeking to next segment",JSON.stringify({segmentId:a,seekTo:x,currentSegment:b.ja,nextSegment:y},null,"  "));b.j.fireEvent(k.U.FU,{zi:b.ja&&b.ja.id,OK:a});c.addEventListener("stop",q);b.j.addEventListener(k.U.Pz,p);b.j.addEventListener(k.U.un,n);A=b.la.cg(m.xg(10),function(){u=!0;A.cancel();g(b.getError(l.K.DF,"Timed out waiting for the player to be repositioned and ASE to be stopped",l.H.FFa,{id:a,stopped:r,repositioned:t,completed:u}));});b.Pb.seek(x,k.Fg.aB);});};b.prototype.bV=function(a){var b;b=this.ff.get(a);return b?this.pBa(b,l.K.DF):Promise.reject(this.getError(l.K.DF,"Unable to find the separated segment",l.H.ida,{id:a}));};b.prototype.Vmb=function(a){var b;b=this.j.wb;if(!b)return Promise.reject(this.getError(l.K.Gw,"ASE session manager is not yet initialized",l.H.oX,{id:a}));if(b.Pu(a,!0,!0))return Promise.resolve();this.log.error("queueNextSegment: ASE chooseNextSegment failed",{segment:a});return Promise.reject(this.getError(l.K.Gw,"ASE chooseNextSegment failed",l.H.CFa,{id:a}));};b.prototype.Xmb=function(a){var b,c;b=this;this.log.error("calls to queueSeparatedSegment are deprecated",{segment:a,mid:this.j.M,srcsegment:this.tbb()});if(this.Jz)return Promise.reject(this.getError(l.K.Gw,"Unable to queue a non-next segment because there is currently already a segment queued",l.H.IFa,{currentSegment:this.ja?this.ja.id:void 0,queuedSegment:this.Jz.id,failedSegment:a}));if(!this.ja)return Promise.reject(this.getError(l.K.Gw,"Unable to queue a non-next segment because there is no currently playing segment",l.H.DFa,{nextSegmentid:a}));c=this.ff.get(a);if(!c)return Promise.reject(this.getError(l.K.Gw,"Unable to find the separated segment",l.H.ida,{nextSegmentid:a,currentSegmentId:this.ja.id}));this.Jz={id:a,xE:new Promise(function(d,f){var g,h;g=b.fE.Lpa({Cta:function(){return 100;}},function(){return b.Pb.Wl()||0;});h=b.Dta()-500;b.log.trace("Adding moment for queued segment",{segment:a,pts:h});g.cna(b.Sv.Kpa(a+":lastPts",h));b.sq=g.observe().subscribe(function(){b.log.trace("Moment has arrived",{segment:a,currentSegment:b.ja.id,playerEndPts:b.Dta(),pts:h});b.Jz=void 0;b.Nz();b.pBa(c,l.K.Gw).then(d)["catch"](f);},function(c){b.Jz=void 0;b.Nz();f(b.getError(l.K.Gw,"ASE session manager is not yet initialized",l.H.EFa,{id:a,error:c}));});})};this.Jz.xE["catch"](function(a){b.j.md(b.ug(a.code,a));});return Promise.resolve();};b.prototype.pBa=function(a,b){var c;c=this;return new Promise(function(d,f){try{c.Pb.seek(a.Cn,k.Fg.hx);d();}catch(x){f(c.getError(b,"Seek threw an exception",l.H.HFa,{id:a.id,error:x}));}});};b.prototype.getError=function(a,b,c,d){this.log.warn(b,d);return new h(a,b,c,d);};d.dGa=b;},function(g,d,a){var c,k,m;function b(a,b,d,f,g,h,l,p,m){var n;n=this;this.Ba=a;this.Sv=d;this.fE=f;this.n$=g;this.config=h;this.ug=l;this.dL=p;this.t8a=Object.keys(k.rb).map(function(a){return{event:k.rb[a],vv:function(b){return n.Gb.Hb(k.rb[a],b);}};});this.Gb=m.create();this.jw=[];this.log=b.ib("SegmentManager");new c.bj();this.V4=!0;}function f(a,b,d,f,g,k,p,m,q){var n;n=this;this.log=a;this.config=b;this.vjb=d;this.Sv=f;this.n$=g;this.ug=k;this.dL=p;this.Dq=m;this.ya=q;this.Nz=function(){n.sq&&(n.sq.closed||n.sq.unsubscribe(),n.sq=void 0);};this.x6=function(a){n.log.trace("Received the transition event",{movieId:a.M});n.gnb(l(n.ya));};this.log.debug("Constructing session data",h(q));this.b8=new c.bj();this.Qsb=new Promise(function(a){n.gnb=a;});}function h(a){return{movieId:a.M};}function l(a){return JSON.stringify({movieId:a.M,startPts:a.V,endPts:a.da,params:a.bb?{trackingId:a.bb.Zg,authParams:a.bb.RH,sessionParams:a.bb.lm,disableTrackStickiness:a.bb.Y3,uiPlayStartTime:a.bb.JW,loadImmediately:a.bb.ST,playbackState:a.bb.playbackState?{currentTime:a.bb.playbackState.currentTime,volume:a.bb.playbackState.volume,muted:a.bb.playbackState.muted}:void 0,pin:a.bb.g$,heartbeatCooldown:a.bb.F6,uiLabel:a.bb.ke}:void 0});}Object.defineProperty(d,"__esModule",{value:!0});c=a(86);k=a(15);m=a(3);f.prototype.load=function(a){var b,c;b=this;this.log.trace("Loading new segment",h(this.ya));this.Pb=this.n$.r4a(this.config,this.dL,this.ug,this.ya.M,this.ya.fl,this.ya.bb,this.ya.tj);this.Pb.addEventListener(k.rb.BD,function(a){b.log.trace("Segment is inactive",h(b.ya));b.Dq.close(b.ug(a.errorCode));});this.Pb.addEventListener(k.rb.closed,this.Nz);if(a)this.log.debug("Pausing background segment",h(this.ya)),this.Pb.addEventListener(k.rb.z7,this.x6),this.Pb.pause();else{c=function(a){b.x6(a);b.Pb.removeEventListener(k.rb.loaded,c);};this.Pb.addEventListener(k.rb.loaded,c);}};f.prototype.observe=function(){var a,b,c;a=this;this.log.trace("Observing segment",l(this.ya));if(this.sq)this.log.trace("Segment is currently observing",h(this.ya));else if(this.ya.bb&&this.ya.bb.ST)this.b8.next(this);else{b=this.vjb.Lpa(this.config,function(){var b;if(a.Pb){b=a.Pb.Wl();if(b)return b;}return 0;});c=this.Sv.Kpa("LOAD",this.x0a(this.ya));this.log.trace("Adding a moment to watch",{name:c.name,time:c.time});b.cna(c);this.sq=b.observe().subscribe(function(){a.log.trace("Segment has reached its loading point",h(a.ya));a.b8.next(a);a.Nz();});}};f.prototype.close=function(a){this.log.info("Closing segment",{segment:l(this.ya),error:a});return this.Pb?(this.Pb.removeEventListener(k.rb.z7,this.x6),this.Pb.close(a)):Promise.resolve();};f.prototype.x0a=function(a){var b,c;b=a.da;a=a.bb?a.bb.ST:!1;c=0;b&&!a&&(c=b-this.config.config.cwa,c<this.config.config.Ewa&&(c=b-(b-this.config.config.Ewa)/2));return c;};b.prototype.NS=function(){return this.Xd&&this.Xd.Pb?this.Xd.Pb.isReady():!1;};b.prototype.Xl=function(){if(!this.Xd||!this.Xd.Pb)throw Error("Player not ready");return this.Xd.Pb;};b.prototype.t1=function(a){this.log.info("Adding segment",l(a));this.V4?(this.log.trace("First segment, loading",h(a)),a=this.bwa(a),this.V4=!1):(this.log.trace("Subsequent segment, caching",h(a)),a=this.zob(a));return a?a.Qsb:null;};b.prototype.transition=function(a){var b;if(this.Qs&&this.Qs.Pb){b=this.Qs;this.Qs=void 0;this.log.info("Transitioning segment",l(b.ya));b&&b.Pb&&b.Pb.YBa(this.Ba.ac().fa(m.na));return this.vDa(b,a);}return Promise.resolve();};b.prototype.close=function(a){var b,c;b=this;this.log.trace("Closing all segments",{currSession:JSON.stringify(h(this.Xd.ya)),nextSession:this.Qs?JSON.stringify(h(this.Qs.ya)):void 0});c=[this.Xd.close(a)];this.Qs&&c.push(this.Qs.close());return new Promise(function(a,d){Promise.all(c).then(function(){b.Qs=void 0;b.jw=[];b.V4=!0;a();})["catch"](d);});};b.prototype.addListener=function(a,b,c){this.Gb.addListener(a,b,c);};b.prototype.removeListener=function(a,b){this.Gb.removeListener(a,b);};b.prototype.bwa=function(a){var b,c;b=this;this.log.info("Loading the next episode",h(a));this.Xd&&(this.config.s5()[a.M]=a.V);c=this.g9a(a);if(!c)return this.log.warn("Unable to find the session, make sure to add it before loading",h(a)),null;this.log.trace("Found the next session",h(a));c.b8.subscribe(function(a){b.Jsb(a);});this.Xd?(this.log.trace("Subsequent playback, caching player and pausing",h(a)),this.Qs=c,c.load(!0)):(this.log.trace("First playback transitioning immediately",h(a)),c.load(!1),this.vDa(c));return c;};b.prototype.vDa=function(a,b){var c,d,f;b=void 0===b?{}:b;this.log.trace("Playing episode",h(a.ya));c=this.Xd;this.Xd=a;if(this.Xd.Pb&&(this.Xd.Pb.JBa(!1),this.aN(this.Xd.Pb,c?c.Pb:void 0),c&&c.Pb)){d=c.Pb.Cy();a=this.Xd.Pb.Cy();f=d.parentElement;d.style.display="none";c=c.close();f.appendChild(a);this.Xd.Pb&&(a.style.display="block",this.Xd.Pb.getError()?this.Xd.Pb.close():(this.Xd.Pb.j.aub(b),this.Xd.Pb.fM(),this.Xd.Pb.play()));c.then(function(){d.parentElement&&d.parentElement.removeChild(d);});return c;}return Promise.resolve();};b.prototype.Jsb=function(a){var b,c,d,f;if(this.jw.length&&a.Pb){a=a.Pb.Wl();b=this.jw[0];c=this.Xd.ya.da;d=this.Xd.ya.bb?this.Xd.ya.bb.ST:!1;if(c||d){d?f=0:c&&(f=c-this.config.config.cwa);null!==a&&a>=f&&(this.log.info("Got a time change, loading the next player",h(b.ya)),this.bwa(b.ya),this.jw.splice(0,1));}}};b.prototype.g9a=function(a){return this.Xd?this.jw.find(function(b){return b.ya.M===a.M;}):this.ms(a);};b.prototype.zob=function(a){var c;if(this.Xd.ya.M===a.M)return this.Jya(this.Xd.ya,a),this.log.trace("Overwrote the currently playing segment data",l(this.Xd.ya)),this.Xd;for(var b=0;b<this.jw.length;++b){c=this.jw[b];if(c.ya.M===a.M)return this.Jya(c.ya,a),this.log.trace("Overwrote the currently playing segment data",l(c.ya)),c;}a=this.ms(a);this.jw.push(a);this.Xd.observe();return a;};b.prototype.Jya=function(a,b){a.V=b.V||a.V;a.da=b.da||a.da;a.bb=b.bb||a.bb;a.tj=b.tj||a.tj;};b.prototype.ms=function(a){return new f(this.log,this.config,this.fE,this.Sv,this.n$,this.ug,this.dL,this,a);};b.prototype.aN=function(a,b){this.t8a.forEach(function(c){b&&b.removeEventListener(c.event,c.vv);a.addEventListener(c.event,c.vv);});this.Gb.Hb(k.vG.RL);};d.YQa=b;},function(g,d,a){var f,h,l,c,k,m,n,r,y,A,K,x,I,G;function b(a,b,c,d,f,g,h,k,l,n,p){this.Ba=a;this.Ue=b;this.Sv=c;this.fE=d;this.Uub=f;this.dL=g;this.la=h;this.CQ=k;this.nA=l;this.ug=n;this.x4=p;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);l=a(5);c=a(414);k=a(413);m=a(62);n=a(411);r=a(410);y=a(839);A=a(838);K=a(85);x=a(30);I=a(226);a=a(416);b.prototype.n4a=function(a){return new y.YQa(this.Ba,this.Ue,this.Sv,this.fE,this.Uub,a,this.ug,this.dL,this.x4);};b.prototype.S3a=function(a,b,c){c=void 0===c?this.ug:c;return new A.dGa(this.Ue,a,b,this.fE,this.Sv,this.la,this.CQ,c,this.nA);};G=b;G=g.__decorate([f.L(),g.__param(0,f.l(h.Je)),g.__param(1,f.l(l.kb)),g.__param(2,f.l(c.Dga)),g.__param(3,f.l(k.Ega)),g.__param(4,f.l(r.rja)),g.__param(5,f.l(n.Vha)),g.__param(6,f.l(x.hg)),g.__param(7,f.l(K.hX)),g.__param(8,f.l(I.c_)),g.__param(9,f.l(m.uk)),g.__param(10,f.l(a.EN))],G);d.XQa=G;},function(g,d,a){var b,f,h,l,c,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(227);f=a(412);h=a(840);l=a(837);c=a(226);k=a(836);d.ff=new g.Wb(function(a){a(b.RZ).to(h.XQa).$();a(f.Hia).to(l.WQa).$();a(c.c_).to(k.QRa).$();});},function(g,d,a){var f;function b(a,b){this.config=a;this.bc=b;this.KK=[];}Object.defineProperty(d,"__esModule",{value:!0});f=a(86);b.prototype.cna=function(a){0===this.KK.filter(function(b){return b.n9===a;}).length&&this.KK.push({n9:a,aAa:!1});};b.prototype.observe=function(){var a;a=this;return f.Ca.interval(this.config.Cta()).As(function(){var b,c;b=a.bc();c=a.KK.filter(function(a){return!a.aAa&&a.n9.time<=b;});c.forEach(function(a){a.aAa=!0;});return f.Ca.from(c.map(function(a){return a.n9;}));});};d.jNa=b;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(842);b.prototype.Lpa=function(a,b){return new h.jNa(a,b);};a=b;a=g.__decorate([f.L()],a);d.iNa=a;},function(g,d){function a(a,d){this.name=a;this.time=d;if(0==a.length)throw new TypeError("'name' property is not valid: "+a);if(0>d)throw new TypeError("'time' property is not valid: "+d);}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.add=function(b,d){return new a(b,this.time+d);};a.prototype.sd=function(b,d){return new a(b,this.time-d);};d.hNa=a;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(844);b.prototype.Kpa=function(a,b){return new h.hNa(a,b);};a=b;a=g.__decorate([f.L()],a);d.gNa=a;},function(g,d,a){var b,f,h,l;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(414);f=a(845);h=a(413);l=a(843);d.KK=new g.Wb(function(a){a(b.Dga).to(f.gNa).$();a(h.Ega).to(l.iNa).$();});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.reduce=function(a,b,d){for(;void 0!==a;a=a.cause)d=b(d,a);return d;};},function(g,d,a){var A,K,x,I;function b(a,b){this.he=a;this.Sd=b;this.pd=[];}function f(a){return y.call(this,a,function(a){return{Details:a};})||this;}function h(a){return y.call(this,a,function(a){return JSON.parse(a.toJSON());})||this;}function l(a,b){b=y.call(this,b,function(b){return{Base64:a.encode(b)};})||this;b.he=a;return b;}function c(a,b){b=y.call(this,b,function(a){return a();})||this;b.Sd=a;return b;}function k(a,b){return n.call(this,a,b,function(a){var b;b=K.reduce(a,function(a,b){var c;a.name=void 0!==a.name?a.name+("-"+b.name):b.name;c="";c="undefined"!==typeof b.type&&"undefined"!==typeof b.type.prefix?c+b.type.prefix:c+b.name;"undefined"!==typeof b.number&&(c+=b.number);a.errorCode=void 0!==a.errorCode?a.errorCode+("-"+c):c;k.C1a(b,a,"stack","message");return a;},{});return Object.assign({},a,b);})||this;}function m(a){return y.call(this,a,function(a){return{Exception:a.message||""+a,StackTrace:a.stack||"nostack"};})||this;}function n(a,b,c){b=y.call(this,b,c)||this;b.Sd=a;return b;}function r(a){return y.call(this,a,function(a){return{Details:a};})||this;}function y(a,b){this.Zo=a;this.value=b?b(a):a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);A=a(1);K=a(847);x=a(22);a=a(40);y.prototype.$I=function(a){return this.Zo===a;};ba(r,y);r.prototype.mA=function(a,b){return b?"":"\r\n"+this.Zo;};ba(n,y);n.prototype.mA=function(){var a;a="";this.Sd.av(this.value,function(b,c){try{a+=", "+b+": "+c;}catch(S){try{a+=", "+b+": "+JSON.stringify(c);}catch(V){a+=", error stringifying "+b;}}});return a.replace(/[\r\n]+ */g," ");};ba(m,y);m.prototype.mA=function(a){var b;b="\r\n"+this.Zo.message;a||(b+="\r\n"+this.Zo.stack);return b;};ba(k,n);k.C1a=function(a,b,c){var g,h;for(var d=[],f=2;f<arguments.length;++f)d[f-2]=arguments[f];for(f=0;f<d.length;++f){g=a[d[f]];if(void 0!==g){h=""+d[f];b[h]=b[h]||[];b[h].push(g);}}};d.Vxb=k;ba(c,y);c.prototype.mA=function(){var a;a="";this.Sd.av(this.value,function(b,c){a+=", "+b+": "+c;});return a.replace(/[\r\n]+ */g," ");};ba(l,y);l.prototype.mA=function(a,b){return this.Zo&&!b?"\r\n"+this.he.encode(this.Zo):"";};ba(h,y);h.prototype.mA=function(){return this.Zo?this.Zo.toJSON():"";};ba(f,y);f.prototype.mA=function(){return", "+(this.Zo.toString?""+this.Zo.toString():"");};b.prototype.bZa=function(a){this.pd.push(new r(a));};b.prototype.TYa=function(a){this.pd.push(new n(this.Sd,a));};b.prototype.KYa=function(a){this.pd.push(new m(a));};b.prototype.JYa=function(a){this.pd.push(new k(this.Sd,a));};b.prototype.NYa=function(a){this.pd.push(new c(this.Sd,a));};b.prototype.cZa=function(a){this.pd.push(new l(this.he,a));};b.prototype.SYa=function(a){this.pd.push(new h(a));};b.prototype.dZa=function(a){this.pd.push(new f(a));};b.prototype.ho=function(){return this.pd;};I=b;I=g.__decorate([A.L(),g.__param(0,A.l(a.Jj)),g.__param(1,A.l(x.Ye))],I);d.OLa=I;},function(g,d,a){var f,h,l,c;function b(a,b){this.he=a;this.Sd=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(848);l=a(40);a=a(22);b.prototype.Oab=function(){return new h.OLa(this.he,this.Sd);};c=b;c=g.__decorate([f.L(),g.__param(0,f.l(l.Jj)),g.__param(1,f.l(a.Ye))],c);d.NLa=c;},function(g,d,a){var f,h;function b(a,b,d,f,g,h,l){this.level=a;this.Wm=b;this.timestamp=d;this.message=f;this.pd=g;this.prefix=h;this.index=void 0===l?0:l;}Object.defineProperty(d,"__esModule",{value:!0});f=a(3);h={0:"F",1:"E",2:"W",3:"I",4:"T",5:"D"};b.prototype.FW=function(a,b){a=(this.prefix.length?""+this.prefix.join(" ")+" ":"")+this.message+(b?"":" "+this.Srb(!!a));return(this.timestamp.fa(f.na)/1E3).toFixed(3)+"|"+this.index+"|"+(h[this.level]||this.level)+"|"+this.Wm+"| "+a;};b.prototype.Srb=function(a){var g;for(var b=this.pd.length,d="",f=0;f<b;++f){g=this.pd[f].Zo;f&&d.length&&(d+=" ");if("object"===typeof g)if(null===g)d+="null";else if(g instanceof Error)d+=this.Rrb(g,a);else try{d+=JSON.stringify(g);}catch(u){d+=this.Qrb(g);}else d+=g;}return d;};b.prototype.Rrb=function(a,b){return a.toString()+(a.stack&&!b?"\n"+a.stack:"")+"\n";};b.prototype.Qrb=function(a){var b;b=[];return JSON.stringify(a,function(a,c){if("object"===typeof c&&null!==c){if(-1!==b.indexOf(c))return"<cycle>";b.push(c);}return c;});};d.pFa=b;},function(g,d,a){var f,h;function b(a,b,d,g,h,l){a=f.dG.call(this,a,b,d,g)||this;a.Ccb=h;Array.isArray(l)?a.prefix=l:l&&"string"===typeof l&&(a.prefix=[],a.prefix.push(l));return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(228);h=a(850);ba(b,f.dG);b.prototype.yu=function(a,b,d){a=new h.pFa(a,this.Wm,this.Ba.ac(),b,d,this.prefix);b=P(this.kk.kk);for(d=b.next();!d.done;d=b.next())d=d.value,d(a);};b.prototype.n3=function(a){return new b(this.Ba,this.fs,this.kk,a,this.Ccb,this.prefix);};d.qFa=b;},function(g,d,a){var f,h,l;function b(a,b,d,g,h){a=l.dG.call(this,a,b,d,h)||this;a.j=g;f.Yk(a,"playback");return a;}Object.defineProperty(d,"__esModule",{value:!0});f=a(48);h=a(415);l=a(228);ba(b,l.dG);b.prototype.n3=function(a){return new b(this.Ba,this.fs,this.kk,this.j,a);};b.prototype.yu=function(a,b,d){a=new h.Xfa(a,this.Wm,this.Ba.ac(),b,d,this.j.index);b=P(this.kk.kk);for(d=b.next();!d.done;d=b.next())d=d.value,d(a,this.j);};d.APa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.EnumeratedErrorBase=function(a,b,d,g){this.type=a;this.name=a.name;this.number=b;"string"===typeof d?this.message=d:void 0!==d&&(this.cause=d);void 0!==g&&(this.message=g);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(853);d.nC=function(a,d){var c;a=a.Oab();for(var f=0;f<d.length;++f){c=d[f];void 0!=c&&null!=c&&(c.Yf&&(c=c.Yf),c.constructor===Uint8Array?a.cZa(c):"MediaRequest"===c.constructor.name?a.SYa(c):"string"===typeof c?a.bZa(c):"function"===typeof c?a.NYa(c):c instanceof Error?a.KYa(c):c instanceof b.EnumeratedErrorBase?a.JYa(c):c instanceof Object?a.TYa(c):a.dZa(c));}return a.ho();};},function(g,d,a){var f,h,l,c,k,m,n;function b(a,b,c){this.Ba=a;this.kk=b;this.h8=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(228);h=a(1);l=a(852);c=a(23);k=a(95);m=a(5);n=a(851);b.prototype.ib=function(a,b,c,d,g){c=void 0===c?this.kk:c;return b?new l.APa(this.Ba,this.h8,c,b,a):g?new n.qFa(this.Ba,this.h8,c,a,d||"",g):new f.dG(this.Ba,this.h8,c,a);};a=b;a=g.__decorate([h.L(),g.__param(0,h.l(c.Je)),g.__param(1,h.l(k.NA)),g.__param(2,h.l(m.Yfa))],a);d.WLa=a;},function(g,d,a){var f;function b(){this.mba={};this.kk=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.yV=function(a,b){var c;c=this;b&&(this.mba[a]=b,this.kk=Object.keys(this.mba).map(function(a){return c.mba[a];}));};f=b;f=g.__decorate([a.L()],f);d.XLa=f;},function(g,d,a){var b,f,h,l,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(856);f=a(855);g=a(1);h=a(95);l=a(5);c=a(849);d.Dgb=new g.Wb(function(a){a(l.kb).to(f.WLa).$();a(h.NA).to(b.XLa).$();a(l.Yfa).to(c.NLa).$();});},function(g,d,a){var f,h;function b(a,b){this.la=a;this.hR=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(30);b.prototype.Ib=function(a){this.PC();this.Ej=this.la.cg(this.hR,a);};b.prototype.PC=function(){this.Ej&&this.Ej.cancel();this.Ej=void 0;};h=b;h=g.__decorate([f.L(),g.__param(0,f.l(a.hg))],h);d.vIa=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.uIa="DebouncerFactorySymbol";},function(g,d,a){var f,h,l;function b(a,b,d){this.la=a;this.Psb=b;this.vv=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(30);h=a(1);l=a(3);b.prototype.ws=function(){this.Ej||(this.Ej=this.la.cg(l.zb(this.Psb),this.vv));};b.prototype.Xg=function(){this.Ej&&this.Ej.cancel();this.Ej=void 0;};a=b;a=g.__decorate([h.L(),g.__param(0,h.l(f.hg))],a);d.LRa=a;},function(g,d,a){var f,h;function b(a){this.xc=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(22);a(9);b=g.__decorate([f.L(),g.__param(0,f.l(h.Ye))],b);d.fSa=b;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.gSa="UserAgentUtilities";},function(g,d){function a(){this.searchParams={};}function b(b){this.Wa=b;this.searchParams=new a();}Object.defineProperty(d,"__esModule",{value:!0});b.prototype.toString=function(){return this.href;};na.Object.defineProperties(b.prototype,{href:{configurable:!0,enumerable:!0,get:function(){return""+this.Wa+this.searchParams.toString();}}});d.eSa=b;a.prototype.get=function(a){return this.searchParams[a];};a.prototype.set=function(a,b){this.searchParams[a]=b;};a.prototype.toString=function(){var a,b;a=this;b=Object.keys(this.searchParams);return 0<b.length?b.reduce(function(b,c,d){return""+b+(0==d?"?":"&")+c+"="+a.searchParams[c];},""):"";};},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.JZ="PrioritizedSetOfListsSymbol";d.SPa="PrioritizedSetOfListsFactorySymbol";d.TPa="PrioritizedSetOfSetsFactorySymbol";},function(g,d,a){var f,h,l,c;function b(a,b,c){var d;d=this;this.app=a;this.la=b;this.hR=c;this.Ss=function(a){d.Ej=void 0;d.Ftb(a||d.hR);};this.Lva=l.zb(-this.hR.fa(l.na));}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);l=a(3);a=a(30);b.prototype.Ib=function(a){this.yaa=a;this.Ej=this.Ej||this.yb(this.Ss);};b.prototype.PC=function(){this.Ej&&this.Ej.cancel();this.Ej=void 0;};b.prototype.Ftb=function(a){var b,c;b=this.app.ac();if(this.yaa){c=a.sd(b.sd(this.Lva));0>=c.Nk(l.sf)?(a=this.yaa,this.yaa=void 0,this.Lva=b,a()):this.Ej=this.Ej||this.la.cg(c,this.Ss.bind(this,a));}};b.prototype.yb=function(a){return this.la.cg(l.sf,a);};c=b;c=g.__decorate([f.L(),g.__param(0,f.l(h.Je)),g.__param(1,f.l(a.hg))],c);d.zRa=c;},function(g,d,a){var f,h,l,c,k,m,n,r,y;function b(a,b){this.Ba=a;this.config=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(23);c=a(42);k=a(2);m=a(15);n=a(3);r=a(9);a=a(422);b.prototype.g6a=function(a){var b,d,g,h,l,p,q,t,r;b=this;l=a.bc.value;p=a.Tm.value;q=a.uc.value;t=a.state.value;h={segmentId:a.U5(),mediaTime:l,segmentTime:a.rD(),bufferingState:f.Z_a[p],presentingState:f.nmb[q],playbackState:f.Glb[t],mseBuffersBusy:this.Sbb(a),intBuffersBusy:this.Dab(a),tabVisible:this.rsb(),decodedFrameCount:this.v5a(a),videoElementInDom:this.Qub(a),lastVideoSync:this.Ba.ac().sd(n.zb(a.uM)).fa(n.na)};r=q===m.qb.ig?a.Za.Vf?this.config.Aya:this.config.zya:this.config.yxa;p!==m.hf.$c?(d=k.H.sHa,this.qoa(h.mseBuffersBusy,h.intBuffersBusy)&&(g=f.kda)):q!==m.qb.wd&&(d=k.H.tHa,(a=a.qg)&&a.xb.sourceBuffers.forEach(function(a){var c,d;c=f.Khb[a.R];h[c+"Ranges"]=a.ES();a=a.buffered();if(0===a.length)h[c+"Undecoded"]=0,g=f.KFa;else{d=1E3*a.end(0)-l;h[c+"Undecoded"]=d;1<a.length&&(g=f.LFa);l<1E3*a.start(0)||l>1E3*a.end(0)?g=f.MFa:d<r.fa(n.na)?g=f.NFa:b.qoa(h.mseBuffersBusy,h.intBuffersBusy)&&(g=f.kda);}}));a="";try{a=JSON.stringify(h);}catch(Q){a="Cannot stringify details: "+Q;}return new c.cc(k.K.eha,d,g,void 0,void 0,void 0,a,void 0);};b.prototype.Sbb=function(a){var b;if(a.xb){b={};a.xb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.updating()};});return b;}};b.prototype.Dab=function(a){var b;if(a.xb){b={};a.xb.sourceBuffers.forEach(function(a){b[0===a.type?"audio":"video"]={updating:a.pj()};});return b;}};b.prototype.rsb=function(){return!r.Ed.hidden;};b.prototype.v5a=function(a){return(a=a.qg)&&(a=a.xb.Ma)&&void 0!==a.webkitDecodedFrameCount?a.webkitDecodedFrameCount:NaN;};b.prototype.Qub=function(a){if(a=a.qg)if(a=a.xb.Ma)return r.Ed.body.contains(a);return!1;};b.prototype.qoa=function(a,b){return!(a.audio.updating===b.audio.updating&&a.video.updating===b.video.updating);};y=f=b;y.KFa="1";y.LFa="2";y.MFa="3";y.kda="4";y.NFa="5";y.Khb=["Audio","Video"];y.Z_a=["","NORMAL","BUFFERING","STALLED"];y.nmb=["","WAITING","PLAYING ","PAUSED","ENDED"];y.Glb=["STATE_NOTLOADED","STATE_LOADING","STATE_NORMAL","STATE_CLOSING","STATE_CLOSED"];y=f=g.__decorate([h.L(),g.__param(0,h.l(l.Je)),g.__param(1,h.l(a.Fga))],y);d.yIa=y;},function(g,d,a){var f,h,l,c;function b(a,b){this.Ba=a;this.entries=[];this.ia=b.ib("TimingApi");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(23);l=a(3);a=a(5);b.prototype.mark=function(a,b){a={name:a,oa:b,Lsb:this.Ba.ac()};this.entries.push(a);return a;};b.prototype.Vab=function(){return this.entries.slice();};b.prototype.mta=function(){var a;a={};try{a=this.Vab().filter(function(a){return!a.oa;}).reduce(function(a,b){a[b.name]=b.Lsb.fa(l.na);return a;},{});}catch(q){this.ia.error(" getMapOfCommonMarks exception",q);}return a;};c=b;c=g.__decorate([f.L(),g.__param(0,f.l(h.Je)),g.__param(1,f.l(a.kb))],c);d.NRa=c;},function(g,d,a){var f,h,l,c;function b(a){return h.kN.call(this,a,"ClockConfigImpl")||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(33);h=a(36);l=a(1);a=a(27);ba(b,h.kN);na.Object.defineProperties(b.prototype,{fEa:{configurable:!0,enumerable:!0,get:function(){return!1;}}});c=b;g.__decorate([f.config(f.re,"usePerformanceApi")],c.prototype,"fEa",null);c=g.__decorate([l.L(),g.__param(0,l.l(a.AX))],c);d.ZGa=c;},function(g,d,a){var f,h,l,c;function b(a){a=h.kN.call(this,a,"DebugConfigImpl")||this;a.LFb=function(){debugger;};return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(33);h=a(36);l=a(1);a=a(27);ba(b,h.kN);na.Object.defineProperties(b.prototype,{S_a:{configurable:!0,enumerable:!0,get:function(){return!1;}}});c=b;g.__decorate([f.config(f.re,"breakOnError")],c.prototype,"S_a",null);c=g.__decorate([l.L(),g.__param(0,l.l(a.AX))],c);d.wIa=c;},function(g,d,a){var f,h,l,c;function b(a,b,c){this.config=a;this.Da=b;this.ia=c.ib("General");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(20);l=a(88);a=a(5);b.prototype.assert=function(){};b.prototype.JZa=function(a,b){this.assert(this.Da.Ol(a),b);};b.prototype.KZa=function(a,b){this.assert(this.Da.zd(a),b);};b.prototype.PZa=function(a,b){this.assert(this.Da.vi(a),b);};b.prototype.SZa=function(a,b){this.assert(this.Da.jj(a),b);};b.prototype.QZa=function(a,b){this.assert(this.Da.vi(a)||null===a||void 0===a,b);};b.prototype.NZa=function(a,b){this.assert(this.Da.Pf(a),b);};b.prototype.MZa=function(a,b){this.assert(this.Da.A1(a),b);};b.prototype.RZa=function(a,b){this.assert(this.Da.Hp(a),b);};b.prototype.OZa=function(a,b){this.assert(this.Da.yH(a),b);};b.prototype.HZa=function(a,b){this.assert(this.Da.aC(a),b);};b.prototype.LZa=function(a,b){this.assert(this.Da.xH(a),b);};b.prototype.heb=function(){this.assert(!1,"invalid operation, this method should not be called");};b.oHb=function(){var a,b;a=Error.captureStackTrace;return b=a?function(c){var d;d={toString:function(){return"";}};a(d,c||b);return d.stack;}:function(){try{throw Error("capture stack");}catch(n){return n.stack;}};};c=b;c=g.__decorate([f.L(),g.__param(0,f.l(l.$da)),g.__param(1,f.l(h.de)),g.__param(2,f.l(a.kb))],c);d.xIa=c;},function(g,d,a){var f,h,l,c;function b(a,b){this.is=a;this.Sd=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(20);a=a(22);b.prototype.encode=function(a){var b,c;b=this;c="";this.Sd.av(a,function(a,d){a=b.jra(a)+"="+b.jra(d);c=c?c+(","+a):a;});return c;};b.prototype.jra=function(a){return this.is.Ol(a)?this.is.Pf(a)?""+a:this.is.vi(a)?(a=a.replace(f.lAa,this.Vgb.bind(this)),!f.Ymb.test(a)&&f.Eib.test(a)&&(a='"'+a+'"'),a):this.is.aC(a)?""+a:this.is.j1(a)?"NaN":"":"";};b.prototype.Vgb=function(a){return f.map[a];};c=f=b;c.map={'"':'""',"\r":"","\n":" "};c.lAa=/(?!^.+)["\r\n](?=.+$)/g;c.Ymb=/["].*["]/g;c.Eib=/[", ]/;c=f=g.__decorate([h.L(),g.__param(0,h.l(l.de)),g.__param(1,h.l(a.Ye))],c);d.lHa=c;},function(g,d,a){var f,h,l,c;function b(a,b){this.Ta=a;this.AS=this.Ta.Qe.fa(l.na)-1;this.wgb=this.LT=0;this.id=""+b.BC();}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(41);l=a(3);a=a(116);b.prototype.ac=function(){var a,b;a=this.Ta.Qe.fa(l.na)-this.AS;if(a<this.LT){b=this.LT+1;this.AS-=b-a;a=b;}this.LT=a;return l.zb(this.LT);};b.prototype.Pab=function(){return this.wgb++;};na.Object.defineProperties(b.prototype,{Vy:{configurable:!0,enumerable:!0,get:function(){return l.zb(this.AS);}}});c=b;c=g.__decorate([f.L(),g.__param(0,f.l(h.Kj)),g.__param(1,f.l(a.MA))],c);d.fFa=c;},function(g){g.T="function"===typeof Object.create?function(d,a){d.esb=a;d.prototype=Object.create(a.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}});}:function(d,a){function b(){}d.esb=a;b.prototype=a.prototype;d.prototype=new b();d.prototype.constructor=d;};},function(g){g.T=function(d){return d&&"object"===typeof d&&"function"===typeof d.Rp&&"function"===typeof d.fill&&"function"===typeof d.dKb;};},function(g,d,a){(function(b){var X,R,Y,da,ea,Z;function f(a,b){var c;c={Gaa:[],Qi:l};3<=arguments.length&&(c.depth=arguments[2]);4<=arguments.length&&(c.uC=arguments[3]);x(b)?c.fba=b:b&&d.VTa(c,b);B(c.fba)&&(c.fba=!1);B(c.depth)&&(c.depth=2);B(c.uC)&&(c.uC=!1);B(c.$pa)&&(c.$pa=!0);c.uC&&(c.Qi=g);return k(c,a,c.depth);}function g(a,b){return(b=f.Trb[b])?"\u001b["+f.uC[b][0]+"m"+a+"\u001b["+f.uC[b][1]+"m":a;}function l(a){return a;}function c(a){var b;b={};a.forEach(function(a){b[a]=!0;});return b;}function k(a,b,f){var g,h,l,p,q;if(a.$pa&&b&&Q(b.vT)&&b.vT!==d.vT&&(!b.constructor||b.constructor.prototype!==b)){g=b.vT(f,a);G(g)||(g=k(a,g,f));return g;}if(g=m(a,b))return g;h=Object.keys(b);l=c(h);a.fba&&(h=Object.getOwnPropertyNames(b));if(D(b)&&(0<=h.indexOf("message")||0<=h.indexOf("description")))return n(b);if(0===h.length){if(Q(b))return a.Qi("[Function"+(b.name?": "+b.name:"")+"]","special");if(T(b))return a.Qi(RegExp.prototype.toString.call(b),"regexp");if(M(b))return a.Qi(Date.prototype.toString.call(b),"date");if(D(b))return n(b);}g="";p=!1;q=["{","}"];K(b)&&(p=!0,q=["[","]"]);Q(b)&&(g=" [Function"+(b.name?": "+b.name:"")+"]");T(b)&&(g=" "+RegExp.prototype.toString.call(b));M(b)&&(g=" "+Date.prototype.toUTCString.call(b));D(b)&&(g=" "+n(b));if(0===h.length&&(!p||0==b.length))return q[0]+g+q[1];if(0>f)return T(b)?a.Qi(RegExp.prototype.toString.call(b),"regexp"):a.Qi("[Object]","special");a.Gaa.push(b);h=p?r(a,b,f,l,h):h.map(function(c){return y(a,b,f,l,c,p);});a.Gaa.pop();return A(h,g,q);}function m(a,b){if(B(b))return a.Qi("undefined","undefined");if(G(b))return b="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'",a.Qi(b,"string");if(I(b))return a.Qi(""+b,"number");if(x(b))return a.Qi(""+b,"boolean");if(null===b)return a.Qi("null","null");}function n(a){return"["+Error.prototype.toString.call(a)+"]";}function r(a,b,c,d,f){for(var g=[],h=0,k=b.length;h<k;++h)Object.prototype.hasOwnProperty.call(b,String(h))?g.push(y(a,b,c,d,String(h),!0)):g.push("");f.forEach(function(f){f.match(/^\d+$/)||g.push(y(a,b,c,d,f,!0));});return g;}function y(a,b,c,d,f,g){var h,l;b=Object.getOwnPropertyDescriptor(b,f)||{value:b[f]};b.get?l=b.set?a.Qi("[Getter/Setter]","special"):a.Qi("[Getter]","special"):b.set&&(l=a.Qi("[Setter]","special"));Object.prototype.hasOwnProperty.call(d,f)||(h="["+f+"]");l||(0>a.Gaa.indexOf(b.value)?(l=null===c?k(a,b.value,null):k(a,b.value,c-1),-1<l.indexOf("\n")&&(l=g?l.split("\n").map(function(a){return"  "+a;}).join("\n").substr(2):"\n"+l.split("\n").map(function(a){return"   "+a;}).join("\n"))):l=a.Qi("[Circular]","special"));if(B(h)){if(g&&f.match(/^\d+$/))return l;h=JSON.stringify(""+f);h.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(h=h.substr(1,h.length-2),h=a.Qi(h,"name")):(h=h.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),h=a.Qi(h,"string"));}return h+": "+l;}function A(a,b,c){var d;d=0;return 60<a.reduce(function(a,b){d++;0<=b.indexOf("\n")&&d++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1;},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1];}function K(a){return Array.isArray(a);}function x(a){return"boolean"===typeof a;}function I(a){return"number"===typeof a;}function G(a){return"string"===typeof a;}function B(a){return void 0===a;}function T(a){return F(a)&&"[object RegExp]"===Object.prototype.toString.call(a);}function F(a){return"object"===typeof a&&null!==a;}function M(a){return F(a)&&"[object Date]"===Object.prototype.toString.call(a);}function D(a){return F(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error);}function Q(a){return"function"===typeof a;}function W(a){return 10>a?"0"+a.toString(10):a.toString(10);}function ca(){var a,b;a=new Date();b=[W(a.getHours()),W(a.getMinutes()),W(a.getSeconds())].join(":");return[a.getDate(),ea[a.getMonth()],b].join(" ");}function P(a,b){var c;if(!a){c=Error("Promise was rejected with a falsy value");c.reason=a;a=c;}return b(a);}X=Object.iHb||function(a){for(var b=Object.keys(a),c={},d=0;d<b.length;d++)c[b[d]]=Object.getOwnPropertyDescriptor(a,b[d]);return c;};R=/%[sdj%]/g;d.format=function(a){if(!G(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(f(arguments[c]));return b.join(" ");}for(var c=1,d=arguments,g=d.length,b=String(a).replace(R,function(a){if("%%"===a)return"%";if(c>=g)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++]);}catch(sa){return"[Circular]";}default:return a;}}),h=d[c];c<g;h=d[++c])b=null!==h&&F(h)?b+(" "+f(h)):b+(" "+h);return b;};d.P5a=function(a,c){var f;if("undefined"!==typeof b&&!0===b.aJb)return a;if("undefined"===typeof b)return function(){return d.P5a(a,c).apply(this,arguments);};f=!1;return function(){if(!f){if(b.YKb)throw Error(c);b.bLb?console.trace(c):console.error(c);f=!0;}return a.apply(this,arguments);};};Y={};d.MFb=function(a){var c;B(da)&&(da=b.k8a.kAb||"");a=a.toUpperCase();if(!Y[a])if(new RegExp("\\b"+a+"\\b","i").test(da)){c=b.HJb;Y[a]=function(){var b;b=d.format.apply(d,arguments);console.error("%s %d: %s",a,c,b);};}else Y[a]=function(){};return Y[a];};d.vT=f;f.uC={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};f.Trb={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};d.isArray=K;d.meb=x;d.Ra=function(a){return null===a;};d.aIb=function(a){return null==a;};d.qa=I;d.Ld=G;d.gIb=function(a){return"symbol"===typeof a;};d.P=B;d.eIb=T;d.Se=F;d.r7=M;d.t7=D;d.Mb=Q;d.dIb=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a;};d.isBuffer=a(874);ea="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");d.log=function(){console.log("%s - %s",ca(),d.format.apply(d,arguments));};d.KHb=a(873);d.VTa=function(a,b){if(b&&F(b))for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];};h();h();Z="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;d.Dmb=function(a){function b(){for(var b,c,d=new Promise(function(a,d){b=a;c=d;}),f=[],g=0;g<arguments.length;g++)f.push(arguments[g]);f.push(function(a,d){a?c(a):b(d);});try{a.apply(this,f);}catch(sa){c(sa);}return d;}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');if(Z&&a[Z]){b=a[Z];if("function"!==typeof b)throw new TypeError('The "util.promisify.custom" argument must be of type Function');Object.defineProperty(b,Z,{value:b,enumerable:!1,writable:!1,configurable:!0});return b;}Object.setPrototypeOf(b,Object.getPrototypeOf(a));Z&&Object.defineProperty(b,Z,{value:b,enumerable:!1,writable:!1,configurable:!0});return Object.defineProperties(b,X(a));};d.Dmb.wFb=Z;d.MEb=function(a){function c(){var g,h;function c(){return g.apply(h,arguments);}for(var d=[],f=0;f<arguments.length;f++)d.push(arguments[f]);g=d.pop();if("function"!==typeof g)throw new TypeError("The last argument must be of type Function");h=this;a.apply(this,d).then(function(a){b.Qxa(c,null,a);},function(a){b.Qxa(P,a,c);});}if("function"!==typeof a)throw new TypeError('The "original" argument must be of type Function');Object.setPrototypeOf(c,Object.getPrototypeOf(a));Object.defineProperties(c,X(a));return c;};}.call(this,a(230)));},function(g,d,a){var f;function b(a){this.a$a=a;this.$S=!1;this.iT=this.FM=this.eF=0;this.SJ=!1;this.jT=0;}Object.defineProperty(d,"__esModule",{value:!0});f=a(875);b.prototype.UYa=function(a){a<this.eF&&(this.FM+=this.eF);this.eF=a;this.$S=!0;};b.prototype.H$a=function(){if(this.$S)return this.SJ?this.jT-this.iT:this.FM+this.eF-this.iT;};b.prototype.refresh=function(){var a;a=this.a$a();f.qa(a)&&this.UYa(a);};b.prototype.hrb=function(){this.SJ||(this.$S&&(this.jT=this.FM+this.eF),this.SJ=!0);};b.prototype.wrb=function(){this.SJ&&(this.$S&&(this.iT+=this.FM+this.eF-this.jT),this.jT=0,this.SJ=!1);};d.RNa=b;},function(g,d,a){var f,h,l;function b(a){this.la=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(30);l=a(63);b.prototype.il=function(a,b){var c;c=this;return new Promise(function(d,f){var g;g=c.la.cg(a,function(){f(new l.Fm(a));});b.then(function(a){d(a);g.cancel();})["catch"](function(a){f(a);g.cancel();});});};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(h.hg))],a);d.YPa=a;},function(g,d,a){var f,h,l,c,k,m,n,r;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);h=Array.prototype.slice;l=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/");h=h.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_");c={};k={};m={};n={};r=/\s+/g;[l,h].forEach(function(a){var d;for(var b=a.length;b--;){d=a[b];c[d]=b<<18;k[d]=b<<12;m[d]=b<<6;n[d]=b;}});b.prototype.encode=function(a){return f.q4(a,l,"=");};b.prototype.decode=function(a){return f.H3(a);};b.H3=function(a){var b,d,f;a=a.replace(r,"");b=a.length;d=a.charAt(b-1);"="!==d&&"."!==d||b--;d=a.charAt(b-1);"="!==d&&"."!==d||b--;d=3*(b>>2);f=0;switch(b%4){case 2:f=1;break;case 3:f=2;break;case 1:throw Error("bad base64");}for(var b=new Uint8Array(d+f),g=0,h=0,l;h<d;){l=c[a[g++]]+k[a[g++]]+m[a[g++]]+n[a[g++]];if(!(0<=l&&16777215>=l))throw Error("bad base64");b[h++]=l>>>16;b[h++]=l>>>8&255;b[h++]=l&255;}if(0<f&&(l=c[a[g++]]+k[a[g++]],b[h++]=l>>>16,1<f&&(l+=m[a[g++]],b[h++]=l>>>8&255),!(0<=l&&16776960>=l&&0===(l&(1<f?255:65535)))))throw Error("bad base64");return b;};b.q4=function(a,b,c){for(var d="",f=0,g=a.length,h=g-2,k;f<h;){k=(a[f++]<<16)+(a[f++]<<8)+a[f++];if(!(0<=k&&16777215>=k))throw Error("not bytes");d+=b[k>>>18]+b[k>>>12&63]+b[k>>>6&63]+b[k&63];}if(f==h){k=(a[f++]<<8)+a[f++];if(!(0<=k&&65535>=k))throw Error("not bytes");d+=b[k>>>10]+b[k>>>4&63]+b[k<<2&63]+c;}else if(f==g-1){k=a[f++];if(!(0<=k&&255>=k))throw Error("not bytes");d+=b[k>>>2]+b[k<<4&63]+c+c;}return d;};h=f=b;h=f=g.__decorate([a.L()],h);d.QFa=h;},function(g,d,a){var f,h;function b(){}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);a=a(1);b.prototype.encode=function(a){return f.q4(a);};b.prototype.decode=function(a){return f.H3(a);};b.q4=function(a){if(!a)throw new TypeError("Invalid byte array");for(var b=0,d,f=a.length,g="";b<f;){d=a[b++];if(!(0<=d&&255>=d))throw Error("bad utf8");if(d&128)if(192===(d&224))d=((d&31)<<6)+(a[b++]&63);else if(224===(d&240))d=((d&15)<<12)+((a[b++]&63)<<6)+(a[b++]&63);else throw Error("unsupported utf8 character");g+=String.fromCharCode(d);}return g;};b.H3=function(a){var b,d,f,g,h;b=a.length;d=0;g=0;if(!(0<=b))throw Error("bad string");for(f=b;f--;)h=a.charCodeAt(f),128>h?d++:d=2048>h?d+2:d+3;d=new Uint8Array(d);for(f=0;f<b;f++)h=a.charCodeAt(f),128>h?d[g++]=h:(2048>h?d[g++]=192|h>>>6:(d[g++]=224|h>>>12,d[g++]=128|h>>>6&63),d[g++]=128|h&63);return d;};h=f=b;h=f=g.__decorate([a.L()],h);d.hSa=h;},function(g,d,a){var f,h,l,c,k,m,n;function b(a,b,c,d){var g;g=this;this.config=a;this.N4a=b;this.Gb=c;this.performance=d;this.akb=function(a){g.DBa=a.sd(g.Qe);};f.Yk(this,"date");f.Yk(this,"performance");this.sZa=void 0!==this.performance&&void 0!==this.performance.timing&&void 0!==this.performance.now;this.DBa=h.sf;this.Gb.addListener(n.Ffa.FBa,this.akb);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(48);h=a(3);l=a(1);c=a(37);k=a(428);m=a(72);n=a(15);na.Object.defineProperties(b.prototype,{Qe:{configurable:!0,enumerable:!0,get:function(){return this.Axa?h.timestamp(this.performance.timing.navigationStart+this.performance.now()):h.zb(this.N4a.now());}},Uaa:{configurable:!0,enumerable:!0,get:function(){return this.Qe.add(this.DBa);}},Axa:{configurable:!0,enumerable:!0,get:function(){return this.config.fEa&&this.sZa;}}});a=b;a=g.__decorate([l.L(),g.__param(0,l.l(k.Hda)),g.__param(1,l.l(c.Zda)),g.__param(2,l.l(m.ZX)),g.__param(3,l.l(c.DZ)),g.__param(3,l.optional())],a);d.$Ga=a;},function(g,d,a){var f,h;function b(a){this.qsb=a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);a=a(115);b.prototype.random=function(){return this.qsb.random();};b.prototype.L$=function(a,b){if("number"!==typeof a)b=a.end,a=a.start;else if("undefined"===typeof b)throw Error("max must be provided for randomInteger API");return Math.round(a+this.random()*(b-a));};h=b;h=g.__decorate([f.L(),g.__param(0,f.l(a.Pia))],h);d.hQa=h;},function(g,d,a){var f,h,l,c,k;function b(a,b){this.Ta=a;this.random=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(3);c=a(41);a=a(115);b.prototype.BC=function(){return this.Ta.Qe.fa(l.Em)*f.xda+Math.floor(this.random.random()*f.xda);};k=f=b;k.xda=1E4;k=f=g.__decorate([h.L(),g.__param(0,h.l(c.Kj)),g.__param(1,h.l(a.wG))],k);d.jLa=k;},function(g,d,a){var h,l,c,k;function b(a){this.jF=a;l.Yk(this,"timers");}function f(a,b){this.jF=a;this.K0a=b;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(48);c=a(37);k=a(3);f.prototype.cancel=function(){this.K0a(this.jF);};b.prototype.Ib=function(a){return this.cg(k.sf,a);};b.prototype.cg=function(a,b){var c;c=this.jF.setTimeout(b,a.fa(k.na));return new f(this.jF,function(a){a.clearTimeout(c);});};b.prototype.gBa=function(a,b){var c;c=this.jF.setInterval(b,a.fa(k.na));return new f(this.jF,function(a){a.clearInterval(c);});};a=b;a=g.__decorate([h.L(),g.__param(0,h.l(c.uja))],a);d.RQa=a;},function(g,d,a){var b,f,h,l,c,k,m,n,r,y,A,K,x,I,G,B,F,S,V,D,Q,W,ca,P,X,R,Y,da,Z,ba,fa,O,ra,Aa,Ha,Ga,ga,ha,ka,la,ma,na,qa,pa,ua,ta,va,wa,xa,za,Da,Ja,La,Ma,Oa,Pa,Qa,Ra,Ta,Wa,Za;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(37);f=a(41);h=a(30);l=a(116);c=a(115);k=a(883);m=a(882);n=a(881);r=a(880);y=a(98);A=a(99);K=a(40);x=a(22);I=a(20);G=a(72);B=a(63);F=a(427);S=a(879);V=a(231);D=a(878);Q=a(426);W=a(877);ca=a(138);P=a(425);X=a(876);R=a(229);Y=a(97);da=a(872);Z=a(23);ba=a(424);fa=a(871);O=a(870);ra=a(88);Aa=a(869);Ha=a(5);Ga=a(428);ga=a(868);ha=a(114);ka=a(867);la=a(423);ma=a(866);na=a(865);qa=a(96);pa=a(9);ua=a(864);ta=a(421);va=a(420);wa=a(863);xa=a(419);za=a(17);Da=a(67);Ja=a(62);La=a(418);Ma=a(862);Oa=a(861);Pa=a(417);Qa=a(416);Ra=a(130);Ta=a(860);Wa=a(859);Za=a(858);d.G1a=new g.Wb(function(a){a(b.Mt).Eh(JSON);a(b.uja).Eh(M);a(c.Pia).Eh(Math);a(b.Ufa).Eh(pa.mZ);a(b.DZ).Eh(pa.er);a(b.Zda).Eh(Date);a(b.VA).Eh(pa.Nj);a(b.YMa).Eh(pa.SA);a(Ga.Hda).to(ga.ZGa).$();a(Z.Je).to(da.fFa).$();a(f.Kj).to(r.$Ga).$();a(h.hg).to(k.RQa).$();a(l.MA).to(m.jLa).$();a(B.ex).to(W.YPa).$();a(c.wG).to(n.hQa).$();a(ra.At).to(O.xIa).$();a(ra.$da).to(Aa.wIa).$();a(y.ox).to(S.hSa).$();a(A.Hw).to(V.pX).$();a(K.Jj).to(D.QFa).$();a(x.Ye).to(Q.ija).$();a(I.de).Eh(ca.Lt);a(Pa.EN).to(Qa.CJa).$();a(G.FN).to(P.Lj).Z6();a(G.JF).to(P.Lj).$();a(G.ZX).to(P.Lj).$();a(R.WZ).to(Y.kx).$();a(ba.Rda).to(fa.lHa).$();a(ha.nx).to(ka.NRa).$();a("Factory<LoggerFactory>").Ssb(Ha.kb);a(la.bea).to(ma.yIa).$();a(qa.eB).Kf(function(a){return function(b){return new na.zRa(a.$b.get(Z.Je),a.$b.get(h.hg),b);};});a(Wa.uIa).Kf(function(a){return function(b){return new Za.vIa(a.$b.get(h.hg),b);};});a(ua.JZ).Tsb(ta.eia);a(ua.SPa).Kf(function(a){var b;b=a.$b.get(ua.JZ);return function(){return new b(!1);};});a(ua.TPa).Kf(function(a){var b;b=a.$b.get(ua.JZ);return function(){return new b(!0);};});a(va.hja).Kf(function(){return function(a){return new wa.eSa(a);};});a(Ja.uk).Kf(function(a){return function(b,c,d){var f,g,h;f=a.$b.get(ra.At);g=a.$b.get(za.gd);h=a.$b.get(Da.Rn);return new xa.HPa(f,g,h,La.uga,b,c,d);};});a(F.Xga).Kf(function(){return function(a){return new X.RNa(a);};});a(Ma.gSa).to(Oa.fSa).$();a(Ra.fB).Kf(function(a){return function(b,c){return new Ta.LRa(a.$b.get(h.hg),b,c);};});});},function(g,d,a){var b,f,h,l,c,k,m,n,r,y,A,K,x,I,G,B,F,S,M,D,Q,W,ca,P,X,R,Y,da,Z,ba,fa,O,ra,Aa;Object.defineProperty(d,"__esModule",{value:!0});b=a(884);f=a(857);h=a(846);l=a(841);c=a(835);k=a(832);m=a(828);n=a(816);r=a(805);y=a(802);A=a(798);K=a(796);x=a(648);I=a(244);G=a(645);B=a(641);F=a(627);S=a(620);M=a(613);D=a(605);Q=a(599);W=a(243);ca=a(591);P=a(589);X=a(582);R=a(578);Y=a(570);da=a(568);Z=a(563);ba=a(544);fa=a(528);O=a(524);ra=a(520);Aa=a(513);d.Ufb=function(a){a.load(b.G1a,k.hA,f.Dgb,m.CR,r.UQ,h.KK,l.ff,c.Tub,n.storage,y.d2,A.o0a,K.Tgb,x.vj,I.Oh,G.wh,B.Agb,F.Mib,S.Q9a,M.Gmb,D.qE,Q.$6a,W.eme,ca.crypto,P.Sd,X.Hc,R.EZa,Y.wib,da.Ykb,Z.j,ba.F1a,fa.ttb,O.sj,ra.Li,Aa.VZa);};},function(g,d,a){var h,l;function b(a,b,d,f,g){this.Ba=a;this.config=b;this.la=d;this.Ss=f;this.name=g;}function f(a,b,d,f){var c;c=this;this.Ba=a;this.la=b;this.timeout=d;this.Osb=f;this.Ucb=function(){c.gI=!0;c.Sy.cancel();c.Osb();};this.startTime=this.Ba.ac();this.Sy=this.la.cg(this.timeout,function(){c.Ucb();});this.gI=!1;}Object.defineProperty(d,"__esModule",{value:!0});h=a(2);l=a(89);f.prototype.stop=function(){this.gI||(this.qW=this.Ba.ac(),this.Sy.cancel());};na.Object.defineProperties(f.prototype,{ara:{configurable:!0,enumerable:!0,get:function(){if(this.qW&&this.startTime)return this.qW.sd(this.startTime);}}});b.prototype.Q0a=function(){var a;a=this;this.rC=new f(this.Ba,this.la,this.config.Y6,function(){a.Ss(new l.tf(h.K.sia,h.H.fJa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.Y6+"ms"));});};b.prototype.P0a=function(){this.rC&&this.rC.stop();};b.prototype.Rpb=function(){this.VL=this.Ba.ac();};b.prototype.R0a=function(){var a;a=this;this.MW=new f(this.Ba,this.la,this.config.Caa,function(){a.Ss(new l.tf(h.K.sia,h.H.eJa,void 0,"Eme "+a.name+" event expired with an expiry of "+a.config.Caa+"ms"));});};b.prototype.Ioa=function(){this.MW&&this.MW.stop();};na.Object.defineProperties(b.prototype,{Ac:{configurable:!0,enumerable:!0,get:function(){var a,b;a={};if(this.rC){b=this.rC.ara;b&&(a.kxa=b);this.VL&&this.rC.qW&&(a.VL=this.VL.sd(this.rC.qW));}this.MW&&(b=this.MW.ara)&&(a.jpa=b);return a;}}});d.pJa=b;},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.Wqa=function(a,d){for(var b=a.next(),f;b&&!b.done&&b.value;)f=b.value[0],b=b.value[1],d&&d(f,b),b=a.next();};d.sJa=a;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.nJa="EmeApiSymbol";},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=d.Zq||(d.Zq={});g[g.aEa=0]="usable";g[g.A8a=1]="expired";g[g.Rnb=2]="released";g[g.Eya=3]="outputRestricted";g[g.pkb=4]="outputDownscaled";g[g.srb=5]="statusPending";g[g.deb=6]="internalError";},function(g,d,a){var f,h,l,c,k,m,n,r,y,A,K,x,I,G,B,F,S,M,D,Q,W;function b(a,b,d,f,g,k,n,p,m){var q;q=this;this.Ba=b;this.Hl=d;this.config=f;this.zf=g;this.fi=k;this.po=n;this.la=p;this.Bj=m;this.onMessage=function(a){var b,c,d;b=q.fi.e3(a);c=b.message;d=b.g9;q.XV(b.sessionId);q.yv=q.fi.yv(b);q.log.trace("Received "+a.type+" event",{messageType:d,isIntermediateChallenge:q.yv});"license-renewal"===d&&(q.log.trace("Received a renewal request"),q.zh=A.Zi.Dm,q.ef=Q.Oz);q.ef!==Q.Ef||q.yv||(q.X7={po:q.po,data:c},q.Fl(K.np.eAa));q.ef===Q.Oz&&q.Fl(K.np.fAa);q.nK&&(q.nK.next({Op:c,Moa:d,zh:q.zh}),q.zh!==A.Zi.Dm||q.yv||(q.nK.complete(),q.nK=void 0));q.ef===Q.stop&&(q.Xg.P0a(),q.config.di&&q.ML&&(q.ML.next({Op:c}),q.ML.complete(),q.ML=void 0));};this.sya=function(a){var b,d;b=q.fi.d3(a).I7;q.XV(a.target.sessionId);q.log.trace("Received event: "+a.type,{keySystem:a.target.keySystem});try{S.sJa.Wqa(b,function(a,b){q.log.trace("key status: "+b);b=W[b];q.Jva.next({hK:new Uint8Array(a),value:b.status});b.error&&(d=new F.tf(b.error),q.D7(d));});}catch(Ga){d=new F.tf(c.K.xOa);d.HI(Ga);}d?q.E7(d):(q.fi.bR()||q.Eva(),q.zh!==A.Zi.Ot||q.fi.V1()||(q.log.info("Kicking off license renewal",{timeout:q.config.Gv}),setTimeout(function(){q.uAa();},q.config.Gv.fa(l.na))));};this.hE=function(a){var b;b=q.fi.lo(a);q.log.error("Received event: "+a.type,b);q.Ks(b);q.E7(b);q.Xh||q.Xk||q.D7(b);};this.Ks=function(a){q.Xh&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.fi.lo(b));q.Xh&&(q.Xh.error(a),q.Xh=void 0);},function(){q.log.trace("Issuing a generate challenge error");q.Xh&&(q.Xh.error(a),q.Xh=void 0);});};this.Dva=function(){q.Xh&&(q.Xh.complete(),q.Xh=void 0);};this.E7=function(a){q.Xk&&(q.log.error("Failed to add license",a),q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.fi.lo(b));q.ef===Q.Oz&&q.Fl(K.np.hna);q.Xh=void 0;q.Xk&&(q.Xk.error(a),q.Xk=void 0);},function(){q.log.trace("Issuing a license error");q.Xh=void 0;q.Xk&&(q.Xk.error(a),q.Xk=void 0);}));};this.Eva=function(){q.Xk&&(q.log.info("Successfully added license"),q.ef===Q.Ef?q.Fl(K.np.ana):q.ef===Q.Oz&&q.Fl(K.np.gna),q.Xk.complete(),q.Xk=void 0);};this.D7=function(a){q.uo&&q.close().subscribe(void 0,function(b){q.log.error("EmeSession closed with an error.",q.fi.lo(b));q.Xh=void 0;q.Xk=void 0;q.uo&&(q.uo.next(a),q.uo.complete(),q.uo=void 0);},function(){q.log.trace("Issuing a CDM error");q.Xh=void 0;q.Xk=void 0;q.uo&&(q.uo.next(a),q.uo.complete(),q.uo=void 0);});};this.Fl=function(a){q.Ac.push({time:q.Ba.ac(),Zhb:a});};this.log=a.ib("EmeSession");this.nK=new h.bj();this.config.di&&(this.ML=new h.bj());this.Jva=new h.xG();this.uo=new h.bj();this.ef=Q.Otb;this.Ac=[];}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(86);l=a(3);c=a(2);k=a(23);m=a(5);n=a(40);r=a(30);y=a(64);A=a(78);K=a(429);x=a(889);I=a(168);G=a(232);B=a(888);F=a(89);S=a(887);M=a(886);D=a(63);(function(a){a[a.Otb=0]="unknown";a[a.create=1]="create";a[a.load=2]="load";a[a.Ef=3]="license";a[a.Oz=4]="renewal";a[a.stop=5]="stop";a[a.closed=6]="closed";}(Q||(Q={})));W={usable:{status:x.Zq.aEa},expired:{status:x.Zq.A8a,error:c.K.fha},released:{status:x.Zq.Rnb},"output-not-allowed":{status:x.Zq.Eya,error:c.K.gha},"output-restricted":{status:x.Zq.Eya},"output-downscaled":{status:x.Zq.pkb},"status-pending":{status:x.Zq.srb},"internal-error":{status:x.Zq.deb,error:c.K.wOa}};b.prototype.nD=function(){return this.context.Md;};b.prototype.pv=function(){return this.sessionId;};b.prototype.close=function(){var a;a=this;this.ef=Q.closed;this.Ac=[];return this.zf.wva()?(this.log.trace("Closing the session"),this.zf.rAa(this.onMessage),this.zf.pAa(this.sya),this.zf.oAa(this.hE),this.fk=void 0,h.Ca.create(function(b){a.Bj.il(a.config.xna,a.zf.close()).then(function(){a.log.info("Closed the session");b.complete();})["catch"](function(d){a.log.error("Close failed",d);d=a.fi.lo(d);d.code=c.K.zOa;b.error(d);});})):h.Ca.empty();};b.prototype.bfb=function(){return this.Jva.J1();};b.prototype.cJ=function(){return this.uo?this.uo.J1():void 0;};b.prototype.Vp=function(){return this.po;};b.prototype.KJ=function(){return void 0!==this.Ef;};b.prototype.ms=function(a,b,d,f){var g;g=this;this.zh=f;this.ef=Q.create;this.context=a;this.Fl(K.np.Uva);return h.Ca.create(function(h){(d.lua()?Promise.resolve():g.Bj.il(g.config.yna,g.zf.Jpa(a,b)).then(function(a){g.log.trace("Created media keys");d.Zz(a);return g.yZa(a);})).then(function(){g.fk=d.fk;try{g.zf.ms(g.fk,g.fi.g6(f));g.zf.bna(g.onMessage);g.zf.Zma(g.sya);g.zf.Wma(g.hE);g.XV(g.zf.pv());h.next(g);h.complete();}catch(ea){h.error(new F.tf(c.K.ZIa,c.H.Dg,void 0,"Unable to create a persisted key session",ea));}})["catch"](function(a){a.code&&a.Bc?h.error(a):h.error(new F.tf(c.K.pea,a instanceof D.Fm?c.H.MF:c.H.Dg,void 0,"Unable to create MediaKeys. "+a.message,a));});});};b.prototype.nqb=function(a){this.tg=a;this.log.Tma("xid",a.oa);};b.prototype.yS=function(a){var b;b=this;this.ef=Q.Ef;this.log.trace("Generating a license challenge");this.Xh=new h.bj();if(!a)return this.L2(new F.tf(c.K.sea,c.H.SX));if(0===a.length)return this.L2(new F.tf(c.K.sea,c.H.RX));this.Bj.il(this.config.zna,this.zf.rsa("cenc",a)).then(function(){b.XV(b.zf.pv());})["catch"](function(a){var d;d=new F.tf(c.K.rea,a instanceof D.Fm?c.H.MF:c.H.Dg);d.message="Unable to generate request.";d.HI(a);b.log.error("Unable to generate a license request",d);b.Ks(d);});this.log.trace("Returning the challenge subject");return this.Xh;};b.prototype.$ma=function(a){var b;b=this;a instanceof Uint8Array?0===a.length?(this.log.error("The license buffer is empty"),this.Ks(new F.tf(c.K.tea,c.H.RX))):this.yv?this.Bj.il(this.config.D1,this.zf.update(a)).then(function(){b.log.trace("Successfully updated CDM with intermediate server response");})["catch"](function(a){a=b.fi.lo(a);a.code=c.K.CN;a.message="Unable to update the CDM intermediate challenge";b.log.error("Unable to update the CDM intermediate challenge",a);b.Ks(a);}):(this.ef===Q.Ef&&(this.Fl(K.np.dAa),this.Ef=a,this.Dva()),this.ef===Q.Oz&&(this.Fl(K.np.gAa),this.Ef=a,this.H1())):this.ef===Q.Oz?(this.Fl(K.np.hAa),this.D7(a)):this.Ks(a);};b.prototype.H1=function(){var a,b;a=this;if(!this.Ef)return this.L2(new F.tf(c.K.tea,c.H.SX));this.Xk=new h.bj();b=this.Ef;this.Ef=void 0;this.Bj.il(this.config.D1,this.zf.update(b)).then(function(){a.fi.bR()&&a.Eva();})["catch"](function(b){b=a.fi.lo(b);b.code=c.K.jha;b.message="Unable to update the EME";a.log.error(b.message,b);a.E7(b);});return this.Xk;};b.prototype.oK=function(){return this.nK;};b.prototype.X9a=function(){var a;a=this;if(this.ef===Q.Ef&&this.zh===A.Zi.Ot)return h.Ca.empty();this.ef=Q.stop;this.log.trace("Generating a secure stop challenge");this.Xh=new h.bj();this.Xg=new M.pJa(this.Ba,this.config,this.la,function(){a.log.error("got a timeout error");},"non-persisted");this.Xg.Q0a();this.zf.remove().then(function(){a.log.trace("Call to 'remove' on key session succeeded");})["catch"](function(b){var d;d=a.fi.lo(b);d.code=c.K.vea;d.Bc=c.H.Dg;d.message="Call to 'remove' on key session failed";a.log.error("Call to 'remove' on key session failed",{error:b});a.Ks(d);});return this.Xh;};b.prototype.ina=function(a){a&&a.constructor!==Uint8Array?this.Ks(a):a?0===a.length?(this.log.error("The secure stop buffer is empty"),this.Ks(new F.tf(c.K.uea,c.H.RX))):(this.log.trace("Secure stop is ready to apply"),this.mBa=a,this.Xg.Rpb(),this.Dva()):(this.log.error("The secure stop buffer is undefined"),this.Ks(new F.tf(c.K.uea,c.H.SX)));};b.prototype.zZa=function(){var a;a=this;if(!this.mBa)return h.Ca.from([this]);this.log.trace("Setting the secure stop data");return h.Ca.create(function(b){a.Xg.R0a();a.zf.update(a.mBa).then(function(){a.Xg.Ioa();a.log.info("Successfully released the license and securely removed the key session");b.next(a);b.complete();})["catch"](function(d){var f;a.Xg.Ioa();f=a.fi.lo(d);f.code=c.K.CN;f.Bc=c.H.Dg;f.message="Unable to update the EME with secure stop data";a.log.error("Unable to update the EME",{error:d});b.error(f);});});};b.prototype.yZa=function(a){var b,c;b=this;c=this.fi.v5();return c?(c=this.Hl.decode(c),this.Bj.il(this.config.Ana,this.zf.VBa(a,c)).then(function(a){b.log.trace("Set the server certificate",{result:a});})):Promise.resolve();};b.prototype.XV=function(a){a&&a!==this.sessionId&&(this.sessionId&&this.log.warn("sessionId changed from "+this.sessionId+" to "+a),this.sessionId=a,this.log.Tma("sessionId",a));};b.prototype.uAa=function(){this.log.trace("Initiating a renewal request");this.zh=A.Zi.Dm;this.ef=Q.Oz;this.fi.l7(this.zf);};b.prototype.L2=function(a){var b;b=this;return h.Ca.create(function(c){b.close().subscribe(void 0,function(){c.error(a);},function(){c.error(a);});});};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(m.kb)),g.__param(1,f.l(k.Je)),g.__param(2,f.l(n.Jj)),g.__param(3,f.l(y.Mn)),g.__param(4,f.l(B.nJa)),g.__param(5,f.l(G.TIa)),g.__param(6,f.l(I.VIa)),g.__param(7,f.l(r.hg)),g.__param(8,f.l(D.ex))],a);d.rJa=a;},function(g,d,a){var f,h,l,c,k,m,n,r,y;function b(a,b,c,d,f,g,h){this.Ko=a;this.Ba=b;this.he=c;this.config=d;this.la=f;this.Bj=g;this.pn=h;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(5);l=a(23);c=a(40);k=a(64);m=a(30);n=a(63);r=a(890);a=a(118);b.prototype.create=function(){var a;a=this;return Promise.all([this.pn.dab(),this.pn.cab(),this.pn.Vp()]).then(function(b){var c,d;c=P(b);b=c.next().value;d=c.next().value;c=c.next().value;return new r.rJa(a.Ko,a.Ba,a.he,a.config,b,d,c,a.la,a.Bj);});};y=b;y=g.__decorate([f.L(),g.__param(0,f.l(h.kb)),g.__param(1,f.l(l.Je)),g.__param(2,f.l(c.Jj)),g.__param(3,f.l(k.Mn)),g.__param(4,f.l(m.hg)),g.__param(5,f.l(n.ex)),g.__param(6,f.l(a.Yw))],y);d.qJa=y;},function(g,d){function a(a){this.Ija=a;this.Yka=0;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.next=function(){return this.Ija.length>this.Yka?{value:this.Ija[this.Yka++],done:!1}:{done:!0};};d.iFa=a;},function(g,d,a){var f,h,l,c,k,m,n,r,y,A;function b(a,b,c,d){this.Sd=a;this.th=b;this.um=c;this.Pg=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(22);c=a(99);k=a(98);m=a(892);n=a(89);r=a(63);y=a(78);a=a(64);b.prototype.bR=function(){return!1;};b.prototype.V1=function(){return!1;};b.prototype.g6=function(a){return this.Pg.di&&a===y.Zi.Dm?"persistent-usage-record":"temporary";};b.prototype.v5=function(){if(this.Pg.Wz)return this.Pg.Wz;};b.prototype.b6=function(){return[];};b.prototype.yv=function(a){return this.Sd.Qu(a.message,this.um.decode("certificate"));};b.prototype.l7=function(a){a.update(this.um.decode("renew")).then(function(){});};b.prototype.e3=function(a){return{type:a.type,sessionId:a.target.sessionId,message:a.message,g9:"license-request"};};b.prototype.d3=function(a){var b,c,d,f;b=a.type;a=a.target.sessionId;c=m.iFa;d=[1];f=new ArrayBuffer(d.length);f=new Uint8Array(f);f.set(d);return{type:b,sessionId:a,I7:new c([[f,"usable"]])};};b.prototype.lo=function(a){var b,c,d;b=a.target.error;b&&(c=b.systemCode,d=b.code);b=new n.tf(h.K.gO,a instanceof r.Fm?h.H.MF:h.H.DA,c?this.th.rJ(c,4):d,"",b);b.HI(a);return b;};A=b;A=g.__decorate([f.L(),g.__param(0,f.l(l.Ye)),g.__param(1,f.l(c.Hw)),g.__param(2,f.l(k.ox)),g.__param(3,f.l(a.Mn))],A);d.NQa=A;},function(g,d,a){var f,h,l,c,k,m,n,r,y;function b(a,b,c,d){var f;f=this;this.xc=a;this.SW=b;this.Hl=c;this.hva=function(a){return/com.apple.fps/.test(a)&&!/com.apple.fps.2_0/.test(a);};this.w4a=function(a){var b;a=function(a){var c,d;function b(a,b,c){var d,f;d=new Uint8Array("piff"==a?88:72);f=new h.CA(d);f.Tq(12);f.Rq("frma");f.Rq("avc1");f.Tq(20);f.Rq("schm");f.yF(0);f.yF(0);f.Rq(a);f.Tq(b);"piff"==a?(f.Tq(56),f.Rq("schi"),f.Tq(48),f.Rq("uuid"),f.uA(new Uint8Array([137,116,219,206,123,231,76,81,132,249,113,72,249,136,37,84]))):(f.Tq(40),f.Rq("schi"),f.Tq(32),f.Rq("tenc"));f.yF(0);f.yF(0);f.Tq(264);f.uA(c);return d;}c=b("piff",65537,a);c=f.SW.decode(f.Hl.encode(c));a=b("cenc",65536,a);a=f.SW.decode(f.Hl.encode(a));d=new Uint8Array(7+c.length+8+a.length+5);d.set([91,10,32,32,32,32,34],0);d.set(c,7);d.set([34,44,10,32,32,32,32,34],7+c.length);d.set(a,7+c.length+8);d.set([34,10,32,32,93],7+c.length+8+a.length);return d;}(a);b=new Uint8Array(13+a.length+2);b.set([123,10,32,32,34,115,105,110,102,34,32,58,32]);b.set(a,13);b.set([10,125],13+a.length);return b;};this.Kab=function(a){var b;a=a.subarray(14,30);a=f.Hl.decode(String.fromCharCode.apply(null,a));a=a.subarray(4);b=new Uint8Array(16);b.set(a);return b;};this.wob=function(){f.gj.forEach(function(a){f.S&&f.S.addEventListener(a.name,a.vv);});f.gj.length=0;};this.gj=[];this.log=d.ib("EmeFactory");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(131);l=a(1);c=a(2);k=a(22);m=a(98);n=a(40);r=a(5);y=a(9);b.prototype.pv=function(){if(this.S)return this.S.sessionId;};b.prototype.AAa=function(a){this.XG=a;return Promise.resolve({});};b.prototype.Jpa=function(a){var d;function b(){var b,c;b=d.xc.createElement("DIV","position:relative;width:100%;height:100%;overflow:hidden",void 0,void 0);c=b.lastChild;d.oma=b;a.Ma=y.Ed.createElement("VIDEO");c?d.oma.insertBefore(a.Ma,c):d.oma.appendChild(a.Ma);}d=this;return new Promise(function(f,g){function h(){try{d.Ar=new M.WebKitMediaKeys(d.XG);a.Ma.webkitSetMediaKeys(d.Ar);f(d.Ar);}catch(T){d.log.error("CREATE: Exception on webkitSetMediaKeys",T);g({X:!1,code:c.K.NZ,Oa:d.xc.od(T)});}}if(d.hva(d.XG))try{d.Ar=new M.WebKitMediaKeys(d.XG);a.Ma&&a.Ma.webkitSetMediaKeys(d.Ar);f(d.Ar);}catch(T){g({X:!1,code:c.K.NZ,Oa:d.xc.od(T)});}else{try{d.Ar=new M.WebKitMediaKeys(d.XG);}catch(T){g({X:!1,code:c.K.NZ,Oa:d.xc.od(T)});}a.Ma?a.Ma.webkitSetMediaKeys(d.Ar):(b(),d.Ne=new y.SA(),d.Ne.addEventListener("sourceopen",h),d.si=URL.createObjectURL(d.Ne),a.Ma.src=d.si);f(d.Ar);}});};b.prototype.ms=function(){};b.prototype.wva=function(){return!!this.S;};b.prototype.VBa=function(){return Promise.resolve();};b.prototype.rsa=function(a,b){try{return this.hva(this.XG)&&(b=this.w4a(this.Kab(b))),this.S=this.Ar.createSession("video/mp4",b,null),this.wob(),Promise.resolve();}catch(x){return Promise.reject(x);}};b.prototype.update=function(a){if(!this.S)throw ReferenceError("Unable to update the EME with a response, key session is not valid");try{return this.S.update(a),Promise.resolve();}catch(K){return Promise.reject(K);}};b.prototype.load=function(){return Promise.resolve(!0);};b.prototype.close=function(){if(!this.S)throw ReferenceError("Unable to close a key session, key session is not valid");try{return this.S.close(),Promise.resolve();}catch(A){return Promise.reject(A);}finally{this.S=void 0;}};b.prototype.remove=function(){if(!this.S)throw ReferenceError("Unable to remove a key session, key session is not valid");try{return this.S.close(),Promise.resolve();}catch(A){return Promise.reject(A);}};b.prototype.bna=function(a){this.S?this.S.addEventListener(f.FA,a):this.gj.push({name:f.FA,vv:a});};b.prototype.Zma=function(a){this.S?this.S.addEventListener(f.UX,a):this.gj.push({name:f.UX,vv:a});};b.prototype.Wma=function(a){this.S?this.S.addEventListener(f.EA,a):this.gj.push({name:f.EA,vv:a});};b.prototype.rAa=function(a){if(!this.S)throw ReferenceError("Unable to remove message handler, key session is not valid");this.S.removeEventListener(f.FA,a);};b.prototype.pAa=function(a){if(!this.S)throw ReferenceError("Unable to remove key status handler, key session is not valid");this.S.removeEventListener(f.UX,a);};b.prototype.oAa=function(a){if(!this.S)throw ReferenceError("Unable to remove error handler, key session is not valid");this.S.removeEventListener(f.EA,a);};a=f=b;a.FA="webkitkeymessage";a.UX="webkitkeyadded";a.EA="webkitkeyerror";a=f=g.__decorate([l.L(),g.__param(0,l.l(k.Ye)),g.__param(1,l.l(m.ox)),g.__param(2,l.l(n.Jj)),g.__param(3,l.l(r.kb))],a);d.NJa=a;},function(g,d,a){var f,h,l,c,k,m,n,r,y;function b(a,b,c,d){this.Sd=a;this.th=b;this.Pg=c;this.config=d;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(22);c=a(99);k=a(232);m=a(89);n=a(63);r=a(64);a=a(17);b.prototype.bR=function(){return!0;};b.prototype.V1=function(){return!0;};b.prototype.g6=function(){return"temporary";};b.prototype.v5=function(){return this.Pg.Wz?this.Pg.Wz:"Cr0CCAMSEOVEukALwQ8307Y2+LVP+0MYh/HPkwUijgIwggEKAoIBAQDm875btoWUbGqQD8eAGuBlGY+Pxo8YF1LQR+Ex0pDONMet8EHslcZRBKNQ/09RZFTP0vrYimyYiBmk9GG+S0wB3CRITgweNE15cD33MQYyS3zpBd4z+sCJam2+jj1ZA4uijE2dxGC+gRBRnw9WoPyw7D8RuhGSJ95OEtzg3Ho+mEsxuE5xg9LM4+Zuro/9msz2bFgJUjQUVHo5j+k4qLWu4ObugFmc9DLIAohL58UR5k0XnvizulOHbMMxdzna9lwTw/4SALadEV/CZXBmswUtBgATDKNqjXwokohncpdsWSauH6vfS6FXwizQoZJ9TdjSGC60rUB2t+aYDm74cIuxAgMBAAE6EHRlc3QubmV0ZmxpeC5jb20SgAOE0y8yWw2Win6M2/bw7+aqVuQPwzS/YG5ySYvwCGQd0Dltr3hpik98WijUODUr6PxMn1ZYXOLo3eED6xYGM7Riza8XskRdCfF8xjj7L7/THPbixyn4mULsttSmWFhexzXnSeKqQHuoKmerqu0nu39iW3pcxDV/K7E6aaSr5ID0SCi7KRcL9BCUCz1g9c43sNj46BhMCWJSm0mx1XFDcoKZWhpj5FAgU4Q4e6f+S8eX39nf6D6SJRb4ap7Znzn7preIvmS93xWjm75I6UBVQGo6pn4qWNCgLYlGGCQCUm5tg566j+/g5jvYZkTJvbiZFwtjMW5njbSRwB3W4CrKoyxw4qsJNSaZRTKAvSjTKdqVDXV/U5HK7SaBA6iJ981/aforXbd2vZlRXO/2S+Maa2mHULzsD+S5l4/YGpSt7PnkCe25F+nAovtl/ogZgjMeEdFyd/9YMYjOS4krYmwp3yJ7m9ZzYCQ6I8RQN4x/yLlHG5RH/+WNLNUs6JAZ0fFdCmw=";};b.prototype.b6=function(){var a,b;a=[{contentType:k.pl,robustness:"HW_SECURE_DECODE"},{contentType:k.pl,robustness:"SW_SECURE_DECODE"},{contentType:k.pl,robustness:"SW_SECURE_CRYPTO"}];b=[{contentType:k.pl,robustness:"SW_SECURE_CRYPTO"}];return[{initDataTypes:["cenc"],persistentState:"required",audioCapabilities:[{contentType:k.Vw,robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:this.config().esa?b:a},{initDataTypes:["cenc"],persistentState:"required"}];};b.prototype.yv=function(a){return this.Sd.Qu(a.message,new Uint8Array([8,4]));};b.prototype.l7=function(){};b.prototype.e3=function(a){return{type:a.type,sessionId:a.target.sessionId,message:new Uint8Array(a.message),g9:a.messageType};};b.prototype.d3=function(a){return{type:a.type,sessionId:a.target.sessionId,I7:a.target.keyStatuses.entries()};};b.prototype.lo=function(a){var b,c,d;b=new m.tf(h.K.gO);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Bc=1<=c&&9>=c?h.H.DA+c:h.H.DA):b.Bc=a instanceof n.Fm?h.H.MF:h.H.Dg;try{d=a.message.match(/\((\d*)\)/)[1];b.Tf=this.th.rJ(d,4);}catch(G){}b.HI(a);return b;};y=b;y=g.__decorate([f.L(),g.__param(0,f.l(l.Ye)),g.__param(1,f.l(c.Hw)),g.__param(2,f.l(r.Mn)),g.__param(3,f.l(a.gd))],y);d.UGa=y;},function(g,d,a){var f,h;function b(a){return h.KZ.apply(this,arguments)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(430);ba(b,h.KZ);a=b;a=g.__decorate([f.L()],a);d.OPa=a;},function(g,d,a){var f,h,l,c,k,m,n,r,y;function b(a,b,c){this.th=a;this.he=b;this.Pg=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(99);c=a(40);k=a(232);m=a(89);n=a(78);r=a(64);y=a(63);b.prototype.bR=function(){return!0;};b.prototype.V1=function(){return!1;};b.prototype.g6=function(a){return this.Pg.di&&a===n.Zi.Dm?"persistent-usage-record":"temporary";};b.prototype.v5=function(){if(this.Pg.Wz)return this.Pg.Wz;};b.prototype.b6=function(){return[{initDataTypes:["cenc"],audioCapabilities:[{contentType:k.Vw}],videoCapabilities:[{contentType:k.pl}],sessionTypes:["temporary","persistent-usage-record"]}];};b.prototype.yv=function(){return!1;};b.prototype.l7=function(){};b.prototype.e3=function(a){var b;b=new Uint8Array(a.message);b=this.F4(b,"PlayReadyKeyMessage","Challenge");b=this.he.decode(b);return{type:a.type,sessionId:a.target.sessionId,message:b,g9:a.messageType};};b.prototype.d3=function(a){return{type:a.type,sessionId:a.target.sessionId,I7:a.target.keyStatuses.entries()};};b.prototype.lo=function(a){var b,c;b=new m.tf(h.K.gO);c=a.code;null!=c&&void 0!==c?(c=parseInt(c,10),b.Bc=1<=c&&9>=c?h.H.DA+c:h.H.DA):b.Bc=a instanceof y.Fm?h.H.MF:h.H.Dg;try{b.Tf=this.th.rJ(a.target&&a.target.error&&a.target.error.systemCode,4);}catch(I){}b.HI(a);return b;};b.prototype.F4=function(a,b){var c,d,f,g;for(var c=1;c<arguments.length;++c);for(c=1;c<arguments.length;c++);c="";f=a.length;for(d=0;d<f;d++)g=a[d],0<g&&(c+=String.fromCharCode(g));f="\\s*(.*)\\s*";for(d=arguments.length-1;0<d;d--){g=arguments[d];if(0>c.search(g))return"";g="(?:[^:].*:|)"+g;f="[\\s\\S]*<"+g+"[^>]*>"+f+"</"+g+">[\\s\\S]*";}return(c=c.match(new RegExp(f)))?c[1]:"";};a=b;a=g.__decorate([f.L(),g.__param(0,f.l(l.Hw)),g.__param(1,f.l(c.Jj)),g.__param(2,f.l(r.Mn))],a);d.mJa=a;},function(g,d,a){var f,h,l,c,k,m,n,r,y,A,B,x,I,G,F,T,S,M,D,Q;function b(a,b,c,d,f,g,h,k,l){this.Ko=a;this.Sd=b;this.um=c;this.th=d;this.he=f;this.is=g;this.BU=h;this.config=k;this.Pg=l;this.log=this.Ko.ib("MediaKeySystemAccessServices");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(2);l=a(5);c=a(89);k=a(168);m=a(897);n=a(896);r=a(895);y=a(430);A=a(22);B=a(99);x=a(40);I=a(20);G=a(37);F=a(894);T=a(893);S=a(98);M=a(17);D=a(136);a=a(64);b.prototype.AJ=function(){this.xE||(this.xE=this.Mob());return this.xE;};b.prototype.k4a=function(a){var b;b=this;return new Promise(function(d,f){var g,k;g=D.jb.A5(a);k=b.$sa(g);g=b.Xsa(g);k.AAa(a,g.b6()).then(function(c){b.log.trace("Created the media keys system access",{keySystem:a,supportedconfig:c.getConfiguration?JSON.stringify(c.getConfiguration()):void 0});d(c);})["catch"](function(d){b.log.error("Unable to create the media key system access object",{keySystem:a,error:d.message});f(new c.tf(h.K.qea,h.H.Dg,void 0,"Unable to create media keys system access. "+d.message,d));});});};b.prototype.Vp=function(){var a;a=this;return this.AJ().then(function(b){return a.Ysa(b);});};b.prototype.bab=function(){var a,b;a=this;b=this.config().Kva||[this.config().Md];if(1<b.length)return this.AJ().then(function(b){return a.Ysa(b);}).then(function(a){return D.jb.Wsa(a);});b=D.jb.A5(b[0]);return Promise.resolve(D.jb.Wsa(b));};b.prototype.cab=function(){var a;a=this;return this.Vp().then(function(b){return a.Xsa(b);});};b.prototype.dab=function(){var a;a=this;return this.Vp().then(function(b){return a.$sa(b);});};b.prototype.Ysa=function(a){return D.jb.A5(a.keySystem);};b.prototype.Xsa=function(a){switch(a){case k.Ln.Cz:return new m.mJa(this.th,this.he,this.Pg);case k.Ln.gD:return new T.NQa(this.Sd,this.th,this.um,this.Pg);default:return new r.UGa(this.Sd,this.th,this.Pg,this.config);}};b.prototype.$sa=function(a){switch(a){case k.Ln.Cz:return new n.OPa(this.BU,this.is);case k.Ln.gD:return new F.NJa(this.Sd,this.um,this.he,this.Ko);default:return new y.KZ(this.BU,this.is);}};b.prototype.Mob=function(){var a,b;a=this;b=(this.config().Kva||[this.config().Md]).map(function(b){return function(){return a.k4a(b);};});return this.Nob(b);};b.prototype.Nob=function(a){return a.reduce(function(a,b){return a.then(function(a){return Promise.resolve(a);})["catch"](function(){return b();});},Promise.reject(Error("keySystem missing")));};Q=b;Q=g.__decorate([f.L(),g.__param(0,f.l(l.kb)),g.__param(1,f.l(A.Ye)),g.__param(2,f.l(S.ox)),g.__param(3,f.l(B.Hw)),g.__param(4,f.l(x.Jj)),g.__param(5,f.l(I.de)),g.__param(6,f.l(G.VA)),g.__param(7,f.l(M.gd)),g.__param(8,f.l(a.Mn))],Q);d.RMa=Q;},function(g,d,a){var f,h,l,c,k,m,n,r,y,A,B,x,I;function b(a,b,c,d,f,g,k,l,n){var p;p=this;this.la=b;this.hk=c;this.config=d;this.zy=f;this.e7a=g;this.oC=k;this.pn=l;this.kU=n;this.Vrb=function(a,b){b.oK().cF(1).subscribe(function(a){p.Tva.next({po:b.Vp(),data:a.Op});});b.oK().map(function(c){return p.Cs(a,b,c);}).Pv().MI(function(a){b.ic=a.ic[0];return b.$ma(a.qK[0].data);}).subscribe(void 0,function(a){b.$ma(a);},function(){p.i0a(b);});};this.Wrb=function(a){a.ML.map(function(b){return p.Gta(a,b);}).Pv().MI(function(b){return a.ina(b.response);}).subscribe(void 0,function(b){a.ina(b);});};this.log=a.ib("DrmServices");this.Tva=new h.bj();this.zy().kp&&this.oC.Uza().then(function(){p.vrb();})["catch"](function(a){p.log.error("Unable to load the persisted DRM data",a);});this.config.tT&&this.pn.AJ().then(function(a){return p.Ipa(a,{Md:a.keySystem},m.Zi.Dm,n()).As(function(a){return a.close();}).subscribe();});}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(86);l=a(5);c=a(30);k=a(432);m=a(78);n=a(64);r=a(241);y=a(242);A=a(431);B=a(17);x=a(118);a=a(135);b.prototype.ew=function(a,b){var c;c=this;return new Promise(function(d,f){c.Ef(a,b).subscribe(d,f);});};b.prototype.U9a=function(a,b){var c;c=this;return new Promise(function(d,f){c.yS(a,b).subscribe(d,f);});};b.prototype.Ef=function(a,b){var c;c=this;this.log.info("Requesting challenges",this.kta(a,a.type));return this.qI(a.context,a.type,b).As(function(b){b.nqb(a.tg);c.Vrb(a,b);return c.opa(b.yS(a.nT),b);});};b.prototype.Arb=function(a,b){var c,d;c=this;this.config.di?(this.log.info("Releasing server license and EME license",this.h6(a)),this.Wrb(a),d=a.X9a()):(this.log.info("Releasing server license",this.h6(a)),d=this.Gta(a));return this.opa(d,a).MI(function(){c.oC.$$(Object.assign({Md:a.context.Md,ic:[]},a.tg));b.Unb();});};b.prototype.oK=function(){return this.Tva.J1();};b.prototype.kta=function(a,b){return{movieId:a.tg.M,xid:a.tg.oa,type:m.Vva(b)};};b.prototype.h6=function(a){return{movieId:a.tg?a.tg.M:void 0,xid:a.tg?a.tg.oa:void 0,keySessionId:a.pv()};};b.prototype.opa=function(a,b){return h.Ca.concat(a,h.Ca.of(b)).Df();};b.prototype.Cs=function(a,b,c){this.log.info("Sending license request",this.kta(a,c.zh));return h.Ca.hv(this.hk.Ef({oa:a.tg.oa,Gf:a.tg.Gf,LR:[a.tg.$j],Pp:[{sessionId:b.pv()||"session",data:c.Op}],zh:c.zh,po:b.Vp(),Moa:c.Moa,AK:a.tg.AK,nf:a.tg.nf}));};b.prototype.Gta=function(a,b){this.log.info("Sending release request",this.h6(a));return b?h.Ca.hv(this.hk.release({oa:a.tg.oa,ic:[a.ic],Op:b.Op})):h.Ca.hv(this.hk.release({oa:a.tg.oa,ic:[a.ic]}));};b.prototype.yS=function(a,b){return this.qI(a.context,a.type,b).As(function(b){b.yS(a.nT);return b.oK().map(function(){return b;});});};b.prototype.qI=function(a,b,c){var d;d=this;return h.Ca.hv(this.pn.AJ()).As(function(f){return d.Ipa(f,a,b,c);});};b.prototype.Ipa=function(a,b,c,d){return h.Ca.hv(this.e7a.create()).As(function(f){return f.ms(b,a,d,c);});};b.prototype.urb=function(a){var b;b=this;return this.config.di?h.Ca.empty():h.Ca.hv(this.hk.release({oa:a.oa,ic:a.ic}))["catch"](function(a){b.log.error("Unable to send release data to the server",a);return h.Ca.empty();}).map(function(){return a;});};b.prototype.vrb=function(){var a;a=this;this.la.cg(this.config.e$,function(){var b;a.log.trace("Removing cached sessions",{"count:":a.oC.MR.length});b=a.oC.MR.filter(function(a){return!a.active;}).map(function(b){return a.urb(b);});h.Ca.concat.apply(h.Ca,[].concat(ga(b))).subscribe(function(b){a.oC.$$(b);});});};b.prototype.i0a=function(a){var b;if(a.pv()&&a.tg){b=new y.PX();b.Md=a.context.Md;b.ic=[a.ic];b.profileId=a.tg.profileId;b.oa=a.tg.oa;b.M=a.tg.M;this.oC.Vma(b);}};I=b;I=g.__decorate([f.L(),g.__param(0,f.l(l.kb)),g.__param(1,f.l(c.hg)),g.__param(2,f.l(k.iea)),g.__param(3,f.l(n.Mn)),g.__param(4,f.l(B.gd)),g.__param(5,f.l(A.xea)),g.__param(6,f.l(r.vX)),g.__param(7,f.l(x.Yw)),g.__param(8,f.l(a.iG))],I);d.RIa=I;},function(g,d,a){var b,f,h,l,c,k;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(119);f=a(899);h=a(118);l=a(898);c=a(431);k=a(891);d.d7a=new g.Wb(function(a){a(b.jea).to(f.RIa).$();a(h.Yw).to(l.RMa).$();a(c.xea).to(k.qJa);});},function(g,d,a){var f,h,l,c;function b(a,b,c,d,f){this.platform=a;this.vj=b;this.config=c;this.Ag=f;this.log=d.ib("AccountManager");}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(42);c=a(2);b.prototype.qv=function(a){return this.profile.id===a?this.profile:this.profiles[a];};b.prototype.load=function(){var a;a=this;this.log.trace("Loading accounts from storage");return new Promise(function(b,d){a.wca().then(function(b){return b?a.storage.load("accounts"):Promise.resolve(void 0);}).then(function(c){c&&(a.log.trace("Persisted account data",JSON.stringify(c.value,null,"  ")),a.J9a(c.value));b();})["catch"](function(g){a.log.debug("Unable to load persisted account data",{code:g.Y,cause:g.cause});g.Y===c.H.Sn?(a.log.trace("No persisted account data, creating default profile"),a.reset(),b()):d(f.DM(c.K.UN,g,"Unable to read IDB for account information."));});});};b.prototype.save=function(){var a;a=this;this.log.trace("Saving account data");return new Promise(function(b,c){var d;d=a.Usb();a.log.trace("Account data to persist",JSON.stringify(d,null,"  "));a.storage.save("accounts",d,!1).then(function(){b();})["catch"](function(b){a.log.error("Unable to save account information",b);c(b);});});};b.prototype.Usb=function(){var a;a=this;return{version:"1.0",account:this.profile.Oh.EW(),profile:this.profile.EW(),profiles:Object.keys(this.profiles).map(function(b){return a.profiles[b].EW();})};};b.prototype.J9a=function(a){var b,c,d;b=this;c=a.account;if(c){d=this.jR(c);if(c=a.profile)this.profile=this.iy(d,c),this.Qua(),(a=a.profiles)&&Array.isArray(a)&&a.forEach(function(a){a=b.iy(d,a);b.profile&&a.id!==b.profile.id&&b.fna(a);});}};b.prototype.fna=function(a){this.profiles[a.id]=a;};b.prototype.aaa=function(a){delete this.profiles[a.id];};b.prototype.Qua=function(){this.profiles={};};b.prototype.reset=function(a){(void 0===a?0:a)&&this.vj.Ff.clearUserIdTokens();this.profile=this.iy(this.jR());this.Qua();};b.DM=function(a,b,d){return b.Y&&b.cause?new l.cc(a,b.Y,void 0,void 0,void 0,d,void 0,b.cause):void 0!==b.Bc?(d=(b.message?b.message+" ":"")+(d?d:""),b.code=a,b.message=""===d?void 0:d,b):b instanceof Error?new l.cc(a,c.H.Dg,void 0,void 0,void 0,d,b.stack,b):new l.cc(a,c.H.ki,void 0,void 0,void 0,d,void 0,b);};a=f=b;a=f=g.__decorate([h.L()],a);d.eX=a;},function(g,d,a){var f;function b(a,b,c,d,g){d=void 0===d?f.zb(0):d;this.config=a;this.Oh=b;this.iK=d;this.X$=void 0===g?!1:g;this.id=void 0!==c?c:this.O$a();this.languages=(a=a())&&a.Og&&a.Og.Dz||["en-US"];}Object.defineProperty(d,"__esModule",{value:!0});f=a(3);b.prototype.EW=function(){return{id:this.id,lastAccessTime:this.iK?this.iK.fa(f.na):0,languages:this.languages};};b.prototype.i5=function(a){this.id=a.id.toString();this.iK=f.zb(a.lastAccessTime||0);this.languages=a.languages||this.config().Og.Dz;this.X$=!0;};d.fia=b;},function(g,d,a){var f;function b(a,b,c,d,g){return f.fia.call(this,a,b,c,d,g)||this;}Object.defineProperty(d,"__esModule",{value:!0});f=a(902);ba(b,f.fia);b.prototype.qeb=function(){var a;a=this.config();return a&&a.bn?"browsertest"===this.id:"browser"===this.id;};b.prototype.O$a=function(){var a;a=this.config();return a&&a.bn?"browsertest":"browser";};d.Xha=b;},function(g,d){function a(a,d){this.id=void 0===a?"browser":a;this.Gi=void 0===d?!0:d;}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.EW=function(){return{id:this.id,isNonMember:this.Gi};};a.prototype.i5=function(a){this.id=a.id.toString();this.Gi=a.isNonMember;};d.Wca=a;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(79);a=a(80);g=function(a){function c(b){a.call(this);this.qjb=b;}b(c,a);c.create=function(a){return new c(a);};c.prototype.Of=function(a){return new h(a,this.qjb);};return c;}(g.Ca);d.zIa=g;h=function(a){function c(b,c){a.call(this,b);this.ev=c;this.Etb();}b(c,a);c.prototype.Etb=function(){try{this.kTa();}catch(k){this.Dc(k);}};c.prototype.kTa=function(){var a;a=this.ev();a&&this.add(f.mt(this,a));};return c;}(a.ir);},function(g,d,a){g=a(905);d.defer=g.zIa.create;},function(g,d,a){g=a(10);a=a(906);g.Ca.defer=a.defer;},function(g,d,a){g=a(10);a=a(441);g.Ca.from=a.from;},function(g,d,a){var f,h,l,c,k,m,n,r,y,A,B;function b(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];b=a[a.length-1];"function"===typeof b&&a.pop();return new h.Cw(a).Xf(new n(b));}f=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};h=a(101);l=a(102);g=a(47);c=a(80);k=a(79);m=a(165);d.Ica=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return function(c){return c.Xf.call(b.apply(void 0,[c].concat(a)));};};d.uvb=b;n=function(){function a(a){this.vg=a;}a.prototype.call=function(a,b){return b.subscribe(new r(a,this.vg));};return a;}();d.wDb=n;r=function(a){function b(b,c,d){void 0===d&&(d=Object.create(null));a.call(this,b);this.F7=[];this.active=0;this.vg="function"===typeof c?c:null;this.values=d;}f(b,a);b.prototype.oh=function(a){var b;b=this.F7;l.isArray(a)?b.push(new A(a)):"function"===typeof a[m.iterator]?b.push(new y(a[m.iterator]())):b.push(new B(this.destination,this,a));};b.prototype.Eb=function(){var a,b,d;a=this.F7;b=a.length;if(0===b)this.destination.complete();else{this.active=b;for(var c=0;c<b;c++){d=a[c];d.trb?this.add(d.subscribe(d,c)):this.active--;}}};b.prototype.$ib=function(){this.active--;0===this.active&&this.destination.complete();};b.prototype.b1a=function(){var f,k;for(var a=this.F7,b=a.length,c=this.destination,d=0;d<b;d++){f=a[d];if("function"===typeof f.Bo&&!f.Bo())return;}for(var g=!1,h=[],d=0;d<b;d++){f=a[d];k=f.next();f.yD()&&(g=!0);if(k.done){c.complete();return;}h.push(k.value);}this.vg?this.a1(h):c.next(h);g&&c.complete();};b.prototype.a1=function(a){var b;try{b=this.vg.apply(this,a);}catch(T){this.destination.error(T);return;}this.destination.next(b);};return b;}(g.ii);d.xDb=r;y=function(){function a(a){this.iterator=a;this.z9=a.next();}a.prototype.Bo=function(){return!0;};a.prototype.next=function(){var a;a=this.z9;this.z9=this.iterator.next();return a;};a.prototype.yD=function(){var a;a=this.z9;return a&&a.done;};return a;}();A=function(){function a(a){this.Jp=a;this.length=this.index=0;this.length=a.length;}a.prototype[m.iterator]=function(){return this;};a.prototype.next=function(){var a,b;a=this.index++;b=this.Jp;return a<this.length?{value:b[a],done:!1}:{value:null,done:!0};};a.prototype.Bo=function(){return this.Jp.length>this.index;};a.prototype.yD=function(){return this.Jp.length===this.index;};return a;}();B=function(a){function b(b,c,d){a.call(this,b);this.parent=c;this.observable=d;this.trb=!0;this.buffer=[];this.q7=!1;}f(b,a);b.prototype[m.iterator]=function(){return this;};b.prototype.next=function(){var a;a=this.buffer;return 0===a.length&&this.q7?{value:null,done:!0}:{value:a.shift(),done:!1};};b.prototype.Bo=function(){return 0<this.buffer.length;};b.prototype.yD=function(){return 0===this.buffer.length&&this.q7;};b.prototype.cl=function(){0<this.buffer.length?(this.q7=!0,this.parent.$ib()):this.destination.complete();};b.prototype.rz=function(a,b){this.buffer.push(b);this.parent.b1a();};b.prototype.subscribe=function(a,b){return k.mt(this,this.observable,this,b);};return b;}(c.ir);},function(g,d,a){g=a(909);d.Ica=g.uvb;},function(g,d,a){g=a(10);a=a(910);g.Ca.Ica=a.Ica;},function(g,d,a){var b,f,h,l,c,k,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(101);h=a(102);g=a(80);l=a(79);c={};d.P2=function(){var c;for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];c=null;"function"===typeof a[a.length-1]&&(c=a.pop());1===a.length&&h.isArray(a[0])&&(a=a[0].slice());return function(b){return b.Xf.call(new f.Cw([b].concat(a)),new k(c));};};k=function(){function a(a){this.vg=a;}a.prototype.call=function(a,b){return b.subscribe(new m(a,this.vg));};return a;}();d.bHa=k;m=function(a){function d(b,c){a.call(this,b);this.vg=c;this.active=0;this.values=[];this.kya=[];}b(d,a);d.prototype.oh=function(a){this.values.push(c);this.kya.push(a);};d.prototype.Eb=function(){var a,b,d;a=this.kya;b=a.length;if(0===b)this.destination.complete();else{this.aca=this.active=b;for(var c=0;c<b;c++){d=a[c];this.add(l.mt(this,d,d,c));}}};d.prototype.cl=function(){0===--this.active&&this.destination.complete();};d.prototype.rz=function(a,b,d){var f;a=this.values;f=a[d];f=this.aca?f===c?--this.aca:this.aca:0;a[d]=b;0===f&&(this.vg?this.a1(a):this.destination.next(a.slice()));};d.prototype.a1=function(a){var b;try{b=this.vg.apply(this,a);}catch(K){this.destination.error(K);return;}this.destination.next(b);};return d;}(g.ir);d.Swb=m;},function(g,d,a){var b,f,h,l;b=a(117);f=a(102);h=a(101);l=a(912);d.P2=function(){var g;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];g=d=null;b.Py(a[a.length-1])&&(g=a.pop());"function"===typeof a[a.length-1]&&(d=a.pop());1===a.length&&f.isArray(a[0])&&(a=a[0]);return new h.Cw(a,g).Xf(new l.bHa(d));};},function(g,d,a){g=a(10);a=a(913);g.Ca.P2=a.P2;},function(g,d,a){var b,f,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(434);g=a(10);h=a(164);l=a(117);c=a(436);a=function(a){function d(b,d,g){void 0===b&&(b=0);a.call(this);this.Vs=-1;this.Uqa=0;f.ova(d)?this.Vs=1>Number(d)&&1||Number(d):l.Py(d)&&(g=d);l.Py(g)||(g=h.async);this.la=g;this.Uqa=c.r7(b)?+b-this.la.now():b;}b(d,a);d.create=function(a,b,c){void 0===a&&(a=0);return new d(a,b,c);};d.yb=function(a){var b,c,d;b=a.index;c=a.Vs;d=a.qf;d.next(b);if(!d.closed){if(-1===c)return d.complete();a.index=b+1;this.Ib(a,c);}};d.prototype.Of=function(a){return this.la.Ib(d.yb,this.Uqa,{index:0,Vs:this.Vs,qf:a});};return d;}(g.Ca);d.MRa=a;},function(g,d,a){g=a(915);d.pt=g.MRa.create;},function(g,d,a){g=a(10);a=a(916);g.Ca.pt=a.pt;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c){a.call(this);this.error=b;this.la=c;}b(d,a);d.create=function(a,b){return new d(a,b);};d.yb=function(a){a.qf.error(a.error);};d.prototype.Of=function(a){var b,f;b=this.error;f=this.la;a.mk=!0;if(f)return f.Ib(d.yb,0,{error:b,qf:a});a.error(b);};return d;}(a(10).Ca);d.zJa=g;},function(g,d,a){g=a(918);d.PXa=g.zJa.create;},function(g,d,a){g=a(10);a=a(919);g.Ca["throw"]=a.PXa;},function(g,d,a){g=a(435);d.uz=g.Njb;},function(g,d,a){g=a(10);a=a(921);g.Ca.uz=a.uz;},function(g,d,a){g=a(10);a=a(442);g.Ca.of=a.of;},function(g,d,a){var b,f,h,l;b=a(10);f=a(101);h=a(117);l=a(233);d.f9=function(){var d,g,n;for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];d=Number.POSITIVE_INFINITY;g=null;n=a[a.length-1];h.Py(n)?(g=a.pop(),1<a.length&&"number"===typeof a[a.length-1]&&(d=a.pop())):"number"===typeof n&&(d=a.pop());return null===g&&1===a.length&&a[0]instanceof b.Ca?a[0]:l.Pv(d)(new f.Cw(a,g));};},function(g,d,a){g=a(10);a=a(924);g.Ca.f9=a.f9;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(434);g=a(10);h=a(164);a=function(a){function c(b,c){void 0===b&&(b=0);void 0===c&&(c=h.async);a.call(this);this.Vs=b;this.la=c;if(!f.ova(b)||0>b)this.Vs=0;c&&"function"===typeof c.Ib||(this.la=h.async);}b(c,a);c.create=function(a,b){void 0===a&&(a=0);void 0===b&&(b=h.async);return new c(a,b);};c.yb=function(a){var b,c;b=a.qf;c=a.Vs;b.next(a.index);b.closed||(a.index+=1,this.Ib(a,c));};c.prototype.Of=function(a){var b;b=this.Vs;a.add(this.la.Ib(c.yb,b,{index:0,qf:a,Vs:b}));};return c;}(g.Ca);d.sLa=a;},function(g,d,a){g=a(926);d.interval=g.sLa.create;},function(g,d,a){g=a(10);a=a(927);g.Ca.interval=a.interval;},function(g,d,a){g=a(439);d.hv=g.gia.create;},function(g,d,a){g=a(10);a=a(929);g.Ca.hv=a.hv;},function(g,d,a){g=a(132);d.empty=g.OF.create;},function(g,d,a){g=a(10);a=a(931);g.Ca.empty=a.empty;},function(g,d,a){g=a(10);a=a(133);g.Ca.concat=a.concat;},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(80);f=a(79);d.yW=function(a,b){return function(c){return c.Xf(new h(a,b));};};h=function(){function a(a,b){this.vg=a;this.ik=b;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.vg,this.ik));};return a;}();l=function(a){function c(b,c,d){a.call(this,b);this.vg=c;this.ik=d;this.index=0;}b(c,a);c.prototype.oh=function(a){var b,c;c=this.index++;try{b=this.vg(a,c);}catch(y){this.destination.error(y);return;}this.W_(b,a,c);};c.prototype.W_=function(a,b,c){var d;d=this.uT;d&&d.unsubscribe();this.add(this.uT=f.mt(this,a,b,c));};c.prototype.Eb=function(){var b;b=this.uT;b&&!b.closed||a.prototype.Eb.call(this);};c.prototype.Mr=function(){this.uT=null;};c.prototype.cl=function(b){this.remove(b);this.uT=null;this.Wf&&a.prototype.Eb.call(this);};c.prototype.rz=function(a,b,c,d){this.ik?this.VXa(a,b,c,d):this.destination.next(b);};c.prototype.VXa=function(a,b,c,d){var f;try{f=this.ik(a,b,c,d);}catch(K){this.destination.error(K);return;}this.destination.next(f);};return c;}(g.ir);},function(g,d,a){var b;b=a(934);d.yW=function(a,d){return b.yW(a,d)(this);};},function(g,d,a){g=a(10);a=a(935);g.Ca.prototype.yW=a.yW;},function(g,d,a){var b,f;b=a(448);d.Bib=function(a,d){return function(c){var g,h;g="function"===typeof a?a:function(){return a;};if("function"===typeof d)return c.Xf(new f(g,d));h=Object.create(c,b.U1a);h.source=c;h.wW=g;return h;};};f=function(){function a(a,b){this.wW=a;this.SL=b;}a.prototype.call=function(a,b){var c,d;c=this.SL;d=this.wW();a=c(d).subscribe(a);a.add(b.subscribe(d));return a;};return a;}();d.Tzb=f;},function(g,d,a){var b,f;b=a(450);f=a(937);d.pV=function(a,d,c,g){var h,k;c&&"function"!==typeof c&&(g=c);h="function"===typeof c?c:void 0;k=new b.xG(a,d,g);return function(a){return f.Bib(function(){return k;},h)(a);};};},function(g,d,a){var b;b=a(938);d.pV=function(a,d,g,c){return b.pV(a,d,g,c)(this);};},function(g,d,a){g=a(10);a=a(939);g.Ca.prototype.pV=a.pV;},function(g,d,a){var b,f,h,l,c;b=a(101);f=a(234);h=a(132);l=a(133);c=a(117);d.nW=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(d){var g,k;g=a[a.length-1];c.Py(g)?a.pop():g=null;k=a.length;return 1===k?l.concat(new f.QZ(a[0],g),d):1<k?l.concat(new b.Cw(a,g),d):l.concat(new h.OF(g),d);};};},function(g,d,a){var b;b=a(941);d.nW=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.nW.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(942);g.Ca.prototype.nW=a.nW;},function(){},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(80);f=a(79);d.yM=function(a){return function(b){return b.Xf(new h(a));};};h=function(){function a(a){this.Ja=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Ja));};return a;}();l=function(a){function c(b,c){a.call(this,b);this.Ja=c;this.add(f.mt(this,c));}b(c,a);c.prototype.rz=function(){this.complete();};c.prototype.cl=function(){};return c;}(g.ir);},function(g,d,a){var b;b=a(945);d.yM=function(a){return b.yM(a)(this);};},function(g,d,a){g=a(10);a=a(946);g.Ca.prototype.yM=a.yM;},function(g,d){var a;a=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};g=function(b){function d(){var a;a=b.call(this,"argument out of range");this.name=a.name="ArgumentOutOfRangeError";this.stack=a.stack;this.message=a.message;}a(d,b);return d;}(Error);d.gFa=g;},function(g,d,a){var b,f,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(47);f=a(948);h=a(132);d.cF=function(a){return function(b){return 0===a?new h.OF():b.Xf(new l(a));};};l=function(){function a(a){this.total=a;if(0>this.total)throw new f.gFa();}a.prototype.call=function(a,b){return b.subscribe(new c(a,this.total));};return a;}();c=function(a){function c(b,c){a.call(this,b);this.total=c;this.count=0;}b(c,a);c.prototype.oh=function(a){var b,c;b=this.total;c=++this.count;c<=b&&(this.destination.next(a),c===b&&(this.destination.complete(),this.unsubscribe()));};return c;}(g.ii);},function(g,d,a){var b;b=a(949);d.cF=function(a){return b.cF(a)(this);};},function(g,d,a){g=a(10);a=a(950);g.Ca.prototype.cF=a.cF;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(47);d.bM=function(a){return function(b){return b.Xf(new f(a));};};f=function(){function a(a){this.dw=a;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.dw));};return a;}();h=function(a){function c(b,c){a.call(this,b);this.dw=c;this.qba=!0;this.index=0;}b(c,a);c.prototype.oh=function(a){var b;b=this.destination;this.qba&&this.Dtb(a);this.qba||b.next(a);};c.prototype.Dtb=function(a){try{this.qba=!!this.dw(a,this.index++);}catch(q){this.destination.error(q);}};return c;}(g.ii);},function(g,d,a){var b;b=a(952);d.bM=function(a){return b.bM(a)(this);};},function(g,d,a){g=a(10);a=a(953);g.Ca.prototype.bM=a.bM;},function(g,d,a){var b;b=a(435);d.uz=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.uz.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(955);g.Ca.prototype.uz=a.uz;},function(g,d,a){var b;b=a(437);d.ZD=function(a,d,g){void 0===g&&(g=Number.POSITIVE_INFINITY);return b.ZD(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(957);g.Ca.prototype.ZD=a.ZD;g.Ca.prototype.As=a.ZD;},function(g,d,a){var b;b=a(233);d.Pv=function(a){void 0===a&&(a=Number.POSITIVE_INFINITY);return b.Pv(a)(this);};},function(g,d,a){g=a(10);a=a(959);g.Ca.prototype.Pv=a.Pv;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(47);d.map=function(a,b){return function(c){if("function"!==typeof a)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return c.Xf(new f(a,b));};};f=function(){function a(a,b){this.vg=a;this.Oba=b;}a.prototype.call=function(a,b){return b.subscribe(new h(a,this.vg,this.Oba));};return a;}();d.Mzb=f;h=function(a){function c(b,c,d){a.call(this,b);this.vg=c;this.count=0;this.Oba=d||this;}b(c,a);c.prototype.oh=function(a){var b;try{b=this.vg.call(this.Oba,a,this.count++);}catch(n){this.destination.error(n);return;}this.destination.next(b);};return c;}(g.ii);},function(g,d,a){var b;b=a(961);d.map=function(a,d){return b.map(a,d)(this);};},function(g,d,a){g=a(10);a=a(962);g.Ca.prototype.map=a.map;},function(g,d){var a;a=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};g=function(b){function d(){var a;a=b.call(this,"no elements in sequence");this.name=a.name="EmptyError";this.stack=a.stack;this.message=a.message;}a(d,b);return d;}(Error);d.tJa=g;},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(47);f=a(964);d.Df=function(a,b,d){return function(c){return c.Xf(new h(a,b,d,c));};};h=function(){function a(a,b,c,d){this.dw=a;this.ik=b;this.defaultValue=c;this.source=d;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.dw,this.ik,this.defaultValue,this.source));};return a;}();l=function(a){function c(b,c,d,f,g){a.call(this,b);this.dw=c;this.ik=d;this.defaultValue=f;this.source=g;this.Bo=!1;this.index=0;"undefined"!==typeof f&&(this.OT=f,this.Bo=!0);}b(c,a);c.prototype.oh=function(a){var b;b=this.index++;this.dw?this.WXa(a,b):this.ik?this.Gma(a,b):(this.OT=a,this.Bo=!0);};c.prototype.WXa=function(a,b){var c;try{c=this.dw(a,b,this.source);}catch(y){this.destination.error(y);return;}c&&(this.ik?this.Gma(a,b):(this.OT=a,this.Bo=!0));};c.prototype.Gma=function(a,b){var c;try{c=this.ik(a,b);}catch(y){this.destination.error(y);return;}this.OT=c;this.Bo=!0;};c.prototype.Eb=function(){var a;a=this.destination;this.Bo?(a.next(this.OT),a.complete()):a.error(new f.tJa());};return c;}(g.ii);},function(g,d,a){var b;b=a(965);d.Df=function(a,d,g){return b.Df(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(966);g.Ca.prototype.Df=a.Df;},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(47);d.ssb=function(a,b,d){return function(c){return c.Xf(new h(a,b,d));};};h=function(){function a(a,b,c){this.Oib=a;this.error=b;this.complete=c;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.Oib,this.error,this.complete));};return a;}();l=function(a){function c(b,c,d,g){a.call(this,b);b=new f.ii(c,d,g);b.mk=!0;this.add(b);this.taa=b;}b(c,a);c.prototype.oh=function(a){var b;b=this.taa;b.next(a);b.dA?this.destination.error(b.eA):this.destination.next(a);};c.prototype.Dc=function(a){var b;b=this.taa;b.error(a);b.dA?this.destination.error(b.eA):this.destination.error(a);};c.prototype.Eb=function(){var a;a=this.taa;a.complete();a.dA?this.destination.error(a.eA):this.destination.complete();};return c;}(f.ii);},function(g,d,a){var b;b=a(968);d.I_=function(a,d,g){return b.ssb(a,d,g)(this);};},function(g,d,a){g=a(10);a=a(969);g.Ca.prototype.MI=a.I_;g.Ca.prototype.I_=a.I_;},function(g,d,a){function b(){return function(){function a(){this.Fk=[];}a.prototype.add=function(a){this.has(a)||this.Fk.push(a);};a.prototype.has=function(a){return-1!==this.Fk.indexOf(a);};Object.defineProperty(a.prototype,"size",{get:function(){return this.Fk.length;},enumerable:!0,configurable:!0});a.prototype.clear=function(){this.Fk.length=0;};return a;}();}g=a(81);d.OIb=b;d.Set=g.root.Set||b();},function(g,d,a){var b,f,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(80);f=a(79);h=a(971);d.IR=function(a,b){return function(c){return c.Xf(new l(a,b));};};l=function(){function a(a,b){this.HT=a;this.v9a=b;}a.prototype.call=function(a,b){return b.subscribe(new c(a,this.HT,this.v9a));};return a;}();c=function(a){function c(b,c,d){a.call(this,b);this.HT=c;this.values=new h.Set();d&&this.add(f.mt(this,d));}b(c,a);c.prototype.rz=function(){this.values.clear();};c.prototype.F9=function(a){this.Dc(a);};c.prototype.oh=function(a){this.HT?this.iYa(a):this.Aka(a,a);};c.prototype.iYa=function(a){var b,c;c=this.destination;try{b=this.HT(a);}catch(A){c.error(A);return;}this.Aka(b,a);};c.prototype.Aka=function(a,b){var c;c=this.values;c.has(a)||(c.add(a),this.destination.next(b));};return c;}(g.ir);d.uxb=c;},function(g,d,a){var b;b=a(972);d.IR=function(a,d){return b.IR(a,d)(this);};},function(g,d,a){g=a(10);a=a(973);g.Ca.prototype.IR=a.IR;},function(g,d,a){var b,f,h,l,c,k,m;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(164);h=a(436);g=a(47);l=a(235);d.Ad=function(a,b){var d;void 0===b&&(b=f.async);d=h.r7(a)?+a-b.now():Math.abs(a);return function(a){return a.Xf(new c(d,b));};};c=function(){function a(a,b){this.Ad=a;this.la=b;}a.prototype.call=function(a,b){return b.subscribe(new k(a,this.Ad,this.la));};return a;}();k=function(a){function c(b,c,d){a.call(this,b);this.Ad=c;this.la=d;this.Oi=[];this.tra=this.active=!1;}b(c,a);c.yb=function(a){for(var b=a.source,c=b.Oi,d=a.la,f=a.destination;0<c.length&&0>=c[0].time-d.now();)c.shift().notification.observe(f);0<c.length?(b=Math.max(0,c[0].time-d.now()),this.Ib(a,b)):(this.unsubscribe(),b.active=!1);};c.prototype.gXa=function(a){this.active=!0;this.add(a.Ib(c.yb,this.Ad,{source:this,destination:this.destination,la:a}));};c.prototype.hBa=function(a){var b;if(!0!==this.tra){b=this.la;a=new m(b.now()+this.Ad,a);this.Oi.push(a);!1===this.active&&this.gXa(b);}};c.prototype.oh=function(a){this.hBa(l.Notification.l3(a));};c.prototype.Dc=function(a){this.tra=!0;this.Oi=[];this.destination.error(a);};c.prototype.Eb=function(){this.hBa(l.Notification.g3());};return c;}(g.ii);m=function(){return function(a,b){this.time=a;this.notification=b;};}();},function(g,d,a){var b,f;b=a(164);f=a(975);d.Ad=function(a,d){void 0===d&&(d=b.async);return f.Ad(a,d)(this);};},function(g,d,a){g=a(10);a=a(976);g.Ca.prototype.Ad=a.Ad;},function(g,d,a){var b;b=a(438);d.kI=function(){return b.kI()(this);};},function(g,d,a){g=a(10);a=a(978);g.Ca.prototype.kI=a.kI;},function(g,d){d.Cdb=function(a){return a;};},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(10);f=a(234);h=a(132);a=function(a){function c(b,c){a.call(this);this.I1=b;(this.la=c)||1!==b.length||(this.zr=!0,this.value=b[0]);}b(c,a);c.create=function(a,b){var d;d=a.length;return 0===d?new h.OF():1===d?new f.QZ(a[0],b):new c(a,b);};c.yb=function(a){var b,c,d;b=a.I1;c=a.index;d=a.qf;d.closed||(c>=a.length?d.complete():(d.next(b[c]),a.index=c+1,this.Ib(a)));};c.prototype.Of=function(a){var b,d,f;b=this.I1;d=this.la;f=b.length;if(d)return d.Ib(c.yb,0,{I1:b,index:0,length:f,qf:a});for(d=0;d<f&&!a.closed;d++)a.next(b[d]);a.complete();};return c;}(g.Ca);d.jFa=a;},function(g,d,a){var b,f,h,l,c,k;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(81);g=a(10);h=a(165);a=function(a){function d(b,d){a.call(this);this.la=d;if(null==b)throw Error("iterator cannot be null.");if((d=b[h.iterator])||"string"!==typeof b)if(d||void 0===b.length){if(!d)throw new TypeError("object is not iterable");b=b[h.iterator]();}else b=new c(b);else b=new l(b);this.iterator=b;}b(d,a);d.create=function(a,b){return new d(a,b);};d.yb=function(a){var b,c,d,f;b=a.index;c=a.iterator;d=a.qf;if(a.JJ)d.error(a.error);else{f=c.next();f.done?d.complete():(d.next(f.value),a.index=b+1,d.closed?"function"===typeof c["return"]&&c["return"]():this.Ib(a));}};d.prototype.Of=function(a){var b,c;b=this.iterator;c=this.la;if(c)return c.Ib(d.yb,0,{index:0,iterator:b,qf:a});do{c=b.next();if(c.done){a.complete();break;}else a.next(c.value);if(a.closed){"function"===typeof b["return"]&&b["return"]();break;}}while(1);};return d;}(g.Ca);d.wLa=a;l=function(){function a(a,b,c){void 0===b&&(b=0);void 0===c&&(c=a.length);this.ow=a;this.RJ=b;this.W7=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.RJ<this.W7?{done:!1,value:this.ow.charAt(this.RJ++)}:{done:!0,value:void 0};};return a;}();c=function(){function a(a,b,c){var d;void 0===b&&(b=0);if(void 0===c)if(c=+a.length,isNaN(c))c=0;else if(0!==c&&"number"===typeof c&&f.root.isFinite(c)){d=+c;c=(0===d||isNaN(d)?d:0>d?-1:1)*Math.floor(Math.abs(c));c=0>=c?0:c>k?k:c;}this.AZa=a;this.RJ=b;this.W7=c;}a.prototype[h.iterator]=function(){return this;};a.prototype.next=function(){return this.RJ<this.W7?{done:!1,value:this.AZa[this.RJ++]}:{done:!0,value:void 0};};return a;}();k=Math.pow(2,53)-1;},function(g,d,a){var b;b=a(133);g=a(133);d.Q1a=g.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return function(d){return d.Xf.call(b.concat.apply(void 0,[d].concat(a)));};};},function(g,d,a){var b;b=a(983);g=a(133);d.Q1a=g.concat;d.concat=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b.concat.apply(void 0,a)(this);};},function(g,d,a){g=a(10);a=a(984);g.Ca.prototype.concat=a.concat;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c,d){a.call(this);this.parent=b;this.okb=c;this.nkb=d;this.index=0;}b(d,a);d.prototype.oh=function(a){this.parent.rz(this.okb,a,this.nkb,this.index++,this);};d.prototype.Dc=function(a){this.parent.F9(a,this);this.unsubscribe();};d.prototype.Eb=function(){this.parent.cl(this);this.unsubscribe();};return d;}(a(47).ii);d.Dfa=g;},function(g,d,a){var b,f,h,l;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(80);f=a(79);d.N0a=function(a){return function(b){var c;c=new h(a);b=b.Xf(c);return c.u2=b;};};h=function(){function a(a){this.SL=a;}a.prototype.call=function(a,b){return b.subscribe(new l(a,this.SL,this.u2));};return a;}();l=function(a){function c(b,c,d){a.call(this,b);this.SL=c;this.u2=d;}b(c,a);c.prototype.error=function(b){var c;if(!this.Wf){c=void 0;try{c=this.SL(b,this.u2);}catch(u){a.prototype.error.call(this,u);return;}this.ZXa();this.add(f.mt(this,c));}};return c;}(g.ir);},function(g,d,a){var b;b=a(987);d.x_=function(a){return b.N0a(a)(this);};},function(g,d,a){g=a(10);a=a(988);g.Ca.prototype["catch"]=a.x_;g.Ca.prototype.x_=a.x_;},function(g,d,a){var b,f;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(237);a=function(a){function d(b,d){var c;c=this;void 0===b&&(b=f);void 0===d&&(d=Number.POSITIVE_INFINITY);a.call(this,b,function(){return c.frame;});this.ihb=d;this.frame=0;this.index=-1;}b(d,a);d.prototype.flush=function(){for(var a=this.Vj,b=this.ihb,d,f;(f=a.shift())&&(this.frame=f.Ad)<=b&&!(d=f.Sf(f.state,f.Ad)););if(d){for(;f=a.shift();)f.unsubscribe();throw d;}};d.h5=10;return d;}(a(236).mX);d.qSa=a;f=function(a){function d(b,d,f){void 0===f&&(f=b.index+=1);a.call(this,b,d);this.la=b;this.bN=d;this.index=f;this.active=!0;this.index=b.index=f;}b(d,a);d.prototype.Ib=function(b,f){var c;void 0===f&&(f=0);if(!this.id)return a.prototype.Ib.call(this,b,f);this.active=!1;c=new d(this.la,this.bN);this.add(c);return c.Ib(b,f);};d.prototype.DV=function(a,b,f){void 0===f&&(f=0);this.Ad=a.frame+f;a=a.Vj;a.push(this);a.sort(d.drb);return!0;};d.prototype.wV=function(){};d.prototype.bP=function(b,d){if(!0===this.active)return a.prototype.bP.call(this,b,d);};d.drb=function(a,b){return a.Ad===b.Ad?a.index===b.index?0:a.index>b.index?1:-1:a.Ad>b.Ad?1:-1;};return d;}(g.lX);d.pSa=f;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(166);h=a(73);g=a(447);a=a(445);f=function(a){function c(b,c){a.call(this);this.Zd=b;this.kM=[];this.la=c;}b(c,a);c.prototype.Of=function(b){var c,d;c=this;d=c.kwa();b.add(new h.vk(function(){c.lwa(d);}));return a.prototype.Of.call(this,b);};c.prototype.Dqb=function(){for(var a=this,b=a.Zd.length,c=0;c<b;c++)(function(){var b;b=a.Zd[c];a.la.Ib(function(){b.notification.observe(a);},b.frame);}());};return c;}(f.bj);d.Lyb=f;a.Hna(f,[g.Oia]);},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};f=a(10);h=a(73);g=a(447);a=a(445);f=function(a){function c(b,c){a.call(this,function(a){var b,c;b=this;c=b.kwa();a.add(new h.vk(function(){b.lwa(c);}));b.Zob(a);return a;});this.Zd=b;this.kM=[];this.la=c;}b(c,a);c.prototype.Zob=function(a){var d;for(var b=this.Zd.length,c=0;c<b;c++){d=this.Zd[c];a.add(this.la.Ib(function(a){a.message.notification.observe(a.qf);},d.frame,{message:d,qf:a}));}};return c;}(f.Ca);d.aHa=f;a.Hna(f,[g.Oia]);},function(g,d,a){var b,f,h,l,c;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};a(10);f=a(235);h=a(992);a(991);l=a(446);c=a(990);g=function(a){function d(b){a.call(this,c.pSa,750);this.IZa=b;this.sdb=[];this.t9a=[];}b(d,a);d.prototype.flush=function(){var c;for(var b=this.sdb;0<b.length;)b.shift().Dqb();a.prototype.flush.call(this);for(b=this.t9a.filter(function(a){return a.ready;});0<b.length;){c=b.shift();this.IZa(c.ZDb,c.dJ);}};d.wJb=function(a){var h,k;if("string"!==typeof a)return new l.zG(Number.POSITIVE_INFINITY);for(var b=a.length,c=-1,d=Number.POSITIVE_INFINITY,f=Number.POSITIVE_INFINITY,g=0;g<b;g++){h=g*this.h5;k=a[g];switch(k){case"-":case" ":break;case"(":c=h;break;case")":c=-1;break;case"^":if(d!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");d=-1<c?c:h;break;case"!":if(f!==Number.POSITIVE_INFINITY)throw Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");f=-1<c?c:h;break;default:throw Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+k+"'.");}}return 0>f?new l.zG(d):new l.zG(d,f);};d.vJb=function(a,b,c,d){var q,r,t;void 0===d&&(d=!1);if(-1!==a.indexOf("!"))throw Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var g=a.length,k=[],l=a.indexOf("^"),l=-1===l?0:l*-this.h5,n="object"!==typeof b?function(a){return a;}:function(a){return d&&b[a]instanceof h.aHa?b[a].Zd:b[a];},m=-1,p=0;p<g;p++){q=p*this.h5+l;r=void 0;t=a[p];switch(t){case"-":case" ":break;case"(":m=q;break;case")":m=-1;break;case"|":r=f.Notification.g3();break;case"^":break;case"#":r=f.Notification.Hpa(c||"error");break;default:r=f.Notification.l3(n(t));}r&&k.push({frame:-1<m?m:q,notification:r});}return k;};return d;}(c.qSa);d.Yia=g;},function(g,d,a){var b,f,h;b=this&&this.__extends||function(a,b){function c(){this.constructor=a;}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c());};g=a(47);d.xV=function(){return function(a){return a.Xf(new f(a));};};f=function(){function a(a){this.Ml=a;}a.prototype.call=function(a,b){var c;c=this.Ml;c.Wn++;a=new h(a,c);b=b.subscribe(a);a.closed||(a.jo=c.connect());return b;};return a;}();h=function(a){function c(b,c){a.call(this,b);this.Ml=c;}b(c,a);c.prototype.Mr=function(){var a,b;a=this.Ml;if(a){this.Ml=null;b=a.Wn;0>=b?this.jo=null:(a.Wn=b-1,1<b?this.jo=null:(b=this.jo,a=a.au,this.jo=null,!a||b&&a!==b||a.unsubscribe()));}else this.jo=null;};return c;}(g.ii);},function(g,d){g=function(){function a(b,d){void 0===d&&(d=a.now);this.QQa=b;this.now=d;}a.prototype.Ib=function(a,d,g){void 0===d&&(d=0);return new this.QQa(this,a).Ib(g,d);};a.now=Date.now?Date.now:function(){return+new Date();};return a;}();d.PQa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(){a.apply(this,arguments);}b(d,a);return d;}(a(236).mX);d.bQa=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(){a.call(this);}b(d,a);d.prototype.Ib=function(){return this;};return d;}(a(73).vk);d.$Ea=g;},function(g,d,a){var b;b=this&&this.__extends||function(a,b){function d(){this.constructor=a;}for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d());};g=function(a){function d(b,c){a.call(this,b,c);this.la=b;this.bN=c;}b(d,a);d.prototype.Ib=function(b,c){void 0===c&&(c=0);if(0<c)return a.prototype.Ib.call(this,b,c);this.Ad=c;this.state=b;this.la.flush(this);return this;};d.prototype.Sf=function(b,c){return 0<c||this.closed?a.prototype.Sf.call(this,b,c):this.bP(b,c);};d.prototype.DV=function(b,c,d){void 0===d&&(d=0);return null!==d&&0<d||null===d&&0<this.Ad?a.prototype.DV.call(this,b,c,d):b.flush(this);};return d;}(a(237).lX);d.aQa=g;},function(g,d,a){g=a(998);a=a(996);d.Oi=new a.bQa(g.aQa);},function(g,d){d.Uib=function(){};},function(g,d,a){var f;function b(a){return a?1===a.length?a[0]:function(b){return a.reduce(function(a,b){return b(a);},b);}:f.Uib;}f=a(1E3);d.nlb=function(){for(var a=[],d=0;d<arguments.length;d++)a[d-0]=arguments[d];return b(a);};d.olb=b;},function(g,d,a){var b,f,h;b=a(47);f=a(239);h=a(240);d.Wsb=function(a,c,d){if(a){if(a instanceof b.ii)return a;if(a[f.Vz])return a[f.Vz]();}return a||c||d?new b.ii(a,c,d):new b.ii(h.empty);};},function(g,d){var a;a=this&&this.__extends||function(a,d){function b(){this.constructor=a;}for(var f in d)d.hasOwnProperty(f)&&(a[f]=d[f]);a.prototype=null===d?Object.create(d):(b.prototype=d.prototype,new b());};g=function(b){function d(a){b.call(this);this.cJ=a;a=Error.call(this,a?a.length+" errors occurred during unsubscription:\n  "+a.map(function(a,b){return b+1+") "+a.toString();}).join("\n  "):"");this.name=a.name="UnsubscriptionError";this.stack=a.stack;this.message=a.message;}a(d,b);return d;}(Error);d.vO=g;},function(g,d,a){var f,h;function b(){try{return h.apply(this,arguments);}catch(p){return f.cv.e=p,f.cv;}}f=a(453);d.zDa=function(a){h=a;return b;};},function(g,d,a){var f,h,l,c,k,m,n,r,y,A,B,x,I,G,F;function b(a,b,c,d,f,g){a=F.eX.call(this,a,b,c,d,f)||this;a.hk=g;a.log=d.ib("AccountManager");a.PD=new l.xG(1);return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(86);c=a(100);k=a(67);m=a(17);n=a(5);r=a(42);y=a(2);A=a(3);B=a(56);x=a(433);I=a(904);G=a(903);F=a(901);ba(b,F.eX);b.prototype.gc=function(){var a,b;a=this;b=this.config();if(!b||void 0===b.bn)return Promise.reject(new r.cc(y.K.UN,y.H.LEa));this.yh||(this.reset(),this.yh=new Promise(function(b,c){a.Ag.create().then(function(b){a.storage=b;return a.load();}).then(function(){a.PD.next(a.profile.Oh);b();})["catch"](function(b){a.yh=void 0;c(b);});}));return this.yh;};b.prototype.Yy=function(a,b){var c;c=this;if(this.dy)return Promise.reject(new r.cc(y.K.bG,y.H.Jca));this.dy=!0;this.log.info("Logging in account",{authType:a?"Email/Password":"Cookies"});a&&this.reset(!0);return new Promise(function(d,f){c.hk.ping(c.profile,void 0===a?!0:{ry:a,password:b}).then(function(){return c.hk.Yy(c.profile,void 0);}).then(function(a){c.yob(a);return c.save();}).then(function(){c.dy=!1;c.PD.next(c.profile.Oh);d(c.profile);})["catch"](function(a){c.dy=!1;c.log.error("Unable to login user",a);c.reset(!0);f(F.eX.DM(y.K.bG,a));});});};b.prototype.Egb=function(){this.log.info("logout");this.profile=this.iy(this.jR());this.profiles={};this.vj.Ff.clearUserIdTokens();this.PD.next(this.profile.Oh);return this.save();};b.prototype.nsb=function(a){var b;b=this;if(this.dy)return Promise.reject(new r.cc(y.K.nO,y.H.Jca));this.dy=!0;this.log.info("Switching profiles",{old:this.profile.id,"new":a});return this.hk.ping(this.profile,a).then(function(){var c;c=b.iy(b.profile.Oh,{id:a});return b.hk.Yy(c,void 0);}).then(function(c){b.dy=!1;if(c.zu!=b.profile.Oh.id)throw b.PD.next(b.profile.Oh),new r.cc(y.K.nO,y.H.CEa,void 0,void 0,void 0,"The incoming server account GUID does not match the current account GUID");(c=b.profiles[c.Ch])?(b.profile=c,b.aaa(b.profile)):(b.fna(b.profile),b.profile=b.iy(b.profile.Oh,{zu:b.profile.Oh.id,Ch:a,Gi:b.profile.Oh.Gi}));return b.save();}).then(function(){return b.profile;})["catch"](function(a){b.dy=!1;b.log.error("Unable to switch profiles",a);b.reset(!0);b.save();throw f.DM(y.K.nO,a);});};b.prototype.Y5=function(){var a;a=this;return Object.keys(this.profiles).map(function(b){return a.profiles[b];});};b.prototype.I4a=function(){return l.Ca.from(this.PD);};b.prototype.DT=function(){return"windows_app"===this.platform.T3?l.Ca.from(this.PD).map(function(a){return!(a.Gi||"browser"===a.id);}):l.Ca.of(!0);};b.prototype.yob=function(a){var b,c;b=this;this.profile&&a.Ch&&a.Ch!==this.profile.id&&this.vj.Ff.rekeyUserIdToken(this.profile.id,a.Ch);this.profile.Oh.id!==a.zu&&this.reset();c=this.qv(a.Ch);c?(this.profile=c,this.aaa(c)):this.profile.id!==a.Ch&&(this.profile=this.iy(this.jR(a),a));(a=Object.keys(this.profiles).filter(function(a){return b.profiles[a].qeb();}).pop())&&this.aaa(this.profiles[a]);};b.prototype.iy=function(a,b){if(b&&void 0!==b.zu)return new G.Xha(this.config,a,b.Ch,A.zb(0),!1);a=new G.Xha(this.config,a);b&&a.i5(b);return a;};b.prototype.jR=function(a){var b;if(a&&void 0!==a.zu)return new I.Wca(a.zu,a.Gi);b=new I.Wca();a&&b.i5(a);return b;};b.prototype.wca=function(){return Promise.resolve(!0);};a=f=b;a=f=g.__decorate([h.L(),g.__param(0,h.l(k.Rn)),g.__param(1,h.l(c.ax)),g.__param(2,h.l(m.gd)),g.__param(3,h.l(n.kb)),g.__param(4,h.l(B.Hn)),g.__param(5,h.l(x.Afa))],a);d.FPa=a;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(65);f=a(1005);d.Oh=new g.Wb(function(a){a(b.Xca).to(f.FPa).$();});},function(g,d,a){var f,h,l,c,k;function b(a,b){return h.oe.call(this,a,void 0===b?"EmeConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(36);l=a(27);c=a(3);a=a(33);ba(b,h.oe);na.Object.defineProperties(b.prototype,{tT:{configurable:!0,enumerable:!0,get:function(){return!1;}},di:{configurable:!0,enumerable:!0,get:function(){return!1;}},Gv:{configurable:!0,enumerable:!0,get:function(){return c.sf;}},e$:{configurable:!0,enumerable:!0,get:function(){return c.xg(10);}},Y6:{configurable:!0,enumerable:!0,get:function(){return c.zb(2E3);}},Caa:{configurable:!0,enumerable:!0,get:function(){return c.zb(1E3);}},mlb:{configurable:!0,enumerable:!0,get:function(){return c.zb(2500);}},RI:{configurable:!0,enumerable:!0,get:function(){return"unsentDrmData";}},nJ:{configurable:!0,enumerable:!0,get:function(){return!1;}},pM:{configurable:!0,enumerable:!0,get:function(){return!1;}},tn:{configurable:!0,enumerable:!0,get:function(){return!0;}},xna:{configurable:!0,enumerable:!0,get:function(){return c.xg(30);}},yna:{configurable:!0,enumerable:!0,get:function(){return c.xg(30);}},Ana:{configurable:!0,enumerable:!0,get:function(){return c.xg(30);}},zna:{configurable:!0,enumerable:!0,get:function(){return c.xg(30);}},D1:{configurable:!0,enumerable:!0,get:function(){return c.xg(30);}},Wz:{configurable:!0,enumerable:!0,get:function(){return"";}}});k=b;g.__decorate([a.config(a.re,"initializeKeySystemAtStartup")],k.prototype,"tT",null);g.__decorate([a.config(a.re,"secureStopEnabled")],k.prototype,"di",null);g.__decorate([a.config(a.Ug,"licenseRenewalRequestDelay")],k.prototype,"Gv",null);g.__decorate([a.config(a.Ug,"persistedReleaseDelay")],k.prototype,"e$",null);g.__decorate([a.config(a.Ug,"secureStopKeyMessageTimeoutMilliseconds")],k.prototype,"Y6",null);g.__decorate([a.config(a.Ug,"secureStopKeyAddedTimeoutMilliseconds")],k.prototype,"Caa",null);g.__decorate([a.config(a.Ug,"secureStopPersistedKeyMessageTimeoutMilliseconds")],k.prototype,"mlb",null);g.__decorate([a.config(a.string,"drmPersistKey")],k.prototype,"RI",null);g.__decorate([a.config(a.re,"forceLimitedDurationLicense")],k.prototype,"nJ",null);g.__decorate([a.config(a.re,"supportsLimitedDurationLicense")],k.prototype,"pM",null);g.__decorate([a.config(a.re,"prepareCadmium")],k.prototype,"tn",null);g.__decorate([a.config(a.Ug,"apiCloseTimeout")],k.prototype,"xna",null);g.__decorate([a.config(a.Ug,"apiCreateMediaKeysTimeout")],k.prototype,"yna",null);g.__decorate([a.config(a.Ug,"apiSetServerCertificateTimeout")],k.prototype,"Ana",null);g.__decorate([a.config(a.Ug,"apiGenerateRequestTimeout")],k.prototype,"zna",null);g.__decorate([a.config(a.Ug,"apiUpdateTimeout")],k.prototype,"D1",null);g.__decorate([a.config(a.string,"serverCertificate")],k.prototype,"Wz",null);k=g.__decorate([f.L(),g.__param(0,f.l(l.cj)),g.__param(1,f.l(l.BA)),g.__param(1,f.optional())],k);d.mda=k;},function(g,d,a){var f,h,l,c;function b(a,b){return c.mda.call(this,a,void 0===b?"ChromeEmeConfig":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(27);l=a(33);c=a(1007);ba(b,c.mda);na.Object.defineProperties(b.prototype,{tT:{configurable:!0,enumerable:!0,get:function(){return!0;}},pM:{configurable:!0,enumerable:!0,get:function(){return!0;}}});a=b;g.__decorate([l.config(l.re,"initializeKeySystemAtStartup")],a.prototype,"tT",null);g.__decorate([l.config(l.re,"supportsLimitedDurationLicense")],a.prototype,"pM",null);a=g.__decorate([f.L(),g.__param(0,f.l(h.cj)),g.__param(1,f.l(h.BA)),g.__param(1,f.optional())],a);d.oJa=a;},function(g,d,a){var f,h,l,c,k,m,n;function b(a,b,d,f){a=c.oe.call(this,a,void 0===f?"FtlProbeConfigImpl":f)||this;a.zf=b;a.Ta=d;return a;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(41);h=a(1);l=a(3);c=a(36);k=a(87);m=a(33);a=a(27);ba(b,c.oe);na.Object.defineProperties(b.prototype,{enabled:{configurable:!0,enumerable:!0,get:function(){return!0;}},endpoint:{configurable:!0,enumerable:!0,get:function(){return""+this.l5+(-1===this.l5.indexOf("?")?"?":"&")+"monotonic="+this.Ta.Axa+"&device=web";}},rCa:{configurable:!0,enumerable:!0,get:function(){return l.sf;}},a5:{configurable:!0,enumerable:!0,get:function(){return"";}},l5:{configurable:!0,enumerable:!0,get:function(){return this.zf.endpoint+"/ftl/probe"+(this.a5?"?force="+this.a5:"");}}});n=b;g.__decorate([m.config(m.re,"ftlEnabled")],n.prototype,"enabled",null);g.__decorate([m.config(m.Ug,"ftlStartDelay")],n.prototype,"rCa",null);g.__decorate([m.config(m.string,"ftlEndpointForceParam")],n.prototype,"a5",null);g.__decorate([m.config(m.url,"ftlEndpoint")],n.prototype,"l5",null);n=g.__decorate([h.L(),g.__param(0,h.l(a.cj)),g.__param(1,h.l(k.xt)),g.__param(2,h.l(f.Kj)),g.__param(3,h.l(a.BA)),g.__param(3,h.optional())],n);d.PJa=n;},function(g,d,a){var f,h,l,c;function b(a,b){return l.oe.call(this,a,void 0===b?"NetworkMonitorConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(1);h=a(33);l=a(36);a=a(27);ba(b,l.oe);na.Object.defineProperties(b.prototype,{dEa:{configurable:!0,enumerable:!0,get:function(){return!0;}}});c=b;g.__decorate([h.config(h.re,"useNetworkMonitor")],c.prototype,"dEa",null);c=g.__decorate([f.L(),g.__param(0,f.l(a.cj)),g.__param(1,f.l(a.BA)),g.__param(1,f.optional())],c);d.DNa=c;},function(g,d){function a(a){this.value=a;}Object.defineProperty(d,"__esModule",{value:!0});a.empty=function(){return a.of(void 0);};a.of=function(b){return new a(b);};a.prototype.Bya=function(a){return void 0===this.value?a instanceof Function?a():a:this.value;};a.prototype.map=function(b){return void 0===this.value?a.empty():a.of(b(this.value));};d.Zga=a;},function(g,d,a){var f,h,l,c,k,m,n;function b(a,b){return c.oe.call(this,a,void 0===b?"GeneralConfigImpl":b)||this;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);f=a(3);h=a(1);l=a(33);c=a(36);k=a(52);a=a(27);m={test:"Test",stg:"Staging","int":"Int",prod:"Prod"};d.ZI=function(a,b){return a.Vza(m[b]||b,k.Et);};ba(b,c.oe);na.Object.defineProperties(b.prototype,{ZI:{configurable:!0,enumerable:!0,get:function(){return k.Et.WPa;}},xba:{configurable:!0,enumerable:!0,get:function(){return f.xg(8);}},uv:{configurable:!0,enumerable:!0,get:function(){return"";}},qC:{configurable:!0,enumerable:!0,get:function(){return"";}},pA:{configurable:!0,enumerable:!0,get:function(){return"";}},SCa:{configurable:!0,enumerable:!0,get:function(){return!1;}},BQ:{configurable:!0,enumerable:!0,get:function(){return!0;}},W6:{configurable:!0,enumerable:!0,get:function(){return!0;}},x8a:{configurable:!0,enumerable:!0,get:function(){return!1;}},Lp:{configurable:!0,enumerable:!0,get:function(){return{};}},qaa:{configurable:!0,enumerable:!0,get:function(){return!1;}},B7:{configurable:!0,enumerable:!0,get:function(){return!1;}},YW:{configurable:!0,enumerable:!0,get:function(){return!1;}},OM:{configurable:!0,enumerable:!0,get:function(){return!1;}},nw:{configurable:!0,enumerable:!0,get:function(){return{__default_rule_key__:["idb","mem"]};}},bn:{configurable:!0,enumerable:!0,get:function(){return 0<=[k.Et.Xia,k.Et.Efa].indexOf(this.ZI);}}});n=b;g.__decorate([l.config(d.ZI,"environment")],n.prototype,"ZI",null);g.__decorate([l.config(l.Ug,"storageTimeout")],n.prototype,"xba",null);g.__decorate([l.config(l.string,"groupName")],n.prototype,"uv",null);g.__decorate([l.config(l.string,"canaryGroupName")],n.prototype,"qC",null);g.__decorate([l.config(l.string,"uiGroupName")],n.prototype,"pA",null);g.__decorate([l.config(l.re,"testIndexDBForCorruptedDatabase")],n.prototype,"SCa",null);g.__decorate([l.config(l.re,"applyIndexedDbOpenWorkaround")],n.prototype,"BQ",null);g.__decorate([l.config(l.re,"ignoreIdbOpenError")],n.prototype,"W6",null);g.__decorate([l.config(l.re,"executeStorageMigration")],n.prototype,"x8a",null);g.__decorate([l.config(l.object(),"browserInfo")],n.prototype,"Lp",null);g.__decorate([l.config(l.re,"retryAllMslRequestsOnError")],n.prototype,"qaa",null);g.__decorate([l.config(l.re,"isTestAccount")],n.prototype,"B7",null);g.__decorate([l.config(l.re,"vuiCommandLogging")],n.prototype,"YW",null);g.__decorate([l.config(l.re,"useRangeHeader")],n.prototype,"OM",null);g.__decorate([l.config(l.object,"storageRules")],n.prototype,"nw",null);n=g.__decorate([h.L(),g.__param(0,h.l(a.cj)),g.__param(1,h.l(a.BA)),g.__param(1,h.optional())],n);d.TJa=n;},function(g,d,a){var l,c,k,m,n;function b(){this.ps={};this.SAa=0;}function f(a,b,c,d,f){this.debug=a;this.Js=b;this.RK=c;this.Ue=d;this.rV=f;}function h(a,b,c){this.Js=a;this.RK=b;this.rV=c;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);c=a(88);k=a(5);m=a(134);n=a(457);a=a(27);h=g.__decorate([l.L(),g.__param(0,l.l(a.WN)),g.__param(1,l.l(m.VZ)),g.__param(2,l.l(n.LZ))],h);d.eHa=h;f=g.__decorate([l.L(),g.__param(0,l.l(c.At)),g.__param(1,l.l(a.WN)),g.__param(2,l.l(m.VZ)),g.__param(3,l.l(k.kb)),g.__param(4,l.l(n.LZ))],f);d.jSa=f;b.prototype.Lhb=function(a){this.ps=Object.assign({},this.ps,a);this.SAa++;};na.Object.defineProperties(b.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.ps;}},RAa:{configurable:!0,enumerable:!0,get:function(){return this.SAa;}}});a=b;a=g.__decorate([l.L()],a);d.qLa=a;},function(g,d,a){var b,f,h,l,c,k,m,n,r,y,A;Object.defineProperty(d,"__esModule",{value:!0});g=a(1);b=a(17);f=a(1013);h=a(27);l=a(52);c=a(1012);k=a(456);m=a(1010);n=a(167);r=a(1009);y=a(64);A=a(1008);d.config=new g.Wb(function(a){a(b.gd).Kf(function(){return function(){return M._cad_global.config;};});a(h.AX).to(f.eHa).$();a(h.cj).to(f.jSa).$();a(h.WN).to(f.qLa).$();a(l.ym).to(c.TJa).$();a(k.Nga).to(m.DNa).$();a(n.Kea).to(r.PJa).$();a(y.Mn).to(A.oJa).$();});},function(g,d){function a(){}Object.defineProperty(d,"__esModule",{value:!0});a.prototype.lua=function(){return void 0!==this.fk;};a.prototype.Zz=function(a){this.fk=a;};a.prototype.Unb=function(){this.lua()&&(this.fk=void 0);};d.SMa=a;},function(g,d,a){var b,f,h,l,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(2);f=a(89);h=a(119);l=a(243);d.Fmb=function(a){l.SI.parent=a.$b;return function(){c||(c=new Promise(function(a,c){try{a(l.SI.get(h.jea));}catch(u){c(new f.tf(b.K.IKa,b.H.bLa,void 0,"Unable to extract the DRM services from the dependency injector",u));}}));return c;};};},function(g,d,a){var l,c,k,m,n,r,y,A;function b(a,b,c){var d;d=this;this.is=a;this.Ag=b;this.config=c;this.Kq=function(){return{version:d.version,drmData:d.MR.map(function(a){return a.Kq();})};};this.k5=function(a){var b;d.is.jj(a)&&(a=f(a));1===a.version&&(a=h(d.is,a));b={version:2,data:[]};if(2===a.version){b.version=a.version;try{b.data=a.drmData.map(function(a){return new A.PX(a);});}catch(S){throw new n.cc(k.K.JA,k.H.yt,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.",S);}}else{if(!a.version||!d.is.Pf(a.version))throw new n.cc(k.K.JA,k.H.yt,void 0,void 0,void 0,"The format of the DRM data is inconsistent with what is expected.");if(1!==a.version)throw new n.cc(k.K.JA,k.H.sda,void 0,void 0,void 0,"Version number is not supported. Version: "+d.getVersion);}return b;};this.zn=new r.zfa(2,this.config.RI,this.is.jj(this.config.RI),this.Ag,this.Kq);}function f(a){a=JSON.parse(a);a={profileId:a.profileId,xid:a.xid,movieId:a.movieId,keySessionIds:a.keySessionIds,licenseContextId:a.licenseContextId};if(!(a.profileId&&a.licenseContextId&&a.xid&&a.movieId))throw new n.cc(k.K.JA,k.H.yt);return{version:1,drmData:[a]};}function h(a,b){if(a.Vr(b.drmData))return{version:2,drmData:b.drmData.map(function(a){var b;b=a.keySessionIds;return new A.PX({keySystemId:a.keySystemId,keySessionData:(b&&0<b.length?b:[void 0]).map(function(b){return{id:b,licenseContextId:a.licenseContextId,licenseId:void 0};}),profileId:a.profileId,xid:a.xid,movieId:a.movieId}).Kq();})};throw new n.cc(k.K.JA,k.H.yt);}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);l=a(1);c=a(64);k=a(2);m=a(20);n=a(42);r=a(458);y=a(56);A=a(242);b.prototype.Uza=function(){return this.orb();};b.prototype.Vma=function(a){return this.zn.add(a);};b.prototype.$$=function(a){return this.zn.remove(a,function(a,b){return a.oa===b.oa;});};b.prototype.toString=function(){return JSON.stringify(this.Kq(),null,"  ");};b.prototype.orb=function(){var a;a=this;this.Yza||(this.Yza=new Promise(function(b,c){a.zn.load(a.k5).then(function(){b();})["catch"](function(a){a.Y&&a.cause?c(new n.cc(k.K.JA,a.Y,void 0,void 0,void 0,"Unable to load persisted playdata.",void 0,a)):c(a);});}));return this.Yza;};na.Object.defineProperties(b.prototype,{version:{configurable:!0,enumerable:!0,get:function(){return this.zn.version;}},MR:{configurable:!0,enumerable:!0,get:function(){return this.zn.Np;}}});a=b;a=g.__decorate([l.L(),g.__param(0,l.l(m.de)),g.__param(1,l.l(y.Hn)),g.__param(2,l.l(c.Mn))],a);d.JGa=a;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(65);f=a(244);d.Emb=function(a){return function(){var c;if(!h){f.m1.parent=a.$b;c=f.m1.get(b.Xca);h=new Promise(function(a,b){c.gc().then(function(){a(c);})["catch"](function(a){b(a);});});}return h;};};},function(g,d,a){var b,f,h,l,c;Object.defineProperty(d,"__esModule",{value:!0});b=a(3);f=a(34);h=a(460);l=a(66);c={MONOSPACED_SERIF:"font-family:Courier New,Arial,Helvetica;font-weight:bolder",MONOSPACED_SANS_SERIF:"font-family:Consolas,Lucida Console,Menlo,Monaco,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SERIF:"font-family:Georgia,Times New Roman,Arial,Helvetica;font-weight:bolder",PROPORTIONAL_SANS_SERIF:"font-family:Arial,Helvetica;font-weight:bolder",CASUAL:"font-family:Gabriola,Segoe Print,Comic Sans MS,Chalkboard,Arial,Helvetica;font-weight:bolder",CURSIVE:"font-family:Lucida Handwriting,Brush Script MT,Segoe Script,Arial,Helvetica;font-weight:bolder",SMALL_CAPITALS:"font-family:Copperplate Gothic,Copperplate Gothic Bold,Copperplate,Arial,Helvetica;font-variant:small-caps;font-weight:bolder"};d.Jha=function(){this.j_a=this.SH=h.jN.Kfa;this.Raa=!0;this.OH=[];this.tF=[];this.RU=this.SR=!1;this.ot=[l.wk.EX,l.wk.DQa,l.wk.RA];this.Md=void 0;this.t4=!0;this.$R=!1;this.K1=f.ba(288E4);this.N1=f.ba(335544320);this.$T=b.zb(15E3);this.jhb=f.ba(6291456);this.ND=1E3;this.t2=!0;this.Vba=c;this.hF=f.ba(0);this.GW=b.zb(0);};},function(g,d,a){var h,l,c,k,m,n,r,y,f,A;function b(a){var b;b=n.Jha.call(this)||this;a=/CrOS/.test(a.userAgent);b.OH=[r.nl.NN];b.tF=[r.aa.cY,r.aa.HN,r.aa.$X,r.aa.aY,r.aa.EG,r.aa.FG];a&&b.tF.push(r.aa.dY,r.aa.bY,r.aa.GG);b.SR=!0;b.RU=!0;b.Md=y.jb.uSa;b.$T=k.zb(15E3);return b;}function f(a){var b,c,d,f;a=a.userAgent;b=/CrOS/.test(a);c=/OPR/.test(a);d=/ Edg\//.test(a);f=/Tesla/.test(a);this.version="6.0017.505.011";this.vj=!0;this.bD=f?"T":d?"D":b?"C":c?"O":"M";this.cn=f?"NFCDTS-01-":d?"NFCDIE-04-":c?"NFCDOP-01-":/Windows NT/.test(a)?"NFCDCH-02-":/Intel Mac OS X/.test(a)?"NFCDCH-MC-":b?"NFCDCH-01-":/Android.*Chrome\/[.0-9]* Mobile/.test(a)?"NFCDCH-AP-":/Android.*Chrome\/[.0-9]* /.test(a)?"NFCDCH-AT-":"NFCDCH-LX-";this.m5=!0;this.ER=b?"chromeos-cadmium":c?"opera-cadmium":"chrome-cadmium";this.T3="browser";this.mwa="";this.Aqa="cadmium";this.cfb=!0;}Object.defineProperty(d,"__esModule",{value:!0});g=a(0);h=a(1);l=a(37);c=a(67);k=a(3);m=a(169);n=a(1019);r=a(66);y=a(136);f=g.__decorate([h.L(),g.__param(0,h.l(l.VA))],f);d.Qwb=f;ba(b,n.Jha);A=b;A=g.__decorate([h.L(),g.__param(0,h.l(l.VA))],A);d.platform=new h.Wb(function(a){a(c.Rn).to(f);a(m.jO).to(A);});},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.Hxa=function(a){return function(b){return function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return d.forEach(function(d){return a.bind(d).Vsb(b);});};};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(53);f=a(31);h=a(68);d.nza=function(){return function(a,c){c=new h.Metadata(f.qG,c);if(Reflect.A6(f.qG,a.constructor))throw Error(b.AMa);Reflect.R3(f.qG,c,a.constructor);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(68);h=a(90);d.zM=function(a){return function(c,d,g){var k;k=new f.Metadata(b.aO,a);h.fA(c,d,g,k);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(68);h=a(90);d.lz=function(a){return function(c,d,g){var k;k=new f.Metadata(b.Ww,a);"number"===typeof g?h.fA(c,d,g,k):h.xM(c,d,k);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(68);h=a(90);d.$g=function(){return function(a,c,d){var g;g=new f.Metadata(b.BG,!0);h.fA(a,c,d,g);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(68);h=a(90);d.optional=function(){return function(a,c,d){var g;g=new f.Metadata(b.Vga,!0);"number"===typeof d?h.fA(a,c,d,g):h.xM(a,c,g);};};},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(31);f=a(68);h=a(90);d.Jxa=function(a){return function(c,d,g){var k;k=new f.Metadata(b.Qt,a);"number"===typeof g?h.fA(c,d,g,k):h.xM(c,d,k);};};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(68);f=a(90);d.NCa=function(a,d){return function(c,g,h){var k;k=new b.Metadata(a,d);"number"===typeof h?f.fA(c,g,h,k):f.xM(c,g,k);};};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(53);f=a(31);d.L=function(){return function(a){var d;if(Reflect.A6(f.sZ,a))throw Error(b.qIa);d=Reflect.getMetadata(f.KHa,a)||[];Reflect.R3(f.sZ,d,a);return a;};};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(103);d.Wb=function(){return function(a){this.id=b.id();this.Y$=a;};}();d.fda=function(){return function(a){this.id=b.id();this.Y$=a;};}();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(53);g=function(){function a(){this.oi=new Map();}a.prototype.add=function(a,d){var c;if(null===a||void 0===a)throw Error(b.mG);if(null===d||void 0===d)throw Error(b.mG);c=this.oi.get(a);void 0!==c?(c.push(d),this.oi.set(a,c)):this.oi.set(a,[d]);};a.prototype.get=function(a){if(null===a||void 0===a)throw Error(b.mG);a=this.oi.get(a);if(void 0!==a)return a;throw Error(b.Lfa);};a.prototype.remove=function(a){if(null===a||void 0===a)throw Error(b.mG);if(!this.oi["delete"](a))throw Error(b.Lfa);};a.prototype.jua=function(a){if(null===a||void 0===a)throw Error(b.mG);return this.oi.has(a);};a.prototype.clone=function(){var b;b=new a();this.oi.forEach(function(a,c){a.forEach(function(a){return b.add(c,a.clone());});});return b;};a.prototype.utb=function(a){this.oi.forEach(function(b,c){a(c,b);});};return a;}();d.ZLa=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(){}a.of=function(b,d){var f;f=new a();f.XH=b;f.Vhb=d;return f;};return a;}();d.Uwb=g;},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(82);f=a(463);g=function(){function a(a){this.Db=a;}a.prototype.$=function(){this.Db.scope=b.Jn.SZ;return new f.Iw(this.Db);};a.prototype.Z6=function(){this.Db.scope=b.Jn.rO;return new f.Iw(this.Db);};return a;}();d.SFa=g;},function(g,d,a){var b,f,h;Object.defineProperty(d,"__esModule",{value:!0});b=a(1033);f=a(247);h=a(246);g=function(){function a(a){this.Db=a;this.r_=new h.sX(this.Db);this.q_=new f.rX(this.Db);this.Kja=new b.SFa(a);}a.prototype.$=function(){return this.Kja.$();};a.prototype.Z6=function(){return this.Kja.Z6();};a.prototype.$M=function(){return this.r_.$M();};a.prototype.tq=function(a){return this.q_.tq(a);};return a;}();d.nda=g;},function(g,d,a){var b,f,h,l;Object.defineProperty(d,"__esModule",{value:!0});b=a(53);f=a(82);h=a(1034);l=a(463);g=function(){function a(a){this.Db=a;}a.prototype.to=function(a){this.Db.type=f.Gh.TY;this.Db.rj=a;return new h.nda(this.Db);};a.prototype.lDa=function(){if("function"!==typeof this.Db.He)throw Error(""+b.eLa);this.to(this.Db.He);};a.prototype.Eh=function(a){this.Db.type=f.Gh.Jda;this.Db.cache=a;this.Db.VC=null;this.Db.rj=null;new l.Iw(this.Db);};a.prototype.lA=function(a){this.Db.type=f.Gh.oea;this.Db.cache=null;this.Db.VC=a;this.Db.rj=null;new h.nda(this.Db);};a.prototype.Tsb=function(a){this.Db.type=f.Gh.Kda;this.Db.rj=a;new l.Iw(this.Db);};a.prototype.Kf=function(a){this.Db.type=f.Gh.YX;this.Db.ev=a;new l.Iw(this.Db);};a.prototype.Ssb=function(a){this.Db.type=f.Gh.YX;this.Db.ev=function(b){return function(){return b.$b.get(a);};};new l.Iw(this.Db);};a.prototype.EM=function(a){this.Db.type=f.Gh.hia;this.Db.hk=a;new l.Iw(this.Db);};a.prototype.Vsb=function(a){this.lA(function(b){return b.$b.get(a);});};return a;}();d.TFa=g;},function(g,d,a){var h,l,c;function b(a,b,c){var d;b=b.filter(function(a){return null!==a.target&&a.target.type===l.mr.Gda;});d=b.map(c);b.forEach(function(b,c){b=b.target.name.value();a[b]=d[c];});return a;}function f(a,b){var d;if(Reflect.$cb(c.qG,a)){d=Reflect.getMetadata(c.qG,a);try{b[d.value]();}catch(u){throw Error(h.NOa(a.name,u.message));}}}Object.defineProperty(d,"__esModule",{value:!0});h=a(53);l=a(82);c=a(31);d.xob=function(a,c,d){var g;g=null;0<c.length?(g=c.filter(function(a){return null!==a.target&&a.target.type===l.mr.Lda;}).map(d),g=new(a.bind.apply(a,[void 0].concat(g)))(),g=b(g,c,d)):g=new a();f(a,g);return g;};},function(g,d,a){var h,l,c,k,m;function b(a){return function(c){var d,g,n,p,q;d=c.XH;g=c.D2;n=c.target&&c.target.isArray();p=!c.Ts||!c.Ts.target||!c.target||!c.Ts.target.Wgb(c.target.He);if(n&&p)return g.map(function(c){return b(a)(c);});n=null;if(!c.target.pva()||0!==d.length){q=d[0];d=q.scope===l.Jn.SZ;p=q.scope===l.Jn.Request;if(d&&q.o1)return q.cache;if(p&&null!==a&&a.has(q.id))return a.get(q.id);if(q.type===l.Gh.Jda)n=q.cache;else if(q.type===l.Gh.Function)n=q.cache;else if(q.type===l.Gh.Kda)n=q.rj;else if(q.type===l.Gh.oea&&null!==q.VC)n=f("toDynamicValue",q.He,function(){return q.VC(c.mE);});else if(q.type===l.Gh.YX&&null!==q.ev)n=f("toFactory",q.He,function(){return q.ev(c.mE);});else if(q.type===l.Gh.hia&&null!==q.hk)n=f("toProvider",q.He,function(){return q.hk(c.mE);});else if(q.type===l.Gh.TY&&null!==q.rj)n=m.xob(q.rj,g,b(a));else throw g=k.uD(c.He),Error(h.$Ka+" "+g);"function"===typeof q.tq&&(n=q.tq(c.mE,n));d&&(q.cache=n,q.o1=!0);p&&null!==a&&!a.has(q.id)&&a.set(q.id,n);return n;}};}function f(a,b,d){try{return d();}catch(A){if(c.xva(A))throw Error(h.pGa(a,b.toString()));throw A;}}Object.defineProperty(d,"__esModule",{value:!0});h=a(53);l=a(82);c=a(466);k=a(137);m=a(1036);d.resolve=function(a){return b(a.pE.saa.oob)(a.pE.saa);};},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(103);g=function(){function a(a,d,c,f,g){this.id=b.id();this.He=a;this.mE=d;this.Ts=c;this.target=g;this.D2=[];this.XH=Array.isArray(f)?f:[f];this.oob=null===c?new Map():null;}a.prototype.Sma=function(b,d,c){b=new a(b,this.mE,this,d,c);this.D2.push(b);return b;};return a;}();d.Request=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});g=function(){function a(a){this.ow=a;}a.prototype.startsWith=function(a){return 0===this.ow.indexOf(a);};a.prototype.endsWith=function(a){var b;b=a.split("").reverse().join("");a=this.ow.split("").reverse().join("");return this.startsWith.call({ow:a},b);};a.prototype.contains=function(a){return-1!==this.ow.indexOf(a);};a.prototype.equals=function(a){return this.ow===a;};a.prototype.value=function(){return this.ow;};return a;}();d.$Pa=g;},function(g,d,a){var c,k,m,n,r,y;function b(a,b,d,g){var h,n,t,u,x,A,B,I,F,K;h=a.Msa(d);n=h.ipa;if(void 0===n)throw Error(k.mMa+" "+b+".");for(var h=h.Fub,p=Object.keys(h),q=0===d.length&&0<p.length?p.length:d.length,p=[],r=0;r<q;r++){u=r;x=g;A=b;B=n;t=h[u.toString()]||[];I=l(t);F=!0!==I.$g;B=B[u];K=I.l||I.lz;B=K?K:B;B instanceof c.XY&&(B=B.Qtb());if(F){F=B===Function;F=B===Object||F||void 0===B;if(!x&&F)throw Error(k.nMa+" argument "+u+" in class "+A+".");u=new y.pO(m.mr.Lda,I.zM,B);u.fd=t;t=u;}else t=null;null!==t&&p.push(t);}a=f(a,d);return p.concat(a);}function f(a,b){var k,n,p;for(var c=a.vbb(b),d=[],g=0,h=Object.keys(c);g<h.length;g++){k=h[g];n=c[k];p=l(c[k]);k=new y.pO(m.mr.Gda,p.zM||k,p.l||p.lz);k.fd=n;d.push(k);}b=Object.getPrototypeOf(b.prototype).constructor;b!==Object&&(a=f(a,b),d=d.concat(a));return d;}function h(a,c){var d,f;c=Object.getPrototypeOf(c.prototype).constructor;if(c!==Object){d=r.getFunctionName(c);d=b(a,d,c,!0);f=d.map(function(a){return a.fd.filter(function(a){return a.key===n.BG;});});f=[].concat.apply([],f).length;d=d.length-f;return 0<d?d:h(a,c);}return 0;}function l(a){var b;b={};a.forEach(function(a){b[a.key.toString()]=a.value;});return{l:b[n.ZF],lz:b[n.Ww],zM:b[n.aO],$g:b[n.BG]};}Object.defineProperty(d,"__esModule",{value:!0});c=a(465);k=a(53);m=a(82);n=a(31);r=a(137);d.getFunctionName=r.getFunctionName;y=a(464);d.Q$a=function(a,c){var d;d=r.getFunctionName(c);return b(a,d,c,!1);};d.o$a=h;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.pPa=function(){return function(a,b){this.mE=a;this.saa=b;};}();},function(g,d,a){var b;Object.defineProperty(d,"__esModule",{value:!0});b=a(103);g=function(){function a(a){this.id=b.id();this.$b=a;}a.prototype.VYa=function(a){this.pE=a;};return a;}();d.Mda=g;},function(g,d){Object.defineProperty(d,"__esModule",{value:!0});d.qX={Uzb:2,Qga:0,SNa:1};},function(g,d,a){var c,k,m,n,r,y,A,B,x,I,G,F;function b(a,b,d,g,h){var k,m;k=l(d.$b,h.He);m=[];k.length===c.qX.Qga&&d.$b.options.UH&&"function"===typeof h.He&&a.Msa(h.He).ipa&&(d.$b.bind(h.He).lDa(),k=l(d.$b,h.He));m=b?k:k.filter(function(a){var b;b=new G.Request(a.He,d,g,a,h);return a.wC(b);});f(h.He,m,h,d.$b);return m;}function f(a,b,d,f){switch(b.length){case c.qX.Qga:if(d.pva())break;a=y.uD(a);b=k.yNa;b+=y.Cfb(a,d);b+=y.Zva(f,a,l);throw Error(b);case c.qX.SNa:if(!d.isArray())break;default:if(!d.isArray())throw a=y.uD(a),b=k.FEa+" "+a,b+=y.Zva(f,a,l),Error(b);}}function h(a,c,d,f,g,l){var n;null===g?(c=b(a,c,f,null,l),n=new G.Request(d,f,null,c,l),d=new x.pPa(f,n),f.VYa(d)):(c=b(a,c,f,g,l),n=g.Sma(l.He,c,l));c.forEach(function(b){var c,d,g;c=null;if(l.isArray())c=n.Sma(b.He,b,l);else{if(b.cache)return;c=n;}if(b.type===m.Gh.TY&&null!==b.rj){d=I.Q$a(a,b.rj);if(!f.$b.options.lw){g=I.o$a(a,b.rj);if(d.length<g)throw b=k.GEa(I.getFunctionName(b.rj)),Error(b);}d.forEach(function(b){h(a,!1,b.He,f,c,b);});}});}function l(a,b){var c,d;c=[];d=a.pB;d.jua(b)?c=d.get(b):null!==a.parent&&(c=l(a.parent,b));return c;}Object.defineProperty(d,"__esModule",{value:!0});c=a(1043);k=a(53);m=a(82);n=a(31);r=a(466);y=a(137);A=a(1042);B=a(68);x=a(1041);I=a(1040);G=a(1038);F=a(464);d.r5=function(a){return a.pB;};d.pE=function(a,b,c,d,f,g,k,l){void 0===l&&(l=!1);b=new A.Mda(b);c=new B.Metadata(c?n.Ww:n.ZF,f);d=new F.pO(d,"",f,c);void 0!==g&&(g=new B.Metadata(g,k),d.fd.push(g));try{return h(a,l,f,b,null,d),b;}catch(X){throw r.xva(X)&&b.pE&&y.n1a(b.pE.saa),X;}};d.vFb=function(a,b,c,d){c=new F.pO(m.mr.e_,"",b,new B.Metadata(c,d));a=new A.Mda(a);return new G.Request(b,a,null,[],c);};},function(g,d,a){var b,f;Object.defineProperty(d,"__esModule",{value:!0});b=a(82);f=a(103);g=function(){function a(a,c){this.id=f.id();this.o1=!1;this.He=a;this.scope=c;this.type=b.Gh.uLa;this.wC=function(){return!0;};this.VC=this.tq=this.hk=this.ev=this.cache=this.rj=null;}a.prototype.clone=function(){var b;b=new a(this.He,this.scope);b.o1=!1;b.rj=this.rj;b.VC=this.VC;b.scope=this.scope;b.type=this.type;b.ev=this.ev;b.hk=this.hk;b.wC=this.wC;b.tq=this.tq;b.cache=this.cache;return b;};return a;}();d.RFa=g;},function(g,d,a){var b,f,l,p,c,k,q,n,r,y,A,B;b=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(f,g){function h(a){try{l(d.next(a));}catch(ca){g(ca);}}function k(a){try{l(d["throw"](a));}catch(ca){g(ca);}}function l(a){a.done?f(a.value):new c(function(b){b(a.value);}).then(h,k);}l((d=d.apply(a,b||[])).next());});};f=this&&this.BDb||function(a,b){var f,g,k,l,n;function c(a){return function(b){return d([a,b]);};}function d(c){if(g)throw new TypeError("Generator is already executing.");for(;f;)try{if(g=1,k&&(l=k[c[0]&2?"return":c[0]?"throw":"next"])&&!(l=l.call(k,c[1])).done)return l;if(k=0,l)c=[0,l.value];switch(c[0]){case 0:case 1:l=c;break;case 4:return f.label++,{value:c[1],done:!1};case 5:f.label++;k=c[1];c=[0];continue;case 7:c=f.wz.pop();f.oA.pop();continue;default:if(!(l=f.oA,l=0<l.length&&l[l.length-1])&&(6===c[0]||2===c[0])){f=0;continue;}if(3===c[0]&&(!l||c[1]>l[0]&&c[1]<l[3]))f.label=c[1];else if(6===c[0]&&f.label<l[1])f.label=l[1],l=c;else if(l&&f.label<l[2])f.label=l[2],f.wz.push(c);else{l[2]&&f.wz.pop();f.oA.pop();continue;}}c=b.call(a,f);}catch(ca){c=[6,ca];k=0;}finally{g=l=0;}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0};}f={label:0,WV:function(){if(l[0]&1)throw l[1];return l[1];},oA:[],wz:[]};h();h();m();return n={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(n[Symbol.iterator]=function(){return this;}),n;};Object.defineProperty(d,"__esModule",{value:!0});l=a(1045);p=a(53);c=a(82);a(31);k=a(467);q=a(1044);n=a(1037);r=a(1035);y=a(103);A=a(137);a(1032);B=a(1031);g=function(){function a(a){a=a||{};if("object"!==typeof a)throw Error(""+p.DGa);if(void 0===a.ly)a.ly=c.Jn.rO;else if(a.ly!==c.Jn.SZ&&a.ly!==c.Jn.rO&&a.ly!==c.Jn.Request)throw Error(""+p.BGa);if(void 0===a.UH)a.UH=!1;else if("boolean"!==typeof a.UH)throw Error(""+p.AGa);if(void 0===a.lw)a.lw=!1;else if("boolean"!==typeof a.lw)throw Error(""+p.CGa);this.options={UH:a.UH,ly:a.ly,lw:a.lw};this.id=y.id();this.pB=new B.ZLa();this.CXa=[];this.parent=this.o0=null;this.eVa=new k.fZ();}a.f9=function(b,c){var f,g;function d(a,b){a.utb(function(a,c){c.forEach(function(a){b.add(a.He,a.clone());});});}f=new a();g=q.r5(f);b=q.r5(b);c=q.r5(c);d(b,g);d(c,g);return f;};a.prototype.load=function(){var d,f;for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(var b=this.Mka(),c=0;c<a.length;c++){d=a[c];f=b(d.id);d.Y$(f.goa,f.FDa,f.Cva,f.bAa);}};a.prototype.rK=function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];return b(this,void 0,void 0,function(){var b,c,d,g,h;return f(this,function(f){switch(f.label){case 0:b=this.Mka(),c=0,d=a,f.label=1;case 1:if(!(c<d.length))return[3,4];g=d[c];h=b(g.id);return[4,g.Y$(h.goa,h.FDa,h.Cva,h.bAa)];case 2:f.WV(),f.label=3;case 3:return c++,[3,1];case 4:return[2];}});});};a.prototype.bind=function(a){var b;b=new l.RFa(a,this.options.ly||c.Jn.rO);this.pB.add(a,b);return new r.TFa(b);};a.prototype.inb=function(a){this.EDa(a);return this.bind(a);};a.prototype.EDa=function(a){try{this.pB.remove(a);}catch(G){throw Error(p.lGa+" "+A.uD(a));}};a.prototype.gva=function(a){var b;b=this.pB.jua(a);!b&&this.parent&&(b=this.parent.gva(a));return b;};a.prototype.restore=function(){var a;a=this.CXa.pop();if(void 0===a)throw Error(p.zNa);this.pB=a.XH;this.o0=a.Vhb;};a.prototype.V3a=function(){var b;b=new a(this.options);b.parent=this;return b;};a.prototype.get=function(a){return this.Kka(!1,!1,c.mr.e_,a);};a.prototype.getAll=function(a){return this.Kka(!0,!0,c.mr.e_,a);};a.prototype.resolve=function(a){var b;b=this.V3a();b.bind(a).lDa();return b.get(a);};a.prototype.Mka=function(){var f;function a(a){return function(b){b=f.inb.bind(f)(b);b.Db.tib=a;return b;};}function b(){return function(a){return f.gva.bind(f)(a);};}function c(){return function(a){f.EDa.bind(f)(a);};}function d(a){return function(b){b=f.bind.bind(f)(b);b.Db.tib=a;return b;};}f=this;return function(f){return{goa:d(f),Cva:b(),bAa:a(f),FDa:c()};};};a.prototype.Kka=function(a,b,c,d){var f;f=null;a={u_a:a,b2a:function(a){return a;},Aeb:b,key:void 0,He:d,usb:c,value:void 0};if(this.o0){if(f=this.o0(a),void 0===f||null===f)throw Error(p.cLa);}else f=this.zWa()(a);return f;};a.prototype.zWa=function(){var a;a=this;return function(b){var c;c=q.pE(a.eVa,a,b.Aeb,b.usb,b.He,b.key,b.value,b.u_a);c=b.b2a(c);return n.resolve(c);};};return a;}();d.IF=g;},function(g,d,a){(function(a){var b;(function(b){var ba,X,fa,Y,da,ea,ga,ha,O;function d(a,b,c){var d;d=O.get(a);if(!d){if(!c)return;d=new ga();O.set(a,d);}a=d.get(b);if(!a){if(!c)return;a=new ga();d.set(b,a);}return a;}function c(a,b,d){if(f(a,b,d))return!0;b=F(b);return null!==b?c(a,b,d):!1;}function f(a,b,c){b=d(b,c,!1);return void 0!==b&&!!b.has(a);}function g(a,b,c){if(f(a,b,c))return h(a,b,c);b=F(b);return null!==b?g(a,b,c):void 0;}function h(a,b,c){b=d(b,c,!1);return void 0===b?void 0:b.get(a);}function l(a,b){var c,f;c=m(a,b);a=F(a);if(null===a)return c;b=l(a,b);if(0>=b.length)return c;if(0>=c.length)return b;a=new ha();for(var d=0;d<c.length;d++){f=c[d];a.add(f);}for(c=0;c<b.length;c++)f=b[c],a.add(f);return S(a);}function m(a,b){var c;a=d(a,b,!1);c=[];a&&P(a,function(a,b){return c.push(b);});return c;}function r(a){return void 0===a;}function t(a){return Array.isArray?Array.isArray(a):a instanceof Array||"[object Array]"===Object.prototype.toString.call(a);}function x(a){return"object"===typeof a?null!==a:"function"===typeof a;}function B(a){return"symbol"===typeof a?a:String(a);}function F(a){var b,c;b=Object.getPrototypeOf(a);if("function"!==typeof a||a===ea||b!==ea)return b;c=a.prototype;c=c&&Object.getPrototypeOf(c);if(null==c||c===Object.prototype)return b;c=c.constructor;return"function"!==typeof c||c===a?b:c;}function N(a){a=a.next();return a.done?void 0:a;}function P(a,b){var c,d,f;c=a.entries;if("function"===typeof c){c=c.call(a);try{for(;d=N(c);){f=d.value;b.call(void 0,f[1],f[0],a);}}finally{d&&(a=c["return"])&&a.call(c);}}else c=a.forEach,"function"===typeof c&&c.call(a,b,void 0);}function S(a){var b;b=[];P(a,function(a,c){b.push(c);});return b;}function R(a,b,c){var d;d=0;return{next:function(){var f;if((a||b)&&d<(a||b).length){f=d++;switch(c){case"key":return{value:a[f],done:!1};case"value":return{value:b[f],done:!1};case"key+value":return{value:[a[f],b[f]],done:!1};}}b=a=void 0;return{value:void 0,done:!0};},"throw":function(c){if(a||b)b=a=void 0;throw c;},"return":function(c){if(a||b)b=a=void 0;return{value:c,done:!0};}};}function D(){var a;a={};return function(){function b(){this.Vn=[];this.Fk=[];this.KO=a;this.JO=-2;}Object.defineProperty(b.prototype,"size",{get:function(){return this.Vn.length;},enumerable:!0,configurable:!0});b.prototype.has=function(a){return 0<=this.cP(a,!1);};b.prototype.get=function(a){a=this.cP(a,!1);return 0<=a?this.Fk[a]:void 0;};b.prototype.set=function(a,b){a=this.cP(a,!0);this.Fk[a]=b;return this;};b.prototype["delete"]=function(b){var c;c=this.cP(b,!1);if(0<=c){b=this.Vn.length;for(c+=1;c<b;c++)this.Vn[c-1]=this.Vn[c],this.Fk[c-1]=this.Fk[c];this.Vn.length--;this.Fk.length--;this.KO=a;this.JO=-2;return!0;}return!1;};b.prototype.clear=function(){this.Vn.length=0;this.Fk.length=0;this.KO=a;this.JO=-2;};b.prototype.keys=function(){return R(this.Vn,void 0,"key");};b.prototype.values=function(){return R(void 0,this.Fk,"value");};b.prototype.entries=function(){return R(this.Vn,this.Fk,"key+value");};b.prototype.cP=function(a,b){var c;if(this.KO===a)return this.JO;c=this.Vn.indexOf(a);0>c&&b&&(c=this.Vn.length,this.Vn.push(a),this.Fk.push(void 0));return this.KO=a,this.JO=c;};return b;}();}function Q(){return function(){function a(){this.oi=new ga();}Object.defineProperty(a.prototype,"size",{get:function(){return this.oi.size;},enumerable:!0,configurable:!0});a.prototype.has=function(a){return this.oi.has(a);};a.prototype.add=function(a){return this.oi.set(a,a),this;};a.prototype["delete"]=function(a){return this.oi["delete"](a);};a.prototype.clear=function(){this.oi.clear();};a.prototype.keys=function(){return this.oi.keys();};a.prototype.values=function(){return this.oi.values();};a.prototype.entries=function(){return this.oi.entries();};return a;}();}function W(){var d,f;function a(a){for(var b=0;16>b;++b)a[b]=255*Math.random()|0;return a;}function b(){var b,g;do{b="function"===typeof Uint8Array?"undefined"!==typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!==typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):a(new Uint8Array(16)):a(Array(16));b[6]=b[6]&79|64;b[8]=b[8]&191|128;for(var c="",f=0;16>f;++f){g=b[f];if(4===f||6===f||8===f)c+="-";16>g&&(c+="0");c+=g.toString(16).toLowerCase();}b="@@WeakMap@@"+c;}while(da.has(d,b));d[b]=!0;return b;}function c(a,b){if(!ba.call(a,f)){if(!b)return;Object.defineProperty(a,f,{value:Y()});}return a[f];}d=Y();f=b();return function(){function a(){this.yx=b();}a.prototype.has=function(a){a=c(a,!1);return void 0!==a?da.has(a,this.yx):!1;};a.prototype.get=function(a){a=c(a,!1);return void 0!==a?da.get(a,this.yx):void 0;};a.prototype.set=function(a,b){c(a,!0)[this.yx]=b;return this;};a.prototype["delete"]=function(a){a=c(a,!1);return void 0!==a?delete a[this.yx]:!1;};a.prototype.clear=function(){this.yx=b();};return a;}();}function Z(a){a.zDb=1;delete a.ADb;return a;}ba=Object.prototype.hasOwnProperty;X="function"===typeof Object.create;fa=function(){var b;function a(){}b={};a.prototype=b;return new a().__proto__===b;}();Y=X?function(){return Z(Object.create(null));}:fa?function(){return Z({__proto__:null});}:function(){return Z({});};(function(a){var b;b=!X&&!fa;a.has=b?function(a,b){return ba.call(a,b);}:function(a,b){return b in a;};a.get=b?function(a,b){return ba.call(a,b)?a[b]:void 0;}:function(a,b){return a[b];};}(da||(da={})));ea=Object.getPrototypeOf(Function);ga="function"===typeof Map?Map:D();ha="function"===typeof Set?Set:Q();O=new("function"===typeof WeakMap?WeakMap:(W()))();b.Uu=function(a,b,c,d){var g;if(r(d)){if(r(c)){if(!t(a))throw new TypeError();if("function"!==typeof b)throw new TypeError();for(c=a.length-1;0<=c;--c)if(d=(0,a[c])(b),!r(d)){if("function"!==typeof d)throw new TypeError();b=d;}return b;}if(!t(a))throw new TypeError();if(!x(b))throw new TypeError();c=B(c);for(d=a.length-1;0<=d;--d)(0,a[d])(b,c);}else{if(!t(a))throw new TypeError();if(!x(b))throw new TypeError();if(r(c))throw new TypeError();if(!x(d))throw new TypeError();c=B(c);for(var f=a.length-1;0<=f;--f){g=(0,a[f])(b,c,d);if(!r(g)){if(!x(g))throw new TypeError();d=g;}}return d;}};b.fd=function(a,b){return function(c,f){if(r(f)){if("function"!==typeof c)throw new TypeError();d(c,void 0,!0).set(a,b);}else{if(!x(c))throw new TypeError();f=B(f);d(c,f,!0).set(a,b);}};};b.R3=function(a,b,c){var f;if(!x(c))throw new TypeError();r(f)||(f=B(f));d(c,f,!0).set(a,b);};b.$cb=function(a,b){var d;if(!x(b))throw new TypeError();r(d)||(d=B(d));return c(a,b,d);};b.A6=function(a,b){var c;if(!x(b))throw new TypeError();r(c)||(c=B(c));return f(a,b,c);};b.getMetadata=function(a,b,c){if(!x(b))throw new TypeError();r(c)||(c=B(c));return g(a,b,c);};b.gHb=function(a,b,c){if(!x(b))throw new TypeError();r(c)||(c=B(c));return h(a,b,c);};b.eHb=function(a,b){if(!x(a))throw new TypeError();r(b)||(b=B(b));return l(a,b);};b.hHb=function(a,b){if(!x(a))throw new TypeError();r(b)||(b=B(b));return m(a,b);};b.YFb=function(a,b,c){var f;if(!x(b))throw new TypeError();r(c)||(c=B(c));f=d(b,c,!1);if(r(f)||!f["delete"](a))return!1;if(0<f.size)return!0;a=O.get(b);a["delete"](c);if(0<a.size)return!0;O["delete"](b);return!0;};(function(a){if("undefined"!==typeof a.Reflect){if(a.Reflect!==b)for(var c in b)ba.call(b,c)&&(a.Reflect[c]=b[c]);}else a.Reflect=b;}("undefined"!==typeof M?M:"undefined"!==typeof WorkerGlobalScope?self:"undefined"!==typeof a?a:Function("return this;")()));}(b||(b={})));}.call(this,a(248)));},function(g,d,a){Object.defineProperty(d,"__esModule",{value:!0});a(1047);M._cad_global={};M.DEBUG=!1;a(8);a(9);a(16);a(18);a(32);a(28);a(105);a(503);a(254);a(46);a(25);a(14);a(70);a(54);a(502);a(176);a(419);a(501);a(500);a(174);a(499);a(252);a(191);a(342);a(272);a(266);a(268);a(267);a(251);a(284);a(283);a(281);a(123);a(181);a(498);a(12);a(262);a(497);a(104);a(71);a(271);a(125);a(341);a(340);a(190);a(496);a(172);a(311);a(280);a(495);a(106);a(140);a(494);a(493);a(319);a(179);a(322);a(180);a(285);a(492);a(139);a(264);a(144);a(277);a(122);a(91);a(491);a(490);a(489);a(488);a(487);a(265);a(57);a(486);a(263);a(269);a(273);a(339);a(270);a(261);a(485);a(484);a(256);a(120);a(483);a(482);a(481);a(480);a(479);a(472);a(469);a(275);},function(g,d,a){g.T=a(1048);}]));}.call(M));}(window));}.call(window));